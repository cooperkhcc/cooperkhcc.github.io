window.__require = function e(t, n, r) {
  function s(o, u) {
    if (!n[o]) {
      if (!t[o]) {
        var b = o.split("/");
        b = b[b.length - 1];
        if (!t[b]) {
          var a = "function" == typeof __require && __require;
          if (!u && a) return a(b, !0);
          if (i) return i(b, !0);
          throw new Error("Cannot find module '" + o + "'");
        }
        o = b;
      }
      var f = n[o] = {
        exports: {}
      };
      t[o][0].call(f.exports, function(e) {
        var n = t[o][1][e];
        return s(n || e);
      }, f, f.exports, e, t, n, r);
    }
    return n[o].exports;
  }
  var i = "function" == typeof __require && __require;
  for (var o = 0; o < r.length; o++) s(r[o]);
  return s;
}({
  1: [ function(require, module, exports) {
    "use strict";
    exports.byteLength = byteLength;
    exports.toByteArray = toByteArray;
    exports.fromByteArray = fromByteArray;
    var lookup = [];
    var revLookup = [];
    var Arr = "undefined" !== typeof Uint8Array ? Uint8Array : Array;
    var code = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
    for (var i = 0, len = code.length; i < len; ++i) {
      lookup[i] = code[i];
      revLookup[code.charCodeAt(i)] = i;
    }
    revLookup["-".charCodeAt(0)] = 62;
    revLookup["_".charCodeAt(0)] = 63;
    function getLens(b64) {
      var len = b64.length;
      if (len % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4");
      var validLen = b64.indexOf("=");
      -1 === validLen && (validLen = len);
      var placeHoldersLen = validLen === len ? 0 : 4 - validLen % 4;
      return [ validLen, placeHoldersLen ];
    }
    function byteLength(b64) {
      var lens = getLens(b64);
      var validLen = lens[0];
      var placeHoldersLen = lens[1];
      return 3 * (validLen + placeHoldersLen) / 4 - placeHoldersLen;
    }
    function _byteLength(b64, validLen, placeHoldersLen) {
      return 3 * (validLen + placeHoldersLen) / 4 - placeHoldersLen;
    }
    function toByteArray(b64) {
      var tmp;
      var lens = getLens(b64);
      var validLen = lens[0];
      var placeHoldersLen = lens[1];
      var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));
      var curByte = 0;
      var len = placeHoldersLen > 0 ? validLen - 4 : validLen;
      var i;
      for (i = 0; i < len; i += 4) {
        tmp = revLookup[b64.charCodeAt(i)] << 18 | revLookup[b64.charCodeAt(i + 1)] << 12 | revLookup[b64.charCodeAt(i + 2)] << 6 | revLookup[b64.charCodeAt(i + 3)];
        arr[curByte++] = tmp >> 16 & 255;
        arr[curByte++] = tmp >> 8 & 255;
        arr[curByte++] = 255 & tmp;
      }
      if (2 === placeHoldersLen) {
        tmp = revLookup[b64.charCodeAt(i)] << 2 | revLookup[b64.charCodeAt(i + 1)] >> 4;
        arr[curByte++] = 255 & tmp;
      }
      if (1 === placeHoldersLen) {
        tmp = revLookup[b64.charCodeAt(i)] << 10 | revLookup[b64.charCodeAt(i + 1)] << 4 | revLookup[b64.charCodeAt(i + 2)] >> 2;
        arr[curByte++] = tmp >> 8 & 255;
        arr[curByte++] = 255 & tmp;
      }
      return arr;
    }
    function tripletToBase64(num) {
      return lookup[num >> 18 & 63] + lookup[num >> 12 & 63] + lookup[num >> 6 & 63] + lookup[63 & num];
    }
    function encodeChunk(uint8, start, end) {
      var tmp;
      var output = [];
      for (var i = start; i < end; i += 3) {
        tmp = (uint8[i] << 16 & 16711680) + (uint8[i + 1] << 8 & 65280) + (255 & uint8[i + 2]);
        output.push(tripletToBase64(tmp));
      }
      return output.join("");
    }
    function fromByteArray(uint8) {
      var tmp;
      var len = uint8.length;
      var extraBytes = len % 3;
      var parts = [];
      var maxChunkLength = 16383;
      for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) parts.push(encodeChunk(uint8, i, i + maxChunkLength > len2 ? len2 : i + maxChunkLength));
      if (1 === extraBytes) {
        tmp = uint8[len - 1];
        parts.push(lookup[tmp >> 2] + lookup[tmp << 4 & 63] + "==");
      } else if (2 === extraBytes) {
        tmp = (uint8[len - 2] << 8) + uint8[len - 1];
        parts.push(lookup[tmp >> 10] + lookup[tmp >> 4 & 63] + lookup[tmp << 2 & 63] + "=");
      }
      return parts.join("");
    }
  }, {} ],
  2: [ function(require, module, exports) {
    (function(global) {
      "use strict";
      var base64 = require("base64-js");
      var ieee754 = require("ieee754");
      var isArray = require("isarray");
      exports.Buffer = Buffer;
      exports.SlowBuffer = SlowBuffer;
      exports.INSPECT_MAX_BYTES = 50;
      Buffer.TYPED_ARRAY_SUPPORT = void 0 !== global.TYPED_ARRAY_SUPPORT ? global.TYPED_ARRAY_SUPPORT : typedArraySupport();
      exports.kMaxLength = kMaxLength();
      function typedArraySupport() {
        try {
          var arr = new Uint8Array(1);
          arr.__proto__ = {
            __proto__: Uint8Array.prototype,
            foo: function() {
              return 42;
            }
          };
          return 42 === arr.foo() && "function" === typeof arr.subarray && 0 === arr.subarray(1, 1).byteLength;
        } catch (e) {
          return false;
        }
      }
      function kMaxLength() {
        return Buffer.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823;
      }
      function createBuffer(that, length) {
        if (kMaxLength() < length) throw new RangeError("Invalid typed array length");
        if (Buffer.TYPED_ARRAY_SUPPORT) {
          that = new Uint8Array(length);
          that.__proto__ = Buffer.prototype;
        } else {
          null === that && (that = new Buffer(length));
          that.length = length;
        }
        return that;
      }
      function Buffer(arg, encodingOrOffset, length) {
        if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) return new Buffer(arg, encodingOrOffset, length);
        if ("number" === typeof arg) {
          if ("string" === typeof encodingOrOffset) throw new Error("If encoding is specified then the first argument must be a string");
          return allocUnsafe(this, arg);
        }
        return from(this, arg, encodingOrOffset, length);
      }
      Buffer.poolSize = 8192;
      Buffer._augment = function(arr) {
        arr.__proto__ = Buffer.prototype;
        return arr;
      };
      function from(that, value, encodingOrOffset, length) {
        if ("number" === typeof value) throw new TypeError('"value" argument must not be a number');
        if ("undefined" !== typeof ArrayBuffer && value instanceof ArrayBuffer) return fromArrayBuffer(that, value, encodingOrOffset, length);
        if ("string" === typeof value) return fromString(that, value, encodingOrOffset);
        return fromObject(that, value);
      }
      Buffer.from = function(value, encodingOrOffset, length) {
        return from(null, value, encodingOrOffset, length);
      };
      if (Buffer.TYPED_ARRAY_SUPPORT) {
        Buffer.prototype.__proto__ = Uint8Array.prototype;
        Buffer.__proto__ = Uint8Array;
        "undefined" !== typeof Symbol && Symbol.species && Buffer[Symbol.species] === Buffer && Object.defineProperty(Buffer, Symbol.species, {
          value: null,
          configurable: true
        });
      }
      function assertSize(size) {
        if ("number" !== typeof size) throw new TypeError('"size" argument must be a number');
        if (size < 0) throw new RangeError('"size" argument must not be negative');
      }
      function alloc(that, size, fill, encoding) {
        assertSize(size);
        if (size <= 0) return createBuffer(that, size);
        if (void 0 !== fill) return "string" === typeof encoding ? createBuffer(that, size).fill(fill, encoding) : createBuffer(that, size).fill(fill);
        return createBuffer(that, size);
      }
      Buffer.alloc = function(size, fill, encoding) {
        return alloc(null, size, fill, encoding);
      };
      function allocUnsafe(that, size) {
        assertSize(size);
        that = createBuffer(that, size < 0 ? 0 : 0 | checked(size));
        if (!Buffer.TYPED_ARRAY_SUPPORT) for (var i = 0; i < size; ++i) that[i] = 0;
        return that;
      }
      Buffer.allocUnsafe = function(size) {
        return allocUnsafe(null, size);
      };
      Buffer.allocUnsafeSlow = function(size) {
        return allocUnsafe(null, size);
      };
      function fromString(that, string, encoding) {
        "string" === typeof encoding && "" !== encoding || (encoding = "utf8");
        if (!Buffer.isEncoding(encoding)) throw new TypeError('"encoding" must be a valid string encoding');
        var length = 0 | byteLength(string, encoding);
        that = createBuffer(that, length);
        var actual = that.write(string, encoding);
        actual !== length && (that = that.slice(0, actual));
        return that;
      }
      function fromArrayLike(that, array) {
        var length = array.length < 0 ? 0 : 0 | checked(array.length);
        that = createBuffer(that, length);
        for (var i = 0; i < length; i += 1) that[i] = 255 & array[i];
        return that;
      }
      function fromArrayBuffer(that, array, byteOffset, length) {
        array.byteLength;
        if (byteOffset < 0 || array.byteLength < byteOffset) throw new RangeError("'offset' is out of bounds");
        if (array.byteLength < byteOffset + (length || 0)) throw new RangeError("'length' is out of bounds");
        array = void 0 === byteOffset && void 0 === length ? new Uint8Array(array) : void 0 === length ? new Uint8Array(array, byteOffset) : new Uint8Array(array, byteOffset, length);
        if (Buffer.TYPED_ARRAY_SUPPORT) {
          that = array;
          that.__proto__ = Buffer.prototype;
        } else that = fromArrayLike(that, array);
        return that;
      }
      function fromObject(that, obj) {
        if (Buffer.isBuffer(obj)) {
          var len = 0 | checked(obj.length);
          that = createBuffer(that, len);
          if (0 === that.length) return that;
          obj.copy(that, 0, 0, len);
          return that;
        }
        if (obj) {
          if ("undefined" !== typeof ArrayBuffer && obj.buffer instanceof ArrayBuffer || "length" in obj) {
            if ("number" !== typeof obj.length || isnan(obj.length)) return createBuffer(that, 0);
            return fromArrayLike(that, obj);
          }
          if ("Buffer" === obj.type && isArray(obj.data)) return fromArrayLike(that, obj.data);
        }
        throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");
      }
      function checked(length) {
        if (length >= kMaxLength()) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + kMaxLength().toString(16) + " bytes");
        return 0 | length;
      }
      function SlowBuffer(length) {
        +length != length && (length = 0);
        return Buffer.alloc(+length);
      }
      Buffer.isBuffer = function isBuffer(b) {
        return !!(null != b && b._isBuffer);
      };
      Buffer.compare = function compare(a, b) {
        if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) throw new TypeError("Arguments must be Buffers");
        if (a === b) return 0;
        var x = a.length;
        var y = b.length;
        for (var i = 0, len = Math.min(x, y); i < len; ++i) if (a[i] !== b[i]) {
          x = a[i];
          y = b[i];
          break;
        }
        if (x < y) return -1;
        if (y < x) return 1;
        return 0;
      };
      Buffer.isEncoding = function isEncoding(encoding) {
        switch (String(encoding).toLowerCase()) {
         case "hex":
         case "utf8":
         case "utf-8":
         case "ascii":
         case "latin1":
         case "binary":
         case "base64":
         case "ucs2":
         case "ucs-2":
         case "utf16le":
         case "utf-16le":
          return true;

         default:
          return false;
        }
      };
      Buffer.concat = function concat(list, length) {
        if (!isArray(list)) throw new TypeError('"list" argument must be an Array of Buffers');
        if (0 === list.length) return Buffer.alloc(0);
        var i;
        if (void 0 === length) {
          length = 0;
          for (i = 0; i < list.length; ++i) length += list[i].length;
        }
        var buffer = Buffer.allocUnsafe(length);
        var pos = 0;
        for (i = 0; i < list.length; ++i) {
          var buf = list[i];
          if (!Buffer.isBuffer(buf)) throw new TypeError('"list" argument must be an Array of Buffers');
          buf.copy(buffer, pos);
          pos += buf.length;
        }
        return buffer;
      };
      function byteLength(string, encoding) {
        if (Buffer.isBuffer(string)) return string.length;
        if ("undefined" !== typeof ArrayBuffer && "function" === typeof ArrayBuffer.isView && (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) return string.byteLength;
        "string" !== typeof string && (string = "" + string);
        var len = string.length;
        if (0 === len) return 0;
        var loweredCase = false;
        for (;;) switch (encoding) {
         case "ascii":
         case "latin1":
         case "binary":
          return len;

         case "utf8":
         case "utf-8":
         case void 0:
          return utf8ToBytes(string).length;

         case "ucs2":
         case "ucs-2":
         case "utf16le":
         case "utf-16le":
          return 2 * len;

         case "hex":
          return len >>> 1;

         case "base64":
          return base64ToBytes(string).length;

         default:
          if (loweredCase) return utf8ToBytes(string).length;
          encoding = ("" + encoding).toLowerCase();
          loweredCase = true;
        }
      }
      Buffer.byteLength = byteLength;
      function slowToString(encoding, start, end) {
        var loweredCase = false;
        (void 0 === start || start < 0) && (start = 0);
        if (start > this.length) return "";
        (void 0 === end || end > this.length) && (end = this.length);
        if (end <= 0) return "";
        end >>>= 0;
        start >>>= 0;
        if (end <= start) return "";
        encoding || (encoding = "utf8");
        while (true) switch (encoding) {
         case "hex":
          return hexSlice(this, start, end);

         case "utf8":
         case "utf-8":
          return utf8Slice(this, start, end);

         case "ascii":
          return asciiSlice(this, start, end);

         case "latin1":
         case "binary":
          return latin1Slice(this, start, end);

         case "base64":
          return base64Slice(this, start, end);

         case "ucs2":
         case "ucs-2":
         case "utf16le":
         case "utf-16le":
          return utf16leSlice(this, start, end);

         default:
          if (loweredCase) throw new TypeError("Unknown encoding: " + encoding);
          encoding = (encoding + "").toLowerCase();
          loweredCase = true;
        }
      }
      Buffer.prototype._isBuffer = true;
      function swap(b, n, m) {
        var i = b[n];
        b[n] = b[m];
        b[m] = i;
      }
      Buffer.prototype.swap16 = function swap16() {
        var len = this.length;
        if (len % 2 !== 0) throw new RangeError("Buffer size must be a multiple of 16-bits");
        for (var i = 0; i < len; i += 2) swap(this, i, i + 1);
        return this;
      };
      Buffer.prototype.swap32 = function swap32() {
        var len = this.length;
        if (len % 4 !== 0) throw new RangeError("Buffer size must be a multiple of 32-bits");
        for (var i = 0; i < len; i += 4) {
          swap(this, i, i + 3);
          swap(this, i + 1, i + 2);
        }
        return this;
      };
      Buffer.prototype.swap64 = function swap64() {
        var len = this.length;
        if (len % 8 !== 0) throw new RangeError("Buffer size must be a multiple of 64-bits");
        for (var i = 0; i < len; i += 8) {
          swap(this, i, i + 7);
          swap(this, i + 1, i + 6);
          swap(this, i + 2, i + 5);
          swap(this, i + 3, i + 4);
        }
        return this;
      };
      Buffer.prototype.toString = function toString() {
        var length = 0 | this.length;
        if (0 === length) return "";
        if (0 === arguments.length) return utf8Slice(this, 0, length);
        return slowToString.apply(this, arguments);
      };
      Buffer.prototype.equals = function equals(b) {
        if (!Buffer.isBuffer(b)) throw new TypeError("Argument must be a Buffer");
        if (this === b) return true;
        return 0 === Buffer.compare(this, b);
      };
      Buffer.prototype.inspect = function inspect() {
        var str = "";
        var max = exports.INSPECT_MAX_BYTES;
        if (this.length > 0) {
          str = this.toString("hex", 0, max).match(/.{2}/g).join(" ");
          this.length > max && (str += " ... ");
        }
        return "<Buffer " + str + ">";
      };
      Buffer.prototype.compare = function compare(target, start, end, thisStart, thisEnd) {
        if (!Buffer.isBuffer(target)) throw new TypeError("Argument must be a Buffer");
        void 0 === start && (start = 0);
        void 0 === end && (end = target ? target.length : 0);
        void 0 === thisStart && (thisStart = 0);
        void 0 === thisEnd && (thisEnd = this.length);
        if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) throw new RangeError("out of range index");
        if (thisStart >= thisEnd && start >= end) return 0;
        if (thisStart >= thisEnd) return -1;
        if (start >= end) return 1;
        start >>>= 0;
        end >>>= 0;
        thisStart >>>= 0;
        thisEnd >>>= 0;
        if (this === target) return 0;
        var x = thisEnd - thisStart;
        var y = end - start;
        var len = Math.min(x, y);
        var thisCopy = this.slice(thisStart, thisEnd);
        var targetCopy = target.slice(start, end);
        for (var i = 0; i < len; ++i) if (thisCopy[i] !== targetCopy[i]) {
          x = thisCopy[i];
          y = targetCopy[i];
          break;
        }
        if (x < y) return -1;
        if (y < x) return 1;
        return 0;
      };
      function bidirectionalIndexOf(buffer, val, byteOffset, encoding, dir) {
        if (0 === buffer.length) return -1;
        if ("string" === typeof byteOffset) {
          encoding = byteOffset;
          byteOffset = 0;
        } else byteOffset > 2147483647 ? byteOffset = 2147483647 : byteOffset < -2147483648 && (byteOffset = -2147483648);
        byteOffset = +byteOffset;
        isNaN(byteOffset) && (byteOffset = dir ? 0 : buffer.length - 1);
        byteOffset < 0 && (byteOffset = buffer.length + byteOffset);
        if (byteOffset >= buffer.length) {
          if (dir) return -1;
          byteOffset = buffer.length - 1;
        } else if (byteOffset < 0) {
          if (!dir) return -1;
          byteOffset = 0;
        }
        "string" === typeof val && (val = Buffer.from(val, encoding));
        if (Buffer.isBuffer(val)) {
          if (0 === val.length) return -1;
          return arrayIndexOf(buffer, val, byteOffset, encoding, dir);
        }
        if ("number" === typeof val) {
          val &= 255;
          if (Buffer.TYPED_ARRAY_SUPPORT && "function" === typeof Uint8Array.prototype.indexOf) return dir ? Uint8Array.prototype.indexOf.call(buffer, val, byteOffset) : Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset);
          return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir);
        }
        throw new TypeError("val must be string, number or Buffer");
      }
      function arrayIndexOf(arr, val, byteOffset, encoding, dir) {
        var indexSize = 1;
        var arrLength = arr.length;
        var valLength = val.length;
        if (void 0 !== encoding) {
          encoding = String(encoding).toLowerCase();
          if ("ucs2" === encoding || "ucs-2" === encoding || "utf16le" === encoding || "utf-16le" === encoding) {
            if (arr.length < 2 || val.length < 2) return -1;
            indexSize = 2;
            arrLength /= 2;
            valLength /= 2;
            byteOffset /= 2;
          }
        }
        function read(buf, i) {
          return 1 === indexSize ? buf[i] : buf.readUInt16BE(i * indexSize);
        }
        var i;
        if (dir) {
          var foundIndex = -1;
          for (i = byteOffset; i < arrLength; i++) if (read(arr, i) === read(val, -1 === foundIndex ? 0 : i - foundIndex)) {
            -1 === foundIndex && (foundIndex = i);
            if (i - foundIndex + 1 === valLength) return foundIndex * indexSize;
          } else {
            -1 !== foundIndex && (i -= i - foundIndex);
            foundIndex = -1;
          }
        } else {
          byteOffset + valLength > arrLength && (byteOffset = arrLength - valLength);
          for (i = byteOffset; i >= 0; i--) {
            var found = true;
            for (var j = 0; j < valLength; j++) if (read(arr, i + j) !== read(val, j)) {
              found = false;
              break;
            }
            if (found) return i;
          }
        }
        return -1;
      }
      Buffer.prototype.includes = function includes(val, byteOffset, encoding) {
        return -1 !== this.indexOf(val, byteOffset, encoding);
      };
      Buffer.prototype.indexOf = function indexOf(val, byteOffset, encoding) {
        return bidirectionalIndexOf(this, val, byteOffset, encoding, true);
      };
      Buffer.prototype.lastIndexOf = function lastIndexOf(val, byteOffset, encoding) {
        return bidirectionalIndexOf(this, val, byteOffset, encoding, false);
      };
      function hexWrite(buf, string, offset, length) {
        offset = Number(offset) || 0;
        var remaining = buf.length - offset;
        if (length) {
          length = Number(length);
          length > remaining && (length = remaining);
        } else length = remaining;
        var strLen = string.length;
        if (strLen % 2 !== 0) throw new TypeError("Invalid hex string");
        length > strLen / 2 && (length = strLen / 2);
        for (var i = 0; i < length; ++i) {
          var parsed = parseInt(string.substr(2 * i, 2), 16);
          if (isNaN(parsed)) return i;
          buf[offset + i] = parsed;
        }
        return i;
      }
      function utf8Write(buf, string, offset, length) {
        return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);
      }
      function asciiWrite(buf, string, offset, length) {
        return blitBuffer(asciiToBytes(string), buf, offset, length);
      }
      function latin1Write(buf, string, offset, length) {
        return asciiWrite(buf, string, offset, length);
      }
      function base64Write(buf, string, offset, length) {
        return blitBuffer(base64ToBytes(string), buf, offset, length);
      }
      function ucs2Write(buf, string, offset, length) {
        return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);
      }
      Buffer.prototype.write = function write(string, offset, length, encoding) {
        if (void 0 === offset) {
          encoding = "utf8";
          length = this.length;
          offset = 0;
        } else if (void 0 === length && "string" === typeof offset) {
          encoding = offset;
          length = this.length;
          offset = 0;
        } else {
          if (!isFinite(offset)) throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
          offset |= 0;
          if (isFinite(length)) {
            length |= 0;
            void 0 === encoding && (encoding = "utf8");
          } else {
            encoding = length;
            length = void 0;
          }
        }
        var remaining = this.length - offset;
        (void 0 === length || length > remaining) && (length = remaining);
        if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) throw new RangeError("Attempt to write outside buffer bounds");
        encoding || (encoding = "utf8");
        var loweredCase = false;
        for (;;) switch (encoding) {
         case "hex":
          return hexWrite(this, string, offset, length);

         case "utf8":
         case "utf-8":
          return utf8Write(this, string, offset, length);

         case "ascii":
          return asciiWrite(this, string, offset, length);

         case "latin1":
         case "binary":
          return latin1Write(this, string, offset, length);

         case "base64":
          return base64Write(this, string, offset, length);

         case "ucs2":
         case "ucs-2":
         case "utf16le":
         case "utf-16le":
          return ucs2Write(this, string, offset, length);

         default:
          if (loweredCase) throw new TypeError("Unknown encoding: " + encoding);
          encoding = ("" + encoding).toLowerCase();
          loweredCase = true;
        }
      };
      Buffer.prototype.toJSON = function toJSON() {
        return {
          type: "Buffer",
          data: Array.prototype.slice.call(this._arr || this, 0)
        };
      };
      function base64Slice(buf, start, end) {
        return 0 === start && end === buf.length ? base64.fromByteArray(buf) : base64.fromByteArray(buf.slice(start, end));
      }
      function utf8Slice(buf, start, end) {
        end = Math.min(buf.length, end);
        var res = [];
        var i = start;
        while (i < end) {
          var firstByte = buf[i];
          var codePoint = null;
          var bytesPerSequence = firstByte > 239 ? 4 : firstByte > 223 ? 3 : firstByte > 191 ? 2 : 1;
          if (i + bytesPerSequence <= end) {
            var secondByte, thirdByte, fourthByte, tempCodePoint;
            switch (bytesPerSequence) {
             case 1:
              firstByte < 128 && (codePoint = firstByte);
              break;

             case 2:
              secondByte = buf[i + 1];
              if (128 === (192 & secondByte)) {
                tempCodePoint = (31 & firstByte) << 6 | 63 & secondByte;
                tempCodePoint > 127 && (codePoint = tempCodePoint);
              }
              break;

             case 3:
              secondByte = buf[i + 1];
              thirdByte = buf[i + 2];
              if (128 === (192 & secondByte) && 128 === (192 & thirdByte)) {
                tempCodePoint = (15 & firstByte) << 12 | (63 & secondByte) << 6 | 63 & thirdByte;
                tempCodePoint > 2047 && (tempCodePoint < 55296 || tempCodePoint > 57343) && (codePoint = tempCodePoint);
              }
              break;

             case 4:
              secondByte = buf[i + 1];
              thirdByte = buf[i + 2];
              fourthByte = buf[i + 3];
              if (128 === (192 & secondByte) && 128 === (192 & thirdByte) && 128 === (192 & fourthByte)) {
                tempCodePoint = (15 & firstByte) << 18 | (63 & secondByte) << 12 | (63 & thirdByte) << 6 | 63 & fourthByte;
                tempCodePoint > 65535 && tempCodePoint < 1114112 && (codePoint = tempCodePoint);
              }
            }
          }
          if (null === codePoint) {
            codePoint = 65533;
            bytesPerSequence = 1;
          } else if (codePoint > 65535) {
            codePoint -= 65536;
            res.push(codePoint >>> 10 & 1023 | 55296);
            codePoint = 56320 | 1023 & codePoint;
          }
          res.push(codePoint);
          i += bytesPerSequence;
        }
        return decodeCodePointsArray(res);
      }
      var MAX_ARGUMENTS_LENGTH = 4096;
      function decodeCodePointsArray(codePoints) {
        var len = codePoints.length;
        if (len <= MAX_ARGUMENTS_LENGTH) return String.fromCharCode.apply(String, codePoints);
        var res = "";
        var i = 0;
        while (i < len) res += String.fromCharCode.apply(String, codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH));
        return res;
      }
      function asciiSlice(buf, start, end) {
        var ret = "";
        end = Math.min(buf.length, end);
        for (var i = start; i < end; ++i) ret += String.fromCharCode(127 & buf[i]);
        return ret;
      }
      function latin1Slice(buf, start, end) {
        var ret = "";
        end = Math.min(buf.length, end);
        for (var i = start; i < end; ++i) ret += String.fromCharCode(buf[i]);
        return ret;
      }
      function hexSlice(buf, start, end) {
        var len = buf.length;
        (!start || start < 0) && (start = 0);
        (!end || end < 0 || end > len) && (end = len);
        var out = "";
        for (var i = start; i < end; ++i) out += toHex(buf[i]);
        return out;
      }
      function utf16leSlice(buf, start, end) {
        var bytes = buf.slice(start, end);
        var res = "";
        for (var i = 0; i < bytes.length; i += 2) res += String.fromCharCode(bytes[i] + 256 * bytes[i + 1]);
        return res;
      }
      Buffer.prototype.slice = function slice(start, end) {
        var len = this.length;
        start = ~~start;
        end = void 0 === end ? len : ~~end;
        if (start < 0) {
          start += len;
          start < 0 && (start = 0);
        } else start > len && (start = len);
        if (end < 0) {
          end += len;
          end < 0 && (end = 0);
        } else end > len && (end = len);
        end < start && (end = start);
        var newBuf;
        if (Buffer.TYPED_ARRAY_SUPPORT) {
          newBuf = this.subarray(start, end);
          newBuf.__proto__ = Buffer.prototype;
        } else {
          var sliceLen = end - start;
          newBuf = new Buffer(sliceLen, void 0);
          for (var i = 0; i < sliceLen; ++i) newBuf[i] = this[i + start];
        }
        return newBuf;
      };
      function checkOffset(offset, ext, length) {
        if (offset % 1 !== 0 || offset < 0) throw new RangeError("offset is not uint");
        if (offset + ext > length) throw new RangeError("Trying to access beyond buffer length");
      }
      Buffer.prototype.readUIntLE = function readUIntLE(offset, byteLength, noAssert) {
        offset |= 0;
        byteLength |= 0;
        noAssert || checkOffset(offset, byteLength, this.length);
        var val = this[offset];
        var mul = 1;
        var i = 0;
        while (++i < byteLength && (mul *= 256)) val += this[offset + i] * mul;
        return val;
      };
      Buffer.prototype.readUIntBE = function readUIntBE(offset, byteLength, noAssert) {
        offset |= 0;
        byteLength |= 0;
        noAssert || checkOffset(offset, byteLength, this.length);
        var val = this[offset + --byteLength];
        var mul = 1;
        while (byteLength > 0 && (mul *= 256)) val += this[offset + --byteLength] * mul;
        return val;
      };
      Buffer.prototype.readUInt8 = function readUInt8(offset, noAssert) {
        noAssert || checkOffset(offset, 1, this.length);
        return this[offset];
      };
      Buffer.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {
        noAssert || checkOffset(offset, 2, this.length);
        return this[offset] | this[offset + 1] << 8;
      };
      Buffer.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {
        noAssert || checkOffset(offset, 2, this.length);
        return this[offset] << 8 | this[offset + 1];
      };
      Buffer.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {
        noAssert || checkOffset(offset, 4, this.length);
        return (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + 16777216 * this[offset + 3];
      };
      Buffer.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {
        noAssert || checkOffset(offset, 4, this.length);
        return 16777216 * this[offset] + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);
      };
      Buffer.prototype.readIntLE = function readIntLE(offset, byteLength, noAssert) {
        offset |= 0;
        byteLength |= 0;
        noAssert || checkOffset(offset, byteLength, this.length);
        var val = this[offset];
        var mul = 1;
        var i = 0;
        while (++i < byteLength && (mul *= 256)) val += this[offset + i] * mul;
        mul *= 128;
        val >= mul && (val -= Math.pow(2, 8 * byteLength));
        return val;
      };
      Buffer.prototype.readIntBE = function readIntBE(offset, byteLength, noAssert) {
        offset |= 0;
        byteLength |= 0;
        noAssert || checkOffset(offset, byteLength, this.length);
        var i = byteLength;
        var mul = 1;
        var val = this[offset + --i];
        while (i > 0 && (mul *= 256)) val += this[offset + --i] * mul;
        mul *= 128;
        val >= mul && (val -= Math.pow(2, 8 * byteLength));
        return val;
      };
      Buffer.prototype.readInt8 = function readInt8(offset, noAssert) {
        noAssert || checkOffset(offset, 1, this.length);
        if (!(128 & this[offset])) return this[offset];
        return -1 * (255 - this[offset] + 1);
      };
      Buffer.prototype.readInt16LE = function readInt16LE(offset, noAssert) {
        noAssert || checkOffset(offset, 2, this.length);
        var val = this[offset] | this[offset + 1] << 8;
        return 32768 & val ? 4294901760 | val : val;
      };
      Buffer.prototype.readInt16BE = function readInt16BE(offset, noAssert) {
        noAssert || checkOffset(offset, 2, this.length);
        var val = this[offset + 1] | this[offset] << 8;
        return 32768 & val ? 4294901760 | val : val;
      };
      Buffer.prototype.readInt32LE = function readInt32LE(offset, noAssert) {
        noAssert || checkOffset(offset, 4, this.length);
        return this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;
      };
      Buffer.prototype.readInt32BE = function readInt32BE(offset, noAssert) {
        noAssert || checkOffset(offset, 4, this.length);
        return this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];
      };
      Buffer.prototype.readFloatLE = function readFloatLE(offset, noAssert) {
        noAssert || checkOffset(offset, 4, this.length);
        return ieee754.read(this, offset, true, 23, 4);
      };
      Buffer.prototype.readFloatBE = function readFloatBE(offset, noAssert) {
        noAssert || checkOffset(offset, 4, this.length);
        return ieee754.read(this, offset, false, 23, 4);
      };
      Buffer.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {
        noAssert || checkOffset(offset, 8, this.length);
        return ieee754.read(this, offset, true, 52, 8);
      };
      Buffer.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {
        noAssert || checkOffset(offset, 8, this.length);
        return ieee754.read(this, offset, false, 52, 8);
      };
      function checkInt(buf, value, offset, ext, max, min) {
        if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance');
        if (value > max || value < min) throw new RangeError('"value" argument is out of bounds');
        if (offset + ext > buf.length) throw new RangeError("Index out of range");
      }
      Buffer.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength, noAssert) {
        value = +value;
        offset |= 0;
        byteLength |= 0;
        if (!noAssert) {
          var maxBytes = Math.pow(2, 8 * byteLength) - 1;
          checkInt(this, value, offset, byteLength, maxBytes, 0);
        }
        var mul = 1;
        var i = 0;
        this[offset] = 255 & value;
        while (++i < byteLength && (mul *= 256)) this[offset + i] = value / mul & 255;
        return offset + byteLength;
      };
      Buffer.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength, noAssert) {
        value = +value;
        offset |= 0;
        byteLength |= 0;
        if (!noAssert) {
          var maxBytes = Math.pow(2, 8 * byteLength) - 1;
          checkInt(this, value, offset, byteLength, maxBytes, 0);
        }
        var i = byteLength - 1;
        var mul = 1;
        this[offset + i] = 255 & value;
        while (--i >= 0 && (mul *= 256)) this[offset + i] = value / mul & 255;
        return offset + byteLength;
      };
      Buffer.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {
        value = +value;
        offset |= 0;
        noAssert || checkInt(this, value, offset, 1, 255, 0);
        Buffer.TYPED_ARRAY_SUPPORT || (value = Math.floor(value));
        this[offset] = 255 & value;
        return offset + 1;
      };
      function objectWriteUInt16(buf, value, offset, littleEndian) {
        value < 0 && (value = 65535 + value + 1);
        for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) buf[offset + i] = (value & 255 << 8 * (littleEndian ? i : 1 - i)) >>> 8 * (littleEndian ? i : 1 - i);
      }
      Buffer.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {
        value = +value;
        offset |= 0;
        noAssert || checkInt(this, value, offset, 2, 65535, 0);
        if (Buffer.TYPED_ARRAY_SUPPORT) {
          this[offset] = 255 & value;
          this[offset + 1] = value >>> 8;
        } else objectWriteUInt16(this, value, offset, true);
        return offset + 2;
      };
      Buffer.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {
        value = +value;
        offset |= 0;
        noAssert || checkInt(this, value, offset, 2, 65535, 0);
        if (Buffer.TYPED_ARRAY_SUPPORT) {
          this[offset] = value >>> 8;
          this[offset + 1] = 255 & value;
        } else objectWriteUInt16(this, value, offset, false);
        return offset + 2;
      };
      function objectWriteUInt32(buf, value, offset, littleEndian) {
        value < 0 && (value = 4294967295 + value + 1);
        for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) buf[offset + i] = value >>> 8 * (littleEndian ? i : 3 - i) & 255;
      }
      Buffer.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {
        value = +value;
        offset |= 0;
        noAssert || checkInt(this, value, offset, 4, 4294967295, 0);
        if (Buffer.TYPED_ARRAY_SUPPORT) {
          this[offset + 3] = value >>> 24;
          this[offset + 2] = value >>> 16;
          this[offset + 1] = value >>> 8;
          this[offset] = 255 & value;
        } else objectWriteUInt32(this, value, offset, true);
        return offset + 4;
      };
      Buffer.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {
        value = +value;
        offset |= 0;
        noAssert || checkInt(this, value, offset, 4, 4294967295, 0);
        if (Buffer.TYPED_ARRAY_SUPPORT) {
          this[offset] = value >>> 24;
          this[offset + 1] = value >>> 16;
          this[offset + 2] = value >>> 8;
          this[offset + 3] = 255 & value;
        } else objectWriteUInt32(this, value, offset, false);
        return offset + 4;
      };
      Buffer.prototype.writeIntLE = function writeIntLE(value, offset, byteLength, noAssert) {
        value = +value;
        offset |= 0;
        if (!noAssert) {
          var limit = Math.pow(2, 8 * byteLength - 1);
          checkInt(this, value, offset, byteLength, limit - 1, -limit);
        }
        var i = 0;
        var mul = 1;
        var sub = 0;
        this[offset] = 255 & value;
        while (++i < byteLength && (mul *= 256)) {
          value < 0 && 0 === sub && 0 !== this[offset + i - 1] && (sub = 1);
          this[offset + i] = (value / mul >> 0) - sub & 255;
        }
        return offset + byteLength;
      };
      Buffer.prototype.writeIntBE = function writeIntBE(value, offset, byteLength, noAssert) {
        value = +value;
        offset |= 0;
        if (!noAssert) {
          var limit = Math.pow(2, 8 * byteLength - 1);
          checkInt(this, value, offset, byteLength, limit - 1, -limit);
        }
        var i = byteLength - 1;
        var mul = 1;
        var sub = 0;
        this[offset + i] = 255 & value;
        while (--i >= 0 && (mul *= 256)) {
          value < 0 && 0 === sub && 0 !== this[offset + i + 1] && (sub = 1);
          this[offset + i] = (value / mul >> 0) - sub & 255;
        }
        return offset + byteLength;
      };
      Buffer.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {
        value = +value;
        offset |= 0;
        noAssert || checkInt(this, value, offset, 1, 127, -128);
        Buffer.TYPED_ARRAY_SUPPORT || (value = Math.floor(value));
        value < 0 && (value = 255 + value + 1);
        this[offset] = 255 & value;
        return offset + 1;
      };
      Buffer.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {
        value = +value;
        offset |= 0;
        noAssert || checkInt(this, value, offset, 2, 32767, -32768);
        if (Buffer.TYPED_ARRAY_SUPPORT) {
          this[offset] = 255 & value;
          this[offset + 1] = value >>> 8;
        } else objectWriteUInt16(this, value, offset, true);
        return offset + 2;
      };
      Buffer.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {
        value = +value;
        offset |= 0;
        noAssert || checkInt(this, value, offset, 2, 32767, -32768);
        if (Buffer.TYPED_ARRAY_SUPPORT) {
          this[offset] = value >>> 8;
          this[offset + 1] = 255 & value;
        } else objectWriteUInt16(this, value, offset, false);
        return offset + 2;
      };
      Buffer.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {
        value = +value;
        offset |= 0;
        noAssert || checkInt(this, value, offset, 4, 2147483647, -2147483648);
        if (Buffer.TYPED_ARRAY_SUPPORT) {
          this[offset] = 255 & value;
          this[offset + 1] = value >>> 8;
          this[offset + 2] = value >>> 16;
          this[offset + 3] = value >>> 24;
        } else objectWriteUInt32(this, value, offset, true);
        return offset + 4;
      };
      Buffer.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {
        value = +value;
        offset |= 0;
        noAssert || checkInt(this, value, offset, 4, 2147483647, -2147483648);
        value < 0 && (value = 4294967295 + value + 1);
        if (Buffer.TYPED_ARRAY_SUPPORT) {
          this[offset] = value >>> 24;
          this[offset + 1] = value >>> 16;
          this[offset + 2] = value >>> 8;
          this[offset + 3] = 255 & value;
        } else objectWriteUInt32(this, value, offset, false);
        return offset + 4;
      };
      function checkIEEE754(buf, value, offset, ext, max, min) {
        if (offset + ext > buf.length) throw new RangeError("Index out of range");
        if (offset < 0) throw new RangeError("Index out of range");
      }
      function writeFloat(buf, value, offset, littleEndian, noAssert) {
        noAssert || checkIEEE754(buf, value, offset, 4, 34028234663852886e22, -34028234663852886e22);
        ieee754.write(buf, value, offset, littleEndian, 23, 4);
        return offset + 4;
      }
      Buffer.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {
        return writeFloat(this, value, offset, true, noAssert);
      };
      Buffer.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {
        return writeFloat(this, value, offset, false, noAssert);
      };
      function writeDouble(buf, value, offset, littleEndian, noAssert) {
        noAssert || checkIEEE754(buf, value, offset, 8, 17976931348623157e292, -17976931348623157e292);
        ieee754.write(buf, value, offset, littleEndian, 52, 8);
        return offset + 8;
      }
      Buffer.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {
        return writeDouble(this, value, offset, true, noAssert);
      };
      Buffer.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {
        return writeDouble(this, value, offset, false, noAssert);
      };
      Buffer.prototype.copy = function copy(target, targetStart, start, end) {
        start || (start = 0);
        end || 0 === end || (end = this.length);
        targetStart >= target.length && (targetStart = target.length);
        targetStart || (targetStart = 0);
        end > 0 && end < start && (end = start);
        if (end === start) return 0;
        if (0 === target.length || 0 === this.length) return 0;
        if (targetStart < 0) throw new RangeError("targetStart out of bounds");
        if (start < 0 || start >= this.length) throw new RangeError("sourceStart out of bounds");
        if (end < 0) throw new RangeError("sourceEnd out of bounds");
        end > this.length && (end = this.length);
        target.length - targetStart < end - start && (end = target.length - targetStart + start);
        var len = end - start;
        var i;
        if (this === target && start < targetStart && targetStart < end) for (i = len - 1; i >= 0; --i) target[i + targetStart] = this[i + start]; else if (len < 1e3 || !Buffer.TYPED_ARRAY_SUPPORT) for (i = 0; i < len; ++i) target[i + targetStart] = this[i + start]; else Uint8Array.prototype.set.call(target, this.subarray(start, start + len), targetStart);
        return len;
      };
      Buffer.prototype.fill = function fill(val, start, end, encoding) {
        if ("string" === typeof val) {
          if ("string" === typeof start) {
            encoding = start;
            start = 0;
            end = this.length;
          } else if ("string" === typeof end) {
            encoding = end;
            end = this.length;
          }
          if (1 === val.length) {
            var code = val.charCodeAt(0);
            code < 256 && (val = code);
          }
          if (void 0 !== encoding && "string" !== typeof encoding) throw new TypeError("encoding must be a string");
          if ("string" === typeof encoding && !Buffer.isEncoding(encoding)) throw new TypeError("Unknown encoding: " + encoding);
        } else "number" === typeof val && (val &= 255);
        if (start < 0 || this.length < start || this.length < end) throw new RangeError("Out of range index");
        if (end <= start) return this;
        start >>>= 0;
        end = void 0 === end ? this.length : end >>> 0;
        val || (val = 0);
        var i;
        if ("number" === typeof val) for (i = start; i < end; ++i) this[i] = val; else {
          var bytes = Buffer.isBuffer(val) ? val : utf8ToBytes(new Buffer(val, encoding).toString());
          var len = bytes.length;
          for (i = 0; i < end - start; ++i) this[i + start] = bytes[i % len];
        }
        return this;
      };
      var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g;
      function base64clean(str) {
        str = stringtrim(str).replace(INVALID_BASE64_RE, "");
        if (str.length < 2) return "";
        while (str.length % 4 !== 0) str += "=";
        return str;
      }
      function stringtrim(str) {
        if (str.trim) return str.trim();
        return str.replace(/^\s+|\s+$/g, "");
      }
      function toHex(n) {
        if (n < 16) return "0" + n.toString(16);
        return n.toString(16);
      }
      function utf8ToBytes(string, units) {
        units = units || Infinity;
        var codePoint;
        var length = string.length;
        var leadSurrogate = null;
        var bytes = [];
        for (var i = 0; i < length; ++i) {
          codePoint = string.charCodeAt(i);
          if (codePoint > 55295 && codePoint < 57344) {
            if (!leadSurrogate) {
              if (codePoint > 56319) {
                (units -= 3) > -1 && bytes.push(239, 191, 189);
                continue;
              }
              if (i + 1 === length) {
                (units -= 3) > -1 && bytes.push(239, 191, 189);
                continue;
              }
              leadSurrogate = codePoint;
              continue;
            }
            if (codePoint < 56320) {
              (units -= 3) > -1 && bytes.push(239, 191, 189);
              leadSurrogate = codePoint;
              continue;
            }
            codePoint = 65536 + (leadSurrogate - 55296 << 10 | codePoint - 56320);
          } else leadSurrogate && (units -= 3) > -1 && bytes.push(239, 191, 189);
          leadSurrogate = null;
          if (codePoint < 128) {
            if ((units -= 1) < 0) break;
            bytes.push(codePoint);
          } else if (codePoint < 2048) {
            if ((units -= 2) < 0) break;
            bytes.push(codePoint >> 6 | 192, 63 & codePoint | 128);
          } else if (codePoint < 65536) {
            if ((units -= 3) < 0) break;
            bytes.push(codePoint >> 12 | 224, codePoint >> 6 & 63 | 128, 63 & codePoint | 128);
          } else {
            if (!(codePoint < 1114112)) throw new Error("Invalid code point");
            if ((units -= 4) < 0) break;
            bytes.push(codePoint >> 18 | 240, codePoint >> 12 & 63 | 128, codePoint >> 6 & 63 | 128, 63 & codePoint | 128);
          }
        }
        return bytes;
      }
      function asciiToBytes(str) {
        var byteArray = [];
        for (var i = 0; i < str.length; ++i) byteArray.push(255 & str.charCodeAt(i));
        return byteArray;
      }
      function utf16leToBytes(str, units) {
        var c, hi, lo;
        var byteArray = [];
        for (var i = 0; i < str.length; ++i) {
          if ((units -= 2) < 0) break;
          c = str.charCodeAt(i);
          hi = c >> 8;
          lo = c % 256;
          byteArray.push(lo);
          byteArray.push(hi);
        }
        return byteArray;
      }
      function base64ToBytes(str) {
        return base64.toByteArray(base64clean(str));
      }
      function blitBuffer(src, dst, offset, length) {
        for (var i = 0; i < length; ++i) {
          if (i + offset >= dst.length || i >= src.length) break;
          dst[i + offset] = src[i];
        }
        return i;
      }
      function isnan(val) {
        return val !== val;
      }
    }).call(this, "undefined" !== typeof global ? global : "undefined" !== typeof self ? self : "undefined" !== typeof window ? window : {});
  }, {
    "base64-js": 1,
    ieee754: 4,
    isarray: 3
  } ],
  3: [ function(require, module, exports) {
    var toString = {}.toString;
    module.exports = Array.isArray || function(arr) {
      return "[object Array]" == toString.call(arr);
    };
  }, {} ],
  4: [ function(require, module, exports) {
    exports.read = function(buffer, offset, isLE, mLen, nBytes) {
      var e, m;
      var eLen = 8 * nBytes - mLen - 1;
      var eMax = (1 << eLen) - 1;
      var eBias = eMax >> 1;
      var nBits = -7;
      var i = isLE ? nBytes - 1 : 0;
      var d = isLE ? -1 : 1;
      var s = buffer[offset + i];
      i += d;
      e = s & (1 << -nBits) - 1;
      s >>= -nBits;
      nBits += eLen;
      for (;nBits > 0; e = 256 * e + buffer[offset + i], i += d, nBits -= 8) ;
      m = e & (1 << -nBits) - 1;
      e >>= -nBits;
      nBits += mLen;
      for (;nBits > 0; m = 256 * m + buffer[offset + i], i += d, nBits -= 8) ;
      if (0 === e) e = 1 - eBias; else {
        if (e === eMax) return m ? NaN : Infinity * (s ? -1 : 1);
        m += Math.pow(2, mLen);
        e -= eBias;
      }
      return (s ? -1 : 1) * m * Math.pow(2, e - mLen);
    };
    exports.write = function(buffer, value, offset, isLE, mLen, nBytes) {
      var e, m, c;
      var eLen = 8 * nBytes - mLen - 1;
      var eMax = (1 << eLen) - 1;
      var eBias = eMax >> 1;
      var rt = 23 === mLen ? Math.pow(2, -24) - Math.pow(2, -77) : 0;
      var i = isLE ? 0 : nBytes - 1;
      var d = isLE ? 1 : -1;
      var s = value < 0 || 0 === value && 1 / value < 0 ? 1 : 0;
      value = Math.abs(value);
      if (isNaN(value) || Infinity === value) {
        m = isNaN(value) ? 1 : 0;
        e = eMax;
      } else {
        e = Math.floor(Math.log(value) / Math.LN2);
        if (value * (c = Math.pow(2, -e)) < 1) {
          e--;
          c *= 2;
        }
        value += e + eBias >= 1 ? rt / c : rt * Math.pow(2, 1 - eBias);
        if (value * c >= 2) {
          e++;
          c /= 2;
        }
        if (e + eBias >= eMax) {
          m = 0;
          e = eMax;
        } else if (e + eBias >= 1) {
          m = (value * c - 1) * Math.pow(2, mLen);
          e += eBias;
        } else {
          m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);
          e = 0;
        }
      }
      for (;mLen >= 8; buffer[offset + i] = 255 & m, i += d, m /= 256, mLen -= 8) ;
      e = e << mLen | m;
      eLen += mLen;
      for (;eLen > 0; buffer[offset + i] = 255 & e, i += d, e /= 256, eLen -= 8) ;
      buffer[offset + i - d] |= 128 * s;
    };
  }, {} ],
  5: [ function(require, module, exports) {
    var process = module.exports = {};
    var cachedSetTimeout;
    var cachedClearTimeout;
    function defaultSetTimout() {
      throw new Error("setTimeout has not been defined");
    }
    function defaultClearTimeout() {
      throw new Error("clearTimeout has not been defined");
    }
    (function() {
      try {
        cachedSetTimeout = "function" === typeof setTimeout ? setTimeout : defaultSetTimout;
      } catch (e) {
        cachedSetTimeout = defaultSetTimout;
      }
      try {
        cachedClearTimeout = "function" === typeof clearTimeout ? clearTimeout : defaultClearTimeout;
      } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
      }
    })();
    function runTimeout(fun) {
      if (cachedSetTimeout === setTimeout) return setTimeout(fun, 0);
      if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
      }
      try {
        return cachedSetTimeout(fun, 0);
      } catch (e) {
        try {
          return cachedSetTimeout.call(null, fun, 0);
        } catch (e) {
          return cachedSetTimeout.call(this, fun, 0);
        }
      }
    }
    function runClearTimeout(marker) {
      if (cachedClearTimeout === clearTimeout) return clearTimeout(marker);
      if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
      }
      try {
        return cachedClearTimeout(marker);
      } catch (e) {
        try {
          return cachedClearTimeout.call(null, marker);
        } catch (e) {
          return cachedClearTimeout.call(this, marker);
        }
      }
    }
    var queue = [];
    var draining = false;
    var currentQueue;
    var queueIndex = -1;
    function cleanUpNextTick() {
      if (!draining || !currentQueue) return;
      draining = false;
      currentQueue.length ? queue = currentQueue.concat(queue) : queueIndex = -1;
      queue.length && drainQueue();
    }
    function drainQueue() {
      if (draining) return;
      var timeout = runTimeout(cleanUpNextTick);
      draining = true;
      var len = queue.length;
      while (len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) currentQueue && currentQueue[queueIndex].run();
        queueIndex = -1;
        len = queue.length;
      }
      currentQueue = null;
      draining = false;
      runClearTimeout(timeout);
    }
    process.nextTick = function(fun) {
      var args = new Array(arguments.length - 1);
      if (arguments.length > 1) for (var i = 1; i < arguments.length; i++) args[i - 1] = arguments[i];
      queue.push(new Item(fun, args));
      1 !== queue.length || draining || runTimeout(drainQueue);
    };
    function Item(fun, array) {
      this.fun = fun;
      this.array = array;
    }
    Item.prototype.run = function() {
      this.fun.apply(null, this.array);
    };
    process.title = "browser";
    process.browser = true;
    process.env = {};
    process.argv = [];
    process.version = "";
    process.versions = {};
    function noop() {}
    process.on = noop;
    process.addListener = noop;
    process.once = noop;
    process.off = noop;
    process.removeListener = noop;
    process.removeAllListeners = noop;
    process.emit = noop;
    process.prependListener = noop;
    process.prependOnceListener = noop;
    process.listeners = function(name) {
      return [];
    };
    process.binding = function(name) {
      throw new Error("process.binding is not supported");
    };
    process.cwd = function() {
      return "/";
    };
    process.chdir = function(dir) {
      throw new Error("process.chdir is not supported");
    };
    process.umask = function() {
      return 0;
    };
  }, {} ],
  6: [ function(require, module, exports) {
    var jspbcomp = require("google-protobuf");
    var COMPILED = jspbcomp.COMPILED;
    var jspb = jspbcomp.exportSymbol ? jspbcomp : jspbcomp.jspb;
    var goog = jspbcomp.exportSymbol ? jspbcomp : jspbcomp.goog;
    var global = Function("return this")();
    goog.exportSymbol("proto.base.BaseResult", null, global);
    goog.exportSymbol("proto.base.Empty", null, global);
    goog.exportSymbol("proto.base.ErrorCode", null, global);
    goog.exportSymbol("proto.base.ErrorCode.Type1", null, global);
    goog.exportSymbol("proto.base.ErrorCode.Type2", null, global);
    goog.exportSymbol("proto.base.MsgCode", null, global);
    goog.exportSymbol("proto.base.PageInfo", null, global);
    goog.exportSymbol("proto.base.Result", null, global);
    goog.exportSymbol("proto.base.Status", null, global);
    proto.base.Empty = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.base.Empty, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.base.Empty.displayName = "proto.base.Empty");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.base.Empty.prototype.toObject = function(opt_includeInstance) {
        return proto.base.Empty.toObject(opt_includeInstance, this);
      };
      proto.base.Empty.toObject = function(includeInstance, msg) {
        var f, obj = {};
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.base.Empty.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.base.Empty();
      return proto.base.Empty.deserializeBinaryFromReader(msg, reader);
    };
    proto.base.Empty.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        field;
        reader.skipField();
      }
      return msg;
    };
    proto.base.Empty.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.base.Empty.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.base.Empty.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
    };
    proto.base.Result = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.base.Result, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.base.Result.displayName = "proto.base.Result");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.base.Result.prototype.toObject = function(opt_includeInstance) {
        return proto.base.Result.toObject(opt_includeInstance, this);
      };
      proto.base.Result.toObject = function(includeInstance, msg) {
        var f, obj = {
          code: jspb.Message.getFieldWithDefault(msg, 1, 0),
          msg: jspb.Message.getFieldWithDefault(msg, 2, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.base.Result.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.base.Result();
      return proto.base.Result.deserializeBinaryFromReader(msg, reader);
    };
    proto.base.Result.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readEnum();
          msg.setCode(value);
          break;

         case 2:
          var value = reader.readString();
          msg.setMsg(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.base.Result.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.base.Result.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.base.Result.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getCode();
      0 !== f && writer.writeEnum(1, f);
      f = message.getMsg();
      f.length > 0 && writer.writeString(2, f);
    };
    proto.base.Result.prototype.getCode = function() {
      return jspb.Message.getFieldWithDefault(this, 1, 0);
    };
    proto.base.Result.prototype.setCode = function(value) {
      jspb.Message.setProto3EnumField(this, 1, value);
    };
    proto.base.Result.prototype.getMsg = function() {
      return jspb.Message.getFieldWithDefault(this, 2, "");
    };
    proto.base.Result.prototype.setMsg = function(value) {
      jspb.Message.setProto3StringField(this, 2, value);
    };
    proto.base.BaseResult = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.base.BaseResult, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.base.BaseResult.displayName = "proto.base.BaseResult");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.base.BaseResult.prototype.toObject = function(opt_includeInstance) {
        return proto.base.BaseResult.toObject(opt_includeInstance, this);
      };
      proto.base.BaseResult.toObject = function(includeInstance, msg) {
        var f, obj = {
          result: (f = msg.getResult()) && proto.base.Result.toObject(includeInstance, f)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.base.BaseResult.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.base.BaseResult();
      return proto.base.BaseResult.deserializeBinaryFromReader(msg, reader);
    };
    proto.base.BaseResult.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new proto.base.Result();
          reader.readMessage(value, proto.base.Result.deserializeBinaryFromReader);
          msg.setResult(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.base.BaseResult.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.base.BaseResult.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.base.BaseResult.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getResult();
      null != f && writer.writeMessage(1, f, proto.base.Result.serializeBinaryToWriter);
    };
    proto.base.BaseResult.prototype.getResult = function() {
      return jspb.Message.getWrapperField(this, proto.base.Result, 1);
    };
    proto.base.BaseResult.prototype.setResult = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.base.BaseResult.prototype.clearResult = function() {
      this.setResult(void 0);
    };
    proto.base.BaseResult.prototype.hasResult = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.base.PageInfo = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.base.PageInfo, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.base.PageInfo.displayName = "proto.base.PageInfo");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.base.PageInfo.prototype.toObject = function(opt_includeInstance) {
        return proto.base.PageInfo.toObject(opt_includeInstance, this);
      };
      proto.base.PageInfo.toObject = function(includeInstance, msg) {
        var f, obj = {
          index: jspb.Message.getFieldWithDefault(msg, 1, 0),
          limit: jspb.Message.getFieldWithDefault(msg, 2, 0),
          sort: jspb.Message.getFieldWithDefault(msg, 3, ""),
          offset: jspb.Message.getFieldWithDefault(msg, 4, 0),
          dataCount: jspb.Message.getFieldWithDefault(msg, 5, 0),
          pageCount: jspb.Message.getFieldWithDefault(msg, 6, 0)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.base.PageInfo.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.base.PageInfo();
      return proto.base.PageInfo.deserializeBinaryFromReader(msg, reader);
    };
    proto.base.PageInfo.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readInt64();
          msg.setIndex(value);
          break;

         case 2:
          var value = reader.readInt64();
          msg.setLimit(value);
          break;

         case 3:
          var value = reader.readString();
          msg.setSort(value);
          break;

         case 4:
          var value = reader.readInt64();
          msg.setOffset(value);
          break;

         case 5:
          var value = reader.readInt64();
          msg.setDataCount(value);
          break;

         case 6:
          var value = reader.readInt64();
          msg.setPageCount(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.base.PageInfo.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.base.PageInfo.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.base.PageInfo.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getIndex();
      0 !== f && writer.writeInt64(1, f);
      f = message.getLimit();
      0 !== f && writer.writeInt64(2, f);
      f = message.getSort();
      f.length > 0 && writer.writeString(3, f);
      f = message.getOffset();
      0 !== f && writer.writeInt64(4, f);
      f = message.getDataCount();
      0 !== f && writer.writeInt64(5, f);
      f = message.getPageCount();
      0 !== f && writer.writeInt64(6, f);
    };
    proto.base.PageInfo.prototype.getIndex = function() {
      return jspb.Message.getFieldWithDefault(this, 1, 0);
    };
    proto.base.PageInfo.prototype.setIndex = function(value) {
      jspb.Message.setProto3IntField(this, 1, value);
    };
    proto.base.PageInfo.prototype.getLimit = function() {
      return jspb.Message.getFieldWithDefault(this, 2, 0);
    };
    proto.base.PageInfo.prototype.setLimit = function(value) {
      jspb.Message.setProto3IntField(this, 2, value);
    };
    proto.base.PageInfo.prototype.getSort = function() {
      return jspb.Message.getFieldWithDefault(this, 3, "");
    };
    proto.base.PageInfo.prototype.setSort = function(value) {
      jspb.Message.setProto3StringField(this, 3, value);
    };
    proto.base.PageInfo.prototype.getOffset = function() {
      return jspb.Message.getFieldWithDefault(this, 4, 0);
    };
    proto.base.PageInfo.prototype.setOffset = function(value) {
      jspb.Message.setProto3IntField(this, 4, value);
    };
    proto.base.PageInfo.prototype.getDataCount = function() {
      return jspb.Message.getFieldWithDefault(this, 5, 0);
    };
    proto.base.PageInfo.prototype.setDataCount = function(value) {
      jspb.Message.setProto3IntField(this, 5, value);
    };
    proto.base.PageInfo.prototype.getPageCount = function() {
      return jspb.Message.getFieldWithDefault(this, 6, 0);
    };
    proto.base.PageInfo.prototype.setPageCount = function(value) {
      jspb.Message.setProto3IntField(this, 6, value);
    };
    proto.base.ErrorCode = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.base.ErrorCode, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.base.ErrorCode.displayName = "proto.base.ErrorCode");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.base.ErrorCode.prototype.toObject = function(opt_includeInstance) {
        return proto.base.ErrorCode.toObject(opt_includeInstance, this);
      };
      proto.base.ErrorCode.toObject = function(includeInstance, msg) {
        var f, obj = {};
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.base.ErrorCode.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.base.ErrorCode();
      return proto.base.ErrorCode.deserializeBinaryFromReader(msg, reader);
    };
    proto.base.ErrorCode.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        field;
        reader.skipField();
      }
      return msg;
    };
    proto.base.ErrorCode.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.base.ErrorCode.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.base.ErrorCode.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
    };
    proto.base.ErrorCode.Type1 = {
      OK: 0
    };
    proto.base.ErrorCode.Type2 = {
      ERR: 0
    };
    proto.base.MsgCode = {
      UNKNOWN_FAILURE: 0,
      SUCCESS: 1,
      ALREADY_EXISTS: 2,
      REQUIRED_FIELDS: 3,
      LOGIN_FAILED: 4,
      API_ACCESS_FAILED: 5,
      NOT_FOUND: 6,
      REQUEST_TIME_OUT: 7,
      VERIFY_CAPTCHA_FAILED: 8,
      LOGIN_FAILED_USER_LOCK: 9,
      MEMBER_NOT_FOUND: 10,
      AGENT_NOT_FOUND: 11,
      CONTENT_DATA_TYPE_ERROR: 12,
      GAME_NOT_FOUND: 13,
      PERMISSIONS_DENIED: 14,
      FAILURE: 15,
      REQUEST_LIMIT_REACHED: 16,
      NOT_AUTHORIZED_TO_SIGN: 1e3,
      AMOUNT_OF_ERROR: 1001,
      TRANS_ALREADY_EXISTS: 1002,
      VALIDATION_FAILED: 1003,
      DB_ACCESS_FAILED: 1004,
      WALLET_NOT_FOUND: 1005,
      TRANS_NOT_FOUND: 1006,
      PROCESSING_FAILED: 1007,
      EMPTY_AMOUNT_NOT_ALLOWED: 1008,
      AGENT_QUOTA_NOT_FOUND: 1009,
      INSUFFICIENT_AGENT_QUOTA: 1010,
      AGENT_WITHDRAWALS_LOCK: 1011,
      TIME_IS_OUT_OF_RANGE: 1012,
      EXCEED_THE_SECOND_DECIMAL_PLACE: 1013,
      GAME_INACTIVE: 1014,
      DATA_REPEAT: 1015,
      LOWEST_AGENT_CANNOT_ADD_AGENT: 1016,
      ACCOUNT_DISABLED: 1017,
      AGENT_ADMIN_USER_JUST_ONLY: 1018,
      AGENT_GAME_DISABLED: 1019,
      SYSTEM_GAME_DISABLED: 1020,
      AGENT_USER_NOT_FOUND: 1021,
      TO_PB: 1022,
      TO_ORM: 1023,
      SINGLE_BET_FAIL_AND_BET_CANCEL_SUCCESS: 1024,
      SINGLE_UNKNOWN_ERROR: 1025,
      SINGLE_INSUFFICIENT: 1026,
      TRANSFER_IS_NOT_FINISH: 1027,
      GAME_NOT_SETTLED: 1028,
      TRANSACTION_ALREADY_BEGIN: 1029,
      PROMOTE_EVENT_NOT_FOUND: 1030,
      NOT_ALLOW_ADDING_SUB_AGENT: 1031,
      MEMBER_MAX_CREDIT_NOT_ENOUGH: 1032,
      TRANS_ALREADY_CANCELED: 1033,
      AGENT_RELATION_ILLEGAL: 1034,
      FISHING_PAYOUT: 1035,
      MEMBER_IS_IN_DEBT: 1036,
      AGENT_HALL_NOT_FOUND: 2001,
      AGENT_RISK_NOT_FOUND: 2002,
      GET_AGENT_FAILED: 2003,
      DUPLICATE_LOGIN: 2004,
      ADD_PLAYER_FAILED: 2005,
      TRANSFER_NOT_FINISH: 2006,
      GAME_DISABLE: 2007,
      API_TIMEOUT: 2008,
      GAME_NOT_LOGIN: 3001,
      GAME_NOT_IN_TABLE: 3002,
      GAME_ALREADY_IN_TABLE: 3003,
      GAME_OVER_LIMIT_BET: 3004,
      GAME_LIMIT_PLAY_TYPE: 3005,
      GAME_AMOUNT_NOT_ENOUGH: 3006,
      GAME_BET_FAIL: 3007,
      GAME_NOT_BET_TIME: 3008,
      GAME_QUERY_FAIL: 3009,
      GAME_BET_CANT_OUT_TABLE: 3010,
      GAME_CANT_IN_ROOM: 3011,
      GAME_NOT_ENOUGH_IN_GAME: 3012,
      GAME_CONFIG_NOT_FOUND: 3015,
      GAME_STATUS_NOT_FOUND: 3016,
      GAME_USER_DATA_FAILED: 3017,
      GAME_BET_TOO_FAST: 3023,
      GAME_TABLE_ERROR: 3033,
      GAME_REDUCE_MONEY_FAIL: 3034,
      GAME_ADD_MONEY_FAIL: 3035,
      GAME_HEARTBEAT_TIMEOUT: 3036,
      GAME_IDLE_TIMEOUT: 3037,
      TOKEN_INVALID: 3038,
      KEEP_CANCELING_UNTIL_CANCELLED: 3039,
      KEEP_PAYING_UNTIL_PAYED: 3040,
      ALREADY_PAYOUT_CANNOT_CANCEL: 3041,
      FINISH_BET_NOT_FOUND_BUT_PENDING: 3042,
      GAME_UNDER_MAINTAIN: 3043,
      GAME_AGENT_BET_LIMIT_ERROR: 3044,
      GAME_MEMBER_IS_IN_DEBT: 3045,
      GAME_MEMBER_LEVEL_CANNOT_PLAY: 3046,
      GAME_MEMBER_NO_BET: 3047,
      GAME_MEMBER_HAD_BET: 3048,
      MATH_VALIDATION_FAILED: 3049,
      MATH_GAME_DISABLED: 3050,
      MATH_GAME_NOT_READY: 3051,
      MATH_FAILED: 3052,
      MATH_API_TIME_OUT: 3053,
      GAME_KICK_HEARTBEAT: 4001,
      GAME_KICK_IDLE: 4002,
      GAME_KICK_ILLEGAL_OPERATION: 4003,
      GAME_KICK_OTHER: 4004,
      GAME_KICK_SYSTEM: 4005,
      GAME_KICK_TABLE: 4006,
      GAME_WILL_KICK_TABLE: 4007,
      GAME_WILL_KICK_GAME: 4008,
      GAME_KICK_DUPLICATE_LOGIN: 4009,
      GAME_NOTIFY_DUPLICATE_LOGIN: 4010,
      GAME_KICK_GAME_STATE_CLOSE: 4011,
      GAME_KICK_SERVER_CLOSE: 4012,
      GAME_KICK_DISCONNECT: 4013,
      GAME_KICK_BLOCK_MONEY_ERROR: 4014,
      GAME_KICK_BALANCE_ERROR: 4015,
      GAME_KICK_WALLET_NOT_FOUND: 4016
    };
    proto.base.Status = {
      NONE: 0,
      ENABLED: 1,
      DISABLED: 2
    };
    goog.object.extend(exports, proto.base);
  }, {
    "google-protobuf": 33
  } ],
  7: [ function(require, module, exports) {
    !function(e, t) {
      if ("object" == typeof exports && "object" == typeof module) module.exports = t(); else if ("function" == typeof define && define.amd) define([], t); else {
        var n = t();
        for (var r in n) ("object" == typeof exports ? exports : e)[r] = n[r];
      }
    }(this, function() {
      return function(e) {
        var t = {};
        function n(r) {
          if (t[r]) return t[r].exports;
          var o = t[r] = {
            i: r,
            l: !1,
            exports: {}
          };
          return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;
        }
        return n.m = e, n.c = t, n.d = function(e, t, r) {
          n.o(e, t) || Object.defineProperty(e, t, {
            enumerable: !0,
            get: r
          });
        }, n.r = function(e) {
          "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
          }), Object.defineProperty(e, "__esModule", {
            value: !0
          });
        }, n.t = function(e, t) {
          if (1 & t && (e = n(e)), 8 & t) return e;
          if (4 & t && "object" == typeof e && e && e.__esModule) return e;
          var r = Object.create(null);
          if (n.r(r), Object.defineProperty(r, "default", {
            enumerable: !0,
            value: e
          }), 2 & t && "string" != typeof e) for (var o in e) n.d(r, o, function(t) {
            return e[t];
          }.bind(null, o));
          return r;
        }, n.n = function(e) {
          var t = e && e.__esModule ? function() {
            return e.default;
          } : function() {
            return e;
          };
          return n.d(t, "a", t), t;
        }, n.o = function(e, t) {
          return Object.prototype.hasOwnProperty.call(e, t);
        }, n.p = "", n(n.s = 11);
      }([ function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
          value: !0
        });
        var r = n(4);
        t.Metadata = r.BrowserHeaders;
      }, function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
          value: !0
        }), t.debug = function() {
          for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
          console.debug ? console.debug.apply(null, e) : console.log.apply(null, e);
        };
      }, function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
          value: !0
        });
        var r = null;
        t.default = function(e) {
          null === r ? (r = [ e ], setTimeout(function() {
            !function e() {
              if (r) {
                var t = r;
                r = null;
                for (var n = 0; n < t.length; n++) try {
                  t[n]();
                } catch (s) {
                  null === r && (r = [], setTimeout(function() {
                    e();
                  }, 0));
                  for (var o = t.length - 1; o > n; o--) r.unshift(t[o]);
                  throw s;
                }
              }
            }();
          }, 0)) : r.push(e);
        };
      }, function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
          value: !0
        });
        var r = n(0), o = n(9), s = n(10), i = n(1), a = n(2), u = n(5), d = n(15);
        t.client = function(e, t) {
          return new c(e, t);
        };
        var c = function() {
          function e(e, t) {
            this.started = !1, this.sentFirstMessage = !1, this.completed = !1, this.closed = !1, 
            this.finishedSending = !1, this.onHeadersCallbacks = [], this.onMessageCallbacks = [], 
            this.onEndCallbacks = [], this.parser = new o.ChunkParser(), this.methodDefinition = e, 
            this.props = t, this.createTransport();
          }
          return e.prototype.createTransport = function() {
            var e = this.props.host + "/" + this.methodDefinition.service.serviceName + "/" + this.methodDefinition.methodName, t = {
              methodDefinition: this.methodDefinition,
              debug: this.props.debug || !1,
              url: e,
              onHeaders: this.onTransportHeaders.bind(this),
              onChunk: this.onTransportChunk.bind(this),
              onEnd: this.onTransportEnd.bind(this)
            };
            this.props.transport ? this.transport = this.props.transport(t) : this.transport = u.makeDefaultTransport(t);
          }, e.prototype.onTransportHeaders = function(e, t) {
            if (this.props.debug && i.debug("onHeaders", e, t), this.closed) this.props.debug && i.debug("grpc.onHeaders received after request was closed - ignoring"); else if (0 === t) ; else {
              this.responseHeaders = e, this.props.debug && i.debug("onHeaders.responseHeaders", JSON.stringify(this.responseHeaders, null, 2));
              var n = p(e);
              this.props.debug && i.debug("onHeaders.gRPCStatus", n);
              var r = n && n >= 0 ? n : s.httpStatusToCode(t);
              this.props.debug && i.debug("onHeaders.code", r);
              var o = e.get("grpc-message") || [];
              if (this.props.debug && i.debug("onHeaders.gRPCMessage", o), this.rawOnHeaders(e), 
              r !== s.Code.OK) {
                var a = this.decodeGRPCStatus(o[0]);
                this.rawOnError(r, a, e);
              }
            }
          }, e.prototype.onTransportChunk = function(e) {
            var t = this;
            if (this.closed) this.props.debug && i.debug("grpc.onChunk received after request was closed - ignoring"); else {
              var n = [];
              try {
                n = this.parser.parse(e);
              } catch (e) {
                return this.props.debug && i.debug("onChunk.parsing error", e, e.message), void this.rawOnError(s.Code.Internal, "parsing error: " + e.message);
              }
              n.forEach(function(e) {
                if (e.chunkType === o.ChunkType.MESSAGE) {
                  var n = t.methodDefinition.responseType.deserializeBinary(e.data);
                  t.rawOnMessage(n);
                } else e.chunkType === o.ChunkType.TRAILERS && (t.responseHeaders ? (t.responseTrailers = new r.Metadata(e.trailers), 
                t.props.debug && i.debug("onChunk.trailers", t.responseTrailers)) : (t.responseHeaders = new r.Metadata(e.trailers), 
                t.rawOnHeaders(t.responseHeaders)));
              });
            }
          }, e.prototype.onTransportEnd = function() {
            if (this.props.debug && i.debug("grpc.onEnd"), this.closed) this.props.debug && i.debug("grpc.onEnd received after request was closed - ignoring"); else if (void 0 !== this.responseTrailers) {
              var e = p(this.responseTrailers);
              if (null !== e) {
                var t = this.responseTrailers.get("grpc-message"), n = this.decodeGRPCStatus(t[0]);
                this.rawOnEnd(e, n, this.responseTrailers);
              } else this.rawOnError(s.Code.Internal, "Response closed without grpc-status (Trailers provided)");
            } else {
              if (void 0 === this.responseHeaders) return void this.rawOnError(s.Code.Unknown, "Response closed without headers");
              var r = p(this.responseHeaders), o = this.responseHeaders.get("grpc-message");
              if (this.props.debug && i.debug("grpc.headers only response ", r, o), null === r) return void this.rawOnEnd(s.Code.Unknown, "Response closed without grpc-status (Headers only)", this.responseHeaders);
              var a = this.decodeGRPCStatus(o[0]);
              this.rawOnEnd(r, a, this.responseHeaders);
            }
          }, e.prototype.decodeGRPCStatus = function(e) {
            if (!e) return "";
            try {
              return decodeURIComponent(e);
            } catch (t) {
              return e;
            }
          }, e.prototype.rawOnEnd = function(e, t, n) {
            var r = this;
            this.props.debug && i.debug("rawOnEnd", e, t, n), this.completed || (this.completed = !0, 
            this.onEndCallbacks.forEach(function(o) {
              a.default(function() {
                r.closed || o(e, t, n);
              });
            }));
          }, e.prototype.rawOnHeaders = function(e) {
            this.props.debug && i.debug("rawOnHeaders", e), this.completed || this.onHeadersCallbacks.forEach(function(t) {
              a.default(function() {
                t(e);
              });
            });
          }, e.prototype.rawOnError = function(e, t, n) {
            var o = this;
            void 0 === n && (n = new r.Metadata()), this.props.debug && i.debug("rawOnError", e, t), 
            this.completed || (this.completed = !0, this.onEndCallbacks.forEach(function(r) {
              a.default(function() {
                o.closed || r(e, t, n);
              });
            }));
          }, e.prototype.rawOnMessage = function(e) {
            var t = this;
            this.props.debug && i.debug("rawOnMessage", e.toObject()), this.completed || this.closed || this.onMessageCallbacks.forEach(function(n) {
              a.default(function() {
                t.closed || n(e);
              });
            });
          }, e.prototype.onHeaders = function(e) {
            this.onHeadersCallbacks.push(e);
          }, e.prototype.onMessage = function(e) {
            this.onMessageCallbacks.push(e);
          }, e.prototype.onEnd = function(e) {
            this.onEndCallbacks.push(e);
          }, e.prototype.start = function(e) {
            if (this.started) throw new Error("Client already started - cannot .start()");
            this.started = !0;
            var t = new r.Metadata(e || {});
            t.set("content-type", "application/grpc-web+proto"), t.set("x-grpc-web", "1"), this.transport.start(t);
          }, e.prototype.send = function(e) {
            if (!this.started) throw new Error("Client not started - .start() must be called before .send()");
            if (this.closed) throw new Error("Client already closed - cannot .send()");
            if (this.finishedSending) throw new Error("Client already finished sending - cannot .send()");
            if (!this.methodDefinition.requestStream && this.sentFirstMessage) throw new Error("Message already sent for non-client-streaming method - cannot .send()");
            this.sentFirstMessage = !0;
            var t = d.frameRequest(e);
            this.transport.sendMessage(t);
          }, e.prototype.finishSend = function() {
            if (!this.started) throw new Error("Client not started - .finishSend() must be called before .close()");
            if (this.closed) throw new Error("Client already closed - cannot .send()");
            if (this.finishedSending) throw new Error("Client already finished sending - cannot .finishSend()");
            this.finishedSending = !0, this.transport.finishSend();
          }, e.prototype.close = function() {
            if (!this.started) throw new Error("Client not started - .start() must be called before .close()");
            if (this.closed) throw new Error("Client already closed - cannot .close()");
            this.closed = !0, this.props.debug && i.debug("request.abort aborting request"), 
            this.transport.cancel();
          }, e;
        }();
        function p(e) {
          var t = e.get("grpc-status") || [];
          if (t.length > 0) try {
            var n = t[0];
            return parseInt(n, 10);
          } catch (e) {
            return null;
          }
          return null;
        }
      }, function(e, t, n) {
        var r;
        r = function() {
          return function(e) {
            var t = {};
            function n(r) {
              if (t[r]) return t[r].exports;
              var o = t[r] = {
                i: r,
                l: !1,
                exports: {}
              };
              return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;
            }
            return n.m = e, n.c = t, n.i = function(e) {
              return e;
            }, n.d = function(e, t, r) {
              n.o(e, t) || Object.defineProperty(e, t, {
                configurable: !1,
                enumerable: !0,
                get: r
              });
            }, n.n = function(e) {
              var t = e && e.__esModule ? function() {
                return e.default;
              } : function() {
                return e;
              };
              return n.d(t, "a", t), t;
            }, n.o = function(e, t) {
              return Object.prototype.hasOwnProperty.call(e, t);
            }, n.p = "", n(n.s = 1);
          }([ function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
              value: !0
            });
            var r = n(3);
            var o = function() {
              function e(e, t) {
                void 0 === e && (e = {}), void 0 === t && (t = {
                  splitValues: !1
                });
                var n, o = this;
                (this.headersMap = {}, e) && ("undefined" != typeof Headers && e instanceof Headers ? r.getHeaderKeys(e).forEach(function(n) {
                  r.getHeaderValues(e, n).forEach(function(e) {
                    t.splitValues ? o.append(n, r.splitHeaderValue(e)) : o.append(n, e);
                  });
                }) : "object" == typeof (n = e) && "object" == typeof n.headersMap && "function" == typeof n.forEach ? e.forEach(function(e, t) {
                  o.append(e, t);
                }) : "undefined" != typeof Map && e instanceof Map ? e.forEach(function(e, t) {
                  o.append(t, e);
                }) : "string" == typeof e ? this.appendFromString(e) : "object" == typeof e && Object.getOwnPropertyNames(e).forEach(function(t) {
                  var n = e[t];
                  Array.isArray(n) ? n.forEach(function(e) {
                    o.append(t, e);
                  }) : o.append(t, n);
                }));
              }
              return e.prototype.appendFromString = function(e) {
                for (var t = e.split("\r\n"), n = 0; n < t.length; n++) {
                  var r = t[n], o = r.indexOf(":");
                  if (o > 0) {
                    var s = r.substring(0, o).trim(), i = r.substring(o + 1).trim();
                    this.append(s, i);
                  }
                }
              }, e.prototype.delete = function(e, t) {
                var n = r.normalizeName(e);
                if (void 0 === t) delete this.headersMap[n]; else {
                  var o = this.headersMap[n];
                  if (o) {
                    var s = o.indexOf(t);
                    s >= 0 && o.splice(s, 1), 0 === o.length && delete this.headersMap[n];
                  }
                }
              }, e.prototype.append = function(e, t) {
                var n = this, o = r.normalizeName(e);
                Array.isArray(this.headersMap[o]) || (this.headersMap[o] = []), Array.isArray(t) ? t.forEach(function(e) {
                  n.headersMap[o].push(r.normalizeValue(e));
                }) : this.headersMap[o].push(r.normalizeValue(t));
              }, e.prototype.set = function(e, t) {
                var n = r.normalizeName(e);
                if (Array.isArray(t)) {
                  var o = [];
                  t.forEach(function(e) {
                    o.push(r.normalizeValue(e));
                  }), this.headersMap[n] = o;
                } else this.headersMap[n] = [ r.normalizeValue(t) ];
              }, e.prototype.has = function(e, t) {
                var n = this.headersMap[r.normalizeName(e)];
                if (!Array.isArray(n)) return !1;
                if (void 0 !== t) {
                  var o = r.normalizeValue(t);
                  return n.indexOf(o) >= 0;
                }
                return !0;
              }, e.prototype.get = function(e) {
                var t = this.headersMap[r.normalizeName(e)];
                return void 0 !== t ? t.concat() : [];
              }, e.prototype.forEach = function(e) {
                var t = this;
                Object.getOwnPropertyNames(this.headersMap).forEach(function(n) {
                  e(n, t.headersMap[n]);
                }, this);
              }, e.prototype.toHeaders = function() {
                if ("undefined" != typeof Headers) {
                  var e = new Headers();
                  return this.forEach(function(t, n) {
                    n.forEach(function(n) {
                      e.append(t, n);
                    });
                  }), e;
                }
                throw new Error("Headers class is not defined");
              }, e;
            }();
            t.BrowserHeaders = o;
          }, function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
              value: !0
            });
            var r = n(0);
            t.BrowserHeaders = r.BrowserHeaders;
          }, function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
              value: !0
            }), t.iterateHeaders = function(e, t) {
              for (var n = e[Symbol.iterator](), r = n.next(); !r.done; ) t(r.value[0]), r = n.next();
            }, t.iterateHeadersKeys = function(e, t) {
              for (var n = e.keys(), r = n.next(); !r.done; ) t(r.value), r = n.next();
            };
          }, function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
              value: !0
            });
            var r = n(2);
            function o(e) {
              return e;
            }
            t.normalizeName = function(e) {
              if ("string" != typeof e && (e = String(e)), /[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e)) throw new TypeError("Invalid character in header field name");
              return e.toLowerCase();
            }, t.normalizeValue = function(e) {
              return "string" != typeof e && (e = String(e)), e;
            }, t.getHeaderValues = function(e, t) {
              var n = o(e);
              if (n instanceof Headers && n.getAll) return n.getAll(t);
              var r = n.get(t);
              return r && "string" == typeof r ? [ r ] : r;
            }, t.getHeaderKeys = function(e) {
              var t = o(e), n = {}, s = [];
              return t.keys ? r.iterateHeadersKeys(t, function(e) {
                n[e] || (n[e] = !0, s.push(e));
              }) : t.forEach ? t.forEach(function(e, t) {
                n[t] || (n[t] = !0, s.push(t));
              }) : r.iterateHeaders(t, function(e) {
                var t = e[0];
                n[t] || (n[t] = !0, s.push(t));
              }), s;
            }, t.splitHeaderValue = function(e) {
              var t = [];
              return e.split(", ").forEach(function(e) {
                e.split(",").forEach(function(e) {
                  t.push(e);
                });
              }), t;
            };
          } ]);
        }, e.exports = r();
      }, function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
          value: !0
        });
        var r = n(6), o = function(e) {
          return r.CrossBrowserHttpTransport({
            withCredentials: !1
          })(e);
        };
        t.setDefaultTransportFactory = function(e) {
          o = e;
        }, t.makeDefaultTransport = function(e) {
          return o(e);
        };
      }, function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
          value: !0
        });
        var r = n(7), o = n(8);
        t.CrossBrowserHttpTransport = function(e) {
          if (r.detectFetchSupport()) {
            var t = {
              credentials: e.withCredentials ? "include" : "same-origin"
            };
            return r.FetchReadableStreamTransport(t);
          }
          return o.XhrTransport({
            withCredentials: e.withCredentials
          });
        };
      }, function(e, t, n) {
        "use strict";
        var r = this && this.__assign || function() {
          return (r = Object.assign || function(e) {
            for (var t, n = 1, r = arguments.length; n < r; n++) for (var o in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
            return e;
          }).apply(this, arguments);
        };
        Object.defineProperty(t, "__esModule", {
          value: !0
        });
        var o = n(0), s = n(1), i = n(2);
        t.FetchReadableStreamTransport = function(e) {
          return function(t) {
            return function(e, t) {
              return e.debug && s.debug("fetchRequest", e), new a(e, t);
            }(t, e);
          };
        };
        var a = function() {
          function e(e, t) {
            this.cancelled = !1, this.controller = self.AbortController && new AbortController(), 
            this.options = e, this.init = t;
          }
          return e.prototype.pump = function(e, t) {
            var n = this;
            if (this.reader = e, this.cancelled) return this.options.debug && s.debug("Fetch.pump.cancel at first pump"), 
            void this.reader.cancel();
            this.reader.read().then(function(e) {
              if (e.done) return i.default(function() {
                n.options.onEnd();
              }), t;
              i.default(function() {
                n.options.onChunk(e.value);
              }), n.pump(n.reader, t);
            }).catch(function(e) {
              n.cancelled ? n.options.debug && s.debug("Fetch.catch - request cancelled") : (n.cancelled = !0, 
              n.options.debug && s.debug("Fetch.catch", e.message), i.default(function() {
                n.options.onEnd(e);
              }));
            });
          }, e.prototype.send = function(e) {
            var t = this;
            fetch(this.options.url, r({}, this.init, {
              headers: this.metadata.toHeaders(),
              method: "POST",
              body: e,
              signal: this.controller && this.controller.signal
            })).then(function(e) {
              if (t.options.debug && s.debug("Fetch.response", e), i.default(function() {
                t.options.onHeaders(new o.Metadata(e.headers), e.status);
              }), !e.body) return e;
              t.pump(e.body.getReader(), e);
            }).catch(function(e) {
              t.cancelled ? t.options.debug && s.debug("Fetch.catch - request cancelled") : (t.cancelled = !0, 
              t.options.debug && s.debug("Fetch.catch", e.message), i.default(function() {
                t.options.onEnd(e);
              }));
            });
          }, e.prototype.sendMessage = function(e) {
            this.send(e);
          }, e.prototype.finishSend = function() {}, e.prototype.start = function(e) {
            this.metadata = e;
          }, e.prototype.cancel = function() {
            this.cancelled ? this.options.debug && s.debug("Fetch.abort.cancel already cancelled") : (this.cancelled = !0, 
            this.reader ? (this.options.debug && s.debug("Fetch.abort.cancel"), this.reader.cancel()) : this.options.debug && s.debug("Fetch.abort.cancel before reader"), 
            this.controller && this.controller.abort());
          }, e;
        }();
        t.detectFetchSupport = function() {
          return "undefined" != typeof Response && Response.prototype.hasOwnProperty("body") && "function" == typeof Headers;
        };
      }, function(e, t, n) {
        "use strict";
        var r, o = this && this.__extends || (r = function(e, t) {
          return (r = Object.setPrototypeOf || {
            __proto__: []
          } instanceof Array && function(e, t) {
            e.__proto__ = t;
          } || function(e, t) {
            for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
          })(e, t);
        }, function(e, t) {
          function n() {
            this.constructor = e;
          }
          r(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, 
          new n());
        });
        Object.defineProperty(t, "__esModule", {
          value: !0
        });
        var s = n(0), i = n(1), a = n(2), u = n(12);
        t.XhrTransport = function(e) {
          return function(t) {
            if (u.detectMozXHRSupport()) return new c(t, e);
            if (u.detectXHROverrideMimeTypeSupport()) return new d(t, e);
            throw new Error("This environment's XHR implementation cannot support binary transfer.");
          };
        };
        var d = function() {
          function e(e, t) {
            this.options = e, this.init = t;
          }
          return e.prototype.onProgressEvent = function() {
            var e = this;
            this.options.debug && i.debug("XHR.onProgressEvent.length: ", this.xhr.response.length);
            var t = this.xhr.response.substr(this.index);
            this.index = this.xhr.response.length;
            var n = f(t);
            a.default(function() {
              e.options.onChunk(n);
            });
          }, e.prototype.onLoadEvent = function() {
            var e = this;
            this.options.debug && i.debug("XHR.onLoadEvent"), a.default(function() {
              e.options.onEnd();
            });
          }, e.prototype.onStateChange = function() {
            var e = this;
            this.options.debug && i.debug("XHR.onStateChange", this.xhr.readyState), this.xhr.readyState === XMLHttpRequest.HEADERS_RECEIVED && a.default(function() {
              e.options.onHeaders(new s.Metadata(e.xhr.getAllResponseHeaders()), e.xhr.status);
            });
          }, e.prototype.sendMessage = function(e) {
            this.xhr.send(e);
          }, e.prototype.finishSend = function() {}, e.prototype.start = function(e) {
            var t = this;
            this.metadata = e;
            var n = new XMLHttpRequest();
            this.xhr = n, n.open("POST", this.options.url), this.configureXhr(), this.metadata.forEach(function(e, t) {
              n.setRequestHeader(e, t.join(", "));
            }), n.withCredentials = Boolean(this.init.withCredentials), n.addEventListener("readystatechange", this.onStateChange.bind(this)), 
            n.addEventListener("progress", this.onProgressEvent.bind(this)), n.addEventListener("loadend", this.onLoadEvent.bind(this)), 
            n.addEventListener("error", function(e) {
              t.options.debug && i.debug("XHR.error", e), a.default(function() {
                t.options.onEnd(e.error);
              });
            });
          }, e.prototype.configureXhr = function() {
            this.xhr.responseType = "text", this.xhr.overrideMimeType("text/plain; charset=x-user-defined");
          }, e.prototype.cancel = function() {
            this.options.debug && i.debug("XHR.abort"), this.xhr.abort();
          }, e;
        }();
        t.XHR = d;
        var c = function(e) {
          function t() {
            return null !== e && e.apply(this, arguments) || this;
          }
          return o(t, e), t.prototype.configureXhr = function() {
            this.options.debug && i.debug("MozXHR.configureXhr: setting responseType to 'moz-chunked-arraybuffer'"), 
            this.xhr.responseType = "moz-chunked-arraybuffer";
          }, t.prototype.onProgressEvent = function() {
            var e = this, t = this.xhr.response;
            this.options.debug && i.debug("MozXHR.onProgressEvent: ", new Uint8Array(t)), a.default(function() {
              e.options.onChunk(new Uint8Array(t));
            });
          }, t;
        }(d);
        function p(e, t) {
          var n = e.charCodeAt(t);
          if (n >= 55296 && n <= 56319) {
            var r = e.charCodeAt(t + 1);
            r >= 56320 && r <= 57343 && (n = 65536 + (n - 55296 << 10) + (r - 56320));
          }
          return n;
        }
        function f(e) {
          for (var t = new Uint8Array(e.length), n = 0, r = 0; r < e.length; r++) {
            var o = String.prototype.codePointAt ? e.codePointAt(r) : p(e, r);
            t[n++] = 255 & o;
          }
          return t;
        }
        t.MozChunkedArrayBufferXHR = c, t.stringToArrayBuffer = f;
      }, function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
          value: !0
        });
        var r, o = n(0), s = function(e) {
          return 9 === e || 10 === e || 13 === e;
        };
        function i(e) {
          return s(e) || e >= 32 && e <= 126;
        }
        function a(e) {
          for (var t = 0; t !== e.length; ++t) if (!i(e[t])) throw new Error("Metadata is not valid (printable) ASCII");
          return String.fromCharCode.apply(String, Array.prototype.slice.call(e));
        }
        function u(e) {
          return 128 == (128 & e.getUint8(0));
        }
        function d(e) {
          return e.getUint32(1, !1);
        }
        function c(e, t, n) {
          return e.byteLength - t >= n;
        }
        function p(e, t, n) {
          if (e.slice) return e.slice(t, n);
          var r = e.length;
          void 0 !== n && (r = n);
          for (var o = new Uint8Array(r - t), s = 0, i = t; i < r; i++) o[s++] = e[i];
          return o;
        }
        t.decodeASCII = a, t.encodeASCII = function(e) {
          for (var t = new Uint8Array(e.length), n = 0; n !== e.length; ++n) {
            var r = e.charCodeAt(n);
            if (!i(r)) throw new Error("Metadata contains invalid ASCII");
            t[n] = r;
          }
          return t;
        }, function(e) {
          e[e.MESSAGE = 1] = "MESSAGE", e[e.TRAILERS = 2] = "TRAILERS";
        }(r = t.ChunkType || (t.ChunkType = {}));
        var f = function() {
          function e() {
            this.buffer = null, this.position = 0;
          }
          return e.prototype.parse = function(e, t) {
            if (0 === e.length && t) return [];
            var n, s = [];
            if (null == this.buffer) this.buffer = e, this.position = 0; else if (this.position === this.buffer.byteLength) this.buffer = e, 
            this.position = 0; else {
              var i = this.buffer.byteLength - this.position, f = new Uint8Array(i + e.byteLength), h = p(this.buffer, this.position);
              f.set(h, 0);
              var l = new Uint8Array(e);
              f.set(l, i), this.buffer = f, this.position = 0;
            }
            for (;;) {
              if (!c(this.buffer, this.position, 5)) return s;
              var g = p(this.buffer, this.position, this.position + 5), b = new DataView(g.buffer, g.byteOffset, g.byteLength), y = d(b);
              if (!c(this.buffer, this.position, 5 + y)) return s;
              var v = p(this.buffer, this.position + 5, this.position + 5 + y);
              if (this.position += 5 + y, u(b)) return s.push({
                chunkType: r.TRAILERS,
                trailers: (n = v, new o.Metadata(a(n)))
              }), s;
              s.push({
                chunkType: r.MESSAGE,
                data: v
              });
            }
          }, e;
        }();
        t.ChunkParser = f;
      }, function(e, t, n) {
        "use strict";
        var r;
        Object.defineProperty(t, "__esModule", {
          value: !0
        }), function(e) {
          e[e.OK = 0] = "OK", e[e.Canceled = 1] = "Canceled", e[e.Unknown = 2] = "Unknown", 
          e[e.InvalidArgument = 3] = "InvalidArgument", e[e.DeadlineExceeded = 4] = "DeadlineExceeded", 
          e[e.NotFound = 5] = "NotFound", e[e.AlreadyExists = 6] = "AlreadyExists", e[e.PermissionDenied = 7] = "PermissionDenied", 
          e[e.ResourceExhausted = 8] = "ResourceExhausted", e[e.FailedPrecondition = 9] = "FailedPrecondition", 
          e[e.Aborted = 10] = "Aborted", e[e.OutOfRange = 11] = "OutOfRange", e[e.Unimplemented = 12] = "Unimplemented", 
          e[e.Internal = 13] = "Internal", e[e.Unavailable = 14] = "Unavailable", e[e.DataLoss = 15] = "DataLoss", 
          e[e.Unauthenticated = 16] = "Unauthenticated";
        }(r = t.Code || (t.Code = {})), t.httpStatusToCode = function(e) {
          switch (e) {
           case 0:
            return r.Internal;

           case 200:
            return r.OK;

           case 400:
            return r.InvalidArgument;

           case 401:
            return r.Unauthenticated;

           case 403:
            return r.PermissionDenied;

           case 404:
            return r.NotFound;

           case 409:
            return r.Aborted;

           case 412:
            return r.FailedPrecondition;

           case 429:
            return r.ResourceExhausted;

           case 499:
            return r.Canceled;

           case 500:
            return r.Unknown;

           case 501:
            return r.Unimplemented;

           case 503:
            return r.Unavailable;

           case 504:
            return r.DeadlineExceeded;

           default:
            return r.Unknown;
          }
        };
      }, function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
          value: !0
        });
        var r = n(4), o = n(5), s = n(7), i = n(13), a = n(8), u = n(6), d = n(10), c = n(14), p = n(16), f = n(3);
        !function(e) {
          e.setDefaultTransport = o.setDefaultTransportFactory, e.CrossBrowserHttpTransport = u.CrossBrowserHttpTransport, 
          e.FetchReadableStreamTransport = s.FetchReadableStreamTransport, e.XhrTransport = a.XhrTransport, 
          e.WebsocketTransport = i.WebsocketTransport, e.Code = d.Code, e.Metadata = r.BrowserHeaders, 
          e.client = function(e, t) {
            return f.client(e, t);
          }, e.invoke = c.invoke, e.unary = p.unary;
        }(t.grpc || (t.grpc = {}));
      }, function(e, t, n) {
        "use strict";
        var r;
        function o() {
          if (void 0 !== r) return r;
          if (XMLHttpRequest) {
            r = new XMLHttpRequest();
            try {
              r.open("GET", "https://localhost");
            } catch (e) {}
          }
          return r;
        }
        function s(e) {
          var t = o();
          if (!t) return !1;
          try {
            return t.responseType = e, t.responseType === e;
          } catch (e) {}
          return !1;
        }
        Object.defineProperty(t, "__esModule", {
          value: !0
        }), t.xhrSupportsResponseType = s, t.detectMozXHRSupport = function() {
          return "undefined" != typeof XMLHttpRequest && s("moz-chunked-arraybuffer");
        }, t.detectXHROverrideMimeTypeSupport = function() {
          return "undefined" != typeof XMLHttpRequest && XMLHttpRequest.prototype.hasOwnProperty("overrideMimeType");
        };
      }, function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
          value: !0
        });
        var r, o = n(1), s = n(2), i = n(9);
        !function(e) {
          e[e.FINISH_SEND = 1] = "FINISH_SEND";
        }(r || (r = {}));
        var a = new Uint8Array([ 1 ]);
        t.WebsocketTransport = function() {
          return function(e) {
            return function(e) {
              e.debug && o.debug("websocketRequest", e);
              var t, n = function(e) {
                if ("https://" === e.substr(0, 8)) return "wss://" + e.substr(8);
                if ("http://" === e.substr(0, 7)) return "ws://" + e.substr(7);
                throw new Error("Websocket transport constructed with non-https:// or http:// host.");
              }(e.url), u = [];
              function d(e) {
                if (e === r.FINISH_SEND) t.send(a); else {
                  var n = e, o = new Int8Array(n.byteLength + 1);
                  o.set(new Uint8Array([ 0 ])), o.set(n, 1), t.send(o);
                }
              }
              return {
                sendMessage: function(e) {
                  t && t.readyState !== t.CONNECTING ? d(e) : u.push(e);
                },
                finishSend: function() {
                  t && t.readyState !== t.CONNECTING ? d(r.FINISH_SEND) : u.push(r.FINISH_SEND);
                },
                start: function(r) {
                  (t = new WebSocket(n, [ "grpc-websockets" ])).binaryType = "arraybuffer", t.onopen = function() {
                    var n;
                    e.debug && o.debug("websocketRequest.onopen"), t.send((n = "", r.forEach(function(e, t) {
                      n += e + ": " + t.join(", ") + "\r\n";
                    }), i.encodeASCII(n))), u.forEach(function(e) {
                      d(e);
                    });
                  }, t.onclose = function(t) {
                    e.debug && o.debug("websocketRequest.onclose", t), s.default(function() {
                      e.onEnd();
                    });
                  }, t.onerror = function(t) {
                    e.debug && o.debug("websocketRequest.onerror", t);
                  }, t.onmessage = function(t) {
                    s.default(function() {
                      e.onChunk(new Uint8Array(t.data));
                    });
                  };
                },
                cancel: function() {
                  e.debug && o.debug("websocket.abort"), s.default(function() {
                    t.close();
                  });
                }
              };
            }(e);
          };
        };
      }, function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
          value: !0
        });
        var r = n(3);
        t.invoke = function(e, t) {
          if (e.requestStream) throw new Error(".invoke cannot be used with client-streaming methods. Use .client instead.");
          var n = r.client(e, {
            host: t.host,
            transport: t.transport,
            debug: t.debug
          });
          return t.onHeaders && n.onHeaders(t.onHeaders), t.onMessage && n.onMessage(t.onMessage), 
          t.onEnd && n.onEnd(t.onEnd), n.start(t.metadata), n.send(t.request), n.finishSend(), 
          {
            close: function() {
              n.close();
            }
          };
        };
      }, function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
          value: !0
        }), t.frameRequest = function(e) {
          var t = e.serializeBinary(), n = new ArrayBuffer(t.byteLength + 5);
          return new DataView(n, 1, 4).setUint32(0, t.length, !1), new Uint8Array(n, 5).set(t), 
          new Uint8Array(n);
        };
      }, function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
          value: !0
        });
        var r = n(0), o = n(3);
        t.unary = function(e, t) {
          if (e.responseStream) throw new Error(".unary cannot be used with server-streaming methods. Use .invoke or .client instead.");
          if (e.requestStream) throw new Error(".unary cannot be used with client-streaming methods. Use .client instead.");
          var n = null, s = null, i = o.client(e, {
            host: t.host,
            transport: t.transport,
            debug: t.debug
          });
          return i.onHeaders(function(e) {
            n = e;
          }), i.onMessage(function(e) {
            s = e;
          }), i.onEnd(function(e, o, i) {
            t.onEnd({
              status: e,
              statusMessage: o,
              headers: n || new r.Metadata(),
              message: s,
              trailers: i
            });
          }), i.start(t.metadata), i.send(t.request), i.finishSend(), {
            close: function() {
              i.close();
            }
          };
        };
      } ]);
    });
  }, {} ],
  8: [ function(require, module, exports) {
    (function(GLOBAL) {
      "use strict";
      var Big, DP = 20, RM = 1, MAX_DP = 1e6, MAX_POWER = 1e6, NE = -7, PE = 21, STRICT = false, NAME = "[big.js] ", INVALID = NAME + "Invalid ", INVALID_DP = INVALID + "decimal places", INVALID_RM = INVALID + "rounding mode", DIV_BY_ZERO = NAME + "Division by zero", P = {}, UNDEFINED = void 0, NUMERIC = /^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;
      function _Big_() {
        function Big(n) {
          var x = this;
          if (!(x instanceof Big)) return n === UNDEFINED ? _Big_() : new Big(n);
          if (n instanceof Big) {
            x.s = n.s;
            x.e = n.e;
            x.c = n.c.slice();
          } else {
            if ("string" !== typeof n) {
              if (true === Big.strict) throw TypeError(INVALID + "number");
              n = 0 === n && 1 / n < 0 ? "-0" : String(n);
            }
            parse(x, n);
          }
          x.constructor = Big;
        }
        Big.prototype = P;
        Big.DP = DP;
        Big.RM = RM;
        Big.NE = NE;
        Big.PE = PE;
        Big.strict = STRICT;
        Big.roundDown = 0;
        Big.roundHalfUp = 1;
        Big.roundHalfEven = 2;
        Big.roundUp = 3;
        return Big;
      }
      function parse(x, n) {
        var e, i, nl;
        if (!NUMERIC.test(n)) throw Error(INVALID + "number");
        x.s = "-" == n.charAt(0) ? (n = n.slice(1), -1) : 1;
        (e = n.indexOf(".")) > -1 && (n = n.replace(".", ""));
        if ((i = n.search(/e/i)) > 0) {
          e < 0 && (e = i);
          e += +n.slice(i + 1);
          n = n.substring(0, i);
        } else e < 0 && (e = n.length);
        nl = n.length;
        for (i = 0; i < nl && "0" == n.charAt(i); ) ++i;
        if (i == nl) x.c = [ x.e = 0 ]; else {
          for (;nl > 0 && "0" == n.charAt(--nl); ) ;
          x.e = e - i - 1;
          x.c = [];
          for (e = 0; i <= nl; ) x.c[e++] = +n.charAt(i++);
        }
        return x;
      }
      function round(x, sd, rm, more) {
        var xc = x.c;
        rm === UNDEFINED && (rm = x.constructor.RM);
        if (0 !== rm && 1 !== rm && 2 !== rm && 3 !== rm) throw Error(INVALID_RM);
        if (sd < 1) {
          more = 3 === rm && (more || !!xc[0]) || 0 === sd && (1 === rm && xc[0] >= 5 || 2 === rm && (xc[0] > 5 || 5 === xc[0] && (more || xc[1] !== UNDEFINED)));
          xc.length = 1;
          if (more) {
            x.e = x.e - sd + 1;
            xc[0] = 1;
          } else xc[0] = x.e = 0;
        } else if (sd < xc.length) {
          more = 1 === rm && xc[sd] >= 5 || 2 === rm && (xc[sd] > 5 || 5 === xc[sd] && (more || xc[sd + 1] !== UNDEFINED || 1 & xc[sd - 1])) || 3 === rm && (more || !!xc[0]);
          xc.length = sd--;
          if (more) for (;++xc[sd] > 9; ) {
            xc[sd] = 0;
            if (!sd--) {
              ++x.e;
              xc.unshift(1);
            }
          }
          for (sd = xc.length; !xc[--sd]; ) xc.pop();
        }
        return x;
      }
      function stringify(x, doExponential, isNonzero) {
        var e = x.e, s = x.c.join(""), n = s.length;
        if (doExponential) s = s.charAt(0) + (n > 1 ? "." + s.slice(1) : "") + (e < 0 ? "e" : "e+") + e; else if (e < 0) {
          for (;++e; ) s = "0" + s;
          s = "0." + s;
        } else if (e > 0) if (++e > n) for (e -= n; e--; ) s += "0"; else e < n && (s = s.slice(0, e) + "." + s.slice(e)); else n > 1 && (s = s.charAt(0) + "." + s.slice(1));
        return x.s < 0 && isNonzero ? "-" + s : s;
      }
      P.abs = function() {
        var x = new this.constructor(this);
        x.s = 1;
        return x;
      };
      P.cmp = function(y) {
        var isneg, x = this, xc = x.c, yc = (y = new x.constructor(y)).c, i = x.s, j = y.s, k = x.e, l = y.e;
        if (!xc[0] || !yc[0]) return xc[0] ? i : yc[0] ? -j : 0;
        if (i != j) return i;
        isneg = i < 0;
        if (k != l) return k > l ^ isneg ? 1 : -1;
        j = (k = xc.length) < (l = yc.length) ? k : l;
        for (i = -1; ++i < j; ) if (xc[i] != yc[i]) return xc[i] > yc[i] ^ isneg ? 1 : -1;
        return k == l ? 0 : k > l ^ isneg ? 1 : -1;
      };
      P.div = function(y) {
        var x = this, Big = x.constructor, a = x.c, b = (y = new Big(y)).c, k = x.s == y.s ? 1 : -1, dp = Big.DP;
        if (dp !== ~~dp || dp < 0 || dp > MAX_DP) throw Error(INVALID_DP);
        if (!b[0]) throw Error(DIV_BY_ZERO);
        if (!a[0]) {
          y.s = k;
          y.c = [ y.e = 0 ];
          return y;
        }
        var bl, bt, n, cmp, ri, bz = b.slice(), ai = bl = b.length, al = a.length, r = a.slice(0, bl), rl = r.length, q = y, qc = q.c = [], qi = 0, p = dp + (q.e = x.e - y.e) + 1;
        q.s = k;
        k = p < 0 ? 0 : p;
        bz.unshift(0);
        for (;rl++ < bl; ) r.push(0);
        do {
          for (n = 0; n < 10; n++) {
            if (bl != (rl = r.length)) cmp = bl > rl ? 1 : -1; else for (ri = -1, cmp = 0; ++ri < bl; ) if (b[ri] != r[ri]) {
              cmp = b[ri] > r[ri] ? 1 : -1;
              break;
            }
            if (!(cmp < 0)) break;
            for (bt = rl == bl ? b : bz; rl; ) {
              if (r[--rl] < bt[rl]) {
                ri = rl;
                for (;ri && !r[--ri]; ) r[ri] = 9;
                --r[ri];
                r[rl] += 10;
              }
              r[rl] -= bt[rl];
            }
            for (;!r[0]; ) r.shift();
          }
          qc[qi++] = cmp ? n : ++n;
          r[0] && cmp ? r[rl] = a[ai] || 0 : r = [ a[ai] ];
        } while ((ai++ < al || r[0] !== UNDEFINED) && k--);
        if (!qc[0] && 1 != qi) {
          qc.shift();
          q.e--;
          p--;
        }
        qi > p && round(q, p, Big.RM, r[0] !== UNDEFINED);
        return q;
      };
      P.eq = function(y) {
        return 0 === this.cmp(y);
      };
      P.gt = function(y) {
        return this.cmp(y) > 0;
      };
      P.gte = function(y) {
        return this.cmp(y) > -1;
      };
      P.lt = function(y) {
        return this.cmp(y) < 0;
      };
      P.lte = function(y) {
        return this.cmp(y) < 1;
      };
      P.minus = P.sub = function(y) {
        var i, j, t, xlty, x = this, Big = x.constructor, a = x.s, b = (y = new Big(y)).s;
        if (a != b) {
          y.s = -b;
          return x.plus(y);
        }
        var xc = x.c.slice(), xe = x.e, yc = y.c, ye = y.e;
        if (!xc[0] || !yc[0]) {
          yc[0] ? y.s = -b : xc[0] ? y = new Big(x) : y.s = 1;
          return y;
        }
        if (a = xe - ye) {
          if (xlty = a < 0) {
            a = -a;
            t = xc;
          } else {
            ye = xe;
            t = yc;
          }
          t.reverse();
          for (b = a; b--; ) t.push(0);
          t.reverse();
        } else {
          j = ((xlty = xc.length < yc.length) ? xc : yc).length;
          for (a = b = 0; b < j; b++) if (xc[b] != yc[b]) {
            xlty = xc[b] < yc[b];
            break;
          }
        }
        if (xlty) {
          t = xc;
          xc = yc;
          yc = t;
          y.s = -y.s;
        }
        if ((b = (j = yc.length) - (i = xc.length)) > 0) for (;b--; ) xc[i++] = 0;
        for (b = i; j > a; ) {
          if (xc[--j] < yc[j]) {
            for (i = j; i && !xc[--i]; ) xc[i] = 9;
            --xc[i];
            xc[j] += 10;
          }
          xc[j] -= yc[j];
        }
        for (;0 === xc[--b]; ) xc.pop();
        for (;0 === xc[0]; ) {
          xc.shift();
          --ye;
        }
        if (!xc[0]) {
          y.s = 1;
          xc = [ ye = 0 ];
        }
        y.c = xc;
        y.e = ye;
        return y;
      };
      P.mod = function(y) {
        var ygtx, x = this, Big = x.constructor, a = x.s, b = (y = new Big(y)).s;
        if (!y.c[0]) throw Error(DIV_BY_ZERO);
        x.s = y.s = 1;
        ygtx = 1 == y.cmp(x);
        x.s = a;
        y.s = b;
        if (ygtx) return new Big(x);
        a = Big.DP;
        b = Big.RM;
        Big.DP = Big.RM = 0;
        x = x.div(y);
        Big.DP = a;
        Big.RM = b;
        return this.minus(x.times(y));
      };
      P.plus = P.add = function(y) {
        var e, k, t, x = this, Big = x.constructor;
        y = new Big(y);
        if (x.s != y.s) {
          y.s = -y.s;
          return x.minus(y);
        }
        var xe = x.e, xc = x.c, ye = y.e, yc = y.c;
        if (!xc[0] || !yc[0]) {
          yc[0] || (xc[0] ? y = new Big(x) : y.s = x.s);
          return y;
        }
        xc = xc.slice();
        if (e = xe - ye) {
          if (e > 0) {
            ye = xe;
            t = yc;
          } else {
            e = -e;
            t = xc;
          }
          t.reverse();
          for (;e--; ) t.push(0);
          t.reverse();
        }
        if (xc.length - yc.length < 0) {
          t = yc;
          yc = xc;
          xc = t;
        }
        e = yc.length;
        for (k = 0; e; xc[e] %= 10) k = (xc[--e] = xc[e] + yc[e] + k) / 10 | 0;
        if (k) {
          xc.unshift(k);
          ++ye;
        }
        for (e = xc.length; 0 === xc[--e]; ) xc.pop();
        y.c = xc;
        y.e = ye;
        return y;
      };
      P.pow = function(n) {
        var x = this, one = new x.constructor("1"), y = one, isneg = n < 0;
        if (n !== ~~n || n < -MAX_POWER || n > MAX_POWER) throw Error(INVALID + "exponent");
        isneg && (n = -n);
        for (;;) {
          1 & n && (y = y.times(x));
          n >>= 1;
          if (!n) break;
          x = x.times(x);
        }
        return isneg ? one.div(y) : y;
      };
      P.prec = function(sd, rm) {
        if (sd !== ~~sd || sd < 1 || sd > MAX_DP) throw Error(INVALID + "precision");
        return round(new this.constructor(this), sd, rm);
      };
      P.round = function(dp, rm) {
        if (dp === UNDEFINED) dp = 0; else if (dp !== ~~dp || dp < -MAX_DP || dp > MAX_DP) throw Error(INVALID_DP);
        return round(new this.constructor(this), dp + this.e + 1, rm);
      };
      P.sqrt = function() {
        var r, c, t, x = this, Big = x.constructor, s = x.s, e = x.e, half = new Big("0.5");
        if (!x.c[0]) return new Big(x);
        if (s < 0) throw Error(NAME + "No square root");
        s = Math.sqrt(x + "");
        if (0 === s || s === 1 / 0) {
          c = x.c.join("");
          c.length + e & 1 || (c += "0");
          s = Math.sqrt(c);
          e = ((e + 1) / 2 | 0) - (e < 0 || 1 & e);
          r = new Big((s == 1 / 0 ? "5e" : (s = s.toExponential()).slice(0, s.indexOf("e") + 1)) + e);
        } else r = new Big(s + "");
        e = r.e + (Big.DP += 4);
        do {
          t = r;
          r = half.times(t.plus(x.div(t)));
        } while (t.c.slice(0, e).join("") !== r.c.slice(0, e).join(""));
        return round(r, (Big.DP -= 4) + r.e + 1, Big.RM);
      };
      P.times = P.mul = function(y) {
        var c, x = this, Big = x.constructor, xc = x.c, yc = (y = new Big(y)).c, a = xc.length, b = yc.length, i = x.e, j = y.e;
        y.s = x.s == y.s ? 1 : -1;
        if (!xc[0] || !yc[0]) {
          y.c = [ y.e = 0 ];
          return y;
        }
        y.e = i + j;
        if (a < b) {
          c = xc;
          xc = yc;
          yc = c;
          j = a;
          a = b;
          b = j;
        }
        for (c = new Array(j = a + b); j--; ) c[j] = 0;
        for (i = b; i--; ) {
          b = 0;
          for (j = a + i; j > i; ) {
            b = c[j] + yc[i] * xc[j - i - 1] + b;
            c[j--] = b % 10;
            b = b / 10 | 0;
          }
          c[j] = b;
        }
        b ? ++y.e : c.shift();
        for (i = c.length; !c[--i]; ) c.pop();
        y.c = c;
        return y;
      };
      P.toExponential = function(dp, rm) {
        var x = this, n = x.c[0];
        if (dp !== UNDEFINED) {
          if (dp !== ~~dp || dp < 0 || dp > MAX_DP) throw Error(INVALID_DP);
          x = round(new x.constructor(x), ++dp, rm);
          for (;x.c.length < dp; ) x.c.push(0);
        }
        return stringify(x, true, !!n);
      };
      P.toFixed = function(dp, rm) {
        var x = this, n = x.c[0];
        if (dp !== UNDEFINED) {
          if (dp !== ~~dp || dp < 0 || dp > MAX_DP) throw Error(INVALID_DP);
          x = round(new x.constructor(x), dp + x.e + 1, rm);
          for (dp = dp + x.e + 1; x.c.length < dp; ) x.c.push(0);
        }
        return stringify(x, false, !!n);
      };
      P.toJSON = P.toString = function() {
        var x = this, Big = x.constructor;
        return stringify(x, x.e <= Big.NE || x.e >= Big.PE, !!x.c[0]);
      };
      P.toNumber = function() {
        var n = Number(stringify(this, true, true));
        if (true === this.constructor.strict && !this.eq(n.toString())) throw Error(NAME + "Imprecise conversion");
        return n;
      };
      P.toPrecision = function(sd, rm) {
        var x = this, Big = x.constructor, n = x.c[0];
        if (sd !== UNDEFINED) {
          if (sd !== ~~sd || sd < 1 || sd > MAX_DP) throw Error(INVALID + "precision");
          x = round(new Big(x), sd, rm);
          for (;x.c.length < sd; ) x.c.push(0);
        }
        return stringify(x, sd <= x.e || x.e <= Big.NE || x.e >= Big.PE, !!n);
      };
      P.valueOf = function() {
        var x = this, Big = x.constructor;
        if (true === Big.strict) throw Error(NAME + "valueOf disallowed");
        return stringify(x, x.e <= Big.NE || x.e >= Big.PE, true);
      };
      Big = _Big_();
      Big["default"] = Big.Big = Big;
      "function" === typeof define && define.amd ? define(function() {
        return Big;
      }) : "undefined" !== typeof module && module.exports ? module.exports = Big : GLOBAL.Big = Big;
    })(this);
  }, {} ],
  9: [ function(require, module, exports) {
    "use strict";
    var GetIntrinsic = require("get-intrinsic");
    var callBind = require("./");
    var $indexOf = callBind(GetIntrinsic("String.prototype.indexOf"));
    module.exports = function callBoundIntrinsic(name, allowMissing) {
      var intrinsic = GetIntrinsic(name, !!allowMissing);
      if ("function" === typeof intrinsic && $indexOf(name, ".prototype.") > -1) return callBind(intrinsic);
      return intrinsic;
    };
  }, {
    "./": 10,
    "get-intrinsic": 32
  } ],
  10: [ function(require, module, exports) {
    "use strict";
    var bind = require("function-bind");
    var GetIntrinsic = require("get-intrinsic");
    var setFunctionLength = require("set-function-length");
    var $TypeError = require("es-errors/type");
    var $apply = GetIntrinsic("%Function.prototype.apply%");
    var $call = GetIntrinsic("%Function.prototype.call%");
    var $reflectApply = GetIntrinsic("%Reflect.apply%", true) || bind.call($call, $apply);
    var $defineProperty = require("es-define-property");
    var $max = GetIntrinsic("%Math.max%");
    module.exports = function callBind(originalFunction) {
      if ("function" !== typeof originalFunction) throw new $TypeError("a function is required");
      var func = $reflectApply(bind, $call, arguments);
      return setFunctionLength(func, 1 + $max(0, originalFunction.length - (arguments.length - 1)), true);
    };
    var applyBind = function applyBind() {
      return $reflectApply(bind, $apply, arguments);
    };
    $defineProperty ? $defineProperty(module.exports, "apply", {
      value: applyBind
    }) : module.exports.apply = applyBind;
  }, {
    "es-define-property": 16,
    "es-errors/type": 22,
    "function-bind": 26,
    "get-intrinsic": 32,
    "set-function-length": 244
  } ],
  11: [ function(require, module, exports) {
    "use strict";
    var $defineProperty = require("es-define-property");
    var $SyntaxError = require("es-errors/syntax");
    var $TypeError = require("es-errors/type");
    var gopd = require("gopd");
    module.exports = function defineDataProperty(obj, property, value) {
      if (!obj || "object" !== typeof obj && "function" !== typeof obj) throw new $TypeError("`obj` must be an object or a function`");
      if ("string" !== typeof property && "symbol" !== typeof property) throw new $TypeError("`property` must be a string or a symbol`");
      if (arguments.length > 3 && "boolean" !== typeof arguments[3] && null !== arguments[3]) throw new $TypeError("`nonEnumerable`, if provided, must be a boolean or null");
      if (arguments.length > 4 && "boolean" !== typeof arguments[4] && null !== arguments[4]) throw new $TypeError("`nonWritable`, if provided, must be a boolean or null");
      if (arguments.length > 5 && "boolean" !== typeof arguments[5] && null !== arguments[5]) throw new $TypeError("`nonConfigurable`, if provided, must be a boolean or null");
      if (arguments.length > 6 && "boolean" !== typeof arguments[6]) throw new $TypeError("`loose`, if provided, must be a boolean");
      var nonEnumerable = arguments.length > 3 ? arguments[3] : null;
      var nonWritable = arguments.length > 4 ? arguments[4] : null;
      var nonConfigurable = arguments.length > 5 ? arguments[5] : null;
      var loose = arguments.length > 6 && arguments[6];
      var desc = !!gopd && gopd(obj, property);
      if ($defineProperty) $defineProperty(obj, property, {
        configurable: null === nonConfigurable && desc ? desc.configurable : !nonConfigurable,
        enumerable: null === nonEnumerable && desc ? desc.enumerable : !nonEnumerable,
        value: value,
        writable: null === nonWritable && desc ? desc.writable : !nonWritable
      }); else {
        if (!loose && (nonEnumerable || nonWritable || nonConfigurable)) throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");
        obj[property] = value;
      }
    };
  }, {
    "es-define-property": 16,
    "es-errors/syntax": 21,
    "es-errors/type": 22,
    gopd: 35
  } ],
  12: [ function(require, module, exports) {
    "use strict";
    var keys = require("object-keys");
    var hasSymbols = "function" === typeof Symbol && "symbol" === typeof Symbol("foo");
    var toStr = Object.prototype.toString;
    var concat = Array.prototype.concat;
    var defineDataProperty = require("define-data-property");
    var isFunction = function(fn) {
      return "function" === typeof fn && "[object Function]" === toStr.call(fn);
    };
    var supportsDescriptors = require("has-property-descriptors")();
    var defineProperty = function(object, name, value, predicate) {
      if (name in object) if (true === predicate) {
        if (object[name] === value) return;
      } else if (!isFunction(predicate) || !predicate()) return;
      supportsDescriptors ? defineDataProperty(object, name, value, true) : defineDataProperty(object, name, value);
    };
    var defineProperties = function(object, map) {
      var predicates = arguments.length > 2 ? arguments[2] : {};
      var props = keys(map);
      hasSymbols && (props = concat.call(props, Object.getOwnPropertySymbols(map)));
      for (var i = 0; i < props.length; i += 1) defineProperty(object, props[i], map[props[i]], predicates[props[i]]);
    };
    defineProperties.supportsDescriptors = !!supportsDescriptors;
    module.exports = defineProperties;
  }, {
    "define-data-property": 11,
    "has-property-descriptors": 36,
    "object-keys": 45
  } ],
  13: [ function(require, module, exports) {
    "use strict";
    module.exports = require("../5/CheckObjectCoercible");
  }, {
    "../5/CheckObjectCoercible": 15
  } ],
  14: [ function(require, module, exports) {
    "use strict";
    var GetIntrinsic = require("get-intrinsic");
    var $String = GetIntrinsic("%String%");
    var $TypeError = require("es-errors/type");
    module.exports = function ToString(argument) {
      if ("symbol" === typeof argument) throw new $TypeError("Cannot convert a Symbol value to a string");
      return $String(argument);
    };
  }, {
    "es-errors/type": 22,
    "get-intrinsic": 32
  } ],
  15: [ function(require, module, exports) {
    "use strict";
    var $TypeError = require("es-errors/type");
    module.exports = function CheckObjectCoercible(value, optMessage) {
      if (null == value) throw new $TypeError(optMessage || "Cannot call method on " + value);
      return value;
    };
  }, {
    "es-errors/type": 22
  } ],
  16: [ function(require, module, exports) {
    "use strict";
    var GetIntrinsic = require("get-intrinsic");
    var $defineProperty = GetIntrinsic("%Object.defineProperty%", true) || false;
    if ($defineProperty) try {
      $defineProperty({}, "a", {
        value: 1
      });
    } catch (e) {
      $defineProperty = false;
    }
    module.exports = $defineProperty;
  }, {
    "get-intrinsic": 32
  } ],
  17: [ function(require, module, exports) {
    "use strict";
    module.exports = EvalError;
  }, {} ],
  18: [ function(require, module, exports) {
    "use strict";
    module.exports = Error;
  }, {} ],
  19: [ function(require, module, exports) {
    "use strict";
    module.exports = RangeError;
  }, {} ],
  20: [ function(require, module, exports) {
    "use strict";
    module.exports = ReferenceError;
  }, {} ],
  21: [ function(require, module, exports) {
    "use strict";
    module.exports = SyntaxError;
  }, {} ],
  22: [ function(require, module, exports) {
    "use strict";
    module.exports = TypeError;
  }, {} ],
  23: [ function(require, module, exports) {
    "use strict";
    module.exports = URIError;
  }, {} ],
  24: [ function(require, module, exports) {
    "use strict";
    var isCallable = require("is-callable");
    var toStr = Object.prototype.toString;
    var hasOwnProperty = Object.prototype.hasOwnProperty;
    var forEachArray = function forEachArray(array, iterator, receiver) {
      for (var i = 0, len = array.length; i < len; i++) hasOwnProperty.call(array, i) && (null == receiver ? iterator(array[i], i, array) : iterator.call(receiver, array[i], i, array));
    };
    var forEachString = function forEachString(string, iterator, receiver) {
      for (var i = 0, len = string.length; i < len; i++) null == receiver ? iterator(string.charAt(i), i, string) : iterator.call(receiver, string.charAt(i), i, string);
    };
    var forEachObject = function forEachObject(object, iterator, receiver) {
      for (var k in object) hasOwnProperty.call(object, k) && (null == receiver ? iterator(object[k], k, object) : iterator.call(receiver, object[k], k, object));
    };
    var forEach = function forEach(list, iterator, thisArg) {
      if (!isCallable(iterator)) throw new TypeError("iterator must be a function");
      var receiver;
      arguments.length >= 3 && (receiver = thisArg);
      "[object Array]" === toStr.call(list) ? forEachArray(list, iterator, receiver) : "string" === typeof list ? forEachString(list, iterator, receiver) : forEachObject(list, iterator, receiver);
    };
    module.exports = forEach;
  }, {
    "is-callable": 42
  } ],
  25: [ function(require, module, exports) {
    "use strict";
    var ERROR_MESSAGE = "Function.prototype.bind called on incompatible ";
    var toStr = Object.prototype.toString;
    var max = Math.max;
    var funcType = "[object Function]";
    var concatty = function concatty(a, b) {
      var arr = [];
      for (var i = 0; i < a.length; i += 1) arr[i] = a[i];
      for (var j = 0; j < b.length; j += 1) arr[j + a.length] = b[j];
      return arr;
    };
    var slicy = function slicy(arrLike, offset) {
      var arr = [];
      for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) arr[j] = arrLike[i];
      return arr;
    };
    var joiny = function(arr, joiner) {
      var str = "";
      for (var i = 0; i < arr.length; i += 1) {
        str += arr[i];
        i + 1 < arr.length && (str += joiner);
      }
      return str;
    };
    module.exports = function bind(that) {
      var target = this;
      if ("function" !== typeof target || toStr.apply(target) !== funcType) throw new TypeError(ERROR_MESSAGE + target);
      var args = slicy(arguments, 1);
      var bound;
      var binder = function() {
        if (this instanceof bound) {
          var result = target.apply(this, concatty(args, arguments));
          if (Object(result) === result) return result;
          return this;
        }
        return target.apply(that, concatty(args, arguments));
      };
      var boundLength = max(0, target.length - args.length);
      var boundArgs = [];
      for (var i = 0; i < boundLength; i++) boundArgs[i] = "$" + i;
      bound = Function("binder", "return function (" + joiny(boundArgs, ",") + "){ return binder.apply(this,arguments); }")(binder);
      if (target.prototype) {
        var Empty = function Empty() {};
        Empty.prototype = target.prototype;
        bound.prototype = new Empty();
        Empty.prototype = null;
      }
      return bound;
    };
  }, {} ],
  26: [ function(require, module, exports) {
    "use strict";
    var implementation = require("./implementation");
    module.exports = Function.prototype.bind || implementation;
  }, {
    "./implementation": 25
  } ],
  27: [ function(require, module, exports) {
    var jspbcomp = require("google-protobuf");
    var COMPILED = jspbcomp.COMPILED;
    var jspb = jspbcomp.exportSymbol ? jspbcomp : jspbcomp.jspb;
    var goog = jspbcomp.exportSymbol ? jspbcomp : jspbcomp.goog;
    var global = Function("return this")();
    var base_base_pb = require("game-protobuf/ts/base/base_pb.js");
    goog.exportSymbol("proto.account.AuthReq", null, global);
    goog.exportSymbol("proto.account.AuthRes", null, global);
    goog.exportSymbol("proto.account.LinkReq", null, global);
    goog.exportSymbol("proto.account.LinkRes", null, global);
    goog.exportSymbol("proto.account.PlatformReq", null, global);
    goog.exportSymbol("proto.account.PlatformRes", null, global);
    goog.exportSymbol("proto.account.UpdateBalanceReq", null, global);
    goog.exportSymbol("proto.account.UpdateBalanceRes", null, global);
    goog.exportSymbol("proto.account.UserInfoReq", null, global);
    goog.exportSymbol("proto.account.UserInfoRes", null, global);
    proto.account.AuthReq = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.account.AuthReq, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.account.AuthReq.displayName = "proto.account.AuthReq");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.account.AuthReq.prototype.toObject = function(opt_includeInstance) {
        return proto.account.AuthReq.toObject(opt_includeInstance, this);
      };
      proto.account.AuthReq.toObject = function(includeInstance, msg) {
        var f, obj = {
          baseReq: (f = msg.getBaseReq()) && base_base_pb.BaseReq.toObject(includeInstance, f),
          gid: jspb.Message.getFieldWithDefault(msg, 2, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.account.AuthReq.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.account.AuthReq();
      return proto.account.AuthReq.deserializeBinaryFromReader(msg, reader);
    };
    proto.account.AuthReq.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.BaseReq();
          reader.readMessage(value, base_base_pb.BaseReq.deserializeBinaryFromReader);
          msg.setBaseReq(value);
          break;

         case 2:
          var value = reader.readString();
          msg.setGid(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.account.AuthReq.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.account.AuthReq.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.account.AuthReq.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getBaseReq();
      null != f && writer.writeMessage(1, f, base_base_pb.BaseReq.serializeBinaryToWriter);
      f = message.getGid();
      f.length > 0 && writer.writeString(2, f);
    };
    proto.account.AuthReq.prototype.getBaseReq = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.BaseReq, 1);
    };
    proto.account.AuthReq.prototype.setBaseReq = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.account.AuthReq.prototype.clearBaseReq = function() {
      this.setBaseReq(void 0);
    };
    proto.account.AuthReq.prototype.hasBaseReq = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.account.AuthReq.prototype.getGid = function() {
      return jspb.Message.getFieldWithDefault(this, 2, "");
    };
    proto.account.AuthReq.prototype.setGid = function(value) {
      jspb.Message.setProto3StringField(this, 2, value);
    };
    proto.account.AuthRes = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.account.AuthRes, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.account.AuthRes.displayName = "proto.account.AuthRes");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.account.AuthRes.prototype.toObject = function(opt_includeInstance) {
        return proto.account.AuthRes.toObject(opt_includeInstance, this);
      };
      proto.account.AuthRes.toObject = function(includeInstance, msg) {
        var f, obj = {
          result: (f = msg.getResult()) && base_base_pb.Result.toObject(includeInstance, f),
          name: jspb.Message.getFieldWithDefault(msg, 2, ""),
          balance: jspb.Message.getFieldWithDefault(msg, 3, "0"),
          imgSrc: jspb.Message.getFieldWithDefault(msg, 4, ""),
          serverVersion: jspb.Message.getFieldWithDefault(msg, 5, ""),
          currency: jspb.Message.getFieldWithDefault(msg, 6, ""),
          resumeToken: jspb.Message.getFieldWithDefault(msg, 7, ""),
          xUpstream: jspb.Message.getFieldWithDefault(msg, 8, ""),
          currencyRatio: jspb.Message.getFieldWithDefault(msg, 9, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.account.AuthRes.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.account.AuthRes();
      return proto.account.AuthRes.deserializeBinaryFromReader(msg, reader);
    };
    proto.account.AuthRes.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.Result();
          reader.readMessage(value, base_base_pb.Result.deserializeBinaryFromReader);
          msg.setResult(value);
          break;

         case 2:
          var value = reader.readString();
          msg.setName(value);
          break;

         case 3:
          var value = reader.readInt64String();
          msg.setBalance(value);
          break;

         case 4:
          var value = reader.readString();
          msg.setImgSrc(value);
          break;

         case 5:
          var value = reader.readString();
          msg.setServerVersion(value);
          break;

         case 6:
          var value = reader.readString();
          msg.setCurrency(value);
          break;

         case 7:
          var value = reader.readString();
          msg.setResumeToken(value);
          break;

         case 8:
          var value = reader.readString();
          msg.setXUpstream(value);
          break;

         case 9:
          var value = reader.readString();
          msg.setCurrencyRatio(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.account.AuthRes.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.account.AuthRes.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.account.AuthRes.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getResult();
      null != f && writer.writeMessage(1, f, base_base_pb.Result.serializeBinaryToWriter);
      f = message.getName();
      f.length > 0 && writer.writeString(2, f);
      f = message.getBalance();
      0 !== parseInt(f, 10) && writer.writeInt64String(3, f);
      f = message.getImgSrc();
      f.length > 0 && writer.writeString(4, f);
      f = message.getServerVersion();
      f.length > 0 && writer.writeString(5, f);
      f = message.getCurrency();
      f.length > 0 && writer.writeString(6, f);
      f = message.getResumeToken();
      f.length > 0 && writer.writeString(7, f);
      f = message.getXUpstream();
      f.length > 0 && writer.writeString(8, f);
      f = message.getCurrencyRatio();
      f.length > 0 && writer.writeString(9, f);
    };
    proto.account.AuthRes.prototype.getResult = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.Result, 1);
    };
    proto.account.AuthRes.prototype.setResult = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.account.AuthRes.prototype.clearResult = function() {
      this.setResult(void 0);
    };
    proto.account.AuthRes.prototype.hasResult = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.account.AuthRes.prototype.getName = function() {
      return jspb.Message.getFieldWithDefault(this, 2, "");
    };
    proto.account.AuthRes.prototype.setName = function(value) {
      jspb.Message.setProto3StringField(this, 2, value);
    };
    proto.account.AuthRes.prototype.getBalance = function() {
      return jspb.Message.getFieldWithDefault(this, 3, "0");
    };
    proto.account.AuthRes.prototype.setBalance = function(value) {
      jspb.Message.setProto3StringIntField(this, 3, value);
    };
    proto.account.AuthRes.prototype.getImgSrc = function() {
      return jspb.Message.getFieldWithDefault(this, 4, "");
    };
    proto.account.AuthRes.prototype.setImgSrc = function(value) {
      jspb.Message.setProto3StringField(this, 4, value);
    };
    proto.account.AuthRes.prototype.getServerVersion = function() {
      return jspb.Message.getFieldWithDefault(this, 5, "");
    };
    proto.account.AuthRes.prototype.setServerVersion = function(value) {
      jspb.Message.setProto3StringField(this, 5, value);
    };
    proto.account.AuthRes.prototype.getCurrency = function() {
      return jspb.Message.getFieldWithDefault(this, 6, "");
    };
    proto.account.AuthRes.prototype.setCurrency = function(value) {
      jspb.Message.setProto3StringField(this, 6, value);
    };
    proto.account.AuthRes.prototype.getResumeToken = function() {
      return jspb.Message.getFieldWithDefault(this, 7, "");
    };
    proto.account.AuthRes.prototype.setResumeToken = function(value) {
      jspb.Message.setProto3StringField(this, 7, value);
    };
    proto.account.AuthRes.prototype.getXUpstream = function() {
      return jspb.Message.getFieldWithDefault(this, 8, "");
    };
    proto.account.AuthRes.prototype.setXUpstream = function(value) {
      jspb.Message.setProto3StringField(this, 8, value);
    };
    proto.account.AuthRes.prototype.getCurrencyRatio = function() {
      return jspb.Message.getFieldWithDefault(this, 9, "");
    };
    proto.account.AuthRes.prototype.setCurrencyRatio = function(value) {
      jspb.Message.setProto3StringField(this, 9, value);
    };
    proto.account.UserInfoReq = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.account.UserInfoReq, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.account.UserInfoReq.displayName = "proto.account.UserInfoReq");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.account.UserInfoReq.prototype.toObject = function(opt_includeInstance) {
        return proto.account.UserInfoReq.toObject(opt_includeInstance, this);
      };
      proto.account.UserInfoReq.toObject = function(includeInstance, msg) {
        var f, obj = {
          baseReq: (f = msg.getBaseReq()) && base_base_pb.BaseReq.toObject(includeInstance, f)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.account.UserInfoReq.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.account.UserInfoReq();
      return proto.account.UserInfoReq.deserializeBinaryFromReader(msg, reader);
    };
    proto.account.UserInfoReq.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.BaseReq();
          reader.readMessage(value, base_base_pb.BaseReq.deserializeBinaryFromReader);
          msg.setBaseReq(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.account.UserInfoReq.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.account.UserInfoReq.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.account.UserInfoReq.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getBaseReq();
      null != f && writer.writeMessage(1, f, base_base_pb.BaseReq.serializeBinaryToWriter);
    };
    proto.account.UserInfoReq.prototype.getBaseReq = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.BaseReq, 1);
    };
    proto.account.UserInfoReq.prototype.setBaseReq = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.account.UserInfoReq.prototype.clearBaseReq = function() {
      this.setBaseReq(void 0);
    };
    proto.account.UserInfoReq.prototype.hasBaseReq = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.account.UserInfoRes = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.account.UserInfoRes, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.account.UserInfoRes.displayName = "proto.account.UserInfoRes");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.account.UserInfoRes.prototype.toObject = function(opt_includeInstance) {
        return proto.account.UserInfoRes.toObject(opt_includeInstance, this);
      };
      proto.account.UserInfoRes.toObject = function(includeInstance, msg) {
        var f, obj = {
          result: (f = msg.getResult()) && base_base_pb.Result.toObject(includeInstance, f),
          name: jspb.Message.getFieldWithDefault(msg, 2, ""),
          balance: jspb.Message.getFieldWithDefault(msg, 3, "0"),
          imgSrc: jspb.Message.getFieldWithDefault(msg, 4, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.account.UserInfoRes.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.account.UserInfoRes();
      return proto.account.UserInfoRes.deserializeBinaryFromReader(msg, reader);
    };
    proto.account.UserInfoRes.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.Result();
          reader.readMessage(value, base_base_pb.Result.deserializeBinaryFromReader);
          msg.setResult(value);
          break;

         case 2:
          var value = reader.readString();
          msg.setName(value);
          break;

         case 3:
          var value = reader.readInt64String();
          msg.setBalance(value);
          break;

         case 4:
          var value = reader.readString();
          msg.setImgSrc(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.account.UserInfoRes.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.account.UserInfoRes.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.account.UserInfoRes.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getResult();
      null != f && writer.writeMessage(1, f, base_base_pb.Result.serializeBinaryToWriter);
      f = message.getName();
      f.length > 0 && writer.writeString(2, f);
      f = message.getBalance();
      0 !== parseInt(f, 10) && writer.writeInt64String(3, f);
      f = message.getImgSrc();
      f.length > 0 && writer.writeString(4, f);
    };
    proto.account.UserInfoRes.prototype.getResult = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.Result, 1);
    };
    proto.account.UserInfoRes.prototype.setResult = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.account.UserInfoRes.prototype.clearResult = function() {
      this.setResult(void 0);
    };
    proto.account.UserInfoRes.prototype.hasResult = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.account.UserInfoRes.prototype.getName = function() {
      return jspb.Message.getFieldWithDefault(this, 2, "");
    };
    proto.account.UserInfoRes.prototype.setName = function(value) {
      jspb.Message.setProto3StringField(this, 2, value);
    };
    proto.account.UserInfoRes.prototype.getBalance = function() {
      return jspb.Message.getFieldWithDefault(this, 3, "0");
    };
    proto.account.UserInfoRes.prototype.setBalance = function(value) {
      jspb.Message.setProto3StringIntField(this, 3, value);
    };
    proto.account.UserInfoRes.prototype.getImgSrc = function() {
      return jspb.Message.getFieldWithDefault(this, 4, "");
    };
    proto.account.UserInfoRes.prototype.setImgSrc = function(value) {
      jspb.Message.setProto3StringField(this, 4, value);
    };
    proto.account.PlatformReq = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.account.PlatformReq, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.account.PlatformReq.displayName = "proto.account.PlatformReq");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.account.PlatformReq.prototype.toObject = function(opt_includeInstance) {
        return proto.account.PlatformReq.toObject(opt_includeInstance, this);
      };
      proto.account.PlatformReq.toObject = function(includeInstance, msg) {
        var f, obj = {
          token: jspb.Message.getFieldWithDefault(msg, 1, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.account.PlatformReq.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.account.PlatformReq();
      return proto.account.PlatformReq.deserializeBinaryFromReader(msg, reader);
    };
    proto.account.PlatformReq.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readString();
          msg.setToken(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.account.PlatformReq.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.account.PlatformReq.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.account.PlatformReq.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getToken();
      f.length > 0 && writer.writeString(1, f);
    };
    proto.account.PlatformReq.prototype.getToken = function() {
      return jspb.Message.getFieldWithDefault(this, 1, "");
    };
    proto.account.PlatformReq.prototype.setToken = function(value) {
      jspb.Message.setProto3StringField(this, 1, value);
    };
    proto.account.PlatformRes = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.account.PlatformRes, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.account.PlatformRes.displayName = "proto.account.PlatformRes");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.account.PlatformRes.prototype.toObject = function(opt_includeInstance) {
        return proto.account.PlatformRes.toObject(opt_includeInstance, this);
      };
      proto.account.PlatformRes.toObject = function(includeInstance, msg) {
        var f, obj = {
          result: (f = msg.getResult()) && base_base_pb.Result.toObject(includeInstance, f),
          token: jspb.Message.getFieldWithDefault(msg, 2, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.account.PlatformRes.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.account.PlatformRes();
      return proto.account.PlatformRes.deserializeBinaryFromReader(msg, reader);
    };
    proto.account.PlatformRes.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.Result();
          reader.readMessage(value, base_base_pb.Result.deserializeBinaryFromReader);
          msg.setResult(value);
          break;

         case 2:
          var value = reader.readString();
          msg.setToken(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.account.PlatformRes.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.account.PlatformRes.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.account.PlatformRes.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getResult();
      null != f && writer.writeMessage(1, f, base_base_pb.Result.serializeBinaryToWriter);
      f = message.getToken();
      f.length > 0 && writer.writeString(2, f);
    };
    proto.account.PlatformRes.prototype.getResult = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.Result, 1);
    };
    proto.account.PlatformRes.prototype.setResult = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.account.PlatformRes.prototype.clearResult = function() {
      this.setResult(void 0);
    };
    proto.account.PlatformRes.prototype.hasResult = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.account.PlatformRes.prototype.getToken = function() {
      return jspb.Message.getFieldWithDefault(this, 2, "");
    };
    proto.account.PlatformRes.prototype.setToken = function(value) {
      jspb.Message.setProto3StringField(this, 2, value);
    };
    proto.account.LinkReq = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.account.LinkReq, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.account.LinkReq.displayName = "proto.account.LinkReq");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.account.LinkReq.prototype.toObject = function(opt_includeInstance) {
        return proto.account.LinkReq.toObject(opt_includeInstance, this);
      };
      proto.account.LinkReq.toObject = function(includeInstance, msg) {
        var f, obj = {
          gid: jspb.Message.getFieldWithDefault(msg, 1, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.account.LinkReq.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.account.LinkReq();
      return proto.account.LinkReq.deserializeBinaryFromReader(msg, reader);
    };
    proto.account.LinkReq.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readString();
          msg.setGid(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.account.LinkReq.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.account.LinkReq.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.account.LinkReq.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getGid();
      f.length > 0 && writer.writeString(1, f);
    };
    proto.account.LinkReq.prototype.getGid = function() {
      return jspb.Message.getFieldWithDefault(this, 1, "");
    };
    proto.account.LinkReq.prototype.setGid = function(value) {
      jspb.Message.setProto3StringField(this, 1, value);
    };
    proto.account.LinkRes = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.account.LinkRes, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.account.LinkRes.displayName = "proto.account.LinkRes");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.account.LinkRes.prototype.toObject = function(opt_includeInstance) {
        return proto.account.LinkRes.toObject(opt_includeInstance, this);
      };
      proto.account.LinkRes.toObject = function(includeInstance, msg) {
        var f, obj = {
          result: (f = msg.getResult()) && base_base_pb.Result.toObject(includeInstance, f),
          token: jspb.Message.getFieldWithDefault(msg, 2, ""),
          pb_static: jspb.Message.getFieldWithDefault(msg, 3, ""),
          dynamic: jspb.Message.getFieldWithDefault(msg, 4, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.account.LinkRes.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.account.LinkRes();
      return proto.account.LinkRes.deserializeBinaryFromReader(msg, reader);
    };
    proto.account.LinkRes.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.Result();
          reader.readMessage(value, base_base_pb.Result.deserializeBinaryFromReader);
          msg.setResult(value);
          break;

         case 2:
          var value = reader.readString();
          msg.setToken(value);
          break;

         case 3:
          var value = reader.readString();
          msg.setStatic(value);
          break;

         case 4:
          var value = reader.readString();
          msg.setDynamic(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.account.LinkRes.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.account.LinkRes.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.account.LinkRes.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getResult();
      null != f && writer.writeMessage(1, f, base_base_pb.Result.serializeBinaryToWriter);
      f = message.getToken();
      f.length > 0 && writer.writeString(2, f);
      f = message.getStatic();
      f.length > 0 && writer.writeString(3, f);
      f = message.getDynamic();
      f.length > 0 && writer.writeString(4, f);
    };
    proto.account.LinkRes.prototype.getResult = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.Result, 1);
    };
    proto.account.LinkRes.prototype.setResult = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.account.LinkRes.prototype.clearResult = function() {
      this.setResult(void 0);
    };
    proto.account.LinkRes.prototype.hasResult = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.account.LinkRes.prototype.getToken = function() {
      return jspb.Message.getFieldWithDefault(this, 2, "");
    };
    proto.account.LinkRes.prototype.setToken = function(value) {
      jspb.Message.setProto3StringField(this, 2, value);
    };
    proto.account.LinkRes.prototype.getStatic = function() {
      return jspb.Message.getFieldWithDefault(this, 3, "");
    };
    proto.account.LinkRes.prototype.setStatic = function(value) {
      jspb.Message.setProto3StringField(this, 3, value);
    };
    proto.account.LinkRes.prototype.getDynamic = function() {
      return jspb.Message.getFieldWithDefault(this, 4, "");
    };
    proto.account.LinkRes.prototype.setDynamic = function(value) {
      jspb.Message.setProto3StringField(this, 4, value);
    };
    proto.account.UpdateBalanceReq = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.account.UpdateBalanceReq, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.account.UpdateBalanceReq.displayName = "proto.account.UpdateBalanceReq");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.account.UpdateBalanceReq.prototype.toObject = function(opt_includeInstance) {
        return proto.account.UpdateBalanceReq.toObject(opt_includeInstance, this);
      };
      proto.account.UpdateBalanceReq.toObject = function(includeInstance, msg) {
        var f, obj = {
          baseReq: (f = msg.getBaseReq()) && base_base_pb.BaseReq.toObject(includeInstance, f)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.account.UpdateBalanceReq.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.account.UpdateBalanceReq();
      return proto.account.UpdateBalanceReq.deserializeBinaryFromReader(msg, reader);
    };
    proto.account.UpdateBalanceReq.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.BaseReq();
          reader.readMessage(value, base_base_pb.BaseReq.deserializeBinaryFromReader);
          msg.setBaseReq(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.account.UpdateBalanceReq.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.account.UpdateBalanceReq.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.account.UpdateBalanceReq.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getBaseReq();
      null != f && writer.writeMessage(1, f, base_base_pb.BaseReq.serializeBinaryToWriter);
    };
    proto.account.UpdateBalanceReq.prototype.getBaseReq = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.BaseReq, 1);
    };
    proto.account.UpdateBalanceReq.prototype.setBaseReq = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.account.UpdateBalanceReq.prototype.clearBaseReq = function() {
      this.setBaseReq(void 0);
    };
    proto.account.UpdateBalanceReq.prototype.hasBaseReq = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.account.UpdateBalanceRes = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.account.UpdateBalanceRes, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.account.UpdateBalanceRes.displayName = "proto.account.UpdateBalanceRes");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.account.UpdateBalanceRes.prototype.toObject = function(opt_includeInstance) {
        return proto.account.UpdateBalanceRes.toObject(opt_includeInstance, this);
      };
      proto.account.UpdateBalanceRes.toObject = function(includeInstance, msg) {
        var f, obj = {
          result: (f = msg.getResult()) && base_base_pb.Result.toObject(includeInstance, f),
          serial: jspb.Message.getFieldWithDefault(msg, 2, 0),
          balance: jspb.Message.getFieldWithDefault(msg, 3, "0")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.account.UpdateBalanceRes.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.account.UpdateBalanceRes();
      return proto.account.UpdateBalanceRes.deserializeBinaryFromReader(msg, reader);
    };
    proto.account.UpdateBalanceRes.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.Result();
          reader.readMessage(value, base_base_pb.Result.deserializeBinaryFromReader);
          msg.setResult(value);
          break;

         case 2:
          var value = reader.readInt32();
          msg.setSerial(value);
          break;

         case 3:
          var value = reader.readInt64String();
          msg.setBalance(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.account.UpdateBalanceRes.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.account.UpdateBalanceRes.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.account.UpdateBalanceRes.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getResult();
      null != f && writer.writeMessage(1, f, base_base_pb.Result.serializeBinaryToWriter);
      f = message.getSerial();
      0 !== f && writer.writeInt32(2, f);
      f = message.getBalance();
      0 !== parseInt(f, 10) && writer.writeInt64String(3, f);
    };
    proto.account.UpdateBalanceRes.prototype.getResult = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.Result, 1);
    };
    proto.account.UpdateBalanceRes.prototype.setResult = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.account.UpdateBalanceRes.prototype.clearResult = function() {
      this.setResult(void 0);
    };
    proto.account.UpdateBalanceRes.prototype.hasResult = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.account.UpdateBalanceRes.prototype.getSerial = function() {
      return jspb.Message.getFieldWithDefault(this, 2, 0);
    };
    proto.account.UpdateBalanceRes.prototype.setSerial = function(value) {
      jspb.Message.setProto3IntField(this, 2, value);
    };
    proto.account.UpdateBalanceRes.prototype.getBalance = function() {
      return jspb.Message.getFieldWithDefault(this, 3, "0");
    };
    proto.account.UpdateBalanceRes.prototype.setBalance = function(value) {
      jspb.Message.setProto3StringIntField(this, 3, value);
    };
    goog.object.extend(exports, proto.account);
  }, {
    "game-protobuf/ts/base/base_pb.js": 28,
    "google-protobuf": 33
  } ],
  28: [ function(require, module, exports) {
    var jspbcomp = require("google-protobuf");
    var COMPILED = jspbcomp.COMPILED;
    var jspb = jspbcomp.exportSymbol ? jspbcomp : jspbcomp.jspb;
    var goog = jspbcomp.exportSymbol ? jspbcomp : jspbcomp.goog;
    var global = Function("return this")();
    goog.exportSymbol("proto.gamebase.BaseReq", null, global);
    goog.exportSymbol("proto.gamebase.BaseResult", null, global);
    goog.exportSymbol("proto.gamebase.Empty", null, global);
    goog.exportSymbol("proto.gamebase.PageInfo", null, global);
    goog.exportSymbol("proto.gamebase.Result", null, global);
    goog.exportSymbol("proto.gamebase.Status", null, global);
    proto.gamebase.Empty = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.gamebase.Empty, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.gamebase.Empty.displayName = "proto.gamebase.Empty");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.gamebase.Empty.prototype.toObject = function(opt_includeInstance) {
        return proto.gamebase.Empty.toObject(opt_includeInstance, this);
      };
      proto.gamebase.Empty.toObject = function(includeInstance, msg) {
        var f, obj = {};
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.gamebase.Empty.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.gamebase.Empty();
      return proto.gamebase.Empty.deserializeBinaryFromReader(msg, reader);
    };
    proto.gamebase.Empty.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        field;
        reader.skipField();
      }
      return msg;
    };
    proto.gamebase.Empty.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.gamebase.Empty.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.gamebase.Empty.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
    };
    proto.gamebase.Result = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.gamebase.Result, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.gamebase.Result.displayName = "proto.gamebase.Result");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.gamebase.Result.prototype.toObject = function(opt_includeInstance) {
        return proto.gamebase.Result.toObject(opt_includeInstance, this);
      };
      proto.gamebase.Result.toObject = function(includeInstance, msg) {
        var f, obj = {
          code: jspb.Message.getFieldWithDefault(msg, 1, 0),
          msg: jspb.Message.getFieldWithDefault(msg, 2, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.gamebase.Result.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.gamebase.Result();
      return proto.gamebase.Result.deserializeBinaryFromReader(msg, reader);
    };
    proto.gamebase.Result.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readEnum();
          msg.setCode(value);
          break;

         case 2:
          var value = reader.readString();
          msg.setMsg(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.gamebase.Result.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.gamebase.Result.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.gamebase.Result.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getCode();
      0 !== f && writer.writeEnum(1, f);
      f = message.getMsg();
      f.length > 0 && writer.writeString(2, f);
    };
    proto.gamebase.Result.prototype.getCode = function() {
      return jspb.Message.getFieldWithDefault(this, 1, 0);
    };
    proto.gamebase.Result.prototype.setCode = function(value) {
      jspb.Message.setProto3EnumField(this, 1, value);
    };
    proto.gamebase.Result.prototype.getMsg = function() {
      return jspb.Message.getFieldWithDefault(this, 2, "");
    };
    proto.gamebase.Result.prototype.setMsg = function(value) {
      jspb.Message.setProto3StringField(this, 2, value);
    };
    proto.gamebase.BaseResult = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.gamebase.BaseResult, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.gamebase.BaseResult.displayName = "proto.gamebase.BaseResult");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.gamebase.BaseResult.prototype.toObject = function(opt_includeInstance) {
        return proto.gamebase.BaseResult.toObject(opt_includeInstance, this);
      };
      proto.gamebase.BaseResult.toObject = function(includeInstance, msg) {
        var f, obj = {
          result: (f = msg.getResult()) && proto.gamebase.Result.toObject(includeInstance, f)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.gamebase.BaseResult.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.gamebase.BaseResult();
      return proto.gamebase.BaseResult.deserializeBinaryFromReader(msg, reader);
    };
    proto.gamebase.BaseResult.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new proto.gamebase.Result();
          reader.readMessage(value, proto.gamebase.Result.deserializeBinaryFromReader);
          msg.setResult(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.gamebase.BaseResult.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.gamebase.BaseResult.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.gamebase.BaseResult.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getResult();
      null != f && writer.writeMessage(1, f, proto.gamebase.Result.serializeBinaryToWriter);
    };
    proto.gamebase.BaseResult.prototype.getResult = function() {
      return jspb.Message.getWrapperField(this, proto.gamebase.Result, 1);
    };
    proto.gamebase.BaseResult.prototype.setResult = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.gamebase.BaseResult.prototype.clearResult = function() {
      this.setResult(void 0);
    };
    proto.gamebase.BaseResult.prototype.hasResult = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.gamebase.PageInfo = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.gamebase.PageInfo, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.gamebase.PageInfo.displayName = "proto.gamebase.PageInfo");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.gamebase.PageInfo.prototype.toObject = function(opt_includeInstance) {
        return proto.gamebase.PageInfo.toObject(opt_includeInstance, this);
      };
      proto.gamebase.PageInfo.toObject = function(includeInstance, msg) {
        var f, obj = {
          index: jspb.Message.getFieldWithDefault(msg, 1, 0),
          limit: jspb.Message.getFieldWithDefault(msg, 2, 0),
          sort: jspb.Message.getFieldWithDefault(msg, 3, ""),
          offset: jspb.Message.getFieldWithDefault(msg, 4, 0)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.gamebase.PageInfo.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.gamebase.PageInfo();
      return proto.gamebase.PageInfo.deserializeBinaryFromReader(msg, reader);
    };
    proto.gamebase.PageInfo.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readInt64();
          msg.setIndex(value);
          break;

         case 2:
          var value = reader.readInt64();
          msg.setLimit(value);
          break;

         case 3:
          var value = reader.readString();
          msg.setSort(value);
          break;

         case 4:
          var value = reader.readInt64();
          msg.setOffset(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.gamebase.PageInfo.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.gamebase.PageInfo.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.gamebase.PageInfo.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getIndex();
      0 !== f && writer.writeInt64(1, f);
      f = message.getLimit();
      0 !== f && writer.writeInt64(2, f);
      f = message.getSort();
      f.length > 0 && writer.writeString(3, f);
      f = message.getOffset();
      0 !== f && writer.writeInt64(4, f);
    };
    proto.gamebase.PageInfo.prototype.getIndex = function() {
      return jspb.Message.getFieldWithDefault(this, 1, 0);
    };
    proto.gamebase.PageInfo.prototype.setIndex = function(value) {
      jspb.Message.setProto3IntField(this, 1, value);
    };
    proto.gamebase.PageInfo.prototype.getLimit = function() {
      return jspb.Message.getFieldWithDefault(this, 2, 0);
    };
    proto.gamebase.PageInfo.prototype.setLimit = function(value) {
      jspb.Message.setProto3IntField(this, 2, value);
    };
    proto.gamebase.PageInfo.prototype.getSort = function() {
      return jspb.Message.getFieldWithDefault(this, 3, "");
    };
    proto.gamebase.PageInfo.prototype.setSort = function(value) {
      jspb.Message.setProto3StringField(this, 3, value);
    };
    proto.gamebase.PageInfo.prototype.getOffset = function() {
      return jspb.Message.getFieldWithDefault(this, 4, 0);
    };
    proto.gamebase.PageInfo.prototype.setOffset = function(value) {
      jspb.Message.setProto3IntField(this, 4, value);
    };
    proto.gamebase.BaseReq = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.gamebase.BaseReq, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.gamebase.BaseReq.displayName = "proto.gamebase.BaseReq");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.gamebase.BaseReq.prototype.toObject = function(opt_includeInstance) {
        return proto.gamebase.BaseReq.toObject(opt_includeInstance, this);
      };
      proto.gamebase.BaseReq.toObject = function(includeInstance, msg) {
        var f, obj = {
          token: jspb.Message.getFieldWithDefault(msg, 1, ""),
          gid: jspb.Message.getFieldWithDefault(msg, 2, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.gamebase.BaseReq.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.gamebase.BaseReq();
      return proto.gamebase.BaseReq.deserializeBinaryFromReader(msg, reader);
    };
    proto.gamebase.BaseReq.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readString();
          msg.setToken(value);
          break;

         case 2:
          var value = reader.readString();
          msg.setGid(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.gamebase.BaseReq.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.gamebase.BaseReq.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.gamebase.BaseReq.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getToken();
      f.length > 0 && writer.writeString(1, f);
      f = message.getGid();
      f.length > 0 && writer.writeString(2, f);
    };
    proto.gamebase.BaseReq.prototype.getToken = function() {
      return jspb.Message.getFieldWithDefault(this, 1, "");
    };
    proto.gamebase.BaseReq.prototype.setToken = function(value) {
      jspb.Message.setProto3StringField(this, 1, value);
    };
    proto.gamebase.BaseReq.prototype.getGid = function() {
      return jspb.Message.getFieldWithDefault(this, 2, "");
    };
    proto.gamebase.BaseReq.prototype.setGid = function(value) {
      jspb.Message.setProto3StringField(this, 2, value);
    };
    proto.gamebase.Status = {
      NONE: 0,
      ENABLED: 1,
      DISABLED: 2
    };
    goog.object.extend(exports, proto.gamebase);
  }, {
    "google-protobuf": 33
  } ],
  29: [ function(require, module, exports) {
    var jspbcomp = require("google-protobuf");
    var COMPILED = jspbcomp.COMPILED;
    var jspb = jspbcomp.exportSymbol ? jspbcomp : jspbcomp.jspb;
    var goog = jspbcomp.exportSymbol ? jspbcomp : jspbcomp.goog;
    var global = Function("return this")();
    var google_protobuf_any_pb = require("google-protobuf/google/protobuf/any_pb.js");
    var base_base_pb = require("game-protobuf/ts/base/base_pb.js");
    goog.exportSymbol("proto.extension.BetBonusReq", null, global);
    goog.exportSymbol("proto.extension.BetBonusRes", null, global);
    goog.exportSymbol("proto.extension.BonusEvent", null, global);
    goog.exportSymbol("proto.extension.CheckBonusReq", null, global);
    goog.exportSymbol("proto.extension.CheckBonusRes", null, global);
    goog.exportSymbol("proto.extension.EventInfo", null, global);
    proto.extension.BetBonusReq = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.extension.BetBonusReq, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.extension.BetBonusReq.displayName = "proto.extension.BetBonusReq");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.extension.BetBonusReq.prototype.toObject = function(opt_includeInstance) {
        return proto.extension.BetBonusReq.toObject(opt_includeInstance, this);
      };
      proto.extension.BetBonusReq.toObject = function(includeInstance, msg) {
        var f, obj = {};
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.extension.BetBonusReq.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.extension.BetBonusReq();
      return proto.extension.BetBonusReq.deserializeBinaryFromReader(msg, reader);
    };
    proto.extension.BetBonusReq.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        field;
        reader.skipField();
      }
      return msg;
    };
    proto.extension.BetBonusReq.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.extension.BetBonusReq.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.extension.BetBonusReq.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
    };
    proto.extension.BetBonusRes = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.extension.BetBonusRes, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.extension.BetBonusRes.displayName = "proto.extension.BetBonusRes");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.extension.BetBonusRes.prototype.toObject = function(opt_includeInstance) {
        return proto.extension.BetBonusRes.toObject(opt_includeInstance, this);
      };
      proto.extension.BetBonusRes.toObject = function(includeInstance, msg) {
        var f, obj = {
          result: (f = msg.getResult()) && base_base_pb.Result.toObject(includeInstance, f),
          bonusUrl: jspb.Message.getFieldWithDefault(msg, 2, ""),
          bonus: (f = msg.getBonus()) && proto.extension.BonusEvent.toObject(includeInstance, f),
          balanceSerial: jspb.Message.getFieldWithDefault(msg, 4, 0),
          balance: jspb.Message.getFieldWithDefault(msg, 5, "0"),
          lastCount: jspb.Message.getFieldWithDefault(msg, 6, 0),
          anyContent: (f = msg.getAnyContent()) && google_protobuf_any_pb.Any.toObject(includeInstance, f),
          jsonContent: jspb.Message.getFieldWithDefault(msg, 8, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.extension.BetBonusRes.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.extension.BetBonusRes();
      return proto.extension.BetBonusRes.deserializeBinaryFromReader(msg, reader);
    };
    proto.extension.BetBonusRes.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.Result();
          reader.readMessage(value, base_base_pb.Result.deserializeBinaryFromReader);
          msg.setResult(value);
          break;

         case 2:
          var value = reader.readString();
          msg.setBonusUrl(value);
          break;

         case 3:
          var value = new proto.extension.BonusEvent();
          reader.readMessage(value, proto.extension.BonusEvent.deserializeBinaryFromReader);
          msg.setBonus(value);
          break;

         case 4:
          var value = reader.readInt32();
          msg.setBalanceSerial(value);
          break;

         case 5:
          var value = reader.readInt64String();
          msg.setBalance(value);
          break;

         case 6:
          var value = reader.readInt64();
          msg.setLastCount(value);
          break;

         case 7:
          var value = new google_protobuf_any_pb.Any();
          reader.readMessage(value, google_protobuf_any_pb.Any.deserializeBinaryFromReader);
          msg.setAnyContent(value);
          break;

         case 8:
          var value = reader.readString();
          msg.setJsonContent(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.extension.BetBonusRes.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.extension.BetBonusRes.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.extension.BetBonusRes.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getResult();
      null != f && writer.writeMessage(1, f, base_base_pb.Result.serializeBinaryToWriter);
      f = message.getBonusUrl();
      f.length > 0 && writer.writeString(2, f);
      f = message.getBonus();
      null != f && writer.writeMessage(3, f, proto.extension.BonusEvent.serializeBinaryToWriter);
      f = message.getBalanceSerial();
      0 !== f && writer.writeInt32(4, f);
      f = message.getBalance();
      0 !== parseInt(f, 10) && writer.writeInt64String(5, f);
      f = message.getLastCount();
      0 !== f && writer.writeInt64(6, f);
      f = message.getAnyContent();
      null != f && writer.writeMessage(7, f, google_protobuf_any_pb.Any.serializeBinaryToWriter);
      f = message.getJsonContent();
      f.length > 0 && writer.writeString(8, f);
    };
    proto.extension.BetBonusRes.prototype.getResult = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.Result, 1);
    };
    proto.extension.BetBonusRes.prototype.setResult = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.extension.BetBonusRes.prototype.clearResult = function() {
      this.setResult(void 0);
    };
    proto.extension.BetBonusRes.prototype.hasResult = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.extension.BetBonusRes.prototype.getBonusUrl = function() {
      return jspb.Message.getFieldWithDefault(this, 2, "");
    };
    proto.extension.BetBonusRes.prototype.setBonusUrl = function(value) {
      jspb.Message.setProto3StringField(this, 2, value);
    };
    proto.extension.BetBonusRes.prototype.getBonus = function() {
      return jspb.Message.getWrapperField(this, proto.extension.BonusEvent, 3);
    };
    proto.extension.BetBonusRes.prototype.setBonus = function(value) {
      jspb.Message.setWrapperField(this, 3, value);
    };
    proto.extension.BetBonusRes.prototype.clearBonus = function() {
      this.setBonus(void 0);
    };
    proto.extension.BetBonusRes.prototype.hasBonus = function() {
      return null != jspb.Message.getField(this, 3);
    };
    proto.extension.BetBonusRes.prototype.getBalanceSerial = function() {
      return jspb.Message.getFieldWithDefault(this, 4, 0);
    };
    proto.extension.BetBonusRes.prototype.setBalanceSerial = function(value) {
      jspb.Message.setProto3IntField(this, 4, value);
    };
    proto.extension.BetBonusRes.prototype.getBalance = function() {
      return jspb.Message.getFieldWithDefault(this, 5, "0");
    };
    proto.extension.BetBonusRes.prototype.setBalance = function(value) {
      jspb.Message.setProto3StringIntField(this, 5, value);
    };
    proto.extension.BetBonusRes.prototype.getLastCount = function() {
      return jspb.Message.getFieldWithDefault(this, 6, 0);
    };
    proto.extension.BetBonusRes.prototype.setLastCount = function(value) {
      jspb.Message.setProto3IntField(this, 6, value);
    };
    proto.extension.BetBonusRes.prototype.getAnyContent = function() {
      return jspb.Message.getWrapperField(this, google_protobuf_any_pb.Any, 7);
    };
    proto.extension.BetBonusRes.prototype.setAnyContent = function(value) {
      jspb.Message.setWrapperField(this, 7, value);
    };
    proto.extension.BetBonusRes.prototype.clearAnyContent = function() {
      this.setAnyContent(void 0);
    };
    proto.extension.BetBonusRes.prototype.hasAnyContent = function() {
      return null != jspb.Message.getField(this, 7);
    };
    proto.extension.BetBonusRes.prototype.getJsonContent = function() {
      return jspb.Message.getFieldWithDefault(this, 8, "");
    };
    proto.extension.BetBonusRes.prototype.setJsonContent = function(value) {
      jspb.Message.setProto3StringField(this, 8, value);
    };
    proto.extension.CheckBonusReq = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.extension.CheckBonusReq, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.extension.CheckBonusReq.displayName = "proto.extension.CheckBonusReq");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.extension.CheckBonusReq.prototype.toObject = function(opt_includeInstance) {
        return proto.extension.CheckBonusReq.toObject(opt_includeInstance, this);
      };
      proto.extension.CheckBonusReq.toObject = function(includeInstance, msg) {
        var f, obj = {};
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.extension.CheckBonusReq.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.extension.CheckBonusReq();
      return proto.extension.CheckBonusReq.deserializeBinaryFromReader(msg, reader);
    };
    proto.extension.CheckBonusReq.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        field;
        reader.skipField();
      }
      return msg;
    };
    proto.extension.CheckBonusReq.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.extension.CheckBonusReq.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.extension.CheckBonusReq.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
    };
    proto.extension.CheckBonusRes = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, proto.extension.CheckBonusRes.repeatedFields_, null);
    };
    goog.inherits(proto.extension.CheckBonusRes, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.extension.CheckBonusRes.displayName = "proto.extension.CheckBonusRes");
    proto.extension.CheckBonusRes.repeatedFields_ = [ 6 ];
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.extension.CheckBonusRes.prototype.toObject = function(opt_includeInstance) {
        return proto.extension.CheckBonusRes.toObject(opt_includeInstance, this);
      };
      proto.extension.CheckBonusRes.toObject = function(includeInstance, msg) {
        var f, obj = {
          result: (f = msg.getResult()) && base_base_pb.Result.toObject(includeInstance, f),
          anyContent: (f = msg.getAnyContent()) && google_protobuf_any_pb.Any.toObject(includeInstance, f),
          jsonContent: jspb.Message.getFieldWithDefault(msg, 3, ""),
          hadBonus: jspb.Message.getFieldWithDefault(msg, 4, false),
          count: jspb.Message.getFieldWithDefault(msg, 5, 0),
          eventsList: jspb.Message.toObjectList(msg.getEventsList(), proto.extension.EventInfo.toObject, includeInstance)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.extension.CheckBonusRes.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.extension.CheckBonusRes();
      return proto.extension.CheckBonusRes.deserializeBinaryFromReader(msg, reader);
    };
    proto.extension.CheckBonusRes.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.Result();
          reader.readMessage(value, base_base_pb.Result.deserializeBinaryFromReader);
          msg.setResult(value);
          break;

         case 2:
          var value = new google_protobuf_any_pb.Any();
          reader.readMessage(value, google_protobuf_any_pb.Any.deserializeBinaryFromReader);
          msg.setAnyContent(value);
          break;

         case 3:
          var value = reader.readString();
          msg.setJsonContent(value);
          break;

         case 4:
          var value = reader.readBool();
          msg.setHadBonus(value);
          break;

         case 5:
          var value = reader.readInt32();
          msg.setCount(value);
          break;

         case 6:
          var value = new proto.extension.EventInfo();
          reader.readMessage(value, proto.extension.EventInfo.deserializeBinaryFromReader);
          msg.addEvents(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.extension.CheckBonusRes.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.extension.CheckBonusRes.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.extension.CheckBonusRes.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getResult();
      null != f && writer.writeMessage(1, f, base_base_pb.Result.serializeBinaryToWriter);
      f = message.getAnyContent();
      null != f && writer.writeMessage(2, f, google_protobuf_any_pb.Any.serializeBinaryToWriter);
      f = message.getJsonContent();
      f.length > 0 && writer.writeString(3, f);
      f = message.getHadBonus();
      f && writer.writeBool(4, f);
      f = message.getCount();
      0 !== f && writer.writeInt32(5, f);
      f = message.getEventsList();
      f.length > 0 && writer.writeRepeatedMessage(6, f, proto.extension.EventInfo.serializeBinaryToWriter);
    };
    proto.extension.CheckBonusRes.prototype.getResult = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.Result, 1);
    };
    proto.extension.CheckBonusRes.prototype.setResult = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.extension.CheckBonusRes.prototype.clearResult = function() {
      this.setResult(void 0);
    };
    proto.extension.CheckBonusRes.prototype.hasResult = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.extension.CheckBonusRes.prototype.getAnyContent = function() {
      return jspb.Message.getWrapperField(this, google_protobuf_any_pb.Any, 2);
    };
    proto.extension.CheckBonusRes.prototype.setAnyContent = function(value) {
      jspb.Message.setWrapperField(this, 2, value);
    };
    proto.extension.CheckBonusRes.prototype.clearAnyContent = function() {
      this.setAnyContent(void 0);
    };
    proto.extension.CheckBonusRes.prototype.hasAnyContent = function() {
      return null != jspb.Message.getField(this, 2);
    };
    proto.extension.CheckBonusRes.prototype.getJsonContent = function() {
      return jspb.Message.getFieldWithDefault(this, 3, "");
    };
    proto.extension.CheckBonusRes.prototype.setJsonContent = function(value) {
      jspb.Message.setProto3StringField(this, 3, value);
    };
    proto.extension.CheckBonusRes.prototype.getHadBonus = function() {
      return jspb.Message.getFieldWithDefault(this, 4, false);
    };
    proto.extension.CheckBonusRes.prototype.setHadBonus = function(value) {
      jspb.Message.setProto3BooleanField(this, 4, value);
    };
    proto.extension.CheckBonusRes.prototype.getCount = function() {
      return jspb.Message.getFieldWithDefault(this, 5, 0);
    };
    proto.extension.CheckBonusRes.prototype.setCount = function(value) {
      jspb.Message.setProto3IntField(this, 5, value);
    };
    proto.extension.CheckBonusRes.prototype.getEventsList = function() {
      return jspb.Message.getRepeatedWrapperField(this, proto.extension.EventInfo, 6);
    };
    proto.extension.CheckBonusRes.prototype.setEventsList = function(value) {
      jspb.Message.setRepeatedWrapperField(this, 6, value);
    };
    proto.extension.CheckBonusRes.prototype.addEvents = function(opt_value, opt_index) {
      return jspb.Message.addToRepeatedWrapperField(this, 6, opt_value, proto.extension.EventInfo, opt_index);
    };
    proto.extension.CheckBonusRes.prototype.clearEventsList = function() {
      this.setEventsList([]);
    };
    proto.extension.EventInfo = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.extension.EventInfo, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.extension.EventInfo.displayName = "proto.extension.EventInfo");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.extension.EventInfo.prototype.toObject = function(opt_includeInstance) {
        return proto.extension.EventInfo.toObject(opt_includeInstance, this);
      };
      proto.extension.EventInfo.toObject = function(includeInstance, msg) {
        var f, obj = {
          eventId: jspb.Message.getFieldWithDefault(msg, 1, ""),
          template: jspb.Message.getFieldWithDefault(msg, 2, ""),
          startTime: jspb.Message.getFieldWithDefault(msg, 3, 0),
          endTime: jspb.Message.getFieldWithDefault(msg, 4, 0),
          finalTime: jspb.Message.getFieldWithDefault(msg, 5, 0)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.extension.EventInfo.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.extension.EventInfo();
      return proto.extension.EventInfo.deserializeBinaryFromReader(msg, reader);
    };
    proto.extension.EventInfo.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readString();
          msg.setEventId(value);
          break;

         case 2:
          var value = reader.readString();
          msg.setTemplate(value);
          break;

         case 3:
          var value = reader.readInt64();
          msg.setStartTime(value);
          break;

         case 4:
          var value = reader.readInt64();
          msg.setEndTime(value);
          break;

         case 5:
          var value = reader.readInt64();
          msg.setFinalTime(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.extension.EventInfo.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.extension.EventInfo.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.extension.EventInfo.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getEventId();
      f.length > 0 && writer.writeString(1, f);
      f = message.getTemplate();
      f.length > 0 && writer.writeString(2, f);
      f = message.getStartTime();
      0 !== f && writer.writeInt64(3, f);
      f = message.getEndTime();
      0 !== f && writer.writeInt64(4, f);
      f = message.getFinalTime();
      0 !== f && writer.writeInt64(5, f);
    };
    proto.extension.EventInfo.prototype.getEventId = function() {
      return jspb.Message.getFieldWithDefault(this, 1, "");
    };
    proto.extension.EventInfo.prototype.setEventId = function(value) {
      jspb.Message.setProto3StringField(this, 1, value);
    };
    proto.extension.EventInfo.prototype.getTemplate = function() {
      return jspb.Message.getFieldWithDefault(this, 2, "");
    };
    proto.extension.EventInfo.prototype.setTemplate = function(value) {
      jspb.Message.setProto3StringField(this, 2, value);
    };
    proto.extension.EventInfo.prototype.getStartTime = function() {
      return jspb.Message.getFieldWithDefault(this, 3, 0);
    };
    proto.extension.EventInfo.prototype.setStartTime = function(value) {
      jspb.Message.setProto3IntField(this, 3, value);
    };
    proto.extension.EventInfo.prototype.getEndTime = function() {
      return jspb.Message.getFieldWithDefault(this, 4, 0);
    };
    proto.extension.EventInfo.prototype.setEndTime = function(value) {
      jspb.Message.setProto3IntField(this, 4, value);
    };
    proto.extension.EventInfo.prototype.getFinalTime = function() {
      return jspb.Message.getFieldWithDefault(this, 5, 0);
    };
    proto.extension.EventInfo.prototype.setFinalTime = function(value) {
      jspb.Message.setProto3IntField(this, 5, value);
    };
    proto.extension.BonusEvent = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, proto.extension.BonusEvent.repeatedFields_, null);
    };
    goog.inherits(proto.extension.BonusEvent, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.extension.BonusEvent.displayName = "proto.extension.BonusEvent");
    proto.extension.BonusEvent.repeatedFields_ = [ 3, 4 ];
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.extension.BonusEvent.prototype.toObject = function(opt_includeInstance) {
        return proto.extension.BonusEvent.toObject(opt_includeInstance, this);
      };
      proto.extension.BonusEvent.toObject = function(includeInstance, msg) {
        var f, obj = {
          id: jspb.Message.getFieldWithDefault(msg, 1, ""),
          serial: jspb.Message.getFieldWithDefault(msg, 2, 0),
          optionsList: jspb.Message.getRepeatedField(msg, 3),
          rewardsList: jspb.Message.getRepeatedField(msg, 4),
          eventId: jspb.Message.getFieldWithDefault(msg, 5, ""),
          template: jspb.Message.getFieldWithDefault(msg, 6, ""),
          startTime: jspb.Message.getFieldWithDefault(msg, 7, 0),
          endTime: jspb.Message.getFieldWithDefault(msg, 8, 0),
          finalTime: jspb.Message.getFieldWithDefault(msg, 9, 0)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.extension.BonusEvent.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.extension.BonusEvent();
      return proto.extension.BonusEvent.deserializeBinaryFromReader(msg, reader);
    };
    proto.extension.BonusEvent.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readString();
          msg.setId(value);
          break;

         case 2:
          var value = reader.readInt32();
          msg.setSerial(value);
          break;

         case 3:
          var value = reader.readPackedInt64();
          msg.setOptionsList(value);
          break;

         case 4:
          var value = reader.readPackedInt64();
          msg.setRewardsList(value);
          break;

         case 5:
          var value = reader.readString();
          msg.setEventId(value);
          break;

         case 6:
          var value = reader.readString();
          msg.setTemplate(value);
          break;

         case 7:
          var value = reader.readInt64();
          msg.setStartTime(value);
          break;

         case 8:
          var value = reader.readInt64();
          msg.setEndTime(value);
          break;

         case 9:
          var value = reader.readInt64();
          msg.setFinalTime(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.extension.BonusEvent.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.extension.BonusEvent.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.extension.BonusEvent.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getId();
      f.length > 0 && writer.writeString(1, f);
      f = message.getSerial();
      0 !== f && writer.writeInt32(2, f);
      f = message.getOptionsList();
      f.length > 0 && writer.writePackedInt64(3, f);
      f = message.getRewardsList();
      f.length > 0 && writer.writePackedInt64(4, f);
      f = message.getEventId();
      f.length > 0 && writer.writeString(5, f);
      f = message.getTemplate();
      f.length > 0 && writer.writeString(6, f);
      f = message.getStartTime();
      0 !== f && writer.writeInt64(7, f);
      f = message.getEndTime();
      0 !== f && writer.writeInt64(8, f);
      f = message.getFinalTime();
      0 !== f && writer.writeInt64(9, f);
    };
    proto.extension.BonusEvent.prototype.getId = function() {
      return jspb.Message.getFieldWithDefault(this, 1, "");
    };
    proto.extension.BonusEvent.prototype.setId = function(value) {
      jspb.Message.setProto3StringField(this, 1, value);
    };
    proto.extension.BonusEvent.prototype.getSerial = function() {
      return jspb.Message.getFieldWithDefault(this, 2, 0);
    };
    proto.extension.BonusEvent.prototype.setSerial = function(value) {
      jspb.Message.setProto3IntField(this, 2, value);
    };
    proto.extension.BonusEvent.prototype.getOptionsList = function() {
      return jspb.Message.getRepeatedField(this, 3);
    };
    proto.extension.BonusEvent.prototype.setOptionsList = function(value) {
      jspb.Message.setField(this, 3, value || []);
    };
    proto.extension.BonusEvent.prototype.addOptions = function(value, opt_index) {
      jspb.Message.addToRepeatedField(this, 3, value, opt_index);
    };
    proto.extension.BonusEvent.prototype.clearOptionsList = function() {
      this.setOptionsList([]);
    };
    proto.extension.BonusEvent.prototype.getRewardsList = function() {
      return jspb.Message.getRepeatedField(this, 4);
    };
    proto.extension.BonusEvent.prototype.setRewardsList = function(value) {
      jspb.Message.setField(this, 4, value || []);
    };
    proto.extension.BonusEvent.prototype.addRewards = function(value, opt_index) {
      jspb.Message.addToRepeatedField(this, 4, value, opt_index);
    };
    proto.extension.BonusEvent.prototype.clearRewardsList = function() {
      this.setRewardsList([]);
    };
    proto.extension.BonusEvent.prototype.getEventId = function() {
      return jspb.Message.getFieldWithDefault(this, 5, "");
    };
    proto.extension.BonusEvent.prototype.setEventId = function(value) {
      jspb.Message.setProto3StringField(this, 5, value);
    };
    proto.extension.BonusEvent.prototype.getTemplate = function() {
      return jspb.Message.getFieldWithDefault(this, 6, "");
    };
    proto.extension.BonusEvent.prototype.setTemplate = function(value) {
      jspb.Message.setProto3StringField(this, 6, value);
    };
    proto.extension.BonusEvent.prototype.getStartTime = function() {
      return jspb.Message.getFieldWithDefault(this, 7, 0);
    };
    proto.extension.BonusEvent.prototype.setStartTime = function(value) {
      jspb.Message.setProto3IntField(this, 7, value);
    };
    proto.extension.BonusEvent.prototype.getEndTime = function() {
      return jspb.Message.getFieldWithDefault(this, 8, 0);
    };
    proto.extension.BonusEvent.prototype.setEndTime = function(value) {
      jspb.Message.setProto3IntField(this, 8, value);
    };
    proto.extension.BonusEvent.prototype.getFinalTime = function() {
      return jspb.Message.getFieldWithDefault(this, 9, 0);
    };
    proto.extension.BonusEvent.prototype.setFinalTime = function(value) {
      jspb.Message.setProto3IntField(this, 9, value);
    };
    goog.object.extend(exports, proto.extension);
  }, {
    "game-protobuf/ts/base/base_pb.js": 28,
    "google-protobuf": 33,
    "google-protobuf/google/protobuf/any_pb.js": 34
  } ],
  30: [ function(require, module, exports) {
    var jspbcomp = require("google-protobuf");
    var COMPILED = jspbcomp.COMPILED;
    var jspb = jspbcomp.exportSymbol ? jspbcomp : jspbcomp.jspb;
    var goog = jspbcomp.exportSymbol ? jspbcomp : jspbcomp.goog;
    var global = Function("return this")();
    var base_base_pb = require("game-protobuf/ts/base/base_pb.js");
    var google_protobuf_any_pb = require("google-protobuf/google/protobuf/any_pb.js");
    goog.exportSymbol("proto.game.DisconnectReq", null, global);
    goog.exportSymbol("proto.game.DisconnectRes", null, global);
    goog.exportSymbol("proto.game.HeartbeatReq", null, global);
    goog.exportSymbol("proto.game.HeartbeatRes", null, global);
    goog.exportSymbol("proto.game.KickRes", null, global);
    goog.exportSymbol("proto.game.MarqueeRes", null, global);
    goog.exportSymbol("proto.game.PacketReq", null, global);
    goog.exportSymbol("proto.game.PacketRes", null, global);
    goog.exportSymbol("proto.game.PacketType", null, global);
    goog.exportSymbol("proto.game.ResumeReq", null, global);
    goog.exportSymbol("proto.game.ResumeRes", null, global);
    proto.game.PacketReq = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.game.PacketReq, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.game.PacketReq.displayName = "proto.game.PacketReq");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.game.PacketReq.prototype.toObject = function(opt_includeInstance) {
        return proto.game.PacketReq.toObject(opt_includeInstance, this);
      };
      proto.game.PacketReq.toObject = function(includeInstance, msg) {
        var f, obj = {
          serial: jspb.Message.getFieldWithDefault(msg, 1, 0),
          index: jspb.Message.getFieldWithDefault(msg, 2, 0),
          type: jspb.Message.getFieldWithDefault(msg, 3, 0),
          resumeReq: (f = msg.getResumeReq()) && proto.game.ResumeReq.toObject(includeInstance, f),
          heartBeatReq: (f = msg.getHeartBeatReq()) && proto.game.HeartbeatReq.toObject(includeInstance, f),
          content: (f = msg.getContent()) && google_protobuf_any_pb.Any.toObject(includeInstance, f),
          disconnectReq: (f = msg.getDisconnectReq()) && proto.game.DisconnectReq.toObject(includeInstance, f)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.game.PacketReq.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.game.PacketReq();
      return proto.game.PacketReq.deserializeBinaryFromReader(msg, reader);
    };
    proto.game.PacketReq.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readSint32();
          msg.setSerial(value);
          break;

         case 2:
          var value = reader.readSint32();
          msg.setIndex(value);
          break;

         case 3:
          var value = reader.readEnum();
          msg.setType(value);
          break;

         case 4:
          var value = new proto.game.ResumeReq();
          reader.readMessage(value, proto.game.ResumeReq.deserializeBinaryFromReader);
          msg.setResumeReq(value);
          break;

         case 5:
          var value = new proto.game.HeartbeatReq();
          reader.readMessage(value, proto.game.HeartbeatReq.deserializeBinaryFromReader);
          msg.setHeartBeatReq(value);
          break;

         case 6:
          var value = new google_protobuf_any_pb.Any();
          reader.readMessage(value, google_protobuf_any_pb.Any.deserializeBinaryFromReader);
          msg.setContent(value);
          break;

         case 7:
          var value = new proto.game.DisconnectReq();
          reader.readMessage(value, proto.game.DisconnectReq.deserializeBinaryFromReader);
          msg.setDisconnectReq(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.game.PacketReq.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.game.PacketReq.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.game.PacketReq.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getSerial();
      0 !== f && writer.writeSint32(1, f);
      f = message.getIndex();
      0 !== f && writer.writeSint32(2, f);
      f = message.getType();
      0 !== f && writer.writeEnum(3, f);
      f = message.getResumeReq();
      null != f && writer.writeMessage(4, f, proto.game.ResumeReq.serializeBinaryToWriter);
      f = message.getHeartBeatReq();
      null != f && writer.writeMessage(5, f, proto.game.HeartbeatReq.serializeBinaryToWriter);
      f = message.getContent();
      null != f && writer.writeMessage(6, f, google_protobuf_any_pb.Any.serializeBinaryToWriter);
      f = message.getDisconnectReq();
      null != f && writer.writeMessage(7, f, proto.game.DisconnectReq.serializeBinaryToWriter);
    };
    proto.game.PacketReq.prototype.getSerial = function() {
      return jspb.Message.getFieldWithDefault(this, 1, 0);
    };
    proto.game.PacketReq.prototype.setSerial = function(value) {
      jspb.Message.setProto3IntField(this, 1, value);
    };
    proto.game.PacketReq.prototype.getIndex = function() {
      return jspb.Message.getFieldWithDefault(this, 2, 0);
    };
    proto.game.PacketReq.prototype.setIndex = function(value) {
      jspb.Message.setProto3IntField(this, 2, value);
    };
    proto.game.PacketReq.prototype.getType = function() {
      return jspb.Message.getFieldWithDefault(this, 3, 0);
    };
    proto.game.PacketReq.prototype.setType = function(value) {
      jspb.Message.setProto3EnumField(this, 3, value);
    };
    proto.game.PacketReq.prototype.getResumeReq = function() {
      return jspb.Message.getWrapperField(this, proto.game.ResumeReq, 4);
    };
    proto.game.PacketReq.prototype.setResumeReq = function(value) {
      jspb.Message.setWrapperField(this, 4, value);
    };
    proto.game.PacketReq.prototype.clearResumeReq = function() {
      this.setResumeReq(void 0);
    };
    proto.game.PacketReq.prototype.hasResumeReq = function() {
      return null != jspb.Message.getField(this, 4);
    };
    proto.game.PacketReq.prototype.getHeartBeatReq = function() {
      return jspb.Message.getWrapperField(this, proto.game.HeartbeatReq, 5);
    };
    proto.game.PacketReq.prototype.setHeartBeatReq = function(value) {
      jspb.Message.setWrapperField(this, 5, value);
    };
    proto.game.PacketReq.prototype.clearHeartBeatReq = function() {
      this.setHeartBeatReq(void 0);
    };
    proto.game.PacketReq.prototype.hasHeartBeatReq = function() {
      return null != jspb.Message.getField(this, 5);
    };
    proto.game.PacketReq.prototype.getContent = function() {
      return jspb.Message.getWrapperField(this, google_protobuf_any_pb.Any, 6);
    };
    proto.game.PacketReq.prototype.setContent = function(value) {
      jspb.Message.setWrapperField(this, 6, value);
    };
    proto.game.PacketReq.prototype.clearContent = function() {
      this.setContent(void 0);
    };
    proto.game.PacketReq.prototype.hasContent = function() {
      return null != jspb.Message.getField(this, 6);
    };
    proto.game.PacketReq.prototype.getDisconnectReq = function() {
      return jspb.Message.getWrapperField(this, proto.game.DisconnectReq, 7);
    };
    proto.game.PacketReq.prototype.setDisconnectReq = function(value) {
      jspb.Message.setWrapperField(this, 7, value);
    };
    proto.game.PacketReq.prototype.clearDisconnectReq = function() {
      this.setDisconnectReq(void 0);
    };
    proto.game.PacketReq.prototype.hasDisconnectReq = function() {
      return null != jspb.Message.getField(this, 7);
    };
    proto.game.PacketRes = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.game.PacketRes, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.game.PacketRes.displayName = "proto.game.PacketRes");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.game.PacketRes.prototype.toObject = function(opt_includeInstance) {
        return proto.game.PacketRes.toObject(opt_includeInstance, this);
      };
      proto.game.PacketRes.toObject = function(includeInstance, msg) {
        var f, obj = {
          serial: jspb.Message.getFieldWithDefault(msg, 1, 0),
          index: jspb.Message.getFieldWithDefault(msg, 2, 0),
          type: jspb.Message.getFieldWithDefault(msg, 3, 0),
          heartBeatRes: (f = msg.getHeartBeatRes()) && proto.game.HeartbeatRes.toObject(includeInstance, f),
          resumeRes: (f = msg.getResumeRes()) && proto.game.ResumeRes.toObject(includeInstance, f),
          content: (f = msg.getContent()) && google_protobuf_any_pb.Any.toObject(includeInstance, f),
          disconnectRes: (f = msg.getDisconnectRes()) && proto.game.DisconnectRes.toObject(includeInstance, f)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.game.PacketRes.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.game.PacketRes();
      return proto.game.PacketRes.deserializeBinaryFromReader(msg, reader);
    };
    proto.game.PacketRes.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readSint32();
          msg.setSerial(value);
          break;

         case 2:
          var value = reader.readSint32();
          msg.setIndex(value);
          break;

         case 3:
          var value = reader.readEnum();
          msg.setType(value);
          break;

         case 4:
          var value = new proto.game.HeartbeatRes();
          reader.readMessage(value, proto.game.HeartbeatRes.deserializeBinaryFromReader);
          msg.setHeartBeatRes(value);
          break;

         case 5:
          var value = new proto.game.ResumeRes();
          reader.readMessage(value, proto.game.ResumeRes.deserializeBinaryFromReader);
          msg.setResumeRes(value);
          break;

         case 6:
          var value = new google_protobuf_any_pb.Any();
          reader.readMessage(value, google_protobuf_any_pb.Any.deserializeBinaryFromReader);
          msg.setContent(value);
          break;

         case 7:
          var value = new proto.game.DisconnectRes();
          reader.readMessage(value, proto.game.DisconnectRes.deserializeBinaryFromReader);
          msg.setDisconnectRes(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.game.PacketRes.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.game.PacketRes.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.game.PacketRes.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getSerial();
      0 !== f && writer.writeSint32(1, f);
      f = message.getIndex();
      0 !== f && writer.writeSint32(2, f);
      f = message.getType();
      0 !== f && writer.writeEnum(3, f);
      f = message.getHeartBeatRes();
      null != f && writer.writeMessage(4, f, proto.game.HeartbeatRes.serializeBinaryToWriter);
      f = message.getResumeRes();
      null != f && writer.writeMessage(5, f, proto.game.ResumeRes.serializeBinaryToWriter);
      f = message.getContent();
      null != f && writer.writeMessage(6, f, google_protobuf_any_pb.Any.serializeBinaryToWriter);
      f = message.getDisconnectRes();
      null != f && writer.writeMessage(7, f, proto.game.DisconnectRes.serializeBinaryToWriter);
    };
    proto.game.PacketRes.prototype.getSerial = function() {
      return jspb.Message.getFieldWithDefault(this, 1, 0);
    };
    proto.game.PacketRes.prototype.setSerial = function(value) {
      jspb.Message.setProto3IntField(this, 1, value);
    };
    proto.game.PacketRes.prototype.getIndex = function() {
      return jspb.Message.getFieldWithDefault(this, 2, 0);
    };
    proto.game.PacketRes.prototype.setIndex = function(value) {
      jspb.Message.setProto3IntField(this, 2, value);
    };
    proto.game.PacketRes.prototype.getType = function() {
      return jspb.Message.getFieldWithDefault(this, 3, 0);
    };
    proto.game.PacketRes.prototype.setType = function(value) {
      jspb.Message.setProto3EnumField(this, 3, value);
    };
    proto.game.PacketRes.prototype.getHeartBeatRes = function() {
      return jspb.Message.getWrapperField(this, proto.game.HeartbeatRes, 4);
    };
    proto.game.PacketRes.prototype.setHeartBeatRes = function(value) {
      jspb.Message.setWrapperField(this, 4, value);
    };
    proto.game.PacketRes.prototype.clearHeartBeatRes = function() {
      this.setHeartBeatRes(void 0);
    };
    proto.game.PacketRes.prototype.hasHeartBeatRes = function() {
      return null != jspb.Message.getField(this, 4);
    };
    proto.game.PacketRes.prototype.getResumeRes = function() {
      return jspb.Message.getWrapperField(this, proto.game.ResumeRes, 5);
    };
    proto.game.PacketRes.prototype.setResumeRes = function(value) {
      jspb.Message.setWrapperField(this, 5, value);
    };
    proto.game.PacketRes.prototype.clearResumeRes = function() {
      this.setResumeRes(void 0);
    };
    proto.game.PacketRes.prototype.hasResumeRes = function() {
      return null != jspb.Message.getField(this, 5);
    };
    proto.game.PacketRes.prototype.getContent = function() {
      return jspb.Message.getWrapperField(this, google_protobuf_any_pb.Any, 6);
    };
    proto.game.PacketRes.prototype.setContent = function(value) {
      jspb.Message.setWrapperField(this, 6, value);
    };
    proto.game.PacketRes.prototype.clearContent = function() {
      this.setContent(void 0);
    };
    proto.game.PacketRes.prototype.hasContent = function() {
      return null != jspb.Message.getField(this, 6);
    };
    proto.game.PacketRes.prototype.getDisconnectRes = function() {
      return jspb.Message.getWrapperField(this, proto.game.DisconnectRes, 7);
    };
    proto.game.PacketRes.prototype.setDisconnectRes = function(value) {
      jspb.Message.setWrapperField(this, 7, value);
    };
    proto.game.PacketRes.prototype.clearDisconnectRes = function() {
      this.setDisconnectRes(void 0);
    };
    proto.game.PacketRes.prototype.hasDisconnectRes = function() {
      return null != jspb.Message.getField(this, 7);
    };
    proto.game.ResumeReq = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.game.ResumeReq, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.game.ResumeReq.displayName = "proto.game.ResumeReq");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.game.ResumeReq.prototype.toObject = function(opt_includeInstance) {
        return proto.game.ResumeReq.toObject(opt_includeInstance, this);
      };
      proto.game.ResumeReq.toObject = function(includeInstance, msg) {
        var f, obj = {
          baseReq: (f = msg.getBaseReq()) && base_base_pb.BaseReq.toObject(includeInstance, f)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.game.ResumeReq.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.game.ResumeReq();
      return proto.game.ResumeReq.deserializeBinaryFromReader(msg, reader);
    };
    proto.game.ResumeReq.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.BaseReq();
          reader.readMessage(value, base_base_pb.BaseReq.deserializeBinaryFromReader);
          msg.setBaseReq(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.game.ResumeReq.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.game.ResumeReq.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.game.ResumeReq.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getBaseReq();
      null != f && writer.writeMessage(1, f, base_base_pb.BaseReq.serializeBinaryToWriter);
    };
    proto.game.ResumeReq.prototype.getBaseReq = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.BaseReq, 1);
    };
    proto.game.ResumeReq.prototype.setBaseReq = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.game.ResumeReq.prototype.clearBaseReq = function() {
      this.setBaseReq(void 0);
    };
    proto.game.ResumeReq.prototype.hasBaseReq = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.game.ResumeRes = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.game.ResumeRes, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.game.ResumeRes.displayName = "proto.game.ResumeRes");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.game.ResumeRes.prototype.toObject = function(opt_includeInstance) {
        return proto.game.ResumeRes.toObject(opt_includeInstance, this);
      };
      proto.game.ResumeRes.toObject = function(includeInstance, msg) {
        var f, obj = {
          result: (f = msg.getResult()) && base_base_pb.Result.toObject(includeInstance, f)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.game.ResumeRes.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.game.ResumeRes();
      return proto.game.ResumeRes.deserializeBinaryFromReader(msg, reader);
    };
    proto.game.ResumeRes.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.Result();
          reader.readMessage(value, base_base_pb.Result.deserializeBinaryFromReader);
          msg.setResult(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.game.ResumeRes.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.game.ResumeRes.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.game.ResumeRes.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getResult();
      null != f && writer.writeMessage(1, f, base_base_pb.Result.serializeBinaryToWriter);
    };
    proto.game.ResumeRes.prototype.getResult = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.Result, 1);
    };
    proto.game.ResumeRes.prototype.setResult = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.game.ResumeRes.prototype.clearResult = function() {
      this.setResult(void 0);
    };
    proto.game.ResumeRes.prototype.hasResult = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.game.DisconnectReq = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.game.DisconnectReq, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.game.DisconnectReq.displayName = "proto.game.DisconnectReq");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.game.DisconnectReq.prototype.toObject = function(opt_includeInstance) {
        return proto.game.DisconnectReq.toObject(opt_includeInstance, this);
      };
      proto.game.DisconnectReq.toObject = function(includeInstance, msg) {
        var f, obj = {
          closeMsg: jspb.Message.getFieldWithDefault(msg, 1, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.game.DisconnectReq.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.game.DisconnectReq();
      return proto.game.DisconnectReq.deserializeBinaryFromReader(msg, reader);
    };
    proto.game.DisconnectReq.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readString();
          msg.setCloseMsg(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.game.DisconnectReq.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.game.DisconnectReq.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.game.DisconnectReq.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getCloseMsg();
      f.length > 0 && writer.writeString(1, f);
    };
    proto.game.DisconnectReq.prototype.getCloseMsg = function() {
      return jspb.Message.getFieldWithDefault(this, 1, "");
    };
    proto.game.DisconnectReq.prototype.setCloseMsg = function(value) {
      jspb.Message.setProto3StringField(this, 1, value);
    };
    proto.game.DisconnectRes = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.game.DisconnectRes, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.game.DisconnectRes.displayName = "proto.game.DisconnectRes");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.game.DisconnectRes.prototype.toObject = function(opt_includeInstance) {
        return proto.game.DisconnectRes.toObject(opt_includeInstance, this);
      };
      proto.game.DisconnectRes.toObject = function(includeInstance, msg) {
        var f, obj = {
          closeMsg: jspb.Message.getFieldWithDefault(msg, 1, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.game.DisconnectRes.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.game.DisconnectRes();
      return proto.game.DisconnectRes.deserializeBinaryFromReader(msg, reader);
    };
    proto.game.DisconnectRes.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readString();
          msg.setCloseMsg(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.game.DisconnectRes.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.game.DisconnectRes.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.game.DisconnectRes.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getCloseMsg();
      f.length > 0 && writer.writeString(1, f);
    };
    proto.game.DisconnectRes.prototype.getCloseMsg = function() {
      return jspb.Message.getFieldWithDefault(this, 1, "");
    };
    proto.game.DisconnectRes.prototype.setCloseMsg = function(value) {
      jspb.Message.setProto3StringField(this, 1, value);
    };
    proto.game.HeartbeatReq = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.game.HeartbeatReq, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.game.HeartbeatReq.displayName = "proto.game.HeartbeatReq");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.game.HeartbeatReq.prototype.toObject = function(opt_includeInstance) {
        return proto.game.HeartbeatReq.toObject(opt_includeInstance, this);
      };
      proto.game.HeartbeatReq.toObject = function(includeInstance, msg) {
        var f, obj = {
          cTime: jspb.Message.getFieldWithDefault(msg, 1, 0),
          sTime: jspb.Message.getFieldWithDefault(msg, 2, 0)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.game.HeartbeatReq.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.game.HeartbeatReq();
      return proto.game.HeartbeatReq.deserializeBinaryFromReader(msg, reader);
    };
    proto.game.HeartbeatReq.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readSint64();
          msg.setCTime(value);
          break;

         case 2:
          var value = reader.readSint64();
          msg.setSTime(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.game.HeartbeatReq.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.game.HeartbeatReq.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.game.HeartbeatReq.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getCTime();
      0 !== f && writer.writeSint64(1, f);
      f = message.getSTime();
      0 !== f && writer.writeSint64(2, f);
    };
    proto.game.HeartbeatReq.prototype.getCTime = function() {
      return jspb.Message.getFieldWithDefault(this, 1, 0);
    };
    proto.game.HeartbeatReq.prototype.setCTime = function(value) {
      jspb.Message.setProto3IntField(this, 1, value);
    };
    proto.game.HeartbeatReq.prototype.getSTime = function() {
      return jspb.Message.getFieldWithDefault(this, 2, 0);
    };
    proto.game.HeartbeatReq.prototype.setSTime = function(value) {
      jspb.Message.setProto3IntField(this, 2, value);
    };
    proto.game.HeartbeatRes = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.game.HeartbeatRes, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.game.HeartbeatRes.displayName = "proto.game.HeartbeatRes");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.game.HeartbeatRes.prototype.toObject = function(opt_includeInstance) {
        return proto.game.HeartbeatRes.toObject(opt_includeInstance, this);
      };
      proto.game.HeartbeatRes.toObject = function(includeInstance, msg) {
        var f, obj = {
          result: (f = msg.getResult()) && base_base_pb.Result.toObject(includeInstance, f),
          cTime: jspb.Message.getFieldWithDefault(msg, 2, 0),
          sTime: jspb.Message.getFieldWithDefault(msg, 3, 0),
          balance: jspb.Message.getFieldWithDefault(msg, 4, "0")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.game.HeartbeatRes.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.game.HeartbeatRes();
      return proto.game.HeartbeatRes.deserializeBinaryFromReader(msg, reader);
    };
    proto.game.HeartbeatRes.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.Result();
          reader.readMessage(value, base_base_pb.Result.deserializeBinaryFromReader);
          msg.setResult(value);
          break;

         case 2:
          var value = reader.readSint64();
          msg.setCTime(value);
          break;

         case 3:
          var value = reader.readSint64();
          msg.setSTime(value);
          break;

         case 4:
          var value = reader.readInt64String();
          msg.setBalance(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.game.HeartbeatRes.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.game.HeartbeatRes.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.game.HeartbeatRes.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getResult();
      null != f && writer.writeMessage(1, f, base_base_pb.Result.serializeBinaryToWriter);
      f = message.getCTime();
      0 !== f && writer.writeSint64(2, f);
      f = message.getSTime();
      0 !== f && writer.writeSint64(3, f);
      f = message.getBalance();
      0 !== parseInt(f, 10) && writer.writeInt64String(4, f);
    };
    proto.game.HeartbeatRes.prototype.getResult = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.Result, 1);
    };
    proto.game.HeartbeatRes.prototype.setResult = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.game.HeartbeatRes.prototype.clearResult = function() {
      this.setResult(void 0);
    };
    proto.game.HeartbeatRes.prototype.hasResult = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.game.HeartbeatRes.prototype.getCTime = function() {
      return jspb.Message.getFieldWithDefault(this, 2, 0);
    };
    proto.game.HeartbeatRes.prototype.setCTime = function(value) {
      jspb.Message.setProto3IntField(this, 2, value);
    };
    proto.game.HeartbeatRes.prototype.getSTime = function() {
      return jspb.Message.getFieldWithDefault(this, 3, 0);
    };
    proto.game.HeartbeatRes.prototype.setSTime = function(value) {
      jspb.Message.setProto3IntField(this, 3, value);
    };
    proto.game.HeartbeatRes.prototype.getBalance = function() {
      return jspb.Message.getFieldWithDefault(this, 4, "0");
    };
    proto.game.HeartbeatRes.prototype.setBalance = function(value) {
      jspb.Message.setProto3StringIntField(this, 4, value);
    };
    proto.game.MarqueeRes = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, proto.game.MarqueeRes.repeatedFields_, null);
    };
    goog.inherits(proto.game.MarqueeRes, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.game.MarqueeRes.displayName = "proto.game.MarqueeRes");
    proto.game.MarqueeRes.repeatedFields_ = [ 2 ];
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.game.MarqueeRes.prototype.toObject = function(opt_includeInstance) {
        return proto.game.MarqueeRes.toObject(opt_includeInstance, this);
      };
      proto.game.MarqueeRes.toObject = function(includeInstance, msg) {
        var f, obj = {
          result: (f = msg.getResult()) && base_base_pb.Result.toObject(includeInstance, f),
          messageList: jspb.Message.getRepeatedField(msg, 2)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.game.MarqueeRes.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.game.MarqueeRes();
      return proto.game.MarqueeRes.deserializeBinaryFromReader(msg, reader);
    };
    proto.game.MarqueeRes.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.Result();
          reader.readMessage(value, base_base_pb.Result.deserializeBinaryFromReader);
          msg.setResult(value);
          break;

         case 2:
          var value = reader.readString();
          msg.addMessage(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.game.MarqueeRes.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.game.MarqueeRes.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.game.MarqueeRes.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getResult();
      null != f && writer.writeMessage(1, f, base_base_pb.Result.serializeBinaryToWriter);
      f = message.getMessageList();
      f.length > 0 && writer.writeRepeatedString(2, f);
    };
    proto.game.MarqueeRes.prototype.getResult = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.Result, 1);
    };
    proto.game.MarqueeRes.prototype.setResult = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.game.MarqueeRes.prototype.clearResult = function() {
      this.setResult(void 0);
    };
    proto.game.MarqueeRes.prototype.hasResult = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.game.MarqueeRes.prototype.getMessageList = function() {
      return jspb.Message.getRepeatedField(this, 2);
    };
    proto.game.MarqueeRes.prototype.setMessageList = function(value) {
      jspb.Message.setField(this, 2, value || []);
    };
    proto.game.MarqueeRes.prototype.addMessage = function(value, opt_index) {
      jspb.Message.addToRepeatedField(this, 2, value, opt_index);
    };
    proto.game.MarqueeRes.prototype.clearMessageList = function() {
      this.setMessageList([]);
    };
    proto.game.KickRes = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.game.KickRes, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.game.KickRes.displayName = "proto.game.KickRes");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.game.KickRes.prototype.toObject = function(opt_includeInstance) {
        return proto.game.KickRes.toObject(opt_includeInstance, this);
      };
      proto.game.KickRes.toObject = function(includeInstance, msg) {
        var f, obj = {
          code: jspb.Message.getFieldWithDefault(msg, 1, 0),
          msg: jspb.Message.getFieldWithDefault(msg, 2, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.game.KickRes.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.game.KickRes();
      return proto.game.KickRes.deserializeBinaryFromReader(msg, reader);
    };
    proto.game.KickRes.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readEnum();
          msg.setCode(value);
          break;

         case 2:
          var value = reader.readString();
          msg.setMsg(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.game.KickRes.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.game.KickRes.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.game.KickRes.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getCode();
      0 !== f && writer.writeEnum(1, f);
      f = message.getMsg();
      f.length > 0 && writer.writeString(2, f);
    };
    proto.game.KickRes.prototype.getCode = function() {
      return jspb.Message.getFieldWithDefault(this, 1, 0);
    };
    proto.game.KickRes.prototype.setCode = function(value) {
      jspb.Message.setProto3EnumField(this, 1, value);
    };
    proto.game.KickRes.prototype.getMsg = function() {
      return jspb.Message.getFieldWithDefault(this, 2, "");
    };
    proto.game.KickRes.prototype.setMsg = function(value) {
      jspb.Message.setProto3StringField(this, 2, value);
    };
    proto.game.PacketType = {
      PACKET_TYPE: 0,
      HEARTBEAT: 1,
      RESUME: 2,
      CONTENT: 3,
      DISCONNECT: 4,
      EXTENSION: 5,
      AICONTENT: 6
    };
    goog.object.extend(exports, proto.game);
  }, {
    "game-protobuf/ts/base/base_pb.js": 28,
    "google-protobuf": 33,
    "google-protobuf/google/protobuf/any_pb.js": 34
  } ],
  31: [ function(require, module, exports) {
    var game_game_pb = require("../game/game_pb");
    var grpc = require("@improbable-eng/grpc-web").grpc;
    var Game = function() {
      function Game() {}
      Game.serviceName = "game.Game";
      return Game;
    }();
    Game.Streaming = {
      methodName: "Streaming",
      service: Game,
      requestStream: true,
      responseStream: true,
      requestType: game_game_pb.PacketReq,
      responseType: game_game_pb.PacketRes
    };
    exports.Game = Game;
    function GameClient(serviceHost, options) {
      this.serviceHost = serviceHost;
      this.options = options || {};
    }
    GameClient.prototype.streaming = function streaming(metadata) {
      var listeners = {
        data: [],
        end: [],
        status: []
      };
      var client = grpc.client(Game.Streaming, {
        host: this.serviceHost,
        metadata: metadata,
        transport: this.options.transport
      });
      client.onEnd(function(status, statusMessage, trailers) {
        listeners.end.forEach(function(handler) {
          handler();
        });
        listeners.status.forEach(function(handler) {
          handler({
            code: status,
            details: statusMessage,
            metadata: trailers
          });
        });
        listeners = null;
      });
      client.onMessage(function(message) {
        listeners.data.forEach(function(handler) {
          handler(message);
        });
      });
      client.start(metadata);
      return {
        on: function(type, handler) {
          listeners[type].push(handler);
          return this;
        },
        write: function(requestMessage) {
          client.send(requestMessage);
          return this;
        },
        end: function() {
          client.finishSend();
        },
        cancel: function() {
          listeners = null;
          client.close();
        }
      };
    };
    exports.GameClient = GameClient;
  }, {
    "../game/game_pb": 30,
    "@improbable-eng/grpc-web": 7
  } ],
  32: [ function(require, module, exports) {
    "use strict";
    var undefined;
    var $Error = require("es-errors");
    var $EvalError = require("es-errors/eval");
    var $RangeError = require("es-errors/range");
    var $ReferenceError = require("es-errors/ref");
    var $SyntaxError = require("es-errors/syntax");
    var $TypeError = require("es-errors/type");
    var $URIError = require("es-errors/uri");
    var $Function = Function;
    var getEvalledConstructor = function(expressionSyntax) {
      try {
        return $Function('"use strict"; return (' + expressionSyntax + ").constructor;")();
      } catch (e) {}
    };
    var $gOPD = Object.getOwnPropertyDescriptor;
    if ($gOPD) try {
      $gOPD({}, "");
    } catch (e) {
      $gOPD = null;
    }
    var throwTypeError = function() {
      throw new $TypeError();
    };
    var ThrowTypeError = $gOPD ? function() {
      try {
        arguments.callee;
        return throwTypeError;
      } catch (calleeThrows) {
        try {
          return $gOPD(arguments, "callee").get;
        } catch (gOPDthrows) {
          return throwTypeError;
        }
      }
    }() : throwTypeError;
    var hasSymbols = require("has-symbols")();
    var hasProto = require("has-proto")();
    var getProto = Object.getPrototypeOf || (hasProto ? function(x) {
      return x.__proto__;
    } : null);
    var needsEval = {};
    var TypedArray = "undefined" !== typeof Uint8Array && getProto ? getProto(Uint8Array) : undefined;
    var INTRINSICS = {
      __proto__: null,
      "%AggregateError%": "undefined" === typeof AggregateError ? undefined : AggregateError,
      "%Array%": Array,
      "%ArrayBuffer%": "undefined" === typeof ArrayBuffer ? undefined : ArrayBuffer,
      "%ArrayIteratorPrototype%": hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,
      "%AsyncFromSyncIteratorPrototype%": undefined,
      "%AsyncFunction%": needsEval,
      "%AsyncGenerator%": needsEval,
      "%AsyncGeneratorFunction%": needsEval,
      "%AsyncIteratorPrototype%": needsEval,
      "%Atomics%": "undefined" === typeof Atomics ? undefined : Atomics,
      "%BigInt%": "undefined" === typeof BigInt ? undefined : BigInt,
      "%BigInt64Array%": "undefined" === typeof BigInt64Array ? undefined : BigInt64Array,
      "%BigUint64Array%": "undefined" === typeof BigUint64Array ? undefined : BigUint64Array,
      "%Boolean%": Boolean,
      "%DataView%": "undefined" === typeof DataView ? undefined : DataView,
      "%Date%": Date,
      "%decodeURI%": decodeURI,
      "%decodeURIComponent%": decodeURIComponent,
      "%encodeURI%": encodeURI,
      "%encodeURIComponent%": encodeURIComponent,
      "%Error%": $Error,
      "%eval%": eval,
      "%EvalError%": $EvalError,
      "%Float32Array%": "undefined" === typeof Float32Array ? undefined : Float32Array,
      "%Float64Array%": "undefined" === typeof Float64Array ? undefined : Float64Array,
      "%FinalizationRegistry%": "undefined" === typeof FinalizationRegistry ? undefined : FinalizationRegistry,
      "%Function%": $Function,
      "%GeneratorFunction%": needsEval,
      "%Int8Array%": "undefined" === typeof Int8Array ? undefined : Int8Array,
      "%Int16Array%": "undefined" === typeof Int16Array ? undefined : Int16Array,
      "%Int32Array%": "undefined" === typeof Int32Array ? undefined : Int32Array,
      "%isFinite%": isFinite,
      "%isNaN%": isNaN,
      "%IteratorPrototype%": hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,
      "%JSON%": "object" === typeof JSON ? JSON : undefined,
      "%Map%": "undefined" === typeof Map ? undefined : Map,
      "%MapIteratorPrototype%": "undefined" !== typeof Map && hasSymbols && getProto ? getProto(new Map()[Symbol.iterator]()) : undefined,
      "%Math%": Math,
      "%Number%": Number,
      "%Object%": Object,
      "%parseFloat%": parseFloat,
      "%parseInt%": parseInt,
      "%Promise%": "undefined" === typeof Promise ? undefined : Promise,
      "%Proxy%": "undefined" === typeof Proxy ? undefined : Proxy,
      "%RangeError%": $RangeError,
      "%ReferenceError%": $ReferenceError,
      "%Reflect%": "undefined" === typeof Reflect ? undefined : Reflect,
      "%RegExp%": RegExp,
      "%Set%": "undefined" === typeof Set ? undefined : Set,
      "%SetIteratorPrototype%": "undefined" !== typeof Set && hasSymbols && getProto ? getProto(new Set()[Symbol.iterator]()) : undefined,
      "%SharedArrayBuffer%": "undefined" === typeof SharedArrayBuffer ? undefined : SharedArrayBuffer,
      "%String%": String,
      "%StringIteratorPrototype%": hasSymbols && getProto ? getProto(""[Symbol.iterator]()) : undefined,
      "%Symbol%": hasSymbols ? Symbol : undefined,
      "%SyntaxError%": $SyntaxError,
      "%ThrowTypeError%": ThrowTypeError,
      "%TypedArray%": TypedArray,
      "%TypeError%": $TypeError,
      "%Uint8Array%": "undefined" === typeof Uint8Array ? undefined : Uint8Array,
      "%Uint8ClampedArray%": "undefined" === typeof Uint8ClampedArray ? undefined : Uint8ClampedArray,
      "%Uint16Array%": "undefined" === typeof Uint16Array ? undefined : Uint16Array,
      "%Uint32Array%": "undefined" === typeof Uint32Array ? undefined : Uint32Array,
      "%URIError%": $URIError,
      "%WeakMap%": "undefined" === typeof WeakMap ? undefined : WeakMap,
      "%WeakRef%": "undefined" === typeof WeakRef ? undefined : WeakRef,
      "%WeakSet%": "undefined" === typeof WeakSet ? undefined : WeakSet
    };
    if (getProto) try {
      null.error;
    } catch (e) {
      var errorProto = getProto(getProto(e));
      INTRINSICS["%Error.prototype%"] = errorProto;
    }
    var doEval = function doEval(name) {
      var value;
      if ("%AsyncFunction%" === name) value = getEvalledConstructor("async function () {}"); else if ("%GeneratorFunction%" === name) value = getEvalledConstructor("function* () {}"); else if ("%AsyncGeneratorFunction%" === name) value = getEvalledConstructor("async function* () {}"); else if ("%AsyncGenerator%" === name) {
        var fn = doEval("%AsyncGeneratorFunction%");
        fn && (value = fn.prototype);
      } else if ("%AsyncIteratorPrototype%" === name) {
        var gen = doEval("%AsyncGenerator%");
        gen && getProto && (value = getProto(gen.prototype));
      }
      INTRINSICS[name] = value;
      return value;
    };
    var LEGACY_ALIASES = {
      __proto__: null,
      "%ArrayBufferPrototype%": [ "ArrayBuffer", "prototype" ],
      "%ArrayPrototype%": [ "Array", "prototype" ],
      "%ArrayProto_entries%": [ "Array", "prototype", "entries" ],
      "%ArrayProto_forEach%": [ "Array", "prototype", "forEach" ],
      "%ArrayProto_keys%": [ "Array", "prototype", "keys" ],
      "%ArrayProto_values%": [ "Array", "prototype", "values" ],
      "%AsyncFunctionPrototype%": [ "AsyncFunction", "prototype" ],
      "%AsyncGenerator%": [ "AsyncGeneratorFunction", "prototype" ],
      "%AsyncGeneratorPrototype%": [ "AsyncGeneratorFunction", "prototype", "prototype" ],
      "%BooleanPrototype%": [ "Boolean", "prototype" ],
      "%DataViewPrototype%": [ "DataView", "prototype" ],
      "%DatePrototype%": [ "Date", "prototype" ],
      "%ErrorPrototype%": [ "Error", "prototype" ],
      "%EvalErrorPrototype%": [ "EvalError", "prototype" ],
      "%Float32ArrayPrototype%": [ "Float32Array", "prototype" ],
      "%Float64ArrayPrototype%": [ "Float64Array", "prototype" ],
      "%FunctionPrototype%": [ "Function", "prototype" ],
      "%Generator%": [ "GeneratorFunction", "prototype" ],
      "%GeneratorPrototype%": [ "GeneratorFunction", "prototype", "prototype" ],
      "%Int8ArrayPrototype%": [ "Int8Array", "prototype" ],
      "%Int16ArrayPrototype%": [ "Int16Array", "prototype" ],
      "%Int32ArrayPrototype%": [ "Int32Array", "prototype" ],
      "%JSONParse%": [ "JSON", "parse" ],
      "%JSONStringify%": [ "JSON", "stringify" ],
      "%MapPrototype%": [ "Map", "prototype" ],
      "%NumberPrototype%": [ "Number", "prototype" ],
      "%ObjectPrototype%": [ "Object", "prototype" ],
      "%ObjProto_toString%": [ "Object", "prototype", "toString" ],
      "%ObjProto_valueOf%": [ "Object", "prototype", "valueOf" ],
      "%PromisePrototype%": [ "Promise", "prototype" ],
      "%PromiseProto_then%": [ "Promise", "prototype", "then" ],
      "%Promise_all%": [ "Promise", "all" ],
      "%Promise_reject%": [ "Promise", "reject" ],
      "%Promise_resolve%": [ "Promise", "resolve" ],
      "%RangeErrorPrototype%": [ "RangeError", "prototype" ],
      "%ReferenceErrorPrototype%": [ "ReferenceError", "prototype" ],
      "%RegExpPrototype%": [ "RegExp", "prototype" ],
      "%SetPrototype%": [ "Set", "prototype" ],
      "%SharedArrayBufferPrototype%": [ "SharedArrayBuffer", "prototype" ],
      "%StringPrototype%": [ "String", "prototype" ],
      "%SymbolPrototype%": [ "Symbol", "prototype" ],
      "%SyntaxErrorPrototype%": [ "SyntaxError", "prototype" ],
      "%TypedArrayPrototype%": [ "TypedArray", "prototype" ],
      "%TypeErrorPrototype%": [ "TypeError", "prototype" ],
      "%Uint8ArrayPrototype%": [ "Uint8Array", "prototype" ],
      "%Uint8ClampedArrayPrototype%": [ "Uint8ClampedArray", "prototype" ],
      "%Uint16ArrayPrototype%": [ "Uint16Array", "prototype" ],
      "%Uint32ArrayPrototype%": [ "Uint32Array", "prototype" ],
      "%URIErrorPrototype%": [ "URIError", "prototype" ],
      "%WeakMapPrototype%": [ "WeakMap", "prototype" ],
      "%WeakSetPrototype%": [ "WeakSet", "prototype" ]
    };
    var bind = require("function-bind");
    var hasOwn = require("hasown");
    var $concat = bind.call(Function.call, Array.prototype.concat);
    var $spliceApply = bind.call(Function.apply, Array.prototype.splice);
    var $replace = bind.call(Function.call, String.prototype.replace);
    var $strSlice = bind.call(Function.call, String.prototype.slice);
    var $exec = bind.call(Function.call, RegExp.prototype.exec);
    var rePropName = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;
    var reEscapeChar = /\\(\\)?/g;
    var stringToPath = function stringToPath(string) {
      var first = $strSlice(string, 0, 1);
      var last = $strSlice(string, -1);
      if ("%" === first && "%" !== last) throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");
      if ("%" === last && "%" !== first) throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");
      var result = [];
      $replace(string, rePropName, function(match, number, quote, subString) {
        result[result.length] = quote ? $replace(subString, reEscapeChar, "$1") : number || match;
      });
      return result;
    };
    var getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {
      var intrinsicName = name;
      var alias;
      if (hasOwn(LEGACY_ALIASES, intrinsicName)) {
        alias = LEGACY_ALIASES[intrinsicName];
        intrinsicName = "%" + alias[0] + "%";
      }
      if (hasOwn(INTRINSICS, intrinsicName)) {
        var value = INTRINSICS[intrinsicName];
        value === needsEval && (value = doEval(intrinsicName));
        if ("undefined" === typeof value && !allowMissing) throw new $TypeError("intrinsic " + name + " exists, but is not available. Please file an issue!");
        return {
          alias: alias,
          name: intrinsicName,
          value: value
        };
      }
      throw new $SyntaxError("intrinsic " + name + " does not exist!");
    };
    module.exports = function GetIntrinsic(name, allowMissing) {
      if ("string" !== typeof name || 0 === name.length) throw new $TypeError("intrinsic name must be a non-empty string");
      if (arguments.length > 1 && "boolean" !== typeof allowMissing) throw new $TypeError('"allowMissing" argument must be a boolean');
      if (null === $exec(/^%?[^%]*%?$/, name)) throw new $SyntaxError("`%` may not be present anywhere but at the beginning and end of the intrinsic name");
      var parts = stringToPath(name);
      var intrinsicBaseName = parts.length > 0 ? parts[0] : "";
      var intrinsic = getBaseIntrinsic("%" + intrinsicBaseName + "%", allowMissing);
      var intrinsicRealName = intrinsic.name;
      var value = intrinsic.value;
      var skipFurtherCaching = false;
      var alias = intrinsic.alias;
      if (alias) {
        intrinsicBaseName = alias[0];
        $spliceApply(parts, $concat([ 0, 1 ], alias));
      }
      for (var i = 1, isOwn = true; i < parts.length; i += 1) {
        var part = parts[i];
        var first = $strSlice(part, 0, 1);
        var last = $strSlice(part, -1);
        if (('"' === first || "'" === first || "`" === first || '"' === last || "'" === last || "`" === last) && first !== last) throw new $SyntaxError("property names with quotes must have matching quotes");
        "constructor" !== part && isOwn || (skipFurtherCaching = true);
        intrinsicBaseName += "." + part;
        intrinsicRealName = "%" + intrinsicBaseName + "%";
        if (hasOwn(INTRINSICS, intrinsicRealName)) value = INTRINSICS[intrinsicRealName]; else if (null != value) {
          if (!(part in value)) {
            if (!allowMissing) throw new $TypeError("base intrinsic for " + name + " exists, but the property is not available.");
            return;
          }
          if ($gOPD && i + 1 >= parts.length) {
            var desc = $gOPD(value, part);
            isOwn = !!desc;
            value = isOwn && "get" in desc && !("originalValue" in desc.get) ? desc.get : value[part];
          } else {
            isOwn = hasOwn(value, part);
            value = value[part];
          }
          isOwn && !skipFurtherCaching && (INTRINSICS[intrinsicRealName] = value);
        }
      }
      return value;
    };
  }, {
    "es-errors": 18,
    "es-errors/eval": 17,
    "es-errors/range": 19,
    "es-errors/ref": 20,
    "es-errors/syntax": 21,
    "es-errors/type": 22,
    "es-errors/uri": 23,
    "function-bind": 26,
    "has-proto": 37,
    "has-symbols": 38,
    hasown: 41
  } ],
  33: [ function(require, module, exports) {
    (function(global, Buffer) {
      var $jscomp = {
        scope: {},
        getGlobal: function(a) {
          return window;
        }
      };
      $jscomp.global = $jscomp.getGlobal(this);
      $jscomp.initSymbol = function() {
        $jscomp.global.Symbol || ($jscomp.global.Symbol = $jscomp.Symbol);
        $jscomp.initSymbol = function() {};
      };
      $jscomp.symbolCounter_ = 0;
      $jscomp.Symbol = function(a) {
        return "jscomp_symbol_" + a + $jscomp.symbolCounter_++;
      };
      $jscomp.initSymbolIterator = function() {
        $jscomp.initSymbol();
        $jscomp.global.Symbol.iterator || ($jscomp.global.Symbol.iterator = $jscomp.global.Symbol("iterator"));
        $jscomp.initSymbolIterator = function() {};
      };
      $jscomp.makeIterator = function(a) {
        $jscomp.initSymbolIterator();
        $jscomp.initSymbol();
        $jscomp.initSymbolIterator();
        var b = a[Symbol.iterator];
        if (b) return b.call(a);
        var c = 0;
        return {
          next: function() {
            return c < a.length ? {
              done: !1,
              value: a[c++]
            } : {
              done: !0
            };
          }
        };
      };
      $jscomp.arrayFromIterator = function(a) {
        for (var b, c = []; !(b = a.next()).done; ) c.push(b.value);
        return c;
      };
      $jscomp.arrayFromIterable = function(a) {
        return a instanceof Array ? a : $jscomp.arrayFromIterator($jscomp.makeIterator(a));
      };
      $jscomp.inherits = function(a, b) {
        function c() {}
        c.prototype = b.prototype;
        a.prototype = new c();
        a.prototype.constructor = a;
        for (var d in b) if (Object.defineProperties) {
          var e = Object.getOwnPropertyDescriptor(b, d);
          e && Object.defineProperty(a, d, e);
        } else a[d] = b[d];
      };
      $jscomp.array = $jscomp.array || {};
      $jscomp.iteratorFromArray = function(a, b) {
        $jscomp.initSymbolIterator();
        a instanceof String && (a += "");
        var c = 0, d = {
          next: function() {
            if (c < a.length) {
              var e = c++;
              return {
                value: b(e, a[e]),
                done: !1
              };
            }
            d.next = function() {
              return {
                done: !0,
                value: void 0
              };
            };
            return d.next();
          }
        };
        $jscomp.initSymbol();
        $jscomp.initSymbolIterator();
        d[Symbol.iterator] = function() {
          return d;
        };
        return d;
      };
      $jscomp.findInternal = function(a, b, c) {
        a instanceof String && (a = String(a));
        for (var d = a.length, e = 0; e < d; e++) {
          var f = a[e];
          if (b.call(c, f, e, a)) return {
            i: e,
            v: f
          };
        }
        return {
          i: -1,
          v: void 0
        };
      };
      $jscomp.array.from = function(a, b, c) {
        $jscomp.initSymbolIterator();
        b = null != b ? b : function(a) {
          return a;
        };
        var d = [];
        $jscomp.initSymbol();
        $jscomp.initSymbolIterator();
        var e = a[Symbol.iterator];
        "function" == typeof e && (a = e.call(a));
        if ("function" == typeof a.next) for (;!(e = a.next()).done; ) d.push(b.call(c, e.value)); else for (var e = a.length, f = 0; f < e; f++) d.push(b.call(c, a[f]));
        return d;
      };
      $jscomp.array.of = function(a) {
        return $jscomp.array.from(arguments);
      };
      $jscomp.array.entries = function() {
        return $jscomp.iteratorFromArray(this, function(a, b) {
          return [ a, b ];
        });
      };
      $jscomp.array.installHelper_ = function(a, b) {
        !Array.prototype[a] && Object.defineProperties && Object.defineProperty && Object.defineProperty(Array.prototype, a, {
          configurable: !0,
          enumerable: !1,
          writable: !0,
          value: b
        });
      };
      $jscomp.array.entries$install = function() {
        $jscomp.array.installHelper_("entries", $jscomp.array.entries);
      };
      $jscomp.array.keys = function() {
        return $jscomp.iteratorFromArray(this, function(a) {
          return a;
        });
      };
      $jscomp.array.keys$install = function() {
        $jscomp.array.installHelper_("keys", $jscomp.array.keys);
      };
      $jscomp.array.values = function() {
        return $jscomp.iteratorFromArray(this, function(a, b) {
          return b;
        });
      };
      $jscomp.array.values$install = function() {
        $jscomp.array.installHelper_("values", $jscomp.array.values);
      };
      $jscomp.array.copyWithin = function(a, b, c) {
        var d = this.length;
        a = Number(a);
        b = Number(b);
        c = Number(null != c ? c : d);
        if (a < b) for (c = Math.min(c, d); b < c; ) b in this ? this[a++] = this[b++] : (delete this[a++], 
        b++); else for (c = Math.min(c, d + b - a), a += c - b; c > b; ) --c in this ? this[--a] = this[c] : delete this[a];
        return this;
      };
      $jscomp.array.copyWithin$install = function() {
        $jscomp.array.installHelper_("copyWithin", $jscomp.array.copyWithin);
      };
      $jscomp.array.fill = function(a, b, c) {
        var d = this.length || 0;
        0 > b && (b = Math.max(0, d + b));
        (null == c || c > d) && (c = d);
        c = Number(c);
        0 > c && (c = Math.max(0, d + c));
        for (b = Number(b || 0); b < c; b++) this[b] = a;
        return this;
      };
      $jscomp.array.fill$install = function() {
        $jscomp.array.installHelper_("fill", $jscomp.array.fill);
      };
      $jscomp.array.find = function(a, b) {
        return $jscomp.findInternal(this, a, b).v;
      };
      $jscomp.array.find$install = function() {
        $jscomp.array.installHelper_("find", $jscomp.array.find);
      };
      $jscomp.array.findIndex = function(a, b) {
        return $jscomp.findInternal(this, a, b).i;
      };
      $jscomp.array.findIndex$install = function() {
        $jscomp.array.installHelper_("findIndex", $jscomp.array.findIndex);
      };
      $jscomp.ASSUME_NO_NATIVE_MAP = !1;
      $jscomp.Map$isConformant = function() {
        if ($jscomp.ASSUME_NO_NATIVE_MAP) return !1;
        var a = $jscomp.global.Map;
        if (!a || !a.prototype.entries || "function" != typeof Object.seal) return !1;
        try {
          var b = Object.seal({
            x: 4
          }), c = new a($jscomp.makeIterator([ [ b, "s" ] ]));
          if ("s" != c.get(b) || 1 != c.size || c.get({
            x: 4
          }) || c.set({
            x: 4
          }, "t") != c || 2 != c.size) return !1;
          var d = c.entries(), e = d.next();
          if (e.done || e.value[0] != b || "s" != e.value[1]) return !1;
          e = d.next();
          return !(e.done || 4 != e.value[0].x || "t" != e.value[1] || !d.next().done);
        } catch (f) {
          return !1;
        }
      };
      $jscomp.Map = function(a) {
        this.data_ = {};
        this.head_ = $jscomp.Map.createHead();
        this.size = 0;
        if (a) {
          a = $jscomp.makeIterator(a);
          for (var b; !(b = a.next()).done; ) b = b.value, this.set(b[0], b[1]);
        }
      };
      $jscomp.Map.prototype.set = function(a, b) {
        var c = $jscomp.Map.maybeGetEntry(this, a);
        c.list || (c.list = this.data_[c.id] = []);
        c.entry ? c.entry.value = b : (c.entry = {
          next: this.head_,
          previous: this.head_.previous,
          head: this.head_,
          key: a,
          value: b
        }, c.list.push(c.entry), this.head_.previous.next = c.entry, this.head_.previous = c.entry, 
        this.size++);
        return this;
      };
      $jscomp.Map.prototype["delete"] = function(a) {
        a = $jscomp.Map.maybeGetEntry(this, a);
        return !(!a.entry || !a.list) && (a.list.splice(a.index, 1), a.list.length || delete this.data_[a.id], 
        a.entry.previous.next = a.entry.next, a.entry.next.previous = a.entry.previous, 
        a.entry.head = null, this.size--, !0);
      };
      $jscomp.Map.prototype.clear = function() {
        this.data_ = {};
        this.head_ = this.head_.previous = $jscomp.Map.createHead();
        this.size = 0;
      };
      $jscomp.Map.prototype.has = function(a) {
        return !!$jscomp.Map.maybeGetEntry(this, a).entry;
      };
      $jscomp.Map.prototype.get = function(a) {
        return (a = $jscomp.Map.maybeGetEntry(this, a).entry) && a.value;
      };
      $jscomp.Map.prototype.entries = function() {
        return $jscomp.Map.makeIterator_(this, function(a) {
          return [ a.key, a.value ];
        });
      };
      $jscomp.Map.prototype.keys = function() {
        return $jscomp.Map.makeIterator_(this, function(a) {
          return a.key;
        });
      };
      $jscomp.Map.prototype.values = function() {
        return $jscomp.Map.makeIterator_(this, function(a) {
          return a.value;
        });
      };
      $jscomp.Map.prototype.forEach = function(a, b) {
        for (var c = this.entries(), d; !(d = c.next()).done; ) d = d.value, a.call(b, d[1], d[0], this);
      };
      $jscomp.Map.maybeGetEntry = function(a, b) {
        var c = $jscomp.Map.getId(b), d = a.data_[c];
        if (d && Object.prototype.hasOwnProperty.call(a.data_, c)) for (var e = 0; e < d.length; e++) {
          var f = d[e];
          if (b !== b && f.key !== f.key || b === f.key) return {
            id: c,
            list: d,
            index: e,
            entry: f
          };
        }
        return {
          id: c,
          list: d,
          index: -1,
          entry: void 0
        };
      };
      $jscomp.Map.makeIterator_ = function(a, b) {
        var c = a.head_, d = {
          next: function() {
            if (c) {
              for (;c.head != a.head_; ) c = c.previous;
              for (;c.next != c.head; ) return c = c.next, {
                done: !1,
                value: b(c)
              };
              c = null;
            }
            return {
              done: !0,
              value: void 0
            };
          }
        };
        $jscomp.initSymbol();
        $jscomp.initSymbolIterator();
        d[Symbol.iterator] = function() {
          return d;
        };
        return d;
      };
      $jscomp.Map.mapIndex_ = 0;
      $jscomp.Map.createHead = function() {
        var a = {};
        return a.previous = a.next = a.head = a;
      };
      $jscomp.Map.getId = function(a) {
        if (!(a instanceof Object)) return "p_" + a;
        if (!($jscomp.Map.idKey in a)) try {
          $jscomp.Map.defineProperty(a, $jscomp.Map.idKey, {
            value: ++$jscomp.Map.mapIndex_
          });
        } catch (b) {}
        return $jscomp.Map.idKey in a ? a[$jscomp.Map.idKey] : "o_ " + a;
      };
      $jscomp.Map.defineProperty = Object.defineProperty ? function(a, b, c) {
        Object.defineProperty(a, b, {
          value: String(c)
        });
      } : function(a, b, c) {
        a[b] = String(c);
      };
      $jscomp.Map.Entry = function() {};
      $jscomp.Map$install = function() {
        $jscomp.initSymbol();
        $jscomp.initSymbolIterator();
        $jscomp.Map$isConformant() ? $jscomp.Map = $jscomp.global.Map : ($jscomp.initSymbol(), 
        $jscomp.initSymbolIterator(), $jscomp.Map.prototype[Symbol.iterator] = $jscomp.Map.prototype.entries, 
        $jscomp.initSymbol(), $jscomp.Map.idKey = Symbol("map-id-key"), $jscomp.Map$install = function() {});
      };
      $jscomp.math = $jscomp.math || {};
      $jscomp.math.clz32 = function(a) {
        a = Number(a) >>> 0;
        if (0 === a) return 32;
        var b = 0;
        0 === (4294901760 & a) && (a <<= 16, b += 16);
        0 === (4278190080 & a) && (a <<= 8, b += 8);
        0 === (4026531840 & a) && (a <<= 4, b += 4);
        0 === (3221225472 & a) && (a <<= 2, b += 2);
        0 === (2147483648 & a) && b++;
        return b;
      };
      $jscomp.math.imul = function(a, b) {
        a = Number(a);
        b = Number(b);
        var c = 65535 & a, d = 65535 & b;
        return c * d + ((a >>> 16 & 65535) * d + c * (b >>> 16 & 65535) << 16 >>> 0) | 0;
      };
      $jscomp.math.sign = function(a) {
        a = Number(a);
        return 0 === a || isNaN(a) ? a : 0 < a ? 1 : -1;
      };
      $jscomp.math.log10 = function(a) {
        return Math.log(a) / Math.LN10;
      };
      $jscomp.math.log2 = function(a) {
        return Math.log(a) / Math.LN2;
      };
      $jscomp.math.log1p = function(a) {
        a = Number(a);
        if (.25 > a && -.25 < a) {
          for (var b = a, c = 1, d = a, e = 0, f = 1; e != d; ) b *= a, f *= -1, d = (e = d) + f * b / ++c;
          return d;
        }
        return Math.log(1 + a);
      };
      $jscomp.math.expm1 = function(a) {
        a = Number(a);
        if (.25 > a && -.25 < a) {
          for (var b = a, c = 1, d = a, e = 0; e != d; ) b *= a / ++c, d = (e = d) + b;
          return d;
        }
        return Math.exp(a) - 1;
      };
      $jscomp.math.cosh = function(a) {
        a = Number(a);
        return (Math.exp(a) + Math.exp(-a)) / 2;
      };
      $jscomp.math.sinh = function(a) {
        a = Number(a);
        return 0 === a ? a : (Math.exp(a) - Math.exp(-a)) / 2;
      };
      $jscomp.math.tanh = function(a) {
        a = Number(a);
        if (0 === a) return a;
        var b = Math.exp(-2 * Math.abs(a)), b = (1 - b) / (1 + b);
        return 0 > a ? -b : b;
      };
      $jscomp.math.acosh = function(a) {
        a = Number(a);
        return Math.log(a + Math.sqrt(a * a - 1));
      };
      $jscomp.math.asinh = function(a) {
        a = Number(a);
        if (0 === a) return a;
        var b = Math.log(Math.abs(a) + Math.sqrt(a * a + 1));
        return 0 > a ? -b : b;
      };
      $jscomp.math.atanh = function(a) {
        a = Number(a);
        return ($jscomp.math.log1p(a) - $jscomp.math.log1p(-a)) / 2;
      };
      $jscomp.math.hypot = function(a, b, c) {
        a = Number(a);
        b = Number(b);
        var d, e, f, g = Math.max(Math.abs(a), Math.abs(b));
        for (d = 2; d < arguments.length; d++) g = Math.max(g, Math.abs(arguments[d]));
        if (1e100 < g || 1e-100 > g) {
          a /= g;
          b /= g;
          f = a * a + b * b;
          for (d = 2; d < arguments.length; d++) e = Number(arguments[d]) / g, f += e * e;
          return Math.sqrt(f) * g;
        }
        f = a * a + b * b;
        for (d = 2; d < arguments.length; d++) e = Number(arguments[d]), f += e * e;
        return Math.sqrt(f);
      };
      $jscomp.math.trunc = function(a) {
        a = Number(a);
        if (isNaN(a) || Infinity === a || -Infinity === a || 0 === a) return a;
        var b = Math.floor(Math.abs(a));
        return 0 > a ? -b : b;
      };
      $jscomp.math.cbrt = function(a) {
        if (0 === a) return a;
        a = Number(a);
        var b = Math.pow(Math.abs(a), 1 / 3);
        return 0 > a ? -b : b;
      };
      $jscomp.number = $jscomp.number || {};
      $jscomp.number.isFinite = function(a) {
        return "number" === typeof a && (!isNaN(a) && Infinity !== a && -Infinity !== a);
      };
      $jscomp.number.isInteger = function(a) {
        return !!$jscomp.number.isFinite(a) && a === Math.floor(a);
      };
      $jscomp.number.isNaN = function(a) {
        return "number" === typeof a && isNaN(a);
      };
      $jscomp.number.isSafeInteger = function(a) {
        return $jscomp.number.isInteger(a) && Math.abs(a) <= $jscomp.number.MAX_SAFE_INTEGER;
      };
      $jscomp.number.EPSILON = function() {
        return Math.pow(2, -52);
      }();
      $jscomp.number.MAX_SAFE_INTEGER = function() {
        return 9007199254740991;
      }();
      $jscomp.number.MIN_SAFE_INTEGER = function() {
        return -9007199254740991;
      }();
      $jscomp.object = $jscomp.object || {};
      $jscomp.object.assign = function(a, b) {
        for (var c = 1; c < arguments.length; c++) {
          var d = arguments[c];
          if (d) for (var e in d) Object.prototype.hasOwnProperty.call(d, e) && (a[e] = d[e]);
        }
        return a;
      };
      $jscomp.object.is = function(a, b) {
        return a === b ? 0 !== a || 1 / a === 1 / b : a !== a && b !== b;
      };
      $jscomp.ASSUME_NO_NATIVE_SET = !1;
      $jscomp.Set$isConformant = function() {
        if ($jscomp.ASSUME_NO_NATIVE_SET) return !1;
        var a = $jscomp.global.Set;
        if (!a || !a.prototype.entries || "function" != typeof Object.seal) return !1;
        try {
          var b = Object.seal({
            x: 4
          }), c = new a($jscomp.makeIterator([ b ]));
          if (!c.has(b) || 1 != c.size || c.add(b) != c || 1 != c.size || c.add({
            x: 4
          }) != c || 2 != c.size) return !1;
          var d = c.entries(), e = d.next();
          if (e.done || e.value[0] != b || e.value[1] != b) return !1;
          e = d.next();
          return !e.done && e.value[0] != b && 4 == e.value[0].x && e.value[1] == e.value[0] && d.next().done;
        } catch (f) {
          return !1;
        }
      };
      $jscomp.Set = function(a) {
        this.map_ = new $jscomp.Map();
        if (a) {
          a = $jscomp.makeIterator(a);
          for (var b; !(b = a.next()).done; ) this.add(b.value);
        }
        this.size = this.map_.size;
      };
      $jscomp.Set.prototype.add = function(a) {
        this.map_.set(a, a);
        this.size = this.map_.size;
        return this;
      };
      $jscomp.Set.prototype["delete"] = function(a) {
        a = this.map_["delete"](a);
        this.size = this.map_.size;
        return a;
      };
      $jscomp.Set.prototype.clear = function() {
        this.map_.clear();
        this.size = 0;
      };
      $jscomp.Set.prototype.has = function(a) {
        return this.map_.has(a);
      };
      $jscomp.Set.prototype.entries = function() {
        return this.map_.entries();
      };
      $jscomp.Set.prototype.values = function() {
        return this.map_.values();
      };
      $jscomp.Set.prototype.forEach = function(a, b) {
        var c = this;
        this.map_.forEach(function(d) {
          return a.call(b, d, d, c);
        });
      };
      $jscomp.Set$install = function() {
        $jscomp.Map$install();
        $jscomp.Set$isConformant() ? $jscomp.Set = $jscomp.global.Set : ($jscomp.initSymbol(), 
        $jscomp.initSymbolIterator(), $jscomp.Set.prototype[Symbol.iterator] = $jscomp.Set.prototype.values, 
        $jscomp.Set$install = function() {});
      };
      $jscomp.string = $jscomp.string || {};
      $jscomp.checkStringArgs = function(a, b, c) {
        if (null == a) throw new TypeError("The 'this' value for String.prototype." + c + " must not be null or undefined");
        if (b instanceof RegExp) throw new TypeError("First argument to String.prototype." + c + " must not be a regular expression");
        return a + "";
      };
      $jscomp.string.fromCodePoint = function(a) {
        for (var b = "", c = 0; c < arguments.length; c++) {
          var d = Number(arguments[c]);
          if (0 > d || 1114111 < d || d !== Math.floor(d)) throw new RangeError("invalid_code_point " + d);
          65535 >= d ? b += String.fromCharCode(d) : (d -= 65536, b += String.fromCharCode(d >>> 10 & 1023 | 55296), 
          b += String.fromCharCode(1023 & d | 56320));
        }
        return b;
      };
      $jscomp.string.repeat = function(a) {
        var b = $jscomp.checkStringArgs(this, null, "repeat");
        if (0 > a || 1342177279 < a) throw new RangeError("Invalid count value");
        a |= 0;
        for (var c = ""; a; ) (1 & a && (c += b), a >>>= 1) && (b += b);
        return c;
      };
      $jscomp.string.repeat$install = function() {
        String.prototype.repeat || (String.prototype.repeat = $jscomp.string.repeat);
      };
      $jscomp.string.codePointAt = function(a) {
        var b = $jscomp.checkStringArgs(this, null, "codePointAt"), c = b.length;
        a = Number(a) || 0;
        if (0 <= a && a < c) {
          a |= 0;
          var d = b.charCodeAt(a);
          if (55296 > d || 56319 < d || a + 1 === c) return d;
          a = b.charCodeAt(a + 1);
          return 56320 > a || 57343 < a ? d : 1024 * (d - 55296) + a + 9216;
        }
      };
      $jscomp.string.codePointAt$install = function() {
        String.prototype.codePointAt || (String.prototype.codePointAt = $jscomp.string.codePointAt);
      };
      $jscomp.string.includes = function(a, b) {
        return -1 !== $jscomp.checkStringArgs(this, a, "includes").indexOf(a, b || 0);
      };
      $jscomp.string.includes$install = function() {
        String.prototype.includes || (String.prototype.includes = $jscomp.string.includes);
      };
      $jscomp.string.startsWith = function(a, b) {
        var c = $jscomp.checkStringArgs(this, a, "startsWith");
        a += "";
        for (var d = c.length, e = a.length, f = Math.max(0, Math.min(0 | b, c.length)), g = 0; g < e && f < d; ) if (c[f++] != a[g++]) return !1;
        return g >= e;
      };
      $jscomp.string.startsWith$install = function() {
        String.prototype.startsWith || (String.prototype.startsWith = $jscomp.string.startsWith);
      };
      $jscomp.string.endsWith = function(a, b) {
        var c = $jscomp.checkStringArgs(this, a, "endsWith");
        a += "";
        void 0 === b && (b = c.length);
        for (var d = Math.max(0, Math.min(0 | b, c.length)), e = a.length; 0 < e && 0 < d; ) if (c[--d] != a[--e]) return !1;
        return 0 >= e;
      };
      $jscomp.string.endsWith$install = function() {
        String.prototype.endsWith || (String.prototype.endsWith = $jscomp.string.endsWith);
      };
      var COMPILED = !0, goog = goog || {};
      goog.global = $jscomp.getGlobal();
      goog.isDef = function(a) {
        return void 0 !== a;
      };
      goog.exportPath_ = function(a, b, c) {
        a = a.split(".");
        c = c || goog.global;
        a[0] in c || !c.execScript || c.execScript("var " + a[0]);
        for (var d; a.length && (d = a.shift()); ) !a.length && goog.isDef(b) ? c[d] = b : c = c[d] ? c[d] : c[d] = {};
      };
      goog.define = function(a, b) {
        var c = b;
        COMPILED || (goog.global.CLOSURE_UNCOMPILED_DEFINES && Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES, a) ? c = goog.global.CLOSURE_UNCOMPILED_DEFINES[a] : goog.global.CLOSURE_DEFINES && Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES, a) && (c = goog.global.CLOSURE_DEFINES[a]));
        goog.exportPath_(a, c);
      };
      goog.DEBUG = !0;
      goog.LOCALE = "en";
      goog.TRUSTED_SITE = !0;
      goog.STRICT_MODE_COMPATIBLE = !1;
      goog.DISALLOW_TEST_ONLY_CODE = COMPILED && !goog.DEBUG;
      goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING = !1;
      goog.provide = function(a) {
        if (!COMPILED && goog.isProvided_(a)) throw Error('Namespace "' + a + '" already declared.');
        goog.constructNamespace_(a);
      };
      goog.constructNamespace_ = function(a, b) {
        if (!COMPILED) {
          delete goog.implicitNamespaces_[a];
          for (var c = a; (c = c.substring(0, c.lastIndexOf("."))) && !goog.getObjectByName(c); ) goog.implicitNamespaces_[c] = !0;
        }
        goog.exportPath_(a, b);
      };
      goog.VALID_MODULE_RE_ = /^[a-zA-Z_$][a-zA-Z0-9._$]*$/;
      goog.module = function(a) {
        if (!goog.isString(a) || !a || -1 == a.search(goog.VALID_MODULE_RE_)) throw Error("Invalid module identifier");
        if (!goog.isInModuleLoader_()) throw Error("Module " + a + " has been loaded incorrectly.");
        if (goog.moduleLoaderState_.moduleName) throw Error("goog.module may only be called once per module.");
        goog.moduleLoaderState_.moduleName = a;
        if (!COMPILED) {
          if (goog.isProvided_(a)) throw Error('Namespace "' + a + '" already declared.');
          delete goog.implicitNamespaces_[a];
        }
      };
      goog.module.get = function(a) {
        return goog.module.getInternal_(a);
      };
      goog.module.getInternal_ = function(a) {
        if (!COMPILED) return goog.isProvided_(a) ? a in goog.loadedModules_ ? goog.loadedModules_[a] : goog.getObjectByName(a) : null;
      };
      goog.moduleLoaderState_ = null;
      goog.isInModuleLoader_ = function() {
        return null != goog.moduleLoaderState_;
      };
      goog.module.declareLegacyNamespace = function() {
        if (!COMPILED && !goog.isInModuleLoader_()) throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");
        if (!COMPILED && !goog.moduleLoaderState_.moduleName) throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");
        goog.moduleLoaderState_.declareLegacyNamespace = !0;
      };
      goog.setTestOnly = function(a) {
        if (goog.DISALLOW_TEST_ONLY_CODE) throw a = a || "", Error("Importing test-only code into non-debug environment" + (a ? ": " + a : "."));
      };
      goog.forwardDeclare = function(a) {};
      COMPILED || (goog.isProvided_ = function(a) {
        return a in goog.loadedModules_ || !goog.implicitNamespaces_[a] && goog.isDefAndNotNull(goog.getObjectByName(a));
      }, goog.implicitNamespaces_ = {
        "goog.module": !0
      });
      goog.getObjectByName = function(a, b) {
        for (var c = a.split("."), d = b || goog.global, e; e = c.shift(); ) {
          if (!goog.isDefAndNotNull(d[e])) return null;
          d = d[e];
        }
        return d;
      };
      goog.globalize = function(a, b) {
        var c = b || goog.global, d;
        for (d in a) c[d] = a[d];
      };
      goog.addDependency = function(a, b, c, d) {
        if (goog.DEPENDENCIES_ENABLED) {
          var e;
          a = a.replace(/\\/g, "/");
          for (var f = goog.dependencies_, g = 0; e = b[g]; g++) f.nameToPath[e] = a, f.pathIsModule[a] = !!d;
          for (d = 0; b = c[d]; d++) a in f.requires || (f.requires[a] = {}), f.requires[a][b] = !0;
        }
      };
      goog.ENABLE_DEBUG_LOADER = !0;
      goog.logToConsole_ = function(a) {
        goog.global.console && goog.global.console.error(a);
      };
      goog.require = function(a) {
        if (!COMPILED) {
          goog.ENABLE_DEBUG_LOADER && goog.IS_OLD_IE_ && goog.maybeProcessDeferredDep_(a);
          if (goog.isProvided_(a)) return goog.isInModuleLoader_() ? goog.module.getInternal_(a) : null;
          if (goog.ENABLE_DEBUG_LOADER) {
            var b = goog.getPathFromDeps_(a);
            if (b) return goog.writeScripts_(b), null;
          }
          a = "goog.require could not find: " + a;
          goog.logToConsole_(a);
          throw Error(a);
        }
      };
      goog.basePath = "";
      goog.nullFunction = function() {};
      goog.abstractMethod = function() {
        throw Error("unimplemented abstract method");
      };
      goog.addSingletonGetter = function(a) {
        a.getInstance = function() {
          if (a.instance_) return a.instance_;
          goog.DEBUG && (goog.instantiatedSingletons_[goog.instantiatedSingletons_.length] = a);
          return a.instance_ = new a();
        };
      };
      goog.instantiatedSingletons_ = [];
      goog.LOAD_MODULE_USING_EVAL = !0;
      goog.SEAL_MODULE_EXPORTS = goog.DEBUG;
      goog.loadedModules_ = {};
      goog.DEPENDENCIES_ENABLED = !COMPILED && goog.ENABLE_DEBUG_LOADER;
      goog.DEPENDENCIES_ENABLED && (goog.dependencies_ = {
        pathIsModule: {},
        nameToPath: {},
        requires: {},
        visited: {},
        written: {},
        deferred: {}
      }, goog.inHtmlDocument_ = function() {
        var a = goog.global.document;
        return null != a && "write" in a;
      }, goog.findBasePath_ = function() {
        if (goog.isDef(goog.global.CLOSURE_BASE_PATH)) goog.basePath = goog.global.CLOSURE_BASE_PATH; else if (goog.inHtmlDocument_()) for (var a = goog.global.document.getElementsByTagName("SCRIPT"), b = a.length - 1; 0 <= b; --b) {
          var c = a[b].src, d = c.lastIndexOf("?"), d = -1 == d ? c.length : d;
          if ("base.js" == c.substr(d - 7, 7)) {
            goog.basePath = c.substr(0, d - 7);
            break;
          }
        }
      }, goog.importScript_ = function(a, b) {
        (goog.global.CLOSURE_IMPORT_SCRIPT || goog.writeScriptTag_)(a, b) && (goog.dependencies_.written[a] = !0);
      }, goog.IS_OLD_IE_ = !(goog.global.atob || !goog.global.document || !goog.global.document.all), 
      goog.importModule_ = function(a) {
        goog.importScript_("", 'goog.retrieveAndExecModule_("' + a + '");') && (goog.dependencies_.written[a] = !0);
      }, goog.queuedModules_ = [], goog.wrapModule_ = function(a, b) {
        return goog.LOAD_MODULE_USING_EVAL && goog.isDef(goog.global.JSON) ? "goog.loadModule(" + goog.global.JSON.stringify(b + "\n//# sourceURL=" + a + "\n") + ");" : 'goog.loadModule(function(exports) {"use strict";' + b + "\n;return exports});\n//# sourceURL=" + a + "\n";
      }, goog.loadQueuedModules_ = function() {
        var a = goog.queuedModules_.length;
        if (0 < a) {
          var b = goog.queuedModules_;
          goog.queuedModules_ = [];
          for (var c = 0; c < a; c++) goog.maybeProcessDeferredPath_(b[c]);
        }
      }, goog.maybeProcessDeferredDep_ = function(a) {
        goog.isDeferredModule_(a) && goog.allDepsAreAvailable_(a) && (a = goog.getPathFromDeps_(a), 
        goog.maybeProcessDeferredPath_(goog.basePath + a));
      }, goog.isDeferredModule_ = function(a) {
        return !(!(a = goog.getPathFromDeps_(a)) || !goog.dependencies_.pathIsModule[a]) && goog.basePath + a in goog.dependencies_.deferred;
      }, goog.allDepsAreAvailable_ = function(a) {
        if ((a = goog.getPathFromDeps_(a)) && a in goog.dependencies_.requires) for (var b in goog.dependencies_.requires[a]) if (!goog.isProvided_(b) && !goog.isDeferredModule_(b)) return !1;
        return !0;
      }, goog.maybeProcessDeferredPath_ = function(a) {
        if (a in goog.dependencies_.deferred) {
          var b = goog.dependencies_.deferred[a];
          delete goog.dependencies_.deferred[a];
          goog.globalEval(b);
        }
      }, goog.loadModuleFromUrl = function(a) {
        goog.retrieveAndExecModule_(a);
      }, goog.loadModule = function(a) {
        var b = goog.moduleLoaderState_;
        try {
          goog.moduleLoaderState_ = {
            moduleName: void 0,
            declareLegacyNamespace: !1
          };
          var c;
          if (goog.isFunction(a)) c = a.call(goog.global, {}); else {
            if (!goog.isString(a)) throw Error("Invalid module definition");
            c = goog.loadModuleFromSource_.call(goog.global, a);
          }
          var d = goog.moduleLoaderState_.moduleName;
          if (!goog.isString(d) || !d) throw Error('Invalid module name "' + d + '"');
          goog.moduleLoaderState_.declareLegacyNamespace ? goog.constructNamespace_(d, c) : goog.SEAL_MODULE_EXPORTS && Object.seal && Object.seal(c);
          goog.loadedModules_[d] = c;
        } finally {
          goog.moduleLoaderState_ = b;
        }
      }, goog.loadModuleFromSource_ = function(a) {
        eval(a);
        return {};
      }, goog.writeScriptSrcNode_ = function(a) {
        goog.global.document.write('<script type="text/javascript" src="' + a + '"><\/script>');
      }, goog.appendScriptSrcNode_ = function(a) {
        var b = goog.global.document, c = b.createElement("script");
        c.type = "text/javascript";
        c.src = a;
        c.defer = !1;
        c.async = !1;
        b.head.appendChild(c);
      }, goog.writeScriptTag_ = function(a, b) {
        if (goog.inHtmlDocument_()) {
          var c = goog.global.document;
          if (!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING && "complete" == c.readyState) {
            if (/\bdeps.js$/.test(a)) return !1;
            throw Error('Cannot write "' + a + '" after document load');
          }
          var d = goog.IS_OLD_IE_;
          void 0 === b ? d ? (d = " onreadystatechange='goog.onScriptLoad_(this, " + ++goog.lastNonModuleScriptIndex_ + ")' ", 
          c.write('<script type="text/javascript" src="' + a + '"' + d + "><\/script>")) : goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING ? goog.appendScriptSrcNode_(a) : goog.writeScriptSrcNode_(a) : c.write('<script type="text/javascript">' + b + "<\/script>");
          return !0;
        }
        return !1;
      }, goog.lastNonModuleScriptIndex_ = 0, goog.onScriptLoad_ = function(a, b) {
        "complete" == a.readyState && goog.lastNonModuleScriptIndex_ == b && goog.loadQueuedModules_();
        return !0;
      }, goog.writeScripts_ = function(a) {
        function b(a) {
          if (!(a in e.written || a in e.visited)) {
            e.visited[a] = !0;
            if (a in e.requires) for (var f in e.requires[a]) if (!goog.isProvided_(f)) {
              if (!(f in e.nameToPath)) throw Error("Undefined nameToPath for " + f);
              b(e.nameToPath[f]);
            }
            a in d || (d[a] = !0, c.push(a));
          }
        }
        var c = [], d = {}, e = goog.dependencies_;
        b(a);
        for (a = 0; a < c.length; a++) {
          var f = c[a];
          goog.dependencies_.written[f] = !0;
        }
        var g = goog.moduleLoaderState_;
        goog.moduleLoaderState_ = null;
        for (a = 0; a < c.length; a++) {
          if (!(f = c[a])) throw goog.moduleLoaderState_ = g, Error("Undefined script input");
          e.pathIsModule[f] ? goog.importModule_(goog.basePath + f) : goog.importScript_(goog.basePath + f);
        }
        goog.moduleLoaderState_ = g;
      }, goog.getPathFromDeps_ = function(a) {
        return a in goog.dependencies_.nameToPath ? goog.dependencies_.nameToPath[a] : null;
      }, goog.findBasePath_(), goog.global.CLOSURE_NO_DEPS || goog.importScript_(goog.basePath + "deps.js"));
      goog.normalizePath_ = function(a) {
        a = a.split("/");
        for (var b = 0; b < a.length; ) "." == a[b] ? a.splice(b, 1) : b && ".." == a[b] && a[b - 1] && ".." != a[b - 1] ? a.splice(--b, 2) : b++;
        return a.join("/");
      };
      goog.loadFileSync_ = function(a) {
        if (goog.global.CLOSURE_LOAD_FILE_SYNC) return goog.global.CLOSURE_LOAD_FILE_SYNC(a);
        var b = new goog.global.XMLHttpRequest();
        b.open("get", a, !1);
        b.send();
        return b.responseText;
      };
      goog.retrieveAndExecModule_ = function(a) {
        if (!COMPILED) {
          var b = a;
          a = goog.normalizePath_(a);
          var c = goog.global.CLOSURE_IMPORT_SCRIPT || goog.writeScriptTag_, d = goog.loadFileSync_(a);
          if (null == d) throw Error("load of " + a + "failed");
          d = goog.wrapModule_(a, d), goog.IS_OLD_IE_ ? (goog.dependencies_.deferred[b] = d, 
          goog.queuedModules_.push(b)) : c(a, d);
        }
      };
      goog.typeOf = function(a) {
        var b = typeof a;
        if ("object" == b) {
          if (!a) return "null";
          if (a instanceof Array) return "array";
          if (a instanceof Object) return b;
          var c = Object.prototype.toString.call(a);
          if ("[object Window]" == c) return "object";
          if ("[object Array]" == c || "number" == typeof a.length && "undefined" != typeof a.splice && "undefined" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable("splice")) return "array";
          if ("[object Function]" == c || "undefined" != typeof a.call && "undefined" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable("call")) return "function";
        } else if ("function" == b && "undefined" == typeof a.call) return "object";
        return b;
      };
      goog.isNull = function(a) {
        return null === a;
      };
      goog.isDefAndNotNull = function(a) {
        return null != a;
      };
      goog.isArray = function(a) {
        return "array" == goog.typeOf(a);
      };
      goog.isArrayLike = function(a) {
        var b = goog.typeOf(a);
        return "array" == b || "object" == b && "number" == typeof a.length;
      };
      goog.isDateLike = function(a) {
        return goog.isObject(a) && "function" == typeof a.getFullYear;
      };
      goog.isString = function(a) {
        return "string" == typeof a;
      };
      goog.isBoolean = function(a) {
        return "boolean" == typeof a;
      };
      goog.isNumber = function(a) {
        return "number" == typeof a;
      };
      goog.isFunction = function(a) {
        return "function" == goog.typeOf(a);
      };
      goog.isObject = function(a) {
        var b = typeof a;
        return "object" == b && null != a || "function" == b;
      };
      goog.getUid = function(a) {
        return a[goog.UID_PROPERTY_] || (a[goog.UID_PROPERTY_] = ++goog.uidCounter_);
      };
      goog.hasUid = function(a) {
        return !!a[goog.UID_PROPERTY_];
      };
      goog.removeUid = function(a) {
        null !== a && "removeAttribute" in a && a.removeAttribute(goog.UID_PROPERTY_);
        try {
          delete a[goog.UID_PROPERTY_];
        } catch (b) {}
      };
      goog.UID_PROPERTY_ = "closure_uid_" + (1e9 * Math.random() >>> 0);
      goog.uidCounter_ = 0;
      goog.getHashCode = goog.getUid;
      goog.removeHashCode = goog.removeUid;
      goog.cloneObject = function(a) {
        var b = goog.typeOf(a);
        if ("object" == b || "array" == b) {
          if (a.clone) return a.clone();
          var b = "array" == b ? [] : {}, c;
          for (c in a) b[c] = goog.cloneObject(a[c]);
          return b;
        }
        return a;
      };
      goog.bindNative_ = function(a, b, c) {
        return a.call.apply(a.bind, arguments);
      };
      goog.bindJs_ = function(a, b, c) {
        if (!a) throw Error();
        if (2 < arguments.length) {
          var d = Array.prototype.slice.call(arguments, 2);
          return function() {
            var c = Array.prototype.slice.call(arguments);
            Array.prototype.unshift.apply(c, d);
            return a.apply(b, c);
          };
        }
        return function() {
          return a.apply(b, arguments);
        };
      };
      goog.bind = function(a, b, c) {
        Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? goog.bind = goog.bindNative_ : goog.bind = goog.bindJs_;
        return goog.bind.apply(null, arguments);
      };
      goog.partial = function(a, b) {
        var c = Array.prototype.slice.call(arguments, 1);
        return function() {
          var b = c.slice();
          b.push.apply(b, arguments);
          return a.apply(this, b);
        };
      };
      goog.mixin = function(a, b) {
        for (var c in b) a[c] = b[c];
      };
      goog.now = goog.TRUSTED_SITE && Date.now || function() {
        return +new Date();
      };
      goog.globalEval = function(a) {
        if (goog.global.execScript) goog.global.execScript(a, "JavaScript"); else {
          if (!goog.global.eval) throw Error("goog.globalEval not available");
          if (null == goog.evalWorksForGlobals_) if (goog.global.eval("var _evalTest_ = 1;"), 
          "undefined" != typeof goog.global._evalTest_) {
            try {
              delete goog.global._evalTest_;
            } catch (d) {}
            goog.evalWorksForGlobals_ = !0;
          } else goog.evalWorksForGlobals_ = !1;
          if (goog.evalWorksForGlobals_) goog.global.eval(a); else {
            var b = goog.global.document, c = b.createElement("SCRIPT");
            c.type = "text/javascript";
            c.defer = !1;
            c.appendChild(b.createTextNode(a));
            b.body.appendChild(c);
            b.body.removeChild(c);
          }
        }
      };
      goog.evalWorksForGlobals_ = null;
      goog.getCssName = function(a, b) {
        var c = function(a) {
          return goog.cssNameMapping_[a] || a;
        }, d = function(a) {
          a = a.split("-");
          for (var b = [], d = 0; d < a.length; d++) b.push(c(a[d]));
          return b.join("-");
        }, d = goog.cssNameMapping_ ? "BY_WHOLE" == goog.cssNameMappingStyle_ ? c : d : function(a) {
          return a;
        };
        return b ? a + "-" + d(b) : d(a);
      };
      goog.setCssNameMapping = function(a, b) {
        goog.cssNameMapping_ = a;
        goog.cssNameMappingStyle_ = b;
      };
      !COMPILED && goog.global.CLOSURE_CSS_NAME_MAPPING && (goog.cssNameMapping_ = goog.global.CLOSURE_CSS_NAME_MAPPING);
      goog.getMsg = function(a, b) {
        b && (a = a.replace(/\{\$([^}]+)}/g, function(a, d) {
          return null != b && d in b ? b[d] : a;
        }));
        return a;
      };
      goog.getMsgWithFallback = function(a, b) {
        return a;
      };
      goog.exportSymbol = function(a, b, c) {
        goog.exportPath_(a, b, c);
      };
      goog.exportProperty = function(a, b, c) {
        a[b] = c;
      };
      goog.inherits = function(a, b) {
        function c() {}
        c.prototype = b.prototype;
        a.superClass_ = b.prototype;
        a.prototype = new c();
        a.prototype.constructor = a;
        a.base = function(a, c, f) {
          for (var g = Array(arguments.length - 2), h = 2; h < arguments.length; h++) g[h - 2] = arguments[h];
          return b.prototype[c].apply(a, g);
        };
      };
      goog.base = function(a, b, c) {
        var d = arguments.callee.caller;
        if (goog.STRICT_MODE_COMPATIBLE || goog.DEBUG && !d) throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");
        if (d.superClass_) {
          for (var e = Array(arguments.length - 1), f = 1; f < arguments.length; f++) e[f - 1] = arguments[f];
          return d.superClass_.constructor.apply(a, e);
        }
        e = Array(arguments.length - 2);
        for (f = 2; f < arguments.length; f++) e[f - 2] = arguments[f];
        for (var f = !1, g = a.constructor; g; g = g.superClass_ && g.superClass_.constructor) if (g.prototype[b] === d) f = !0; else if (f) return g.prototype[b].apply(a, e);
        if (a[b] === d) return a.constructor.prototype[b].apply(a, e);
        throw Error("goog.base called from a method of one name to a method of a different name");
      };
      goog.scope = function(a) {
        a.call(goog.global);
      };
      COMPILED || (goog.global.COMPILED = COMPILED);
      goog.defineClass = function(a, b) {
        var c = b.constructor, d = b.statics;
        c && c != Object.prototype.constructor || (c = function() {
          throw Error("cannot instantiate an interface (no constructor defined).");
        });
        c = goog.defineClass.createSealingConstructor_(c, a);
        a && goog.inherits(c, a);
        delete b.constructor;
        delete b.statics;
        goog.defineClass.applyProperties_(c.prototype, b);
        null != d && (d instanceof Function ? d(c) : goog.defineClass.applyProperties_(c, d));
        return c;
      };
      goog.defineClass.SEAL_CLASS_INSTANCES = goog.DEBUG;
      goog.defineClass.createSealingConstructor_ = function(a, b) {
        if (goog.defineClass.SEAL_CLASS_INSTANCES && Object.seal instanceof Function) {
          if (b && b.prototype && b.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]) return a;
          var c = function() {
            var b = a.apply(this, arguments) || this;
            b[goog.UID_PROPERTY_] = b[goog.UID_PROPERTY_];
            this.constructor === c && Object.seal(b);
            return b;
          };
          return c;
        }
        return a;
      };
      goog.defineClass.OBJECT_PROTOTYPE_FIELDS_ = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
      goog.defineClass.applyProperties_ = function(a, b) {
        for (var c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c]);
        for (var d = 0; d < goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length; d++) c = goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[d], 
        Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c]);
      };
      goog.tagUnsealableClass = function(a) {
        !COMPILED && goog.defineClass.SEAL_CLASS_INSTANCES && (a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_] = !0);
      };
      goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_ = "goog_defineClass_legacy_unsealable";
      goog.dom = {};
      goog.dom.NodeType = {
        ELEMENT: 1,
        ATTRIBUTE: 2,
        TEXT: 3,
        CDATA_SECTION: 4,
        ENTITY_REFERENCE: 5,
        ENTITY: 6,
        PROCESSING_INSTRUCTION: 7,
        COMMENT: 8,
        DOCUMENT: 9,
        DOCUMENT_TYPE: 10,
        DOCUMENT_FRAGMENT: 11,
        NOTATION: 12
      };
      goog.debug = {};
      goog.debug.Error = function(a) {
        if (Error.captureStackTrace) Error.captureStackTrace(this, goog.debug.Error); else {
          var b = Error().stack;
          b && (this.stack = b);
        }
        a && (this.message = String(a));
        this.reportErrorToServer = !0;
      };
      goog.inherits(goog.debug.Error, Error);
      goog.debug.Error.prototype.name = "CustomError";
      goog.string = {};
      goog.string.DETECT_DOUBLE_ESCAPING = !1;
      goog.string.FORCE_NON_DOM_HTML_UNESCAPING = !1;
      goog.string.Unicode = {
        NBSP: "\xa0"
      };
      goog.string.startsWith = function(a, b) {
        return 0 == a.lastIndexOf(b, 0);
      };
      goog.string.endsWith = function(a, b) {
        var c = a.length - b.length;
        return 0 <= c && a.indexOf(b, c) == c;
      };
      goog.string.caseInsensitiveStartsWith = function(a, b) {
        return 0 == goog.string.caseInsensitiveCompare(b, a.substr(0, b.length));
      };
      goog.string.caseInsensitiveEndsWith = function(a, b) {
        return 0 == goog.string.caseInsensitiveCompare(b, a.substr(a.length - b.length, b.length));
      };
      goog.string.caseInsensitiveEquals = function(a, b) {
        return a.toLowerCase() == b.toLowerCase();
      };
      goog.string.subs = function(a, b) {
        for (var c = a.split("%s"), d = "", e = Array.prototype.slice.call(arguments, 1); e.length && 1 < c.length; ) d += c.shift() + e.shift();
        return d + c.join("%s");
      };
      goog.string.collapseWhitespace = function(a) {
        return a.replace(/[\s\xa0]+/g, " ").replace(/^\s+|\s+$/g, "");
      };
      goog.string.isEmptyOrWhitespace = function(a) {
        return /^[\s\xa0]*$/.test(a);
      };
      goog.string.isEmptyString = function(a) {
        return 0 == a.length;
      };
      goog.string.isEmpty = goog.string.isEmptyOrWhitespace;
      goog.string.isEmptyOrWhitespaceSafe = function(a) {
        return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(a));
      };
      goog.string.isEmptySafe = goog.string.isEmptyOrWhitespaceSafe;
      goog.string.isBreakingWhitespace = function(a) {
        return !/[^\t\n\r ]/.test(a);
      };
      goog.string.isAlpha = function(a) {
        return !/[^a-zA-Z]/.test(a);
      };
      goog.string.isNumeric = function(a) {
        return !/[^0-9]/.test(a);
      };
      goog.string.isAlphaNumeric = function(a) {
        return !/[^a-zA-Z0-9]/.test(a);
      };
      goog.string.isSpace = function(a) {
        return " " == a;
      };
      goog.string.isUnicodeChar = function(a) {
        return 1 == a.length && " " <= a && "~" >= a || "\x80" <= a && "\ufffd" >= a;
      };
      goog.string.stripNewlines = function(a) {
        return a.replace(/(\r\n|\r|\n)+/g, " ");
      };
      goog.string.canonicalizeNewlines = function(a) {
        return a.replace(/(\r\n|\r|\n)/g, "\n");
      };
      goog.string.normalizeWhitespace = function(a) {
        return a.replace(/\xa0|\s/g, " ");
      };
      goog.string.normalizeSpaces = function(a) {
        return a.replace(/\xa0|[ \t]+/g, " ");
      };
      goog.string.collapseBreakingSpaces = function(a) {
        return a.replace(/[\t\r\n ]+/g, " ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g, "");
      };
      goog.string.trim = goog.TRUSTED_SITE && String.prototype.trim ? function(a) {
        return a.trim();
      } : function(a) {
        return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g, "");
      };
      goog.string.trimLeft = function(a) {
        return a.replace(/^[\s\xa0]+/, "");
      };
      goog.string.trimRight = function(a) {
        return a.replace(/[\s\xa0]+$/, "");
      };
      goog.string.caseInsensitiveCompare = function(a, b) {
        var c = String(a).toLowerCase(), d = String(b).toLowerCase();
        return c < d ? -1 : c == d ? 0 : 1;
      };
      goog.string.numberAwareCompare_ = function(a, b, c) {
        if (a == b) return 0;
        if (!a) return -1;
        if (!b) return 1;
        for (var d = a.toLowerCase().match(c), e = b.toLowerCase().match(c), f = Math.min(d.length, e.length), g = 0; g < f; g++) {
          c = d[g];
          var h = e[g];
          if (c != h) return a = parseInt(c, 10), !isNaN(a) && (b = parseInt(h, 10), !isNaN(b) && a - b) ? a - b : c < h ? -1 : 1;
        }
        return d.length != e.length ? d.length - e.length : a < b ? -1 : 1;
      };
      goog.string.intAwareCompare = function(a, b) {
        return goog.string.numberAwareCompare_(a, b, /\d+|\D+/g);
      };
      goog.string.floatAwareCompare = function(a, b) {
        return goog.string.numberAwareCompare_(a, b, /\d+|\.\d+|\D+/g);
      };
      goog.string.numerateCompare = goog.string.floatAwareCompare;
      goog.string.urlEncode = function(a) {
        return encodeURIComponent(String(a));
      };
      goog.string.urlDecode = function(a) {
        return decodeURIComponent(a.replace(/\+/g, " "));
      };
      goog.string.newLineToBr = function(a, b) {
        return a.replace(/(\r\n|\r|\n)/g, b ? "<br />" : "<br>");
      };
      goog.string.htmlEscape = function(a, b) {
        if (b) a = a.replace(goog.string.AMP_RE_, "&amp;").replace(goog.string.LT_RE_, "&lt;").replace(goog.string.GT_RE_, "&gt;").replace(goog.string.QUOT_RE_, "&quot;").replace(goog.string.SINGLE_QUOTE_RE_, "&#39;").replace(goog.string.NULL_RE_, "&#0;"), 
        goog.string.DETECT_DOUBLE_ESCAPING && (a = a.replace(goog.string.E_RE_, "&#101;")); else {
          if (!goog.string.ALL_RE_.test(a)) return a;
          -1 != a.indexOf("&") && (a = a.replace(goog.string.AMP_RE_, "&amp;"));
          -1 != a.indexOf("<") && (a = a.replace(goog.string.LT_RE_, "&lt;"));
          -1 != a.indexOf(">") && (a = a.replace(goog.string.GT_RE_, "&gt;"));
          -1 != a.indexOf('"') && (a = a.replace(goog.string.QUOT_RE_, "&quot;"));
          -1 != a.indexOf("'") && (a = a.replace(goog.string.SINGLE_QUOTE_RE_, "&#39;"));
          -1 != a.indexOf("\0") && (a = a.replace(goog.string.NULL_RE_, "&#0;"));
          goog.string.DETECT_DOUBLE_ESCAPING && -1 != a.indexOf("e") && (a = a.replace(goog.string.E_RE_, "&#101;"));
        }
        return a;
      };
      goog.string.AMP_RE_ = /&/g;
      goog.string.LT_RE_ = /</g;
      goog.string.GT_RE_ = />/g;
      goog.string.QUOT_RE_ = /"/g;
      goog.string.SINGLE_QUOTE_RE_ = /'/g;
      goog.string.NULL_RE_ = /\x00/g;
      goog.string.E_RE_ = /e/g;
      goog.string.ALL_RE_ = goog.string.DETECT_DOUBLE_ESCAPING ? /[\x00&<>"'e]/ : /[\x00&<>"']/;
      goog.string.unescapeEntities = function(a) {
        return goog.string.contains(a, "&") ? !goog.string.FORCE_NON_DOM_HTML_UNESCAPING && "document" in goog.global ? goog.string.unescapeEntitiesUsingDom_(a) : goog.string.unescapePureXmlEntities_(a) : a;
      };
      goog.string.unescapeEntitiesWithDocument = function(a, b) {
        return goog.string.contains(a, "&") ? goog.string.unescapeEntitiesUsingDom_(a, b) : a;
      };
      goog.string.unescapeEntitiesUsingDom_ = function(a, b) {
        var c = {
          "&amp;": "&",
          "&lt;": "<",
          "&gt;": ">",
          "&quot;": '"'
        }, d;
        d = b ? b.createElement("div") : goog.global.document.createElement("div");
        return a.replace(goog.string.HTML_ENTITY_PATTERN_, function(a, b) {
          var g = c[a];
          if (g) return g;
          if ("#" == b.charAt(0)) {
            var h = Number("0" + b.substr(1));
            isNaN(h) || (g = String.fromCharCode(h));
          }
          g || (d.innerHTML = a + " ", g = d.firstChild.nodeValue.slice(0, -1));
          return c[a] = g;
        });
      };
      goog.string.unescapePureXmlEntities_ = function(a) {
        return a.replace(/&([^;]+);/g, function(a, c) {
          switch (c) {
           case "amp":
            return "&";

           case "lt":
            return "<";

           case "gt":
            return ">";

           case "quot":
            return '"';

           default:
            if ("#" == c.charAt(0)) {
              var d = Number("0" + c.substr(1));
              if (!isNaN(d)) return String.fromCharCode(d);
            }
            return a;
          }
        });
      };
      goog.string.HTML_ENTITY_PATTERN_ = /&([^;\s<&]+);?/g;
      goog.string.whitespaceEscape = function(a, b) {
        return goog.string.newLineToBr(a.replace(/  /g, " &#160;"), b);
      };
      goog.string.preserveSpaces = function(a) {
        return a.replace(/(^|[\n ]) /g, "$1" + goog.string.Unicode.NBSP);
      };
      goog.string.stripQuotes = function(a, b) {
        for (var c = b.length, d = 0; d < c; d++) {
          var e = 1 == c ? b : b.charAt(d);
          if (a.charAt(0) == e && a.charAt(a.length - 1) == e) return a.substring(1, a.length - 1);
        }
        return a;
      };
      goog.string.truncate = function(a, b, c) {
        c && (a = goog.string.unescapeEntities(a));
        a.length > b && (a = a.substring(0, b - 3) + "...");
        c && (a = goog.string.htmlEscape(a));
        return a;
      };
      goog.string.truncateMiddle = function(a, b, c, d) {
        c && (a = goog.string.unescapeEntities(a));
        if (d && a.length > b) {
          d > b && (d = b);
          var e = a.length - d;
          a = a.substring(0, b - d) + "..." + a.substring(e);
        } else a.length > b && (d = Math.floor(b / 2), e = a.length - d, a = a.substring(0, d + b % 2) + "..." + a.substring(e));
        c && (a = goog.string.htmlEscape(a));
        return a;
      };
      goog.string.specialEscapeChars_ = {
        "\0": "\\0",
        "\b": "\\b",
        "\f": "\\f",
        "\n": "\\n",
        "\r": "\\r",
        "\t": "\\t",
        "\v": "\\x0B",
        '"': '\\"',
        "\\": "\\\\",
        "<": "<"
      };
      goog.string.jsEscapeCache_ = {
        "'": "\\'"
      };
      goog.string.quote = function(a) {
        a = String(a);
        for (var b = [ '"' ], c = 0; c < a.length; c++) {
          var d = a.charAt(c), e = d.charCodeAt(0);
          b[c + 1] = goog.string.specialEscapeChars_[d] || (31 < e && 127 > e ? d : goog.string.escapeChar(d));
        }
        b.push('"');
        return b.join("");
      };
      goog.string.escapeString = function(a) {
        for (var b = [], c = 0; c < a.length; c++) b[c] = goog.string.escapeChar(a.charAt(c));
        return b.join("");
      };
      goog.string.escapeChar = function(a) {
        if (a in goog.string.jsEscapeCache_) return goog.string.jsEscapeCache_[a];
        if (a in goog.string.specialEscapeChars_) return goog.string.jsEscapeCache_[a] = goog.string.specialEscapeChars_[a];
        var b, c = a.charCodeAt(0);
        if (31 < c && 127 > c) b = a; else {
          256 > c ? (b = "\\x", 16 > c || 256 < c) && (b += "0") : (b = "\\u", 4096 > c && (b += "0"));
          b += c.toString(16).toUpperCase();
        }
        return goog.string.jsEscapeCache_[a] = b;
      };
      goog.string.contains = function(a, b) {
        return -1 != a.indexOf(b);
      };
      goog.string.caseInsensitiveContains = function(a, b) {
        return goog.string.contains(a.toLowerCase(), b.toLowerCase());
      };
      goog.string.countOf = function(a, b) {
        return a && b ? a.split(b).length - 1 : 0;
      };
      goog.string.removeAt = function(a, b, c) {
        var d = a;
        0 <= b && b < a.length && 0 < c && (d = a.substr(0, b) + a.substr(b + c, a.length - b - c));
        return d;
      };
      goog.string.remove = function(a, b) {
        var c = new RegExp(goog.string.regExpEscape(b), "");
        return a.replace(c, "");
      };
      goog.string.removeAll = function(a, b) {
        var c = new RegExp(goog.string.regExpEscape(b), "g");
        return a.replace(c, "");
      };
      goog.string.regExpEscape = function(a) {
        return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, "\\$1").replace(/\x08/g, "\\x08");
      };
      goog.string.repeat = String.prototype.repeat ? function(a, b) {
        return a.repeat(b);
      } : function(a, b) {
        return Array(b + 1).join(a);
      };
      goog.string.padNumber = function(a, b, c) {
        a = goog.isDef(c) ? a.toFixed(c) : String(a);
        c = a.indexOf(".");
        -1 == c && (c = a.length);
        return goog.string.repeat("0", Math.max(0, b - c)) + a;
      };
      goog.string.makeSafe = function(a) {
        return null == a ? "" : String(a);
      };
      goog.string.buildString = function(a) {
        return Array.prototype.join.call(arguments, "");
      };
      goog.string.getRandomString = function() {
        return Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ goog.now()).toString(36);
      };
      goog.string.compareVersions = function(a, b) {
        for (var c = 0, d = goog.string.trim(String(a)).split("."), e = goog.string.trim(String(b)).split("."), f = Math.max(d.length, e.length), g = 0; 0 == c && g < f; g++) {
          var h = d[g] || "", k = e[g] || "", l = RegExp("(\\d*)(\\D*)", "g"), p = RegExp("(\\d*)(\\D*)", "g");
          do {
            var m = l.exec(h) || [ "", "", "" ], n = p.exec(k) || [ "", "", "" ];
            if (0 == m[0].length && 0 == n[0].length) break;
            var c = 0 == m[1].length ? 0 : parseInt(m[1], 10), q = 0 == n[1].length ? 0 : parseInt(n[1], 10), c = goog.string.compareElements_(c, q) || goog.string.compareElements_(0 == m[2].length, 0 == n[2].length) || goog.string.compareElements_(m[2], n[2]);
          } while (0 == c);
        }
        return c;
      };
      goog.string.compareElements_ = function(a, b) {
        return a < b ? -1 : a > b ? 1 : 0;
      };
      goog.string.hashCode = function(a) {
        for (var b = 0, c = 0; c < a.length; ++c) b = 31 * b + a.charCodeAt(c) >>> 0;
        return b;
      };
      goog.string.uniqueStringCounter_ = 2147483648 * Math.random() | 0;
      goog.string.createUniqueString = function() {
        return "goog_" + goog.string.uniqueStringCounter_++;
      };
      goog.string.toNumber = function(a) {
        var b = Number(a);
        return 0 == b && goog.string.isEmptyOrWhitespace(a) ? NaN : b;
      };
      goog.string.isLowerCamelCase = function(a) {
        return /^[a-z]+([A-Z][a-z]*)*$/.test(a);
      };
      goog.string.isUpperCamelCase = function(a) {
        return /^([A-Z][a-z]*)+$/.test(a);
      };
      goog.string.toCamelCase = function(a) {
        return String(a).replace(/\-([a-z])/g, function(a, c) {
          return c.toUpperCase();
        });
      };
      goog.string.toSelectorCase = function(a) {
        return String(a).replace(/([A-Z])/g, "-$1").toLowerCase();
      };
      goog.string.toTitleCase = function(a, b) {
        var c = goog.isString(b) ? goog.string.regExpEscape(b) : "\\s";
        return a.replace(new RegExp("(^" + (c ? "|[" + c + "]+" : "") + ")([a-z])", "g"), function(a, b, c) {
          return b + c.toUpperCase();
        });
      };
      goog.string.capitalize = function(a) {
        return String(a.charAt(0)).toUpperCase() + String(a.substr(1)).toLowerCase();
      };
      goog.string.parseInt = function(a) {
        isFinite(a) && (a = String(a));
        return goog.isString(a) ? /^\s*-?0x/i.test(a) ? parseInt(a, 16) : parseInt(a, 10) : NaN;
      };
      goog.string.splitLimit = function(a, b, c) {
        a = a.split(b);
        for (var d = []; 0 < c && a.length; ) d.push(a.shift()), c--;
        a.length && d.push(a.join(b));
        return d;
      };
      goog.string.editDistance = function(a, b) {
        var c = [], d = [];
        if (a == b) return 0;
        if (!a.length || !b.length) return Math.max(a.length, b.length);
        for (var e = 0; e < b.length + 1; e++) c[e] = e;
        for (e = 0; e < a.length; e++) {
          d[0] = e + 1;
          for (var f = 0; f < b.length; f++) d[f + 1] = Math.min(d[f] + 1, c[f + 1] + 1, c[f] + Number(a[e] != b[f]));
          for (f = 0; f < c.length; f++) c[f] = d[f];
        }
        return d[b.length];
      };
      goog.asserts = {};
      goog.asserts.ENABLE_ASSERTS = goog.DEBUG;
      goog.asserts.AssertionError = function(a, b) {
        b.unshift(a);
        goog.debug.Error.call(this, goog.string.subs.apply(null, b));
        b.shift();
        this.messagePattern = a;
      };
      goog.inherits(goog.asserts.AssertionError, goog.debug.Error);
      goog.asserts.AssertionError.prototype.name = "AssertionError";
      goog.asserts.DEFAULT_ERROR_HANDLER = function(a) {
        throw a;
      };
      goog.asserts.errorHandler_ = goog.asserts.DEFAULT_ERROR_HANDLER;
      goog.asserts.doAssertFailure_ = function(a, b, c, d) {
        var e = "Assertion failed";
        if (c) var e = e + ": " + c, f = d; else a && (e += ": " + a, f = b);
        a = new goog.asserts.AssertionError("" + e, f || []);
        goog.asserts.errorHandler_(a);
      };
      goog.asserts.setErrorHandler = function(a) {
        goog.asserts.ENABLE_ASSERTS && (goog.asserts.errorHandler_ = a);
      };
      goog.asserts.assert = function(a, b, c) {
        goog.asserts.ENABLE_ASSERTS && !a && goog.asserts.doAssertFailure_("", null, b, Array.prototype.slice.call(arguments, 2));
        return a;
      };
      goog.asserts.fail = function(a, b) {
        goog.asserts.ENABLE_ASSERTS && goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure" + (a ? ": " + a : ""), Array.prototype.slice.call(arguments, 1)));
      };
      goog.asserts.assertNumber = function(a, b, c) {
        goog.asserts.ENABLE_ASSERTS && !goog.isNumber(a) && goog.asserts.doAssertFailure_("Expected number but got %s: %s.", [ goog.typeOf(a), a ], b, Array.prototype.slice.call(arguments, 2));
        return a;
      };
      goog.asserts.assertString = function(a, b, c) {
        goog.asserts.ENABLE_ASSERTS && !goog.isString(a) && goog.asserts.doAssertFailure_("Expected string but got %s: %s.", [ goog.typeOf(a), a ], b, Array.prototype.slice.call(arguments, 2));
        return a;
      };
      goog.asserts.assertFunction = function(a, b, c) {
        goog.asserts.ENABLE_ASSERTS && !goog.isFunction(a) && goog.asserts.doAssertFailure_("Expected function but got %s: %s.", [ goog.typeOf(a), a ], b, Array.prototype.slice.call(arguments, 2));
        return a;
      };
      goog.asserts.assertObject = function(a, b, c) {
        goog.asserts.ENABLE_ASSERTS && !goog.isObject(a) && goog.asserts.doAssertFailure_("Expected object but got %s: %s.", [ goog.typeOf(a), a ], b, Array.prototype.slice.call(arguments, 2));
        return a;
      };
      goog.asserts.assertArray = function(a, b, c) {
        goog.asserts.ENABLE_ASSERTS && !goog.isArray(a) && goog.asserts.doAssertFailure_("Expected array but got %s: %s.", [ goog.typeOf(a), a ], b, Array.prototype.slice.call(arguments, 2));
        return a;
      };
      goog.asserts.assertBoolean = function(a, b, c) {
        goog.asserts.ENABLE_ASSERTS && !goog.isBoolean(a) && goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.", [ goog.typeOf(a), a ], b, Array.prototype.slice.call(arguments, 2));
        return a;
      };
      goog.asserts.assertElement = function(a, b, c) {
        !goog.asserts.ENABLE_ASSERTS || goog.isObject(a) && a.nodeType == goog.dom.NodeType.ELEMENT || goog.asserts.doAssertFailure_("Expected Element but got %s: %s.", [ goog.typeOf(a), a ], b, Array.prototype.slice.call(arguments, 2));
        return a;
      };
      goog.asserts.assertInstanceof = function(a, b, c, d) {
        !goog.asserts.ENABLE_ASSERTS || a instanceof b || goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.", [ goog.asserts.getType_(b), goog.asserts.getType_(a) ], c, Array.prototype.slice.call(arguments, 3));
        return a;
      };
      goog.asserts.assertObjectPrototypeIsIntact = function() {
        for (var a in Object.prototype) goog.asserts.fail(a + " should not be enumerable in Object.prototype.");
      };
      goog.asserts.getType_ = function(a) {
        return a instanceof Function ? a.displayName || a.name || "unknown type name" : a instanceof Object ? a.constructor.displayName || a.constructor.name || Object.prototype.toString.call(a) : null === a ? "null" : typeof a;
      };
      var jspb = {
        Map: function(a, b) {
          this.arr_ = a;
          this.valueCtor_ = b;
          this.map_ = {};
          this.arrClean = !0;
          0 < this.arr_.length && this.loadFromArray_();
        }
      };
      jspb.Map.prototype.loadFromArray_ = function() {
        for (var a = 0; a < this.arr_.length; a++) {
          var b = this.arr_[a], c = b[0];
          this.map_[c.toString()] = new jspb.Map.Entry_(c, b[1]);
        }
        this.arrClean = !0;
      };
      jspb.Map.prototype.toArray = function() {
        if (this.arrClean) {
          if (this.valueCtor_) {
            var a = this.map_, b;
            for (b in a) if (Object.prototype.hasOwnProperty.call(a, b)) {
              var c = a[b].valueWrapper;
              c && c.toArray();
            }
          }
        } else {
          this.arr_.length = 0;
          a = this.stringKeys_();
          a.sort();
          for (b = 0; b < a.length; b++) {
            var d = this.map_[a[b]];
            (c = d.valueWrapper) && c.toArray();
            this.arr_.push([ d.key, d.value ]);
          }
          this.arrClean = !0;
        }
        return this.arr_;
      };
      jspb.Map.prototype.toObject = function(a, b) {
        for (var c = this.toArray(), d = [], e = 0; e < c.length; e++) {
          var f = this.map_[c[e][0].toString()];
          this.wrapEntry_(f);
          var g = f.valueWrapper;
          g ? (goog.asserts.assert(b), d.push([ f.key, b(a, g) ])) : d.push([ f.key, f.value ]);
        }
        return d;
      };
      jspb.Map.fromObject = function(a, b, c) {
        b = new jspb.Map([], b);
        for (var d = 0; d < a.length; d++) {
          var e = a[d][0], f = c(a[d][1]);
          b.set(e, f);
        }
        return b;
      };
      jspb.Map.ArrayIteratorIterable_ = function(a) {
        this.idx_ = 0;
        this.arr_ = a;
      };
      jspb.Map.ArrayIteratorIterable_.prototype.next = function() {
        return this.idx_ < this.arr_.length ? {
          done: !1,
          value: this.arr_[this.idx_++]
        } : {
          done: !0,
          value: void 0
        };
      };
      $jscomp.initSymbol();
      "undefined" != typeof Symbol && ($jscomp.initSymbol(), $jscomp.initSymbolIterator(), 
      jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator] = function() {
        return this;
      });
      jspb.Map.prototype.getLength = function() {
        return this.stringKeys_().length;
      };
      jspb.Map.prototype.clear = function() {
        this.map_ = {};
        this.arrClean = !1;
      };
      jspb.Map.prototype.del = function(a) {
        a = a.toString();
        var b = this.map_.hasOwnProperty(a);
        delete this.map_[a];
        this.arrClean = !1;
        return b;
      };
      jspb.Map.prototype.getEntryList = function() {
        var a = [], b = this.stringKeys_();
        b.sort();
        for (var c = 0; c < b.length; c++) {
          var d = this.map_[b[c]];
          a.push([ d.key, d.value ]);
        }
        return a;
      };
      jspb.Map.prototype.entries = function() {
        var a = [], b = this.stringKeys_();
        b.sort();
        for (var c = 0; c < b.length; c++) {
          var d = this.map_[b[c]];
          a.push([ d.key, this.wrapEntry_(d) ]);
        }
        return new jspb.Map.ArrayIteratorIterable_(a);
      };
      jspb.Map.prototype.keys = function() {
        var a = [], b = this.stringKeys_();
        b.sort();
        for (var c = 0; c < b.length; c++) a.push(this.map_[b[c]].key);
        return new jspb.Map.ArrayIteratorIterable_(a);
      };
      jspb.Map.prototype.values = function() {
        var a = [], b = this.stringKeys_();
        b.sort();
        for (var c = 0; c < b.length; c++) a.push(this.wrapEntry_(this.map_[b[c]]));
        return new jspb.Map.ArrayIteratorIterable_(a);
      };
      jspb.Map.prototype.forEach = function(a, b) {
        var c = this.stringKeys_();
        c.sort();
        for (var d = 0; d < c.length; d++) {
          var e = this.map_[c[d]];
          a.call(b, this.wrapEntry_(e), e.key, this);
        }
      };
      jspb.Map.prototype.set = function(a, b) {
        var c = new jspb.Map.Entry_(a);
        this.valueCtor_ ? (c.valueWrapper = b, c.value = b.toArray()) : c.value = b;
        this.map_[a.toString()] = c;
        this.arrClean = !1;
        return this;
      };
      jspb.Map.prototype.wrapEntry_ = function(a) {
        return this.valueCtor_ ? (a.valueWrapper || (a.valueWrapper = new this.valueCtor_(a.value)), 
        a.valueWrapper) : a.value;
      };
      jspb.Map.prototype.get = function(a) {
        if (a = this.map_[a.toString()]) return this.wrapEntry_(a);
      };
      jspb.Map.prototype.has = function(a) {
        return a.toString() in this.map_;
      };
      jspb.Map.prototype.serializeBinary = function(a, b, c, d, e) {
        var f = this.stringKeys_();
        f.sort();
        for (var g = 0; g < f.length; g++) {
          var h = this.map_[f[g]];
          b.beginSubMessage(a);
          c.call(b, 1, h.key);
          this.valueCtor_ ? d.call(b, 2, this.wrapEntry_(h), e) : d.call(b, 2, h.value);
          b.endSubMessage();
        }
      };
      jspb.Map.deserializeBinary = function(a, b, c, d, e, f) {
        for (var g = void 0; b.nextField() && !b.isEndGroup(); ) {
          var h = b.getFieldNumber();
          1 == h ? f = c.call(b) : 2 == h && (a.valueCtor_ ? (goog.asserts.assert(e), g = new a.valueCtor_(), 
          d.call(b, g, e)) : g = d.call(b));
        }
        goog.asserts.assert(void 0 != f);
        goog.asserts.assert(void 0 != g);
        a.set(f, g);
      };
      jspb.Map.prototype.stringKeys_ = function() {
        var a = this.map_, b = [], c;
        for (c in a) Object.prototype.hasOwnProperty.call(a, c) && b.push(c);
        return b;
      };
      jspb.Map.Entry_ = function(a, b) {
        this.key = a;
        this.value = b;
        this.valueWrapper = void 0;
      };
      goog.array = {};
      goog.NATIVE_ARRAY_PROTOTYPES = goog.TRUSTED_SITE;
      goog.array.ASSUME_NATIVE_FUNCTIONS = !1;
      goog.array.peek = function(a) {
        return a[a.length - 1];
      };
      goog.array.last = goog.array.peek;
      goog.array.indexOf = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.indexOf) ? function(a, b, c) {
        goog.asserts.assert(null != a.length);
        return Array.prototype.indexOf.call(a, b, c);
      } : function(a, b, c) {
        c = null == c ? 0 : 0 > c ? Math.max(0, a.length + c) : c;
        if (goog.isString(a)) return goog.isString(b) && 1 == b.length ? a.indexOf(b, c) : -1;
        for (;c < a.length; c++) if (c in a && a[c] === b) return c;
        return -1;
      };
      goog.array.lastIndexOf = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.lastIndexOf) ? function(a, b, c) {
        goog.asserts.assert(null != a.length);
        return Array.prototype.lastIndexOf.call(a, b, null == c ? a.length - 1 : c);
      } : function(a, b, c) {
        c = null == c ? a.length - 1 : c;
        0 > c && (c = Math.max(0, a.length + c));
        if (goog.isString(a)) return goog.isString(b) && 1 == b.length ? a.lastIndexOf(b, c) : -1;
        for (;0 <= c; c--) if (c in a && a[c] === b) return c;
        return -1;
      };
      goog.array.forEach = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.forEach) ? function(a, b, c) {
        goog.asserts.assert(null != a.length);
        Array.prototype.forEach.call(a, b, c);
      } : function(a, b, c) {
        for (var d = a.length, e = goog.isString(a) ? a.split("") : a, f = 0; f < d; f++) f in e && b.call(c, e[f], f, a);
      };
      goog.array.forEachRight = function(a, b, c) {
        for (var d = a.length, e = goog.isString(a) ? a.split("") : a, d = d - 1; 0 <= d; --d) d in e && b.call(c, e[d], d, a);
      };
      goog.array.filter = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.filter) ? function(a, b, c) {
        goog.asserts.assert(null != a.length);
        return Array.prototype.filter.call(a, b, c);
      } : function(a, b, c) {
        for (var d = a.length, e = [], f = 0, g = goog.isString(a) ? a.split("") : a, h = 0; h < d; h++) if (h in g) {
          var k = g[h];
          b.call(c, k, h, a) && (e[f++] = k);
        }
        return e;
      };
      goog.array.map = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.map) ? function(a, b, c) {
        goog.asserts.assert(null != a.length);
        return Array.prototype.map.call(a, b, c);
      } : function(a, b, c) {
        for (var d = a.length, e = Array(d), f = goog.isString(a) ? a.split("") : a, g = 0; g < d; g++) g in f && (e[g] = b.call(c, f[g], g, a));
        return e;
      };
      goog.array.reduce = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.reduce) ? function(a, b, c, d) {
        goog.asserts.assert(null != a.length);
        d && (b = goog.bind(b, d));
        return Array.prototype.reduce.call(a, b, c);
      } : function(a, b, c, d) {
        var e = c;
        goog.array.forEach(a, function(c, g) {
          e = b.call(d, e, c, g, a);
        });
        return e;
      };
      goog.array.reduceRight = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.reduceRight) ? function(a, b, c, d) {
        goog.asserts.assert(null != a.length);
        goog.asserts.assert(null != b);
        d && (b = goog.bind(b, d));
        return Array.prototype.reduceRight.call(a, b, c);
      } : function(a, b, c, d) {
        var e = c;
        goog.array.forEachRight(a, function(c, g) {
          e = b.call(d, e, c, g, a);
        });
        return e;
      };
      goog.array.some = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.some) ? function(a, b, c) {
        goog.asserts.assert(null != a.length);
        return Array.prototype.some.call(a, b, c);
      } : function(a, b, c) {
        for (var d = a.length, e = goog.isString(a) ? a.split("") : a, f = 0; f < d; f++) if (f in e && b.call(c, e[f], f, a)) return !0;
        return !1;
      };
      goog.array.every = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.every) ? function(a, b, c) {
        goog.asserts.assert(null != a.length);
        return Array.prototype.every.call(a, b, c);
      } : function(a, b, c) {
        for (var d = a.length, e = goog.isString(a) ? a.split("") : a, f = 0; f < d; f++) if (f in e && !b.call(c, e[f], f, a)) return !1;
        return !0;
      };
      goog.array.count = function(a, b, c) {
        var d = 0;
        goog.array.forEach(a, function(a, f, g) {
          b.call(c, a, f, g) && ++d;
        }, c);
        return d;
      };
      goog.array.find = function(a, b, c) {
        b = goog.array.findIndex(a, b, c);
        return 0 > b ? null : goog.isString(a) ? a.charAt(b) : a[b];
      };
      goog.array.findIndex = function(a, b, c) {
        for (var d = a.length, e = goog.isString(a) ? a.split("") : a, f = 0; f < d; f++) if (f in e && b.call(c, e[f], f, a)) return f;
        return -1;
      };
      goog.array.findRight = function(a, b, c) {
        b = goog.array.findIndexRight(a, b, c);
        return 0 > b ? null : goog.isString(a) ? a.charAt(b) : a[b];
      };
      goog.array.findIndexRight = function(a, b, c) {
        for (var d = a.length, e = goog.isString(a) ? a.split("") : a, d = d - 1; 0 <= d; d--) if (d in e && b.call(c, e[d], d, a)) return d;
        return -1;
      };
      goog.array.contains = function(a, b) {
        return 0 <= goog.array.indexOf(a, b);
      };
      goog.array.isEmpty = function(a) {
        return 0 == a.length;
      };
      goog.array.clear = function(a) {
        if (!goog.isArray(a)) for (var b = a.length - 1; 0 <= b; b--) delete a[b];
        a.length = 0;
      };
      goog.array.insert = function(a, b) {
        goog.array.contains(a, b) || a.push(b);
      };
      goog.array.insertAt = function(a, b, c) {
        goog.array.splice(a, c, 0, b);
      };
      goog.array.insertArrayAt = function(a, b, c) {
        goog.partial(goog.array.splice, a, c, 0).apply(null, b);
      };
      goog.array.insertBefore = function(a, b, c) {
        var d;
        2 == arguments.length || 0 > (d = goog.array.indexOf(a, c)) ? a.push(b) : goog.array.insertAt(a, b, d);
      };
      goog.array.remove = function(a, b) {
        var c = goog.array.indexOf(a, b), d;
        (d = 0 <= c) && goog.array.removeAt(a, c);
        return d;
      };
      goog.array.removeAt = function(a, b) {
        goog.asserts.assert(null != a.length);
        return 1 == Array.prototype.splice.call(a, b, 1).length;
      };
      goog.array.removeIf = function(a, b, c) {
        b = goog.array.findIndex(a, b, c);
        return 0 <= b && (goog.array.removeAt(a, b), !0);
      };
      goog.array.removeAllIf = function(a, b, c) {
        var d = 0;
        goog.array.forEachRight(a, function(e, f) {
          b.call(c, e, f, a) && goog.array.removeAt(a, f) && d++;
        });
        return d;
      };
      goog.array.concat = function(a) {
        return Array.prototype.concat.apply(Array.prototype, arguments);
      };
      goog.array.join = function(a) {
        return Array.prototype.concat.apply(Array.prototype, arguments);
      };
      goog.array.toArray = function(a) {
        var b = a.length;
        if (0 < b) {
          for (var c = Array(b), d = 0; d < b; d++) c[d] = a[d];
          return c;
        }
        return [];
      };
      goog.array.clone = goog.array.toArray;
      goog.array.extend = function(a, b) {
        for (var c = 1; c < arguments.length; c++) {
          var d = arguments[c];
          if (goog.isArrayLike(d)) {
            var e = a.length || 0, f = d.length || 0;
            a.length = e + f;
            for (var g = 0; g < f; g++) a[e + g] = d[g];
          } else a.push(d);
        }
      };
      goog.array.splice = function(a, b, c, d) {
        goog.asserts.assert(null != a.length);
        return Array.prototype.splice.apply(a, goog.array.slice(arguments, 1));
      };
      goog.array.slice = function(a, b, c) {
        goog.asserts.assert(null != a.length);
        return 2 >= arguments.length ? Array.prototype.slice.call(a, b) : Array.prototype.slice.call(a, b, c);
      };
      goog.array.removeDuplicates = function(a, b, c) {
        b = b || a;
        var d = function(a) {
          return goog.isObject(a) ? "o" + goog.getUid(a) : (typeof a).charAt(0) + a;
        };
        c = c || d;
        for (var d = {}, e = 0, f = 0; f < a.length; ) {
          var g = a[f++], h = c(g);
          Object.prototype.hasOwnProperty.call(d, h) || (d[h] = !0, b[e++] = g);
        }
        b.length = e;
      };
      goog.array.binarySearch = function(a, b, c) {
        return goog.array.binarySearch_(a, c || goog.array.defaultCompare, !1, b);
      };
      goog.array.binarySelect = function(a, b, c) {
        return goog.array.binarySearch_(a, b, !0, void 0, c);
      };
      goog.array.binarySearch_ = function(a, b, c, d, e) {
        for (var f = 0, g = a.length, h; f < g; ) {
          var k = f + g >> 1, l;
          l = c ? b.call(e, a[k], k, a) : b(d, a[k]);
          0 < l ? f = k + 1 : (g = k, h = !l);
        }
        return h ? f : ~f;
      };
      goog.array.sort = function(a, b) {
        a.sort(b || goog.array.defaultCompare);
      };
      goog.array.stableSort = function(a, b) {
        for (var c = 0; c < a.length; c++) a[c] = {
          index: c,
          value: a[c]
        };
        var d = b || goog.array.defaultCompare;
        goog.array.sort(a, function(a, b) {
          return d(a.value, b.value) || a.index - b.index;
        });
        for (c = 0; c < a.length; c++) a[c] = a[c].value;
      };
      goog.array.sortByKey = function(a, b, c) {
        var d = c || goog.array.defaultCompare;
        goog.array.sort(a, function(a, c) {
          return d(b(a), b(c));
        });
      };
      goog.array.sortObjectsByKey = function(a, b, c) {
        goog.array.sortByKey(a, function(a) {
          return a[b];
        }, c);
      };
      goog.array.isSorted = function(a, b, c) {
        b = b || goog.array.defaultCompare;
        for (var d = 1; d < a.length; d++) {
          var e = b(a[d - 1], a[d]);
          if (0 < e || 0 == e && c) return !1;
        }
        return !0;
      };
      goog.array.equals = function(a, b, c) {
        if (!goog.isArrayLike(a) || !goog.isArrayLike(b) || a.length != b.length) return !1;
        var d = a.length;
        c = c || goog.array.defaultCompareEquality;
        for (var e = 0; e < d; e++) if (!c(a[e], b[e])) return !1;
        return !0;
      };
      goog.array.compare3 = function(a, b, c) {
        c = c || goog.array.defaultCompare;
        for (var d = Math.min(a.length, b.length), e = 0; e < d; e++) {
          var f = c(a[e], b[e]);
          if (0 != f) return f;
        }
        return goog.array.defaultCompare(a.length, b.length);
      };
      goog.array.defaultCompare = function(a, b) {
        return a > b ? 1 : a < b ? -1 : 0;
      };
      goog.array.inverseDefaultCompare = function(a, b) {
        return -goog.array.defaultCompare(a, b);
      };
      goog.array.defaultCompareEquality = function(a, b) {
        return a === b;
      };
      goog.array.binaryInsert = function(a, b, c) {
        c = goog.array.binarySearch(a, b, c);
        return 0 > c && (goog.array.insertAt(a, b, -(c + 1)), !0);
      };
      goog.array.binaryRemove = function(a, b, c) {
        b = goog.array.binarySearch(a, b, c);
        return 0 <= b && goog.array.removeAt(a, b);
      };
      goog.array.bucket = function(a, b, c) {
        for (var d = {}, e = 0; e < a.length; e++) {
          var f = a[e], g = b.call(c, f, e, a);
          goog.isDef(g) && (d[g] || (d[g] = [])).push(f);
        }
        return d;
      };
      goog.array.toObject = function(a, b, c) {
        var d = {};
        goog.array.forEach(a, function(e, f) {
          d[b.call(c, e, f, a)] = e;
        });
        return d;
      };
      goog.array.range = function(a, b, c) {
        var d = [], e = 0, f = a;
        c = c || 1;
        void 0 !== b && (e = a, f = b);
        if (0 > c * (f - e)) return [];
        if (0 < c) for (a = e; a < f; a += c) d.push(a); else for (a = e; a > f; a += c) d.push(a);
        return d;
      };
      goog.array.repeat = function(a, b) {
        for (var c = [], d = 0; d < b; d++) c[d] = a;
        return c;
      };
      goog.array.flatten = function(a) {
        for (var b = [], c = 0; c < arguments.length; c++) {
          var d = arguments[c];
          if (goog.isArray(d)) for (var e = 0; e < d.length; e += 8192) for (var f = goog.array.slice(d, e, e + 8192), f = goog.array.flatten.apply(null, f), g = 0; g < f.length; g++) b.push(f[g]); else b.push(d);
        }
        return b;
      };
      goog.array.rotate = function(a, b) {
        goog.asserts.assert(null != a.length);
        a.length && (b %= a.length, 0 < b ? Array.prototype.unshift.apply(a, a.splice(-b, b)) : 0 > b && Array.prototype.push.apply(a, a.splice(0, -b)));
        return a;
      };
      goog.array.moveItem = function(a, b, c) {
        goog.asserts.assert(0 <= b && b < a.length);
        goog.asserts.assert(0 <= c && c < a.length);
        b = Array.prototype.splice.call(a, b, 1);
        Array.prototype.splice.call(a, c, 0, b[0]);
      };
      goog.array.zip = function(a) {
        if (!arguments.length) return [];
        for (var b = [], c = arguments[0].length, d = 1; d < arguments.length; d++) arguments[d].length < c && (c = arguments[d].length);
        for (d = 0; d < c; d++) {
          for (var e = [], f = 0; f < arguments.length; f++) e.push(arguments[f][d]);
          b.push(e);
        }
        return b;
      };
      goog.array.shuffle = function(a, b) {
        for (var c = b || Math.random, d = a.length - 1; 0 < d; d--) {
          var e = Math.floor(c() * (d + 1)), f = a[d];
          a[d] = a[e];
          a[e] = f;
        }
      };
      goog.array.copyByIndex = function(a, b) {
        var c = [];
        goog.array.forEach(b, function(b) {
          c.push(a[b]);
        });
        return c;
      };
      goog.crypt = {};
      goog.crypt.stringToByteArray = function(a) {
        for (var b = [], c = 0, d = 0; d < a.length; d++) {
          for (var e = a.charCodeAt(d); 255 < e; ) b[c++] = 255 & e, e >>= 8;
          b[c++] = e;
        }
        return b;
      };
      goog.crypt.byteArrayToString = function(a) {
        if (8192 >= a.length) return String.fromCharCode.apply(null, a);
        for (var b = "", c = 0; c < a.length; c += 8192) var d = goog.array.slice(a, c, c + 8192), b = b + String.fromCharCode.apply(null, d);
        return b;
      };
      goog.crypt.byteArrayToHex = function(a) {
        return goog.array.map(a, function(a) {
          a = a.toString(16);
          return 1 < a.length ? a : "0" + a;
        }).join("");
      };
      goog.crypt.hexToByteArray = function(a) {
        goog.asserts.assert(0 == a.length % 2, "Key string length must be multiple of 2");
        for (var b = [], c = 0; c < a.length; c += 2) b.push(parseInt(a.substring(c, c + 2), 16));
        return b;
      };
      goog.crypt.stringToUtf8ByteArray = function(a) {
        for (var b = [], c = 0, d = 0; d < a.length; d++) {
          var e = a.charCodeAt(d);
          128 > e ? b[c++] = e : (2048 > e ? b[c++] = e >> 6 | 192 : (55296 == (64512 & e) && d + 1 < a.length && 56320 == (64512 & a.charCodeAt(d + 1)) ? (e = 65536 + ((1023 & e) << 10) + (1023 & a.charCodeAt(++d)), 
          b[c++] = e >> 18 | 240, b[c++] = e >> 12 & 63 | 128) : b[c++] = e >> 12 | 224, b[c++] = e >> 6 & 63 | 128), 
          b[c++] = 63 & e | 128);
        }
        return b;
      };
      goog.crypt.utf8ByteArrayToString = function(a) {
        for (var b = [], c = 0, d = 0; c < a.length; ) {
          var e = a[c++];
          if (128 > e) b[d++] = String.fromCharCode(e); else if (191 < e && 224 > e) {
            var f = a[c++];
            b[d++] = String.fromCharCode((31 & e) << 6 | 63 & f);
          } else if (239 < e && 365 > e) {
            var f = a[c++], g = a[c++], h = a[c++], e = ((7 & e) << 18 | (63 & f) << 12 | (63 & g) << 6 | 63 & h) - 65536;
            b[d++] = String.fromCharCode(55296 + (e >> 10));
            b[d++] = String.fromCharCode(56320 + (1023 & e));
          } else f = a[c++], g = a[c++], b[d++] = String.fromCharCode((15 & e) << 12 | (63 & f) << 6 | 63 & g);
        }
        return b.join("");
      };
      goog.crypt.xorByteArray = function(a, b) {
        goog.asserts.assert(a.length == b.length, "XOR array lengths must match");
        for (var c = [], d = 0; d < a.length; d++) c.push(a[d] ^ b[d]);
        return c;
      };
      goog.labs = {};
      goog.labs.userAgent = {};
      goog.labs.userAgent.util = {};
      goog.labs.userAgent.util.getNativeUserAgentString_ = function() {
        var a = goog.labs.userAgent.util.getNavigator_();
        return a && (a = a.userAgent) ? a : "";
      };
      goog.labs.userAgent.util.getNavigator_ = function() {
        return goog.global.navigator;
      };
      goog.labs.userAgent.util.userAgent_ = goog.labs.userAgent.util.getNativeUserAgentString_();
      goog.labs.userAgent.util.setUserAgent = function(a) {
        goog.labs.userAgent.util.userAgent_ = a || goog.labs.userAgent.util.getNativeUserAgentString_();
      };
      goog.labs.userAgent.util.getUserAgent = function() {
        return goog.labs.userAgent.util.userAgent_;
      };
      goog.labs.userAgent.util.matchUserAgent = function(a) {
        var b = goog.labs.userAgent.util.getUserAgent();
        return goog.string.contains(b, a);
      };
      goog.labs.userAgent.util.matchUserAgentIgnoreCase = function(a) {
        var b = goog.labs.userAgent.util.getUserAgent();
        return goog.string.caseInsensitiveContains(b, a);
      };
      goog.labs.userAgent.util.extractVersionTuples = function(a) {
        for (var b = RegExp("(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?", "g"), c = [], d; d = b.exec(a); ) c.push([ d[1], d[2], d[3] || void 0 ]);
        return c;
      };
      goog.labs.userAgent.platform = {};
      goog.labs.userAgent.platform.isAndroid = function() {
        return goog.labs.userAgent.util.matchUserAgent("Android");
      };
      goog.labs.userAgent.platform.isIpod = function() {
        return goog.labs.userAgent.util.matchUserAgent("iPod");
      };
      goog.labs.userAgent.platform.isIphone = function() {
        return goog.labs.userAgent.util.matchUserAgent("iPhone") && !goog.labs.userAgent.util.matchUserAgent("iPod") && !goog.labs.userAgent.util.matchUserAgent("iPad");
      };
      goog.labs.userAgent.platform.isIpad = function() {
        return goog.labs.userAgent.util.matchUserAgent("iPad");
      };
      goog.labs.userAgent.platform.isIos = function() {
        return goog.labs.userAgent.platform.isIphone() || goog.labs.userAgent.platform.isIpad() || goog.labs.userAgent.platform.isIpod();
      };
      goog.labs.userAgent.platform.isMacintosh = function() {
        return goog.labs.userAgent.util.matchUserAgent("Macintosh");
      };
      goog.labs.userAgent.platform.isLinux = function() {
        return goog.labs.userAgent.util.matchUserAgent("Linux");
      };
      goog.labs.userAgent.platform.isWindows = function() {
        return goog.labs.userAgent.util.matchUserAgent("Windows");
      };
      goog.labs.userAgent.platform.isChromeOS = function() {
        return goog.labs.userAgent.util.matchUserAgent("CrOS");
      };
      goog.labs.userAgent.platform.getVersion = function() {
        var a = goog.labs.userAgent.util.getUserAgent(), b = "";
        goog.labs.userAgent.platform.isWindows() ? (b = /Windows (?:NT|Phone) ([0-9.]+)/, 
        b = (a = b.exec(a)) ? a[1] : "0.0") : goog.labs.userAgent.platform.isIos() ? (b = /(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/, 
        b = (a = b.exec(a)) && a[1].replace(/_/g, ".")) : goog.labs.userAgent.platform.isMacintosh() ? (b = /Mac OS X ([0-9_.]+)/, 
        b = (a = b.exec(a)) ? a[1].replace(/_/g, ".") : "10") : goog.labs.userAgent.platform.isAndroid() ? (b = /Android\s+([^\);]+)(\)|;)/, 
        b = (a = b.exec(a)) && a[1]) : goog.labs.userAgent.platform.isChromeOS() && (b = /(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/, 
        b = (a = b.exec(a)) && a[1]);
        return b || "";
      };
      goog.labs.userAgent.platform.isVersionOrHigher = function(a) {
        return 0 <= goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(), a);
      };
      goog.object = {};
      goog.object.forEach = function(a, b, c) {
        for (var d in a) b.call(c, a[d], d, a);
      };
      goog.object.filter = function(a, b, c) {
        var d = {}, e;
        for (e in a) b.call(c, a[e], e, a) && (d[e] = a[e]);
        return d;
      };
      goog.object.map = function(a, b, c) {
        var d = {}, e;
        for (e in a) d[e] = b.call(c, a[e], e, a);
        return d;
      };
      goog.object.some = function(a, b, c) {
        for (var d in a) if (b.call(c, a[d], d, a)) return !0;
        return !1;
      };
      goog.object.every = function(a, b, c) {
        for (var d in a) if (!b.call(c, a[d], d, a)) return !1;
        return !0;
      };
      goog.object.getCount = function(a) {
        var b = 0, c;
        for (c in a) b++;
        return b;
      };
      goog.object.getAnyKey = function(a) {
        for (var b in a) return b;
      };
      goog.object.getAnyValue = function(a) {
        for (var b in a) return a[b];
      };
      goog.object.contains = function(a, b) {
        return goog.object.containsValue(a, b);
      };
      goog.object.getValues = function(a) {
        var b = [], c = 0, d;
        for (d in a) b[c++] = a[d];
        return b;
      };
      goog.object.getKeys = function(a) {
        var b = [], c = 0, d;
        for (d in a) b[c++] = d;
        return b;
      };
      goog.object.getValueByKeys = function(a, b) {
        for (var c = goog.isArrayLike(b), d = c ? b : arguments, c = c ? 0 : 1; c < d.length && (a = a[d[c]], 
        goog.isDef(a)); c++) ;
        return a;
      };
      goog.object.containsKey = function(a, b) {
        return null !== a && b in a;
      };
      goog.object.containsValue = function(a, b) {
        for (var c in a) if (a[c] == b) return !0;
        return !1;
      };
      goog.object.findKey = function(a, b, c) {
        for (var d in a) if (b.call(c, a[d], d, a)) return d;
      };
      goog.object.findValue = function(a, b, c) {
        return (b = goog.object.findKey(a, b, c)) && a[b];
      };
      goog.object.isEmpty = function(a) {
        for (var b in a) return !1;
        return !0;
      };
      goog.object.clear = function(a) {
        for (var b in a) delete a[b];
      };
      goog.object.remove = function(a, b) {
        var c;
        (c = b in a) && delete a[b];
        return c;
      };
      goog.object.add = function(a, b, c) {
        if (null !== a && b in a) throw Error('The object already contains the key "' + b + '"');
        goog.object.set(a, b, c);
      };
      goog.object.get = function(a, b, c) {
        return null !== a && b in a ? a[b] : c;
      };
      goog.object.set = function(a, b, c) {
        a[b] = c;
      };
      goog.object.setIfUndefined = function(a, b, c) {
        return b in a ? a[b] : a[b] = c;
      };
      goog.object.setWithReturnValueIfNotSet = function(a, b, c) {
        if (b in a) return a[b];
        c = c();
        return a[b] = c;
      };
      goog.object.equals = function(a, b) {
        for (var c in a) if (!(c in b) || a[c] !== b[c]) return !1;
        for (c in b) if (!(c in a)) return !1;
        return !0;
      };
      goog.object.clone = function(a) {
        var b = {}, c;
        for (c in a) b[c] = a[c];
        return b;
      };
      goog.object.unsafeClone = function(a) {
        var b = goog.typeOf(a);
        if ("object" == b || "array" == b) {
          if (goog.isFunction(a.clone)) return a.clone();
          var b = "array" == b ? [] : {}, c;
          for (c in a) b[c] = goog.object.unsafeClone(a[c]);
          return b;
        }
        return a;
      };
      goog.object.transpose = function(a) {
        var b = {}, c;
        for (c in a) b[a[c]] = c;
        return b;
      };
      goog.object.PROTOTYPE_FIELDS_ = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
      goog.object.extend = function(a, b) {
        for (var c, d, e = 1; e < arguments.length; e++) {
          d = arguments[e];
          for (c in d) a[c] = d[c];
          for (var f = 0; f < goog.object.PROTOTYPE_FIELDS_.length; f++) c = goog.object.PROTOTYPE_FIELDS_[f], 
          Object.prototype.hasOwnProperty.call(d, c) && (a[c] = d[c]);
        }
      };
      goog.object.create = function(a) {
        var b = arguments.length;
        if (1 == b && goog.isArray(arguments[0])) return goog.object.create.apply(null, arguments[0]);
        if (b % 2) throw Error("Uneven number of arguments");
        for (var c = {}, d = 0; d < b; d += 2) c[arguments[d]] = arguments[d + 1];
        return c;
      };
      goog.object.createSet = function(a) {
        var b = arguments.length;
        if (1 == b && goog.isArray(arguments[0])) return goog.object.createSet.apply(null, arguments[0]);
        for (var c = {}, d = 0; d < b; d++) c[arguments[d]] = !0;
        return c;
      };
      goog.object.createImmutableView = function(a) {
        var b = a;
        Object.isFrozen && !Object.isFrozen(a) && (b = Object.create(a), Object.freeze(b));
        return b;
      };
      goog.object.isImmutableView = function(a) {
        return !!Object.isFrozen && Object.isFrozen(a);
      };
      goog.labs.userAgent.browser = {};
      goog.labs.userAgent.browser.matchOpera_ = function() {
        return goog.labs.userAgent.util.matchUserAgent("Opera") || goog.labs.userAgent.util.matchUserAgent("OPR");
      };
      goog.labs.userAgent.browser.matchIE_ = function() {
        return goog.labs.userAgent.util.matchUserAgent("Trident") || goog.labs.userAgent.util.matchUserAgent("MSIE");
      };
      goog.labs.userAgent.browser.matchEdge_ = function() {
        return goog.labs.userAgent.util.matchUserAgent("Edge");
      };
      goog.labs.userAgent.browser.matchFirefox_ = function() {
        return goog.labs.userAgent.util.matchUserAgent("Firefox");
      };
      goog.labs.userAgent.browser.matchSafari_ = function() {
        return goog.labs.userAgent.util.matchUserAgent("Safari") && !(goog.labs.userAgent.browser.matchChrome_() || goog.labs.userAgent.browser.matchCoast_() || goog.labs.userAgent.browser.matchOpera_() || goog.labs.userAgent.browser.matchEdge_() || goog.labs.userAgent.browser.isSilk() || goog.labs.userAgent.util.matchUserAgent("Android"));
      };
      goog.labs.userAgent.browser.matchCoast_ = function() {
        return goog.labs.userAgent.util.matchUserAgent("Coast");
      };
      goog.labs.userAgent.browser.matchIosWebview_ = function() {
        return (goog.labs.userAgent.util.matchUserAgent("iPad") || goog.labs.userAgent.util.matchUserAgent("iPhone")) && !goog.labs.userAgent.browser.matchSafari_() && !goog.labs.userAgent.browser.matchChrome_() && !goog.labs.userAgent.browser.matchCoast_() && goog.labs.userAgent.util.matchUserAgent("AppleWebKit");
      };
      goog.labs.userAgent.browser.matchChrome_ = function() {
        return (goog.labs.userAgent.util.matchUserAgent("Chrome") || goog.labs.userAgent.util.matchUserAgent("CriOS")) && !goog.labs.userAgent.browser.matchOpera_() && !goog.labs.userAgent.browser.matchEdge_();
      };
      goog.labs.userAgent.browser.matchAndroidBrowser_ = function() {
        return goog.labs.userAgent.util.matchUserAgent("Android") && !(goog.labs.userAgent.browser.isChrome() || goog.labs.userAgent.browser.isFirefox() || goog.labs.userAgent.browser.isOpera() || goog.labs.userAgent.browser.isSilk());
      };
      goog.labs.userAgent.browser.isOpera = goog.labs.userAgent.browser.matchOpera_;
      goog.labs.userAgent.browser.isIE = goog.labs.userAgent.browser.matchIE_;
      goog.labs.userAgent.browser.isEdge = goog.labs.userAgent.browser.matchEdge_;
      goog.labs.userAgent.browser.isFirefox = goog.labs.userAgent.browser.matchFirefox_;
      goog.labs.userAgent.browser.isSafari = goog.labs.userAgent.browser.matchSafari_;
      goog.labs.userAgent.browser.isCoast = goog.labs.userAgent.browser.matchCoast_;
      goog.labs.userAgent.browser.isIosWebview = goog.labs.userAgent.browser.matchIosWebview_;
      goog.labs.userAgent.browser.isChrome = goog.labs.userAgent.browser.matchChrome_;
      goog.labs.userAgent.browser.isAndroidBrowser = goog.labs.userAgent.browser.matchAndroidBrowser_;
      goog.labs.userAgent.browser.isSilk = function() {
        return goog.labs.userAgent.util.matchUserAgent("Silk");
      };
      goog.labs.userAgent.browser.getVersion = function() {
        function a(a) {
          a = goog.array.find(a, d);
          return c[a] || "";
        }
        var b = goog.labs.userAgent.util.getUserAgent();
        if (goog.labs.userAgent.browser.isIE()) return goog.labs.userAgent.browser.getIEVersion_(b);
        var b = goog.labs.userAgent.util.extractVersionTuples(b), c = {};
        goog.array.forEach(b, function(a) {
          c[a[0]] = a[1];
        });
        var d = goog.partial(goog.object.containsKey, c);
        return goog.labs.userAgent.browser.isOpera() ? a([ "Version", "Opera", "OPR" ]) : goog.labs.userAgent.browser.isEdge() ? a([ "Edge" ]) : goog.labs.userAgent.browser.isChrome() ? a([ "Chrome", "CriOS" ]) : (b = b[2]) && b[1] || "";
      };
      goog.labs.userAgent.browser.isVersionOrHigher = function(a) {
        return 0 <= goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(), a);
      };
      goog.labs.userAgent.browser.getIEVersion_ = function(a) {
        var b = /rv: *([\d\.]*)/.exec(a);
        if (b && b[1]) return b[1];
        var b = "", c = /MSIE +([\d\.]+)/.exec(a);
        if (c && c[1]) if (a = /Trident\/(\d.\d)/.exec(a), "7.0" == c[1]) if (a && a[1]) switch (a[1]) {
         case "4.0":
          b = "8.0";
          break;

         case "5.0":
          b = "9.0";
          break;

         case "6.0":
          b = "10.0";
          break;

         case "7.0":
          b = "11.0";
        } else b = "7.0"; else b = c[1];
        return b;
      };
      goog.labs.userAgent.engine = {};
      goog.labs.userAgent.engine.isPresto = function() {
        return goog.labs.userAgent.util.matchUserAgent("Presto");
      };
      goog.labs.userAgent.engine.isTrident = function() {
        return goog.labs.userAgent.util.matchUserAgent("Trident") || goog.labs.userAgent.util.matchUserAgent("MSIE");
      };
      goog.labs.userAgent.engine.isEdge = function() {
        return goog.labs.userAgent.util.matchUserAgent("Edge");
      };
      goog.labs.userAgent.engine.isWebKit = function() {
        return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit") && !goog.labs.userAgent.engine.isEdge();
      };
      goog.labs.userAgent.engine.isGecko = function() {
        return goog.labs.userAgent.util.matchUserAgent("Gecko") && !goog.labs.userAgent.engine.isWebKit() && !goog.labs.userAgent.engine.isTrident() && !goog.labs.userAgent.engine.isEdge();
      };
      goog.labs.userAgent.engine.getVersion = function() {
        var a = goog.labs.userAgent.util.getUserAgent();
        if (a) {
          var a = goog.labs.userAgent.util.extractVersionTuples(a), b = goog.labs.userAgent.engine.getEngineTuple_(a);
          if (b) return "Gecko" == b[0] ? goog.labs.userAgent.engine.getVersionForKey_(a, "Firefox") : b[1];
          var a = a[0], c;
          if (a && (c = a[2]) && (c = /Trident\/([^\s;]+)/.exec(c))) return c[1];
        }
        return "";
      };
      goog.labs.userAgent.engine.getEngineTuple_ = function(a) {
        if (!goog.labs.userAgent.engine.isEdge()) return a[1];
        for (var b = 0; b < a.length; b++) {
          var c = a[b];
          if ("Edge" == c[0]) return c;
        }
      };
      goog.labs.userAgent.engine.isVersionOrHigher = function(a) {
        return 0 <= goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(), a);
      };
      goog.labs.userAgent.engine.getVersionForKey_ = function(a, b) {
        var c = goog.array.find(a, function(a) {
          return b == a[0];
        });
        return c && c[1] || "";
      };
      goog.userAgent = {};
      goog.userAgent.ASSUME_IE = !1;
      goog.userAgent.ASSUME_EDGE = !1;
      goog.userAgent.ASSUME_GECKO = !1;
      goog.userAgent.ASSUME_WEBKIT = !1;
      goog.userAgent.ASSUME_MOBILE_WEBKIT = !1;
      goog.userAgent.ASSUME_OPERA = !1;
      goog.userAgent.ASSUME_ANY_VERSION = !1;
      goog.userAgent.BROWSER_KNOWN_ = goog.userAgent.ASSUME_IE || goog.userAgent.ASSUME_EDGE || goog.userAgent.ASSUME_GECKO || goog.userAgent.ASSUME_MOBILE_WEBKIT || goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_OPERA;
      goog.userAgent.getUserAgentString = function() {
        return goog.labs.userAgent.util.getUserAgent();
      };
      goog.userAgent.getNavigator = function() {
        return goog.global.navigator || null;
      };
      goog.userAgent.OPERA = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_OPERA : goog.labs.userAgent.browser.isOpera();
      goog.userAgent.IE = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_IE : goog.labs.userAgent.browser.isIE();
      goog.userAgent.EDGE = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_EDGE : goog.labs.userAgent.engine.isEdge();
      goog.userAgent.EDGE_OR_IE = goog.userAgent.EDGE || goog.userAgent.IE;
      goog.userAgent.GECKO = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_GECKO : goog.labs.userAgent.engine.isGecko();
      goog.userAgent.WEBKIT = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_MOBILE_WEBKIT : goog.labs.userAgent.engine.isWebKit();
      goog.userAgent.isMobile_ = function() {
        return goog.userAgent.WEBKIT && goog.labs.userAgent.util.matchUserAgent("Mobile");
      };
      goog.userAgent.MOBILE = goog.userAgent.ASSUME_MOBILE_WEBKIT || goog.userAgent.isMobile_();
      goog.userAgent.SAFARI = goog.userAgent.WEBKIT;
      goog.userAgent.determinePlatform_ = function() {
        var a = goog.userAgent.getNavigator();
        return a && a.platform || "";
      };
      goog.userAgent.PLATFORM = goog.userAgent.determinePlatform_();
      goog.userAgent.ASSUME_MAC = !1;
      goog.userAgent.ASSUME_WINDOWS = !1;
      goog.userAgent.ASSUME_LINUX = !1;
      goog.userAgent.ASSUME_X11 = !1;
      goog.userAgent.ASSUME_ANDROID = !1;
      goog.userAgent.ASSUME_IPHONE = !1;
      goog.userAgent.ASSUME_IPAD = !1;
      goog.userAgent.PLATFORM_KNOWN_ = goog.userAgent.ASSUME_MAC || goog.userAgent.ASSUME_WINDOWS || goog.userAgent.ASSUME_LINUX || goog.userAgent.ASSUME_X11 || goog.userAgent.ASSUME_ANDROID || goog.userAgent.ASSUME_IPHONE || goog.userAgent.ASSUME_IPAD;
      goog.userAgent.MAC = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_MAC : goog.labs.userAgent.platform.isMacintosh();
      goog.userAgent.WINDOWS = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_WINDOWS : goog.labs.userAgent.platform.isWindows();
      goog.userAgent.isLegacyLinux_ = function() {
        return goog.labs.userAgent.platform.isLinux() || goog.labs.userAgent.platform.isChromeOS();
      };
      goog.userAgent.LINUX = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_LINUX : goog.userAgent.isLegacyLinux_();
      goog.userAgent.isX11_ = function() {
        var a = goog.userAgent.getNavigator();
        return !!a && goog.string.contains(a.appVersion || "", "X11");
      };
      goog.userAgent.X11 = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_X11 : goog.userAgent.isX11_();
      goog.userAgent.ANDROID = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_ANDROID : goog.labs.userAgent.platform.isAndroid();
      goog.userAgent.IPHONE = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPHONE : goog.labs.userAgent.platform.isIphone();
      goog.userAgent.IPAD = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPAD : goog.labs.userAgent.platform.isIpad();
      goog.userAgent.operaVersion_ = function() {
        var a = goog.global.opera.version;
        try {
          return a();
        } catch (b) {
          return a;
        }
      };
      goog.userAgent.determineVersion_ = function() {
        if (goog.userAgent.OPERA && goog.global.opera) return goog.userAgent.operaVersion_();
        var a = "", b = goog.userAgent.getVersionRegexResult_();
        b && (a = b ? b[1] : "");
        return goog.userAgent.IE && (b = goog.userAgent.getDocumentMode_(), b > parseFloat(a)) ? String(b) : a;
      };
      goog.userAgent.getVersionRegexResult_ = function() {
        var a = goog.userAgent.getUserAgentString();
        if (goog.userAgent.GECKO) return /rv\:([^\);]+)(\)|;)/.exec(a);
        if (goog.userAgent.EDGE) return /Edge\/([\d\.]+)/.exec(a);
        if (goog.userAgent.IE) return /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);
        if (goog.userAgent.WEBKIT) return /WebKit\/(\S+)/.exec(a);
      };
      goog.userAgent.getDocumentMode_ = function() {
        var a = goog.global.document;
        return a ? a.documentMode : void 0;
      };
      goog.userAgent.VERSION = goog.userAgent.determineVersion_();
      goog.userAgent.compare = function(a, b) {
        return goog.string.compareVersions(a, b);
      };
      goog.userAgent.isVersionOrHigherCache_ = {};
      goog.userAgent.isVersionOrHigher = function(a) {
        return goog.userAgent.ASSUME_ANY_VERSION || goog.userAgent.isVersionOrHigherCache_[a] || (goog.userAgent.isVersionOrHigherCache_[a] = 0 <= goog.string.compareVersions(goog.userAgent.VERSION, a));
      };
      goog.userAgent.isVersion = goog.userAgent.isVersionOrHigher;
      goog.userAgent.isDocumentModeOrHigher = function(a) {
        return Number(goog.userAgent.DOCUMENT_MODE) >= a;
      };
      goog.userAgent.isDocumentMode = goog.userAgent.isDocumentModeOrHigher;
      goog.userAgent.DOCUMENT_MODE = function() {
        var a = goog.global.document, b = goog.userAgent.getDocumentMode_();
        return a && goog.userAgent.IE ? b || ("CSS1Compat" == a.compatMode ? parseInt(goog.userAgent.VERSION, 10) : 5) : void 0;
      }();
      goog.userAgent.product = {};
      goog.userAgent.product.ASSUME_FIREFOX = !1;
      goog.userAgent.product.ASSUME_IPHONE = !1;
      goog.userAgent.product.ASSUME_IPAD = !1;
      goog.userAgent.product.ASSUME_ANDROID = !1;
      goog.userAgent.product.ASSUME_CHROME = !1;
      goog.userAgent.product.ASSUME_SAFARI = !1;
      goog.userAgent.product.PRODUCT_KNOWN_ = goog.userAgent.ASSUME_IE || goog.userAgent.ASSUME_EDGE || goog.userAgent.ASSUME_OPERA || goog.userAgent.product.ASSUME_FIREFOX || goog.userAgent.product.ASSUME_IPHONE || goog.userAgent.product.ASSUME_IPAD || goog.userAgent.product.ASSUME_ANDROID || goog.userAgent.product.ASSUME_CHROME || goog.userAgent.product.ASSUME_SAFARI;
      goog.userAgent.product.OPERA = goog.userAgent.OPERA;
      goog.userAgent.product.IE = goog.userAgent.IE;
      goog.userAgent.product.EDGE = goog.userAgent.EDGE;
      goog.userAgent.product.FIREFOX = goog.userAgent.product.PRODUCT_KNOWN_ ? goog.userAgent.product.ASSUME_FIREFOX : goog.labs.userAgent.browser.isFirefox();
      goog.userAgent.product.isIphoneOrIpod_ = function() {
        return goog.labs.userAgent.platform.isIphone() || goog.labs.userAgent.platform.isIpod();
      };
      goog.userAgent.product.IPHONE = goog.userAgent.product.PRODUCT_KNOWN_ ? goog.userAgent.product.ASSUME_IPHONE : goog.userAgent.product.isIphoneOrIpod_();
      goog.userAgent.product.IPAD = goog.userAgent.product.PRODUCT_KNOWN_ ? goog.userAgent.product.ASSUME_IPAD : goog.labs.userAgent.platform.isIpad();
      goog.userAgent.product.ANDROID = goog.userAgent.product.PRODUCT_KNOWN_ ? goog.userAgent.product.ASSUME_ANDROID : goog.labs.userAgent.browser.isAndroidBrowser();
      goog.userAgent.product.CHROME = goog.userAgent.product.PRODUCT_KNOWN_ ? goog.userAgent.product.ASSUME_CHROME : goog.labs.userAgent.browser.isChrome();
      goog.userAgent.product.isSafariDesktop_ = function() {
        return goog.labs.userAgent.browser.isSafari() && !goog.labs.userAgent.platform.isIos();
      };
      goog.userAgent.product.SAFARI = goog.userAgent.product.PRODUCT_KNOWN_ ? goog.userAgent.product.ASSUME_SAFARI : goog.userAgent.product.isSafariDesktop_();
      goog.crypt.base64 = {};
      goog.crypt.base64.byteToCharMap_ = null;
      goog.crypt.base64.charToByteMap_ = null;
      goog.crypt.base64.byteToCharMapWebSafe_ = null;
      goog.crypt.base64.ENCODED_VALS_BASE = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
      goog.crypt.base64.ENCODED_VALS = goog.crypt.base64.ENCODED_VALS_BASE + "+/=";
      goog.crypt.base64.ENCODED_VALS_WEBSAFE = goog.crypt.base64.ENCODED_VALS_BASE + "-_.";
      goog.crypt.base64.ASSUME_NATIVE_SUPPORT_ = goog.userAgent.GECKO || goog.userAgent.WEBKIT && !goog.userAgent.product.SAFARI || goog.userAgent.OPERA;
      goog.crypt.base64.HAS_NATIVE_ENCODE_ = goog.crypt.base64.ASSUME_NATIVE_SUPPORT_ || "function" == typeof goog.global.btoa;
      goog.crypt.base64.HAS_NATIVE_DECODE_ = goog.crypt.base64.ASSUME_NATIVE_SUPPORT_ || !goog.userAgent.product.SAFARI && !goog.userAgent.IE && "function" == typeof goog.global.atob;
      goog.crypt.base64.encodeByteArray = function(a, b) {
        goog.asserts.assert(goog.isArrayLike(a), "encodeByteArray takes an array as a parameter");
        goog.crypt.base64.init_();
        for (var c = b ? goog.crypt.base64.byteToCharMapWebSafe_ : goog.crypt.base64.byteToCharMap_, d = [], e = 0; e < a.length; e += 3) {
          var f = a[e], g = e + 1 < a.length, h = g ? a[e + 1] : 0, k = e + 2 < a.length, l = k ? a[e + 2] : 0, p = f >> 2, f = (3 & f) << 4 | h >> 4, h = (15 & h) << 2 | l >> 6, l = 63 & l;
          k || (l = 64, g || (h = 64));
          d.push(c[p], c[f], c[h], c[l]);
        }
        return d.join("");
      };
      goog.crypt.base64.encodeString = function(a, b) {
        return goog.crypt.base64.HAS_NATIVE_ENCODE_ && !b ? goog.global.btoa(a) : goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(a), b);
      };
      goog.crypt.base64.decodeString = function(a, b) {
        if (goog.crypt.base64.HAS_NATIVE_DECODE_ && !b) return goog.global.atob(a);
        var c = "";
        goog.crypt.base64.decodeStringInternal_(a, function(a) {
          c += String.fromCharCode(a);
        });
        return c;
      };
      goog.crypt.base64.decodeStringToByteArray = function(a, b) {
        var c = [];
        goog.crypt.base64.decodeStringInternal_(a, function(a) {
          c.push(a);
        });
        return c;
      };
      goog.crypt.base64.decodeStringToUint8Array = function(a) {
        goog.asserts.assert(!goog.userAgent.IE || goog.userAgent.isVersionOrHigher("10"), "Browser does not support typed arrays");
        var b = new Uint8Array(Math.ceil(3 * a.length / 4)), c = 0;
        goog.crypt.base64.decodeStringInternal_(a, function(a) {
          b[c++] = a;
        });
        return b.subarray(0, c);
      };
      goog.crypt.base64.decodeStringInternal_ = function(a, b) {
        function c(b) {
          for (;d < a.length; ) {
            var c = a.charAt(d++), e = goog.crypt.base64.charToByteMap_[c];
            if (null != e) return e;
            if (!goog.string.isEmptyOrWhitespace(c)) throw Error("Unknown base64 encoding at char: " + c);
          }
          return b;
        }
        goog.crypt.base64.init_();
        for (var d = 0; ;) {
          var e = c(-1), f = c(0), g = c(64), h = c(64);
          if (64 === h && -1 === e) break;
          b(e << 2 | f >> 4);
          64 != g && (b(f << 4 & 240 | g >> 2), 64 != h && b(g << 6 & 192 | h));
        }
      };
      goog.crypt.base64.init_ = function() {
        if (!goog.crypt.base64.byteToCharMap_) {
          goog.crypt.base64.byteToCharMap_ = {};
          goog.crypt.base64.charToByteMap_ = {};
          goog.crypt.base64.byteToCharMapWebSafe_ = {};
          for (var a = 0; a < goog.crypt.base64.ENCODED_VALS.length; a++) goog.crypt.base64.byteToCharMap_[a] = goog.crypt.base64.ENCODED_VALS.charAt(a), 
          goog.crypt.base64.charToByteMap_[goog.crypt.base64.byteToCharMap_[a]] = a, goog.crypt.base64.byteToCharMapWebSafe_[a] = goog.crypt.base64.ENCODED_VALS_WEBSAFE.charAt(a), 
          a >= goog.crypt.base64.ENCODED_VALS_BASE.length && (goog.crypt.base64.charToByteMap_[goog.crypt.base64.ENCODED_VALS_WEBSAFE.charAt(a)] = a);
        }
      };
      jspb.ExtensionFieldInfo = function(a, b, c, d, e) {
        this.fieldIndex = a;
        this.fieldName = b;
        this.ctor = c;
        this.toObjectFn = d;
        this.isRepeated = e;
      };
      jspb.ExtensionFieldBinaryInfo = function(a, b, c, d, e, f) {
        this.fieldInfo = a;
        this.binaryReaderFn = b;
        this.binaryWriterFn = c;
        this.binaryMessageSerializeFn = d;
        this.binaryMessageDeserializeFn = e;
        this.isPacked = f;
      };
      jspb.ExtensionFieldInfo.prototype.isMessageType = function() {
        return !!this.ctor;
      };
      jspb.Message = function() {};
      jspb.Message.GENERATE_TO_OBJECT = !0;
      jspb.Message.GENERATE_FROM_OBJECT = !goog.DISALLOW_TEST_ONLY_CODE;
      jspb.Message.GENERATE_TO_STRING = !0;
      jspb.Message.ASSUME_LOCAL_ARRAYS = !1;
      jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS = !0;
      jspb.Message.SUPPORTS_UINT8ARRAY_ = "function" == typeof Uint8Array;
      jspb.Message.prototype.getJsPbMessageId = function() {
        return this.messageId_;
      };
      jspb.Message.getIndex_ = function(a, b) {
        return b + a.arrayIndexOffset_;
      };
      jspb.Message.getFieldNumber_ = function(a, b) {
        return b - a.arrayIndexOffset_;
      };
      jspb.Message.initialize = function(a, b, c, d, e, f) {
        a.wrappers_ = null;
        b || (b = c ? [ c ] : []);
        a.messageId_ = c ? String(c) : void 0;
        a.arrayIndexOffset_ = 0 === c ? -1 : 0;
        a.array = b;
        jspb.Message.initPivotAndExtensionObject_(a, d);
        a.convertedFloatingPointFields_ = {};
        jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS || (a.repeatedFields = e);
        if (e) for (b = 0; b < e.length; b++) c = e[b], c < a.pivot_ ? (c = jspb.Message.getIndex_(a, c), 
        a.array[c] = a.array[c] || jspb.Message.EMPTY_LIST_SENTINEL_) : (jspb.Message.maybeInitEmptyExtensionObject_(a), 
        a.extensionObject_[c] = a.extensionObject_[c] || jspb.Message.EMPTY_LIST_SENTINEL_);
        if (f && f.length) for (b = 0; b < f.length; b++) jspb.Message.computeOneofCase(a, f[b]);
      };
      jspb.Message.EMPTY_LIST_SENTINEL_ = goog.DEBUG && Object.freeze ? Object.freeze([]) : [];
      jspb.Message.isArray_ = function(a) {
        return jspb.Message.ASSUME_LOCAL_ARRAYS ? a instanceof Array : goog.isArray(a);
      };
      jspb.Message.initPivotAndExtensionObject_ = function(a, b) {
        if (a.array.length) {
          var c = a.array.length - 1, d = a.array[c];
          if (d && "object" == typeof d && !jspb.Message.isArray_(d) && !(jspb.Message.SUPPORTS_UINT8ARRAY_ && d instanceof Uint8Array)) {
            a.pivot_ = jspb.Message.getFieldNumber_(a, c);
            a.extensionObject_ = d;
            return;
          }
        }
        -1 < b ? (a.pivot_ = b, a.extensionObject_ = null) : a.pivot_ = Number.MAX_VALUE;
      };
      jspb.Message.maybeInitEmptyExtensionObject_ = function(a) {
        var b = jspb.Message.getIndex_(a, a.pivot_);
        a.array[b] || (a.extensionObject_ = a.array[b] = {});
      };
      jspb.Message.toObjectList = function(a, b, c) {
        for (var d = [], e = 0; e < a.length; e++) d[e] = b.call(a[e], c, a[e]);
        return d;
      };
      jspb.Message.toObjectExtension = function(a, b, c, d, e) {
        for (var f in c) {
          var g = c[f], h = d.call(a, g);
          if (null != h) {
            for (var k in g.fieldName) if (g.fieldName.hasOwnProperty(k)) break;
            b[k] = g.toObjectFn ? g.isRepeated ? jspb.Message.toObjectList(h, g.toObjectFn, e) : g.toObjectFn(e, h) : h;
          }
        }
      };
      jspb.Message.serializeBinaryExtensions = function(a, b, c, d) {
        for (var e in c) {
          var f = c[e], g = f.fieldInfo;
          if (!f.binaryWriterFn) throw Error("Message extension present that was generated without binary serialization support");
          var h = d.call(a, g);
          if (null != h) if (g.isMessageType()) {
            if (!f.binaryMessageSerializeFn) throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");
            f.binaryWriterFn.call(b, g.fieldIndex, h, f.binaryMessageSerializeFn);
          } else f.binaryWriterFn.call(b, g.fieldIndex, h);
        }
      };
      jspb.Message.readBinaryExtension = function(a, b, c, d, e) {
        var f = c[b.getFieldNumber()];
        if (f) {
          c = f.fieldInfo;
          if (!f.binaryReaderFn) throw Error("Deserializing extension whose generated code does not support binary format");
          var g;
          c.isMessageType() ? (g = new c.ctor(), f.binaryReaderFn.call(b, g, f.binaryMessageDeserializeFn)) : g = f.binaryReaderFn.call(b);
          c.isRepeated && !f.isPacked ? (b = d.call(a, c)) ? b.push(g) : e.call(a, c, [ g ]) : e.call(a, c, g);
        } else b.skipField();
      };
      jspb.Message.getField = function(a, b) {
        if (b < a.pivot_) {
          var c = jspb.Message.getIndex_(a, b), d = a.array[c];
          return d === jspb.Message.EMPTY_LIST_SENTINEL_ ? a.array[c] = [] : d;
        }
        if (a.extensionObject_) return d = a.extensionObject_[b], d === jspb.Message.EMPTY_LIST_SENTINEL_ ? a.extensionObject_[b] = [] : d;
      };
      jspb.Message.getRepeatedField = function(a, b) {
        if (b < a.pivot_) {
          var c = jspb.Message.getIndex_(a, b), d = a.array[c];
          return d === jspb.Message.EMPTY_LIST_SENTINEL_ ? a.array[c] = [] : d;
        }
        d = a.extensionObject_[b];
        return d === jspb.Message.EMPTY_LIST_SENTINEL_ ? a.extensionObject_[b] = [] : d;
      };
      jspb.Message.getOptionalFloatingPointField = function(a, b) {
        var c = jspb.Message.getField(a, b);
        return null == c ? c : +c;
      };
      jspb.Message.getRepeatedFloatingPointField = function(a, b) {
        var c = jspb.Message.getRepeatedField(a, b);
        a.convertedFloatingPointFields_ || (a.convertedFloatingPointFields_ = {});
        if (!a.convertedFloatingPointFields_[b]) {
          for (var d = 0; d < c.length; d++) c[d] = +c[d];
          a.convertedFloatingPointFields_[b] = !0;
        }
        return c;
      };
      jspb.Message.bytesAsB64 = function(a) {
        if (null == a || goog.isString(a)) return a;
        if (jspb.Message.SUPPORTS_UINT8ARRAY_ && a instanceof Uint8Array) return goog.crypt.base64.encodeByteArray(a);
        goog.asserts.fail("Cannot coerce to b64 string: " + goog.typeOf(a));
        return null;
      };
      jspb.Message.bytesAsU8 = function(a) {
        if (null == a || a instanceof Uint8Array) return a;
        if (goog.isString(a)) return goog.crypt.base64.decodeStringToUint8Array(a);
        goog.asserts.fail("Cannot coerce to Uint8Array: " + goog.typeOf(a));
        return null;
      };
      jspb.Message.bytesListAsB64 = function(a) {
        jspb.Message.assertConsistentTypes_(a);
        return !a.length || goog.isString(a[0]) ? a : goog.array.map(a, jspb.Message.bytesAsB64);
      };
      jspb.Message.bytesListAsU8 = function(a) {
        jspb.Message.assertConsistentTypes_(a);
        return !a.length || a[0] instanceof Uint8Array ? a : goog.array.map(a, jspb.Message.bytesAsU8);
      };
      jspb.Message.assertConsistentTypes_ = function(a) {
        if (goog.DEBUG && a && 1 < a.length) {
          var b = goog.typeOf(a[0]);
          goog.array.forEach(a, function(a) {
            goog.typeOf(a) != b && goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got " + goog.typeOf(a) + " expected " + b);
          });
        }
      };
      jspb.Message.getFieldWithDefault = function(a, b, c) {
        a = jspb.Message.getField(a, b);
        return null == a ? c : a;
      };
      jspb.Message.getFieldProto3 = jspb.Message.getFieldWithDefault;
      jspb.Message.getMapField = function(a, b, c, d) {
        a.wrappers_ || (a.wrappers_ = {});
        if (b in a.wrappers_) return a.wrappers_[b];
        if (!c) return c = jspb.Message.getField(a, b), c || (c = [], jspb.Message.setField(a, b, c)), 
        a.wrappers_[b] = new jspb.Map(c, d);
      };
      jspb.Message.setField = function(a, b, c) {
        b < a.pivot_ ? a.array[jspb.Message.getIndex_(a, b)] = c : (jspb.Message.maybeInitEmptyExtensionObject_(a), 
        a.extensionObject_[b] = c);
      };
      jspb.Message.setProto3IntField = function(a, b, c) {
        jspb.Message.setFieldIgnoringDefault_(a, b, c, 0);
      };
      jspb.Message.setProto3StringIntField = function(a, b, c) {
        jspb.Message.setFieldIgnoringDefault_(a, b, c, "0");
      };
      jspb.Message.setProto3FloatField = function(a, b, c) {
        jspb.Message.setFieldIgnoringDefault_(a, b, c, 0);
      };
      jspb.Message.setProto3BooleanField = function(a, b, c) {
        jspb.Message.setFieldIgnoringDefault_(a, b, c, !1);
      };
      jspb.Message.setProto3StringField = function(a, b, c) {
        jspb.Message.setFieldIgnoringDefault_(a, b, c, "");
      };
      jspb.Message.setProto3BytesField = function(a, b, c) {
        jspb.Message.setFieldIgnoringDefault_(a, b, c, "");
      };
      jspb.Message.setProto3EnumField = function(a, b, c) {
        jspb.Message.setFieldIgnoringDefault_(a, b, c, 0);
      };
      jspb.Message.setFieldIgnoringDefault_ = function(a, b, c, d) {
        c != d ? jspb.Message.setField(a, b, c) : a.array[jspb.Message.getIndex_(a, b)] = null;
      };
      jspb.Message.addToRepeatedField = function(a, b, c, d) {
        a = jspb.Message.getRepeatedField(a, b);
        void 0 != d ? a.splice(d, 0, c) : a.push(c);
      };
      jspb.Message.setOneofField = function(a, b, c, d) {
        (c = jspb.Message.computeOneofCase(a, c)) && c !== b && void 0 !== d && (a.wrappers_ && c in a.wrappers_ && (a.wrappers_[c] = void 0), 
        jspb.Message.setField(a, c, void 0));
        jspb.Message.setField(a, b, d);
      };
      jspb.Message.computeOneofCase = function(a, b) {
        for (var c, d, e = 0; e < b.length; e++) {
          var f = b[e], g = jspb.Message.getField(a, f);
          null != g && (c = f, d = g, jspb.Message.setField(a, f, void 0));
        }
        return c ? (jspb.Message.setField(a, c, d), c) : 0;
      };
      jspb.Message.getWrapperField = function(a, b, c, d) {
        a.wrappers_ || (a.wrappers_ = {});
        if (!a.wrappers_[c]) {
          var e = jspb.Message.getField(a, c);
          (d || e) && (a.wrappers_[c] = new b(e));
        }
        return a.wrappers_[c];
      };
      jspb.Message.getRepeatedWrapperField = function(a, b, c) {
        jspb.Message.wrapRepeatedField_(a, b, c);
        b = a.wrappers_[c];
        b == jspb.Message.EMPTY_LIST_SENTINEL_ && (b = a.wrappers_[c] = []);
        return b;
      };
      jspb.Message.wrapRepeatedField_ = function(a, b, c) {
        a.wrappers_ || (a.wrappers_ = {});
        if (!a.wrappers_[c]) {
          for (var d = jspb.Message.getRepeatedField(a, c), e = [], f = 0; f < d.length; f++) e[f] = new b(d[f]);
          a.wrappers_[c] = e;
        }
      };
      jspb.Message.setWrapperField = function(a, b, c) {
        a.wrappers_ || (a.wrappers_ = {});
        var d = c ? c.toArray() : c;
        a.wrappers_[b] = c;
        jspb.Message.setField(a, b, d);
      };
      jspb.Message.setOneofWrapperField = function(a, b, c, d) {
        a.wrappers_ || (a.wrappers_ = {});
        var e = d ? d.toArray() : d;
        a.wrappers_[b] = d;
        jspb.Message.setOneofField(a, b, c, e);
      };
      jspb.Message.setRepeatedWrapperField = function(a, b, c) {
        a.wrappers_ || (a.wrappers_ = {});
        c = c || [];
        for (var d = [], e = 0; e < c.length; e++) d[e] = c[e].toArray();
        a.wrappers_[b] = c;
        jspb.Message.setField(a, b, d);
      };
      jspb.Message.addToRepeatedWrapperField = function(a, b, c, d, e) {
        jspb.Message.wrapRepeatedField_(a, d, b);
        var f = a.wrappers_[b];
        f || (f = a.wrappers_[b] = []);
        c = c || new d();
        a = jspb.Message.getRepeatedField(a, b);
        void 0 != e ? (f.splice(e, 0, c), a.splice(e, 0, c.toArray())) : (f.push(c), a.push(c.toArray()));
        return c;
      };
      jspb.Message.toMap = function(a, b, c, d) {
        for (var e = {}, f = 0; f < a.length; f++) e[b.call(a[f])] = c ? c.call(a[f], d, a[f]) : a[f];
        return e;
      };
      jspb.Message.prototype.syncMapFields_ = function() {
        if (this.wrappers_) for (var a in this.wrappers_) {
          var b = this.wrappers_[a];
          if (goog.isArray(b)) for (var c = 0; c < b.length; c++) b[c] && b[c].toArray(); else b && b.toArray();
        }
      };
      jspb.Message.prototype.toArray = function() {
        this.syncMapFields_();
        return this.array;
      };
      jspb.Message.GENERATE_TO_STRING && (jspb.Message.prototype.toString = function() {
        this.syncMapFields_();
        return this.array.toString();
      });
      jspb.Message.prototype.getExtension = function(a) {
        if (this.extensionObject_) {
          this.wrappers_ || (this.wrappers_ = {});
          var b = a.fieldIndex;
          if (a.isRepeated) {
            if (a.isMessageType()) return this.wrappers_[b] || (this.wrappers_[b] = goog.array.map(this.extensionObject_[b] || [], function(b) {
              return new a.ctor(b);
            })), this.wrappers_[b];
          } else if (a.isMessageType()) return !this.wrappers_[b] && this.extensionObject_[b] && (this.wrappers_[b] = new a.ctor(this.extensionObject_[b])), 
          this.wrappers_[b];
          return this.extensionObject_[b];
        }
      };
      jspb.Message.prototype.setExtension = function(a, b) {
        this.wrappers_ || (this.wrappers_ = {});
        jspb.Message.maybeInitEmptyExtensionObject_(this);
        var c = a.fieldIndex;
        a.isRepeated ? (b = b || [], a.isMessageType() ? (this.wrappers_[c] = b, this.extensionObject_[c] = goog.array.map(b, function(a) {
          return a.toArray();
        })) : this.extensionObject_[c] = b) : a.isMessageType() ? (this.wrappers_[c] = b, 
        this.extensionObject_[c] = b ? b.toArray() : b) : this.extensionObject_[c] = b;
        return this;
      };
      jspb.Message.difference = function(a, b) {
        if (!(a instanceof b.constructor)) throw Error("Messages have different types.");
        var c = a.toArray(), d = b.toArray(), e = [], f = 0, g = c.length > d.length ? c.length : d.length;
        a.getJsPbMessageId() && (e[0] = a.getJsPbMessageId(), f = 1);
        for (;f < g; f++) jspb.Message.compareFields(c[f], d[f]) || (e[f] = d[f]);
        return new a.constructor(e);
      };
      jspb.Message.equals = function(a, b) {
        return a == b || !(!a || !b) && a instanceof b.constructor && jspb.Message.compareFields(a.toArray(), b.toArray());
      };
      jspb.Message.compareExtensions = function(a, b) {
        a = a || {};
        b = b || {};
        var c = {}, d;
        for (d in a) c[d] = 0;
        for (d in b) c[d] = 0;
        for (d in c) if (!jspb.Message.compareFields(a[d], b[d])) return !1;
        return !0;
      };
      jspb.Message.compareFields = function(a, b) {
        if (a == b) return !0;
        if (!goog.isObject(a) || !goog.isObject(b)) return !!(goog.isNumber(a) && isNaN(a) || goog.isNumber(b) && isNaN(b)) && String(a) == String(b);
        if (a.constructor != b.constructor) return !1;
        if (jspb.Message.SUPPORTS_UINT8ARRAY_ && a.constructor === Uint8Array) {
          if (a.length != b.length) return !1;
          for (var c = 0; c < a.length; c++) if (a[c] != b[c]) return !1;
          return !0;
        }
        if (a.constructor === Array) {
          for (var d = void 0, e = void 0, f = Math.max(a.length, b.length), c = 0; c < f; c++) {
            var g = a[c], h = b[c];
            g && g.constructor == Object && (goog.asserts.assert(void 0 === d), goog.asserts.assert(c === a.length - 1), 
            d = g, g = void 0);
            h && h.constructor == Object && (goog.asserts.assert(void 0 === e), goog.asserts.assert(c === b.length - 1), 
            e = h, h = void 0);
            if (!jspb.Message.compareFields(g, h)) return !1;
          }
          return !d && !e || (d = d || {}, e = e || {}, jspb.Message.compareExtensions(d, e));
        }
        if (a.constructor === Object) return jspb.Message.compareExtensions(a, b);
        throw Error("Invalid type in JSPB array");
      };
      jspb.Message.prototype.cloneMessage = function() {
        return jspb.Message.cloneMessage(this);
      };
      jspb.Message.prototype.clone = function() {
        return jspb.Message.cloneMessage(this);
      };
      jspb.Message.clone = function(a) {
        return jspb.Message.cloneMessage(a);
      };
      jspb.Message.cloneMessage = function(a) {
        return new a.constructor(jspb.Message.clone_(a.toArray()));
      };
      jspb.Message.copyInto = function(a, b) {
        goog.asserts.assertInstanceof(a, jspb.Message);
        goog.asserts.assertInstanceof(b, jspb.Message);
        goog.asserts.assert(a.constructor == b.constructor, "Copy source and target message should have the same type.");
        for (var c = jspb.Message.clone(a), d = b.toArray(), e = c.toArray(), f = d.length = 0; f < e.length; f++) d[f] = e[f];
        b.wrappers_ = c.wrappers_;
        b.extensionObject_ = c.extensionObject_;
      };
      jspb.Message.clone_ = function(a) {
        var b;
        if (goog.isArray(a)) {
          for (var c = Array(a.length), d = 0; d < a.length; d++) b = a[d], null != b && (c[d] = "object" == typeof b ? jspb.Message.clone_(goog.asserts.assert(b)) : b);
          return c;
        }
        if (jspb.Message.SUPPORTS_UINT8ARRAY_ && a instanceof Uint8Array) return new Uint8Array(a);
        c = {};
        for (d in a) b = a[d], null != b && (c[d] = "object" == typeof b ? jspb.Message.clone_(goog.asserts.assert(b)) : b);
        return c;
      };
      jspb.Message.registerMessageType = function(a, b) {
        jspb.Message.registry_[a] = b;
        b.messageId = a;
      };
      jspb.Message.registry_ = {};
      jspb.Message.messageSetExtensions = {};
      jspb.Message.messageSetExtensionsBinary = {};
      jspb.arith = {};
      jspb.arith.UInt64 = function(a, b) {
        this.lo = a;
        this.hi = b;
      };
      jspb.arith.UInt64.prototype.cmp = function(a) {
        return this.hi < a.hi || this.hi == a.hi && this.lo < a.lo ? -1 : this.hi == a.hi && this.lo == a.lo ? 0 : 1;
      };
      jspb.arith.UInt64.prototype.rightShift = function() {
        return new jspb.arith.UInt64((this.lo >>> 1 | (1 & this.hi) << 31) >>> 0, this.hi >>> 1 >>> 0);
      };
      jspb.arith.UInt64.prototype.leftShift = function() {
        return new jspb.arith.UInt64(this.lo << 1 >>> 0, (this.hi << 1 | this.lo >>> 31) >>> 0);
      };
      jspb.arith.UInt64.prototype.msb = function() {
        return !!(2147483648 & this.hi);
      };
      jspb.arith.UInt64.prototype.lsb = function() {
        return !!(1 & this.lo);
      };
      jspb.arith.UInt64.prototype.zero = function() {
        return 0 == this.lo && 0 == this.hi;
      };
      jspb.arith.UInt64.prototype.add = function(a) {
        return new jspb.arith.UInt64((this.lo + a.lo & 4294967295) >>> 0 >>> 0, ((this.hi + a.hi & 4294967295) >>> 0) + (4294967296 <= this.lo + a.lo ? 1 : 0) >>> 0);
      };
      jspb.arith.UInt64.prototype.sub = function(a) {
        return new jspb.arith.UInt64((this.lo - a.lo & 4294967295) >>> 0 >>> 0, ((this.hi - a.hi & 4294967295) >>> 0) - (0 > this.lo - a.lo ? 1 : 0) >>> 0);
      };
      jspb.arith.UInt64.mul32x32 = function(a, b) {
        for (var c = 65535 & a, d = a >>> 16, e = 65535 & b, f = b >>> 16, g = c * e + 65536 * (c * f & 65535) + 65536 * (d * e & 65535), c = d * f + (c * f >>> 16) + (d * e >>> 16); 4294967296 <= g; ) g -= 4294967296, 
        c += 1;
        return new jspb.arith.UInt64(g >>> 0, c >>> 0);
      };
      jspb.arith.UInt64.prototype.mul = function(a) {
        var b = jspb.arith.UInt64.mul32x32(this.lo, a);
        a = jspb.arith.UInt64.mul32x32(this.hi, a);
        a.hi = a.lo;
        a.lo = 0;
        return b.add(a);
      };
      jspb.arith.UInt64.prototype.div = function(a) {
        if (0 == a) return [];
        var b = new jspb.arith.UInt64(0, 0), c = new jspb.arith.UInt64(this.lo, this.hi);
        a = new jspb.arith.UInt64(a, 0);
        for (var d = new jspb.arith.UInt64(1, 0); !a.msb(); ) a = a.leftShift(), d = d.leftShift();
        for (;!d.zero(); ) 0 >= a.cmp(c) && (b = b.add(d), c = c.sub(a)), a = a.rightShift(), 
        d = d.rightShift();
        return [ b, c ];
      };
      jspb.arith.UInt64.prototype.toString = function() {
        for (var a = "", b = this; !b.zero(); ) var b = b.div(10), c = b[0], a = b[1].lo + a, b = c;
        "" == a && (a = "0");
        return a;
      };
      jspb.arith.UInt64.fromString = function(a) {
        for (var b = new jspb.arith.UInt64(0, 0), c = new jspb.arith.UInt64(0, 0), d = 0; d < a.length; d++) {
          if ("0" > a[d] || "9" < a[d]) return null;
          var e = parseInt(a[d], 10);
          c.lo = e;
          b = b.mul(10).add(c);
        }
        return b;
      };
      jspb.arith.UInt64.prototype.clone = function() {
        return new jspb.arith.UInt64(this.lo, this.hi);
      };
      jspb.arith.Int64 = function(a, b) {
        this.lo = a;
        this.hi = b;
      };
      jspb.arith.Int64.prototype.add = function(a) {
        return new jspb.arith.Int64((this.lo + a.lo & 4294967295) >>> 0 >>> 0, ((this.hi + a.hi & 4294967295) >>> 0) + (4294967296 <= this.lo + a.lo ? 1 : 0) >>> 0);
      };
      jspb.arith.Int64.prototype.sub = function(a) {
        return new jspb.arith.Int64((this.lo - a.lo & 4294967295) >>> 0 >>> 0, ((this.hi - a.hi & 4294967295) >>> 0) - (0 > this.lo - a.lo ? 1 : 0) >>> 0);
      };
      jspb.arith.Int64.prototype.clone = function() {
        return new jspb.arith.Int64(this.lo, this.hi);
      };
      jspb.arith.Int64.prototype.toString = function() {
        var a = 0 != (2147483648 & this.hi), b = new jspb.arith.UInt64(this.lo, this.hi);
        a && (b = new jspb.arith.UInt64(0, 0).sub(b));
        return (a ? "-" : "") + b.toString();
      };
      jspb.arith.Int64.fromString = function(a) {
        var b = 0 < a.length && "-" == a[0];
        b && (a = a.substring(1));
        a = jspb.arith.UInt64.fromString(a);
        if (null === a) return null;
        b && (a = new jspb.arith.UInt64(0, 0).sub(a));
        return new jspb.arith.Int64(a.lo, a.hi);
      };
      jspb.BinaryConstants = {};
      jspb.ConstBinaryMessage = function() {};
      jspb.BinaryMessage = function() {};
      jspb.BinaryConstants.FieldType = {
        INVALID: -1,
        DOUBLE: 1,
        FLOAT: 2,
        INT64: 3,
        UINT64: 4,
        INT32: 5,
        FIXED64: 6,
        FIXED32: 7,
        BOOL: 8,
        STRING: 9,
        GROUP: 10,
        MESSAGE: 11,
        BYTES: 12,
        UINT32: 13,
        ENUM: 14,
        SFIXED32: 15,
        SFIXED64: 16,
        SINT32: 17,
        SINT64: 18,
        FHASH64: 30,
        VHASH64: 31
      };
      jspb.BinaryConstants.WireType = {
        INVALID: -1,
        VARINT: 0,
        FIXED64: 1,
        DELIMITED: 2,
        START_GROUP: 3,
        END_GROUP: 4,
        FIXED32: 5
      };
      jspb.BinaryConstants.FieldTypeToWireType = function(a) {
        var b = jspb.BinaryConstants.FieldType, c = jspb.BinaryConstants.WireType;
        switch (a) {
         case b.INT32:
         case b.INT64:
         case b.UINT32:
         case b.UINT64:
         case b.SINT32:
         case b.SINT64:
         case b.BOOL:
         case b.ENUM:
         case b.VHASH64:
          return c.VARINT;

         case b.DOUBLE:
         case b.FIXED64:
         case b.SFIXED64:
         case b.FHASH64:
          return c.FIXED64;

         case b.STRING:
         case b.MESSAGE:
         case b.BYTES:
          return c.DELIMITED;

         case b.FLOAT:
         case b.FIXED32:
         case b.SFIXED32:
          return c.FIXED32;

         default:
          return c.INVALID;
        }
      };
      jspb.BinaryConstants.INVALID_FIELD_NUMBER = -1;
      jspb.BinaryConstants.FLOAT32_EPS = 1401298464324817e-60;
      jspb.BinaryConstants.FLOAT32_MIN = 11754943508222875e-54;
      jspb.BinaryConstants.FLOAT32_MAX = 34028234663852886e22;
      jspb.BinaryConstants.FLOAT64_EPS = 5e-324;
      jspb.BinaryConstants.FLOAT64_MIN = 22250738585072014e-324;
      jspb.BinaryConstants.FLOAT64_MAX = 17976931348623157e292;
      jspb.BinaryConstants.TWO_TO_20 = 1048576;
      jspb.BinaryConstants.TWO_TO_23 = 8388608;
      jspb.BinaryConstants.TWO_TO_31 = 2147483648;
      jspb.BinaryConstants.TWO_TO_32 = 4294967296;
      jspb.BinaryConstants.TWO_TO_52 = 4503599627370496;
      jspb.BinaryConstants.TWO_TO_63 = 0x8000000000000000;
      jspb.BinaryConstants.TWO_TO_64 = 0x10000000000000000;
      jspb.BinaryConstants.ZERO_HASH = "\0\0\0\0\0\0\0\0";
      jspb.utils = {};
      jspb.utils.split64Low = 0;
      jspb.utils.split64High = 0;
      jspb.utils.splitUint64 = function(a) {
        var b = a >>> 0;
        a = Math.floor((a - b) / jspb.BinaryConstants.TWO_TO_32) >>> 0;
        jspb.utils.split64Low = b;
        jspb.utils.split64High = a;
      };
      jspb.utils.splitInt64 = function(a) {
        var b = 0 > a;
        a = Math.abs(a);
        var c = a >>> 0;
        a = Math.floor((a - c) / jspb.BinaryConstants.TWO_TO_32);
        a >>>= 0;
        b && (a = ~a >>> 0, c = 1 + (~c >>> 0), 4294967295 < c && (c = 0, a++, 4294967295 < a && (a = 0)));
        jspb.utils.split64Low = c;
        jspb.utils.split64High = a;
      };
      jspb.utils.splitZigzag64 = function(a) {
        var b = 0 > a;
        a = 2 * Math.abs(a);
        jspb.utils.splitUint64(a);
        a = jspb.utils.split64Low;
        var c = jspb.utils.split64High;
        b && (0 == a ? 0 == c ? c = a = 4294967295 : (c--, a = 4294967295) : a--);
        jspb.utils.split64Low = a;
        jspb.utils.split64High = c;
      };
      jspb.utils.splitFloat32 = function(a) {
        var b = 0 > a ? 1 : 0;
        a = b ? -a : a;
        var c;
        0 === a ? 0 < 1 / a ? (jspb.utils.split64High = 0, jspb.utils.split64Low = 0) : (jspb.utils.split64High = 0, 
        jspb.utils.split64Low = 2147483648) : isNaN(a) ? (jspb.utils.split64High = 0, jspb.utils.split64Low = 2147483647) : a > jspb.BinaryConstants.FLOAT32_MAX ? (jspb.utils.split64High = 0, 
        jspb.utils.split64Low = (b << 31 | 2139095040) >>> 0) : a < jspb.BinaryConstants.FLOAT32_MIN ? (a = Math.round(a / Math.pow(2, -149)), 
        jspb.utils.split64High = 0, jspb.utils.split64Low = (b << 31 | a) >>> 0) : (c = Math.floor(Math.log(a) / Math.LN2), 
        a *= Math.pow(2, -c), a = 8388607 & Math.round(a * jspb.BinaryConstants.TWO_TO_23), 
        jspb.utils.split64High = 0, jspb.utils.split64Low = (b << 31 | c + 127 << 23 | a) >>> 0);
      };
      jspb.utils.splitFloat64 = function(a) {
        var b = 0 > a ? 1 : 0;
        a = b ? -a : a;
        if (0 === a) jspb.utils.split64High = 0 < 1 / a ? 0 : 2147483648, jspb.utils.split64Low = 0; else if (isNaN(a)) jspb.utils.split64High = 2147483647, 
        jspb.utils.split64Low = 4294967295; else if (a > jspb.BinaryConstants.FLOAT64_MAX) jspb.utils.split64High = (b << 31 | 2146435072) >>> 0, 
        jspb.utils.split64Low = 0; else if (a < jspb.BinaryConstants.FLOAT64_MIN) {
          var c = a / Math.pow(2, -1074);
          a = c / jspb.BinaryConstants.TWO_TO_32;
          jspb.utils.split64High = (b << 31 | a) >>> 0;
          jspb.utils.split64Low = c >>> 0;
        } else {
          var d = Math.floor(Math.log(a) / Math.LN2);
          1024 == d && (d = 1023);
          c = a * Math.pow(2, -d);
          a = c * jspb.BinaryConstants.TWO_TO_20 & 1048575;
          c = c * jspb.BinaryConstants.TWO_TO_52 >>> 0;
          jspb.utils.split64High = (b << 31 | d + 1023 << 20 | a) >>> 0;
          jspb.utils.split64Low = c;
        }
      };
      jspb.utils.splitHash64 = function(a) {
        var b = a.charCodeAt(0), c = a.charCodeAt(1), d = a.charCodeAt(2), e = a.charCodeAt(3), f = a.charCodeAt(4), g = a.charCodeAt(5), h = a.charCodeAt(6);
        a = a.charCodeAt(7);
        jspb.utils.split64Low = b + (c << 8) + (d << 16) + (e << 24) >>> 0;
        jspb.utils.split64High = f + (g << 8) + (h << 16) + (a << 24) >>> 0;
      };
      jspb.utils.joinUint64 = function(a, b) {
        return b * jspb.BinaryConstants.TWO_TO_32 + a;
      };
      jspb.utils.joinInt64 = function(a, b) {
        var c = 2147483648 & b;
        c && (a = 1 + ~a >>> 0, b = ~b >>> 0, 0 == a && (b = b + 1 >>> 0));
        var d = jspb.utils.joinUint64(a, b);
        return c ? -d : d;
      };
      jspb.utils.joinZigzag64 = function(a, b) {
        var c = 1 & a;
        a = (a >>> 1 | b << 31) >>> 0;
        b >>>= 1;
        c && (a = a + 1 >>> 0, 0 == a && (b = b + 1 >>> 0));
        var d = jspb.utils.joinUint64(a, b);
        return c ? -d : d;
      };
      jspb.utils.joinFloat32 = function(a, b) {
        var c = 2 * (a >> 31) + 1, d = a >>> 23 & 255, e = 8388607 & a;
        return 255 == d ? e ? NaN : Infinity * c : 0 == d ? c * Math.pow(2, -149) * e : c * Math.pow(2, d - 150) * (e + Math.pow(2, 23));
      };
      jspb.utils.joinFloat64 = function(a, b) {
        var c = 2 * (b >> 31) + 1, d = b >>> 20 & 2047, e = jspb.BinaryConstants.TWO_TO_32 * (1048575 & b) + a;
        return 2047 == d ? e ? NaN : Infinity * c : 0 == d ? c * Math.pow(2, -1074) * e : c * Math.pow(2, d - 1075) * (e + jspb.BinaryConstants.TWO_TO_52);
      };
      jspb.utils.joinHash64 = function(a, b) {
        return String.fromCharCode(a >>> 0 & 255, a >>> 8 & 255, a >>> 16 & 255, a >>> 24 & 255, b >>> 0 & 255, b >>> 8 & 255, b >>> 16 & 255, b >>> 24 & 255);
      };
      jspb.utils.DIGITS = "0123456789abcdef".split("");
      jspb.utils.joinUnsignedDecimalString = function(a, b) {
        function c(a) {
          for (var b = 1e7, c = 0; 7 > c; c++) {
            var b = b / 10, d = a / b % 10 >>> 0;
            (0 != d || h) && (h = !0, k += g[d]);
          }
        }
        if (2097151 >= b) return "" + (jspb.BinaryConstants.TWO_TO_32 * b + a);
        var d = (a >>> 24 | b << 8) >>> 0 & 16777215, e = b >> 16 & 65535, f = (16777215 & a) + 6777216 * d + 6710656 * e, d = d + 8147497 * e, e = 2 * e;
        1e7 <= f && (d += Math.floor(f / 1e7), f %= 1e7);
        1e7 <= d && (e += Math.floor(d / 1e7), d %= 1e7);
        var g = jspb.utils.DIGITS, h = !1, k = "";
        (e || h) && c(e);
        (d || h) && c(d);
        (f || h) && c(f);
        return k;
      };
      jspb.utils.joinSignedDecimalString = function(a, b) {
        var c = 2147483648 & b;
        c && (a = 1 + ~a >>> 0, b = ~b + (0 == a ? 1 : 0) >>> 0);
        var d = jspb.utils.joinUnsignedDecimalString(a, b);
        return c ? "-" + d : d;
      };
      jspb.utils.hash64ToDecimalString = function(a, b) {
        jspb.utils.splitHash64(a);
        var c = jspb.utils.split64Low, d = jspb.utils.split64High;
        return b ? jspb.utils.joinSignedDecimalString(c, d) : jspb.utils.joinUnsignedDecimalString(c, d);
      };
      jspb.utils.hash64ArrayToDecimalStrings = function(a, b) {
        for (var c = Array(a.length), d = 0; d < a.length; d++) c[d] = jspb.utils.hash64ToDecimalString(a[d], b);
        return c;
      };
      jspb.utils.decimalStringToHash64 = function(a) {
        function b(a, b) {
          for (var c = 0; 8 > c && (1 !== a || 0 < b); c++) {
            var d = a * e[c] + b;
            e[c] = 255 & d;
            b = d >>> 8;
          }
        }
        function c() {
          for (var a = 0; 8 > a; a++) e[a] = 255 & ~e[a];
        }
        goog.asserts.assert(0 < a.length);
        var d = !1;
        "-" === a[0] && (d = !0, a = a.slice(1));
        for (var e = [ 0, 0, 0, 0, 0, 0, 0, 0 ], f = 0; f < a.length; f++) b(10, jspb.utils.DIGITS.indexOf(a[f]));
        d && (c(), b(1, 1));
        return goog.crypt.byteArrayToString(e);
      };
      jspb.utils.splitDecimalString = function(a) {
        jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(a));
      };
      jspb.utils.hash64ToHexString = function(a) {
        var b = Array(18);
        b[0] = "0";
        b[1] = "x";
        for (var c = 0; 8 > c; c++) {
          var d = a.charCodeAt(7 - c);
          b[2 * c + 2] = jspb.utils.DIGITS[d >> 4];
          b[2 * c + 3] = jspb.utils.DIGITS[15 & d];
        }
        return b.join("");
      };
      jspb.utils.hexStringToHash64 = function(a) {
        a = a.toLowerCase();
        goog.asserts.assert(18 == a.length);
        goog.asserts.assert("0" == a[0]);
        goog.asserts.assert("x" == a[1]);
        for (var b = "", c = 0; 8 > c; c++) var d = jspb.utils.DIGITS.indexOf(a[2 * c + 2]), e = jspb.utils.DIGITS.indexOf(a[2 * c + 3]), b = String.fromCharCode(16 * d + e) + b;
        return b;
      };
      jspb.utils.hash64ToNumber = function(a, b) {
        jspb.utils.splitHash64(a);
        var c = jspb.utils.split64Low, d = jspb.utils.split64High;
        return b ? jspb.utils.joinInt64(c, d) : jspb.utils.joinUint64(c, d);
      };
      jspb.utils.numberToHash64 = function(a) {
        jspb.utils.splitInt64(a);
        return jspb.utils.joinHash64(jspb.utils.split64Low, jspb.utils.split64High);
      };
      jspb.utils.countVarints = function(a, b, c) {
        for (var d = 0, e = b; e < c; e++) d += a[e] >> 7;
        return c - b - d;
      };
      jspb.utils.countVarintFields = function(a, b, c, d) {
        var e = 0;
        d = 8 * d + jspb.BinaryConstants.WireType.VARINT;
        if (128 > d) for (;b < c && a[b++] == d; ) for (e++; ;) {
          var f = a[b++];
          if (0 == (128 & f)) break;
        } else for (;b < c; ) {
          for (f = d; 128 < f; ) {
            if (a[b] != (127 & f | 128)) return e;
            b++;
            f >>= 7;
          }
          if (a[b++] != f) break;
          for (e++; f = a[b++], 0 != (128 & f); ) ;
        }
        return e;
      };
      jspb.utils.countFixedFields_ = function(a, b, c, d, e) {
        var f = 0;
        if (128 > d) for (;b < c && a[b++] == d; ) f++, b += e; else for (;b < c; ) {
          for (var g = d; 128 < g; ) {
            if (a[b++] != (127 & g | 128)) return f;
            g >>= 7;
          }
          if (a[b++] != g) break;
          f++;
          b += e;
        }
        return f;
      };
      jspb.utils.countFixed32Fields = function(a, b, c, d) {
        return jspb.utils.countFixedFields_(a, b, c, 8 * d + jspb.BinaryConstants.WireType.FIXED32, 4);
      };
      jspb.utils.countFixed64Fields = function(a, b, c, d) {
        return jspb.utils.countFixedFields_(a, b, c, 8 * d + jspb.BinaryConstants.WireType.FIXED64, 8);
      };
      jspb.utils.countDelimitedFields = function(a, b, c, d) {
        var e = 0;
        for (d = 8 * d + jspb.BinaryConstants.WireType.DELIMITED; b < c; ) {
          for (var f = d; 128 < f; ) {
            if (a[b++] != (127 & f | 128)) return e;
            f >>= 7;
          }
          if (a[b++] != f) break;
          e++;
          for (var g = 0, h = 1; f = a[b++], g += (127 & f) * h, h *= 128, 0 != (128 & f); ) ;
          b += g;
        }
        return e;
      };
      jspb.utils.debugBytesToTextFormat = function(a) {
        var b = '"';
        if (a) {
          a = jspb.utils.byteSourceToUint8Array(a);
          for (var c = 0; c < a.length; c++) b += "\\x", 16 > a[c] && (b += "0"), b += a[c].toString(16);
        }
        return b + '"';
      };
      jspb.utils.debugScalarToTextFormat = function(a) {
        return goog.isString(a) ? goog.string.quote(a) : a.toString();
      };
      jspb.utils.stringToByteArray = function(a) {
        for (var b = new Uint8Array(a.length), c = 0; c < a.length; c++) {
          var d = a.charCodeAt(c);
          if (255 < d) throw Error("Conversion error: string contains codepoint outside of byte range");
          b[c] = d;
        }
        return b;
      };
      jspb.utils.byteSourceToUint8Array = function(a) {
        if (a.constructor === Uint8Array) return a;
        if (a.constructor === ArrayBuffer || a.constructor === Buffer || a.constructor === Array) return new Uint8Array(a);
        if (a.constructor === String) return goog.crypt.base64.decodeStringToUint8Array(a);
        goog.asserts.fail("Type not convertible to Uint8Array.");
        return new Uint8Array(0);
      };
      jspb.BinaryEncoder = function() {
        this.buffer_ = [];
      };
      jspb.BinaryEncoder.prototype.length = function() {
        return this.buffer_.length;
      };
      jspb.BinaryEncoder.prototype.end = function() {
        var a = this.buffer_;
        this.buffer_ = [];
        return a;
      };
      jspb.BinaryEncoder.prototype.writeSplitVarint64 = function(a, b) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(b == Math.floor(b));
        goog.asserts.assert(0 <= a && a < jspb.BinaryConstants.TWO_TO_32);
        for (goog.asserts.assert(0 <= b && b < jspb.BinaryConstants.TWO_TO_32); 0 < b || 127 < a; ) this.buffer_.push(127 & a | 128), 
        a = (a >>> 7 | b << 25) >>> 0, b >>>= 7;
        this.buffer_.push(a);
      };
      jspb.BinaryEncoder.prototype.writeSplitFixed64 = function(a, b) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(b == Math.floor(b));
        goog.asserts.assert(0 <= a && a < jspb.BinaryConstants.TWO_TO_32);
        goog.asserts.assert(0 <= b && b < jspb.BinaryConstants.TWO_TO_32);
        this.writeUint32(a);
        this.writeUint32(b);
      };
      jspb.BinaryEncoder.prototype.writeUnsignedVarint32 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        for (goog.asserts.assert(0 <= a && a < jspb.BinaryConstants.TWO_TO_32); 127 < a; ) this.buffer_.push(127 & a | 128), 
        a >>>= 7;
        this.buffer_.push(a);
      };
      jspb.BinaryEncoder.prototype.writeSignedVarint32 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(a >= -jspb.BinaryConstants.TWO_TO_31 && a < jspb.BinaryConstants.TWO_TO_31);
        if (0 <= a) this.writeUnsignedVarint32(a); else {
          for (var b = 0; 9 > b; b++) this.buffer_.push(127 & a | 128), a >>= 7;
          this.buffer_.push(1);
        }
      };
      jspb.BinaryEncoder.prototype.writeUnsignedVarint64 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(0 <= a && a < jspb.BinaryConstants.TWO_TO_64);
        jspb.utils.splitInt64(a);
        this.writeSplitVarint64(jspb.utils.split64Low, jspb.utils.split64High);
      };
      jspb.BinaryEncoder.prototype.writeSignedVarint64 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(a >= -jspb.BinaryConstants.TWO_TO_63 && a < jspb.BinaryConstants.TWO_TO_63);
        jspb.utils.splitInt64(a);
        this.writeSplitVarint64(jspb.utils.split64Low, jspb.utils.split64High);
      };
      jspb.BinaryEncoder.prototype.writeZigzagVarint32 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(a >= -jspb.BinaryConstants.TWO_TO_31 && a < jspb.BinaryConstants.TWO_TO_31);
        this.writeUnsignedVarint32((a << 1 ^ a >> 31) >>> 0);
      };
      jspb.BinaryEncoder.prototype.writeZigzagVarint64 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(a >= -jspb.BinaryConstants.TWO_TO_63 && a < jspb.BinaryConstants.TWO_TO_63);
        jspb.utils.splitZigzag64(a);
        this.writeSplitVarint64(jspb.utils.split64Low, jspb.utils.split64High);
      };
      jspb.BinaryEncoder.prototype.writeZigzagVarint64String = function(a) {
        this.writeZigzagVarint64(parseInt(a, 10));
      };
      jspb.BinaryEncoder.prototype.writeUint8 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(0 <= a && 256 > a);
        this.buffer_.push(a >>> 0 & 255);
      };
      jspb.BinaryEncoder.prototype.writeUint16 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(0 <= a && 65536 > a);
        this.buffer_.push(a >>> 0 & 255);
        this.buffer_.push(a >>> 8 & 255);
      };
      jspb.BinaryEncoder.prototype.writeUint32 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(0 <= a && a < jspb.BinaryConstants.TWO_TO_32);
        this.buffer_.push(a >>> 0 & 255);
        this.buffer_.push(a >>> 8 & 255);
        this.buffer_.push(a >>> 16 & 255);
        this.buffer_.push(a >>> 24 & 255);
      };
      jspb.BinaryEncoder.prototype.writeUint64 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(0 <= a && a < jspb.BinaryConstants.TWO_TO_64);
        jspb.utils.splitUint64(a);
        this.writeUint32(jspb.utils.split64Low);
        this.writeUint32(jspb.utils.split64High);
      };
      jspb.BinaryEncoder.prototype.writeInt8 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(-128 <= a && 128 > a);
        this.buffer_.push(a >>> 0 & 255);
      };
      jspb.BinaryEncoder.prototype.writeInt16 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(-32768 <= a && 32768 > a);
        this.buffer_.push(a >>> 0 & 255);
        this.buffer_.push(a >>> 8 & 255);
      };
      jspb.BinaryEncoder.prototype.writeInt32 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(a >= -jspb.BinaryConstants.TWO_TO_31 && a < jspb.BinaryConstants.TWO_TO_31);
        this.buffer_.push(a >>> 0 & 255);
        this.buffer_.push(a >>> 8 & 255);
        this.buffer_.push(a >>> 16 & 255);
        this.buffer_.push(a >>> 24 & 255);
      };
      jspb.BinaryEncoder.prototype.writeInt64 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(a >= -jspb.BinaryConstants.TWO_TO_63 && a < jspb.BinaryConstants.TWO_TO_63);
        jspb.utils.splitInt64(a);
        this.writeSplitFixed64(jspb.utils.split64Low, jspb.utils.split64High);
      };
      jspb.BinaryEncoder.prototype.writeInt64String = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(+a >= -jspb.BinaryConstants.TWO_TO_63 && +a < jspb.BinaryConstants.TWO_TO_63);
        jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(a));
        this.writeSplitFixed64(jspb.utils.split64Low, jspb.utils.split64High);
      };
      jspb.BinaryEncoder.prototype.writeFloat = function(a) {
        goog.asserts.assert(a >= -jspb.BinaryConstants.FLOAT32_MAX && a <= jspb.BinaryConstants.FLOAT32_MAX);
        jspb.utils.splitFloat32(a);
        this.writeUint32(jspb.utils.split64Low);
      };
      jspb.BinaryEncoder.prototype.writeDouble = function(a) {
        goog.asserts.assert(a >= -jspb.BinaryConstants.FLOAT64_MAX && a <= jspb.BinaryConstants.FLOAT64_MAX);
        jspb.utils.splitFloat64(a);
        this.writeUint32(jspb.utils.split64Low);
        this.writeUint32(jspb.utils.split64High);
      };
      jspb.BinaryEncoder.prototype.writeBool = function(a) {
        goog.asserts.assert(goog.isBoolean(a) || goog.isNumber(a));
        this.buffer_.push(a ? 1 : 0);
      };
      jspb.BinaryEncoder.prototype.writeEnum = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(a >= -jspb.BinaryConstants.TWO_TO_31 && a < jspb.BinaryConstants.TWO_TO_31);
        this.writeSignedVarint32(a);
      };
      jspb.BinaryEncoder.prototype.writeBytes = function(a) {
        this.buffer_.push.apply(this.buffer_, a);
      };
      jspb.BinaryEncoder.prototype.writeVarintHash64 = function(a) {
        jspb.utils.splitHash64(a);
        this.writeSplitVarint64(jspb.utils.split64Low, jspb.utils.split64High);
      };
      jspb.BinaryEncoder.prototype.writeFixedHash64 = function(a) {
        jspb.utils.splitHash64(a);
        this.writeUint32(jspb.utils.split64Low);
        this.writeUint32(jspb.utils.split64High);
      };
      jspb.BinaryEncoder.prototype.writeString = function(a) {
        for (var b = this.buffer_.length, c = 0; c < a.length; c++) {
          var d = a.charCodeAt(c);
          if (128 > d) this.buffer_.push(d); else if (2048 > d) this.buffer_.push(d >> 6 | 192), 
          this.buffer_.push(63 & d | 128); else if (65536 > d) if (55296 <= d && 56319 >= d && c + 1 < a.length) {
            var e = a.charCodeAt(c + 1);
            56320 <= e && 57343 >= e && (d = 1024 * (d - 55296) + e - 56320 + 65536, this.buffer_.push(d >> 18 | 240), 
            this.buffer_.push(d >> 12 & 63 | 128), this.buffer_.push(d >> 6 & 63 | 128), this.buffer_.push(63 & d | 128), 
            c++);
          } else this.buffer_.push(d >> 12 | 224), this.buffer_.push(d >> 6 & 63 | 128), this.buffer_.push(63 & d | 128);
        }
        return this.buffer_.length - b;
      };
      jspb.BinaryWriter = function() {
        this.blocks_ = [];
        this.totalLength_ = 0;
        this.encoder_ = new jspb.BinaryEncoder();
        this.bookmarks_ = [];
      };
      jspb.BinaryWriter.prototype.appendUint8Array_ = function(a) {
        var b = this.encoder_.end();
        this.blocks_.push(b);
        this.blocks_.push(a);
        this.totalLength_ += b.length + a.length;
      };
      jspb.BinaryWriter.prototype.beginDelimited_ = function(a) {
        this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.DELIMITED);
        a = this.encoder_.end();
        this.blocks_.push(a);
        this.totalLength_ += a.length;
        a.push(this.totalLength_);
        return a;
      };
      jspb.BinaryWriter.prototype.endDelimited_ = function(a) {
        var b = a.pop(), b = this.totalLength_ + this.encoder_.length() - b;
        for (goog.asserts.assert(0 <= b); 127 < b; ) a.push(127 & b | 128), b >>>= 7, this.totalLength_++;
        a.push(b);
        this.totalLength_++;
      };
      jspb.BinaryWriter.prototype.writeSerializedMessage = function(a, b, c) {
        this.appendUint8Array_(a.subarray(b, c));
      };
      jspb.BinaryWriter.prototype.maybeWriteSerializedMessage = function(a, b, c) {
        null != a && null != b && null != c && this.writeSerializedMessage(a, b, c);
      };
      jspb.BinaryWriter.prototype.reset = function() {
        this.blocks_ = [];
        this.encoder_.end();
        this.totalLength_ = 0;
        this.bookmarks_ = [];
      };
      jspb.BinaryWriter.prototype.getResultBuffer = function() {
        goog.asserts.assert(0 == this.bookmarks_.length);
        for (var a = new Uint8Array(this.totalLength_ + this.encoder_.length()), b = this.blocks_, c = b.length, d = 0, e = 0; e < c; e++) {
          var f = b[e];
          a.set(f, d);
          d += f.length;
        }
        b = this.encoder_.end();
        a.set(b, d);
        d += b.length;
        goog.asserts.assert(d == a.length);
        this.blocks_ = [ a ];
        return a;
      };
      jspb.BinaryWriter.prototype.getResultBase64String = function(a) {
        return goog.crypt.base64.encodeByteArray(this.getResultBuffer(), a);
      };
      jspb.BinaryWriter.prototype.beginSubMessage = function(a) {
        this.bookmarks_.push(this.beginDelimited_(a));
      };
      jspb.BinaryWriter.prototype.endSubMessage = function() {
        goog.asserts.assert(0 <= this.bookmarks_.length);
        this.endDelimited_(this.bookmarks_.pop());
      };
      jspb.BinaryWriter.prototype.writeFieldHeader_ = function(a, b) {
        goog.asserts.assert(1 <= a && a == Math.floor(a));
        this.encoder_.writeUnsignedVarint32(8 * a + b);
      };
      jspb.BinaryWriter.prototype.writeAny = function(a, b, c) {
        var d = jspb.BinaryConstants.FieldType;
        switch (a) {
         case d.DOUBLE:
          this.writeDouble(b, c);
          break;

         case d.FLOAT:
          this.writeFloat(b, c);
          break;

         case d.INT64:
          this.writeInt64(b, c);
          break;

         case d.UINT64:
          this.writeUint64(b, c);
          break;

         case d.INT32:
          this.writeInt32(b, c);
          break;

         case d.FIXED64:
          this.writeFixed64(b, c);
          break;

         case d.FIXED32:
          this.writeFixed32(b, c);
          break;

         case d.BOOL:
          this.writeBool(b, c);
          break;

         case d.STRING:
          this.writeString(b, c);
          break;

         case d.GROUP:
          goog.asserts.fail("Group field type not supported in writeAny()");
          break;

         case d.MESSAGE:
          goog.asserts.fail("Message field type not supported in writeAny()");
          break;

         case d.BYTES:
          this.writeBytes(b, c);
          break;

         case d.UINT32:
          this.writeUint32(b, c);
          break;

         case d.ENUM:
          this.writeEnum(b, c);
          break;

         case d.SFIXED32:
          this.writeSfixed32(b, c);
          break;

         case d.SFIXED64:
          this.writeSfixed64(b, c);
          break;

         case d.SINT32:
          this.writeSint32(b, c);
          break;

         case d.SINT64:
          this.writeSint64(b, c);
          break;

         case d.FHASH64:
          this.writeFixedHash64(b, c);
          break;

         case d.VHASH64:
          this.writeVarintHash64(b, c);
          break;

         default:
          goog.asserts.fail("Invalid field type in writeAny()");
        }
      };
      jspb.BinaryWriter.prototype.writeUnsignedVarint32_ = function(a, b) {
        null != b && (this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeUnsignedVarint32(b));
      };
      jspb.BinaryWriter.prototype.writeSignedVarint32_ = function(a, b) {
        null != b && (this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeSignedVarint32(b));
      };
      jspb.BinaryWriter.prototype.writeUnsignedVarint64_ = function(a, b) {
        null != b && (this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeUnsignedVarint64(b));
      };
      jspb.BinaryWriter.prototype.writeSignedVarint64_ = function(a, b) {
        null != b && (this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeSignedVarint64(b));
      };
      jspb.BinaryWriter.prototype.writeZigzagVarint32_ = function(a, b) {
        null != b && (this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeZigzagVarint32(b));
      };
      jspb.BinaryWriter.prototype.writeZigzagVarint64_ = function(a, b) {
        null != b && (this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeZigzagVarint64(b));
      };
      jspb.BinaryWriter.prototype.writeZigzagVarint64String_ = function(a, b) {
        null != b && (this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeZigzagVarint64String(b));
      };
      jspb.BinaryWriter.prototype.writeInt32 = function(a, b) {
        null != b && (goog.asserts.assert(b >= -jspb.BinaryConstants.TWO_TO_31 && b < jspb.BinaryConstants.TWO_TO_31), 
        this.writeSignedVarint32_(a, b));
      };
      jspb.BinaryWriter.prototype.writeInt32String = function(a, b) {
        if (null != b) {
          var c = parseInt(b, 10);
          goog.asserts.assert(c >= -jspb.BinaryConstants.TWO_TO_31 && c < jspb.BinaryConstants.TWO_TO_31);
          this.writeSignedVarint32_(a, c);
        }
      };
      jspb.BinaryWriter.prototype.writeInt64 = function(a, b) {
        null != b && (goog.asserts.assert(b >= -jspb.BinaryConstants.TWO_TO_63 && b < jspb.BinaryConstants.TWO_TO_63), 
        this.writeSignedVarint64_(a, b));
      };
      jspb.BinaryWriter.prototype.writeInt64String = function(a, b) {
        if (null != b) {
          var c = jspb.arith.Int64.fromString(b);
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.VARINT);
          this.encoder_.writeSplitVarint64(c.lo, c.hi);
        }
      };
      jspb.BinaryWriter.prototype.writeUint32 = function(a, b) {
        null != b && (goog.asserts.assert(0 <= b && b < jspb.BinaryConstants.TWO_TO_32), 
        this.writeUnsignedVarint32_(a, b));
      };
      jspb.BinaryWriter.prototype.writeUint32String = function(a, b) {
        if (null != b) {
          var c = parseInt(b, 10);
          goog.asserts.assert(0 <= c && c < jspb.BinaryConstants.TWO_TO_32);
          this.writeUnsignedVarint32_(a, c);
        }
      };
      jspb.BinaryWriter.prototype.writeUint64 = function(a, b) {
        null != b && (goog.asserts.assert(0 <= b && b < jspb.BinaryConstants.TWO_TO_64), 
        this.writeUnsignedVarint64_(a, b));
      };
      jspb.BinaryWriter.prototype.writeUint64String = function(a, b) {
        if (null != b) {
          var c = jspb.arith.UInt64.fromString(b);
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.VARINT);
          this.encoder_.writeSplitVarint64(c.lo, c.hi);
        }
      };
      jspb.BinaryWriter.prototype.writeSint32 = function(a, b) {
        null != b && (goog.asserts.assert(b >= -jspb.BinaryConstants.TWO_TO_31 && b < jspb.BinaryConstants.TWO_TO_31), 
        this.writeZigzagVarint32_(a, b));
      };
      jspb.BinaryWriter.prototype.writeSint64 = function(a, b) {
        null != b && (goog.asserts.assert(b >= -jspb.BinaryConstants.TWO_TO_63 && b < jspb.BinaryConstants.TWO_TO_63), 
        this.writeZigzagVarint64_(a, b));
      };
      jspb.BinaryWriter.prototype.writeSint64String = function(a, b) {
        null != b && (goog.asserts.assert(+b >= -jspb.BinaryConstants.TWO_TO_63 && +b < jspb.BinaryConstants.TWO_TO_63), 
        this.writeZigzagVarint64String_(a, b));
      };
      jspb.BinaryWriter.prototype.writeFixed32 = function(a, b) {
        null != b && (goog.asserts.assert(0 <= b && b < jspb.BinaryConstants.TWO_TO_32), 
        this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.FIXED32), this.encoder_.writeUint32(b));
      };
      jspb.BinaryWriter.prototype.writeFixed64 = function(a, b) {
        null != b && (goog.asserts.assert(0 <= b && b < jspb.BinaryConstants.TWO_TO_64), 
        this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.FIXED64), this.encoder_.writeUint64(b));
      };
      jspb.BinaryWriter.prototype.writeFixed64String = function(a, b) {
        if (null != b) {
          var c = jspb.arith.UInt64.fromString(b);
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.FIXED64);
          this.encoder_.writeSplitFixed64(c.lo, c.hi);
        }
      };
      jspb.BinaryWriter.prototype.writeSfixed32 = function(a, b) {
        null != b && (goog.asserts.assert(b >= -jspb.BinaryConstants.TWO_TO_31 && b < jspb.BinaryConstants.TWO_TO_31), 
        this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.FIXED32), this.encoder_.writeInt32(b));
      };
      jspb.BinaryWriter.prototype.writeSfixed64 = function(a, b) {
        null != b && (goog.asserts.assert(b >= -jspb.BinaryConstants.TWO_TO_63 && b < jspb.BinaryConstants.TWO_TO_63), 
        this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.FIXED64), this.encoder_.writeInt64(b));
      };
      jspb.BinaryWriter.prototype.writeSfixed64String = function(a, b) {
        if (null != b) {
          var c = jspb.arith.Int64.fromString(b);
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.FIXED64);
          this.encoder_.writeSplitFixed64(c.lo, c.hi);
        }
      };
      jspb.BinaryWriter.prototype.writeFloat = function(a, b) {
        null != b && (this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.FIXED32), 
        this.encoder_.writeFloat(b));
      };
      jspb.BinaryWriter.prototype.writeDouble = function(a, b) {
        null != b && (this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.FIXED64), 
        this.encoder_.writeDouble(b));
      };
      jspb.BinaryWriter.prototype.writeBool = function(a, b) {
        null != b && (goog.asserts.assert(goog.isBoolean(b) || goog.isNumber(b)), this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.VARINT), 
        this.encoder_.writeBool(b));
      };
      jspb.BinaryWriter.prototype.writeEnum = function(a, b) {
        null != b && (goog.asserts.assert(b >= -jspb.BinaryConstants.TWO_TO_31 && b < jspb.BinaryConstants.TWO_TO_31), 
        this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeSignedVarint32(b));
      };
      jspb.BinaryWriter.prototype.writeString = function(a, b) {
        if (null != b) {
          var c = this.beginDelimited_(a);
          this.encoder_.writeString(b);
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writeBytes = function(a, b) {
        if (null != b) {
          var c = jspb.utils.byteSourceToUint8Array(b);
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.DELIMITED);
          this.encoder_.writeUnsignedVarint32(c.length);
          this.appendUint8Array_(c);
        }
      };
      jspb.BinaryWriter.prototype.writeMessage = function(a, b, c) {
        null != b && (a = this.beginDelimited_(a), c(b, this), this.endDelimited_(a));
      };
      jspb.BinaryWriter.prototype.writeGroup = function(a, b, c) {
        null != b && (this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.START_GROUP), 
        c(b, this), this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.END_GROUP));
      };
      jspb.BinaryWriter.prototype.writeFixedHash64 = function(a, b) {
        null != b && (goog.asserts.assert(8 == b.length), this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.FIXED64), 
        this.encoder_.writeFixedHash64(b));
      };
      jspb.BinaryWriter.prototype.writeVarintHash64 = function(a, b) {
        null != b && (goog.asserts.assert(8 == b.length), this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.VARINT), 
        this.encoder_.writeVarintHash64(b));
      };
      jspb.BinaryWriter.prototype.writeRepeatedInt32 = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeSignedVarint32_(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedInt32String = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeInt32String(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedInt64 = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeSignedVarint64_(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedInt64String = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeInt64String(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedUint32 = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeUnsignedVarint32_(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedUint32String = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeUint32String(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedUint64 = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeUnsignedVarint64_(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedUint64String = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeUint64String(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedSint32 = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeZigzagVarint32_(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedSint64 = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeZigzagVarint64_(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedSint64String = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeZigzagVarint64String_(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedFixed32 = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeFixed32(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedFixed64 = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeFixed64(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedFixed64String = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeFixed64String(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedSfixed32 = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeSfixed32(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedSfixed64 = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeSfixed64(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedSfixed64String = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeSfixed64String(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedFloat = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeFloat(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedDouble = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeDouble(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedBool = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeBool(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedEnum = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeEnum(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedString = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeString(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedBytes = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeBytes(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedMessage = function(a, b, c) {
        if (null != b) for (var d = 0; d < b.length; d++) {
          var e = this.beginDelimited_(a);
          c(b[d], this);
          this.endDelimited_(e);
        }
      };
      jspb.BinaryWriter.prototype.writeRepeatedGroup = function(a, b, c) {
        if (null != b) for (var d = 0; d < b.length; d++) this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.START_GROUP), 
        c(b[d], this), this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.END_GROUP);
      };
      jspb.BinaryWriter.prototype.writeRepeatedFixedHash64 = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeFixedHash64(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedVarintHash64 = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeVarintHash64(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writePackedInt32 = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) this.encoder_.writeSignedVarint32(b[d]);
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writePackedInt32String = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) this.encoder_.writeSignedVarint32(parseInt(b[d], 10));
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writePackedInt64 = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) this.encoder_.writeSignedVarint64(b[d]);
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writePackedInt64String = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) {
            var e = jspb.arith.Int64.fromString(b[d]);
            this.encoder_.writeSplitVarint64(e.lo, e.hi);
          }
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writePackedUint32 = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) this.encoder_.writeUnsignedVarint32(b[d]);
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writePackedUint32String = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) this.encoder_.writeUnsignedVarint32(parseInt(b[d], 10));
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writePackedUint64 = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) this.encoder_.writeUnsignedVarint64(b[d]);
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writePackedUint64String = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) {
            var e = jspb.arith.UInt64.fromString(b[d]);
            this.encoder_.writeSplitVarint64(e.lo, e.hi);
          }
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writePackedSint32 = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) this.encoder_.writeZigzagVarint32(b[d]);
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writePackedSint64 = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) this.encoder_.writeZigzagVarint64(b[d]);
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writePackedSint64String = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) this.encoder_.writeZigzagVarint64(parseInt(b[d], 10));
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writePackedFixed32 = function(a, b) {
        if (null != b && b.length) {
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.DELIMITED);
          this.encoder_.writeUnsignedVarint32(4 * b.length);
          for (var c = 0; c < b.length; c++) this.encoder_.writeUint32(b[c]);
        }
      };
      jspb.BinaryWriter.prototype.writePackedFixed64 = function(a, b) {
        if (null != b && b.length) {
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.DELIMITED);
          this.encoder_.writeUnsignedVarint32(8 * b.length);
          for (var c = 0; c < b.length; c++) this.encoder_.writeUint64(b[c]);
        }
      };
      jspb.BinaryWriter.prototype.writePackedFixed64String = function(a, b) {
        if (null != b && b.length) {
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.DELIMITED);
          this.encoder_.writeUnsignedVarint32(8 * b.length);
          for (var c = 0; c < b.length; c++) {
            var d = jspb.arith.UInt64.fromString(b[c]);
            this.encoder_.writeSplitFixed64(d.lo, d.hi);
          }
        }
      };
      jspb.BinaryWriter.prototype.writePackedSfixed32 = function(a, b) {
        if (null != b && b.length) {
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.DELIMITED);
          this.encoder_.writeUnsignedVarint32(4 * b.length);
          for (var c = 0; c < b.length; c++) this.encoder_.writeInt32(b[c]);
        }
      };
      jspb.BinaryWriter.prototype.writePackedSfixed64 = function(a, b) {
        if (null != b && b.length) {
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.DELIMITED);
          this.encoder_.writeUnsignedVarint32(8 * b.length);
          for (var c = 0; c < b.length; c++) this.encoder_.writeInt64(b[c]);
        }
      };
      jspb.BinaryWriter.prototype.writePackedSfixed64String = function(a, b) {
        if (null != b && b.length) {
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.DELIMITED);
          this.encoder_.writeUnsignedVarint32(8 * b.length);
          for (var c = 0; c < b.length; c++) this.encoder_.writeInt64String(b[c]);
        }
      };
      jspb.BinaryWriter.prototype.writePackedFloat = function(a, b) {
        if (null != b && b.length) {
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.DELIMITED);
          this.encoder_.writeUnsignedVarint32(4 * b.length);
          for (var c = 0; c < b.length; c++) this.encoder_.writeFloat(b[c]);
        }
      };
      jspb.BinaryWriter.prototype.writePackedDouble = function(a, b) {
        if (null != b && b.length) {
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.DELIMITED);
          this.encoder_.writeUnsignedVarint32(8 * b.length);
          for (var c = 0; c < b.length; c++) this.encoder_.writeDouble(b[c]);
        }
      };
      jspb.BinaryWriter.prototype.writePackedBool = function(a, b) {
        if (null != b && b.length) {
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.DELIMITED);
          this.encoder_.writeUnsignedVarint32(b.length);
          for (var c = 0; c < b.length; c++) this.encoder_.writeBool(b[c]);
        }
      };
      jspb.BinaryWriter.prototype.writePackedEnum = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) this.encoder_.writeEnum(b[d]);
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writePackedFixedHash64 = function(a, b) {
        if (null != b && b.length) {
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.DELIMITED);
          this.encoder_.writeUnsignedVarint32(8 * b.length);
          for (var c = 0; c < b.length; c++) this.encoder_.writeFixedHash64(b[c]);
        }
      };
      jspb.BinaryWriter.prototype.writePackedVarintHash64 = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) this.encoder_.writeVarintHash64(b[d]);
          this.endDelimited_(c);
        }
      };
      jspb.BinaryIterator = function(a, b, c) {
        this.elements_ = this.nextMethod_ = this.decoder_ = null;
        this.cursor_ = 0;
        this.nextValue_ = null;
        this.atEnd_ = !0;
        this.init_(a, b, c);
      };
      jspb.BinaryIterator.prototype.init_ = function(a, b, c) {
        a && b && (this.decoder_ = a, this.nextMethod_ = b);
        this.elements_ = c || null;
        this.cursor_ = 0;
        this.nextValue_ = null;
        this.atEnd_ = !this.decoder_ && !this.elements_;
        this.next();
      };
      jspb.BinaryIterator.instanceCache_ = [];
      jspb.BinaryIterator.alloc = function(a, b, c) {
        if (jspb.BinaryIterator.instanceCache_.length) {
          var d = jspb.BinaryIterator.instanceCache_.pop();
          d.init_(a, b, c);
          return d;
        }
        return new jspb.BinaryIterator(a, b, c);
      };
      jspb.BinaryIterator.prototype.free = function() {
        this.clear();
        100 > jspb.BinaryIterator.instanceCache_.length && jspb.BinaryIterator.instanceCache_.push(this);
      };
      jspb.BinaryIterator.prototype.clear = function() {
        this.decoder_ && this.decoder_.free();
        this.elements_ = this.nextMethod_ = this.decoder_ = null;
        this.cursor_ = 0;
        this.nextValue_ = null;
        this.atEnd_ = !0;
      };
      jspb.BinaryIterator.prototype.get = function() {
        return this.nextValue_;
      };
      jspb.BinaryIterator.prototype.atEnd = function() {
        return this.atEnd_;
      };
      jspb.BinaryIterator.prototype.next = function() {
        var a = this.nextValue_;
        this.decoder_ ? this.decoder_.atEnd() ? (this.nextValue_ = null, this.atEnd_ = !0) : this.nextValue_ = this.nextMethod_.call(this.decoder_) : this.elements_ && (this.cursor_ == this.elements_.length ? (this.nextValue_ = null, 
        this.atEnd_ = !0) : this.nextValue_ = this.elements_[this.cursor_++]);
        return a;
      };
      jspb.BinaryDecoder = function(a, b, c) {
        this.bytes_ = null;
        this.tempHigh_ = this.tempLow_ = this.cursor_ = this.end_ = this.start_ = 0;
        this.error_ = !1;
        a && this.setBlock(a, b, c);
      };
      jspb.BinaryDecoder.instanceCache_ = [];
      jspb.BinaryDecoder.alloc = function(a, b, c) {
        if (jspb.BinaryDecoder.instanceCache_.length) {
          var d = jspb.BinaryDecoder.instanceCache_.pop();
          a && d.setBlock(a, b, c);
          return d;
        }
        return new jspb.BinaryDecoder(a, b, c);
      };
      jspb.BinaryDecoder.prototype.free = function() {
        this.clear();
        100 > jspb.BinaryDecoder.instanceCache_.length && jspb.BinaryDecoder.instanceCache_.push(this);
      };
      jspb.BinaryDecoder.prototype.clone = function() {
        return jspb.BinaryDecoder.alloc(this.bytes_, this.start_, this.end_ - this.start_);
      };
      jspb.BinaryDecoder.prototype.clear = function() {
        this.bytes_ = null;
        this.cursor_ = this.end_ = this.start_ = 0;
        this.error_ = !1;
      };
      jspb.BinaryDecoder.prototype.getBuffer = function() {
        return this.bytes_;
      };
      jspb.BinaryDecoder.prototype.setBlock = function(a, b, c) {
        this.bytes_ = jspb.utils.byteSourceToUint8Array(a);
        this.start_ = goog.isDef(b) ? b : 0;
        this.end_ = goog.isDef(c) ? this.start_ + c : this.bytes_.length;
        this.cursor_ = this.start_;
      };
      jspb.BinaryDecoder.prototype.getEnd = function() {
        return this.end_;
      };
      jspb.BinaryDecoder.prototype.setEnd = function(a) {
        this.end_ = a;
      };
      jspb.BinaryDecoder.prototype.reset = function() {
        this.cursor_ = this.start_;
      };
      jspb.BinaryDecoder.prototype.getCursor = function() {
        return this.cursor_;
      };
      jspb.BinaryDecoder.prototype.setCursor = function(a) {
        this.cursor_ = a;
      };
      jspb.BinaryDecoder.prototype.advance = function(a) {
        this.cursor_ += a;
        goog.asserts.assert(this.cursor_ <= this.end_);
      };
      jspb.BinaryDecoder.prototype.atEnd = function() {
        return this.cursor_ == this.end_;
      };
      jspb.BinaryDecoder.prototype.pastEnd = function() {
        return this.cursor_ > this.end_;
      };
      jspb.BinaryDecoder.prototype.getError = function() {
        return this.error_ || 0 > this.cursor_ || this.cursor_ > this.end_;
      };
      jspb.BinaryDecoder.prototype.readSplitVarint64_ = function() {
        for (var a, b = 0, c, d = 0; 4 > d; d++) if (a = this.bytes_[this.cursor_++], b |= (127 & a) << 7 * d, 
        128 > a) {
          this.tempLow_ = b >>> 0;
          this.tempHigh_ = 0;
          return;
        }
        a = this.bytes_[this.cursor_++];
        b |= (127 & a) << 28;
        c = 0 | (127 & a) >> 4;
        if (128 > a) this.tempLow_ = b >>> 0, this.tempHigh_ = c >>> 0; else {
          for (d = 0; 5 > d; d++) if (a = this.bytes_[this.cursor_++], c |= (127 & a) << 7 * d + 3, 
          128 > a) {
            this.tempLow_ = b >>> 0;
            this.tempHigh_ = c >>> 0;
            return;
          }
          goog.asserts.fail("Failed to read varint, encoding is invalid.");
          this.error_ = !0;
        }
      };
      jspb.BinaryDecoder.prototype.skipVarint = function() {
        for (;128 & this.bytes_[this.cursor_]; ) this.cursor_++;
        this.cursor_++;
      };
      jspb.BinaryDecoder.prototype.unskipVarint = function(a) {
        for (;128 < a; ) this.cursor_--, a >>>= 7;
        this.cursor_--;
      };
      jspb.BinaryDecoder.prototype.readUnsignedVarint32 = function() {
        var a, b = this.bytes_;
        a = b[this.cursor_ + 0];
        var c = 127 & a;
        if (128 > a) return this.cursor_ += 1, goog.asserts.assert(this.cursor_ <= this.end_), 
        c;
        a = b[this.cursor_ + 1];
        c |= (127 & a) << 7;
        if (128 > a) return this.cursor_ += 2, goog.asserts.assert(this.cursor_ <= this.end_), 
        c;
        a = b[this.cursor_ + 2];
        c |= (127 & a) << 14;
        if (128 > a) return this.cursor_ += 3, goog.asserts.assert(this.cursor_ <= this.end_), 
        c;
        a = b[this.cursor_ + 3];
        c |= (127 & a) << 21;
        if (128 > a) return this.cursor_ += 4, goog.asserts.assert(this.cursor_ <= this.end_), 
        c;
        a = b[this.cursor_ + 4];
        c |= (15 & a) << 28;
        if (128 > a) return this.cursor_ += 5, goog.asserts.assert(this.cursor_ <= this.end_), 
        c >>> 0;
        this.cursor_ += 5;
        128 <= b[this.cursor_++] && 128 <= b[this.cursor_++] && 128 <= b[this.cursor_++] && 128 <= b[this.cursor_++] && 128 <= b[this.cursor_++] && goog.asserts.assert(!1);
        goog.asserts.assert(this.cursor_ <= this.end_);
        return c;
      };
      jspb.BinaryDecoder.prototype.readSignedVarint32 = jspb.BinaryDecoder.prototype.readUnsignedVarint32;
      jspb.BinaryDecoder.prototype.readUnsignedVarint32String = function() {
        return this.readUnsignedVarint32().toString();
      };
      jspb.BinaryDecoder.prototype.readSignedVarint32String = function() {
        return this.readSignedVarint32().toString();
      };
      jspb.BinaryDecoder.prototype.readZigzagVarint32 = function() {
        var a = this.readUnsignedVarint32();
        return a >>> 1 ^ -(1 & a);
      };
      jspb.BinaryDecoder.prototype.readUnsignedVarint64 = function() {
        this.readSplitVarint64_();
        return jspb.utils.joinUint64(this.tempLow_, this.tempHigh_);
      };
      jspb.BinaryDecoder.prototype.readUnsignedVarint64String = function() {
        this.readSplitVarint64_();
        return jspb.utils.joinUnsignedDecimalString(this.tempLow_, this.tempHigh_);
      };
      jspb.BinaryDecoder.prototype.readSignedVarint64 = function() {
        this.readSplitVarint64_();
        return jspb.utils.joinInt64(this.tempLow_, this.tempHigh_);
      };
      jspb.BinaryDecoder.prototype.readSignedVarint64String = function() {
        this.readSplitVarint64_();
        return jspb.utils.joinSignedDecimalString(this.tempLow_, this.tempHigh_);
      };
      jspb.BinaryDecoder.prototype.readZigzagVarint64 = function() {
        this.readSplitVarint64_();
        return jspb.utils.joinZigzag64(this.tempLow_, this.tempHigh_);
      };
      jspb.BinaryDecoder.prototype.readZigzagVarint64String = function() {
        return this.readZigzagVarint64().toString();
      };
      jspb.BinaryDecoder.prototype.readUint8 = function() {
        var a = this.bytes_[this.cursor_ + 0];
        this.cursor_ += 1;
        goog.asserts.assert(this.cursor_ <= this.end_);
        return a;
      };
      jspb.BinaryDecoder.prototype.readUint16 = function() {
        var a = this.bytes_[this.cursor_ + 0], b = this.bytes_[this.cursor_ + 1];
        this.cursor_ += 2;
        goog.asserts.assert(this.cursor_ <= this.end_);
        return a << 0 | b << 8;
      };
      jspb.BinaryDecoder.prototype.readUint32 = function() {
        var a = this.bytes_[this.cursor_ + 0], b = this.bytes_[this.cursor_ + 1], c = this.bytes_[this.cursor_ + 2], d = this.bytes_[this.cursor_ + 3];
        this.cursor_ += 4;
        goog.asserts.assert(this.cursor_ <= this.end_);
        return (a << 0 | b << 8 | c << 16 | d << 24) >>> 0;
      };
      jspb.BinaryDecoder.prototype.readUint64 = function() {
        var a = this.readUint32(), b = this.readUint32();
        return jspb.utils.joinUint64(a, b);
      };
      jspb.BinaryDecoder.prototype.readUint64String = function() {
        var a = this.readUint32(), b = this.readUint32();
        return jspb.utils.joinUnsignedDecimalString(a, b);
      };
      jspb.BinaryDecoder.prototype.readInt8 = function() {
        var a = this.bytes_[this.cursor_ + 0];
        this.cursor_ += 1;
        goog.asserts.assert(this.cursor_ <= this.end_);
        return a << 24 >> 24;
      };
      jspb.BinaryDecoder.prototype.readInt16 = function() {
        var a = this.bytes_[this.cursor_ + 0], b = this.bytes_[this.cursor_ + 1];
        this.cursor_ += 2;
        goog.asserts.assert(this.cursor_ <= this.end_);
        return (a << 0 | b << 8) << 16 >> 16;
      };
      jspb.BinaryDecoder.prototype.readInt32 = function() {
        var a = this.bytes_[this.cursor_ + 0], b = this.bytes_[this.cursor_ + 1], c = this.bytes_[this.cursor_ + 2], d = this.bytes_[this.cursor_ + 3];
        this.cursor_ += 4;
        goog.asserts.assert(this.cursor_ <= this.end_);
        return a << 0 | b << 8 | c << 16 | d << 24;
      };
      jspb.BinaryDecoder.prototype.readInt64 = function() {
        var a = this.readUint32(), b = this.readUint32();
        return jspb.utils.joinInt64(a, b);
      };
      jspb.BinaryDecoder.prototype.readInt64String = function() {
        var a = this.readUint32(), b = this.readUint32();
        return jspb.utils.joinSignedDecimalString(a, b);
      };
      jspb.BinaryDecoder.prototype.readFloat = function() {
        var a = this.readUint32();
        return jspb.utils.joinFloat32(a, 0);
      };
      jspb.BinaryDecoder.prototype.readDouble = function() {
        var a = this.readUint32(), b = this.readUint32();
        return jspb.utils.joinFloat64(a, b);
      };
      jspb.BinaryDecoder.prototype.readBool = function() {
        return !!this.bytes_[this.cursor_++];
      };
      jspb.BinaryDecoder.prototype.readEnum = function() {
        return this.readSignedVarint32();
      };
      jspb.BinaryDecoder.prototype.readString = function(a) {
        var b = this.bytes_, c = this.cursor_;
        a = c + a;
        for (var d = [], e = ""; c < a; ) {
          var f = b[c++];
          if (128 > f) d.push(f); else {
            if (192 > f) continue;
            if (224 > f) {
              var g = b[c++];
              d.push((31 & f) << 6 | 63 & g);
            } else if (240 > f) {
              var g = b[c++], h = b[c++];
              d.push((15 & f) << 12 | (63 & g) << 6 | 63 & h);
            } else if (248 > f) {
              var g = b[c++], h = b[c++], k = b[c++], f = (7 & f) << 18 | (63 & g) << 12 | (63 & h) << 6 | 63 & k, f = f - 65536;
              d.push(55296 + (f >> 10 & 1023), 56320 + (1023 & f));
            }
          }
          8192 <= d.length && (e += String.fromCharCode.apply(null, d), d.length = 0);
        }
        e += goog.crypt.byteArrayToString(d);
        this.cursor_ = c;
        return e;
      };
      jspb.BinaryDecoder.prototype.readStringWithLength = function() {
        var a = this.readUnsignedVarint32();
        return this.readString(a);
      };
      jspb.BinaryDecoder.prototype.readBytes = function(a) {
        if (0 > a || this.cursor_ + a > this.bytes_.length) return this.error_ = !0, goog.asserts.fail("Invalid byte length!"), 
        new Uint8Array(0);
        var b = this.bytes_.subarray(this.cursor_, this.cursor_ + a);
        this.cursor_ += a;
        goog.asserts.assert(this.cursor_ <= this.end_);
        return b;
      };
      jspb.BinaryDecoder.prototype.readVarintHash64 = function() {
        this.readSplitVarint64_();
        return jspb.utils.joinHash64(this.tempLow_, this.tempHigh_);
      };
      jspb.BinaryDecoder.prototype.readFixedHash64 = function() {
        var a = this.bytes_, b = this.cursor_, c = a[b + 0], d = a[b + 1], e = a[b + 2], f = a[b + 3], g = a[b + 4], h = a[b + 5], k = a[b + 6], a = a[b + 7];
        this.cursor_ += 8;
        return String.fromCharCode(c, d, e, f, g, h, k, a);
      };
      jspb.BinaryReader = function(a, b, c) {
        this.decoder_ = jspb.BinaryDecoder.alloc(a, b, c);
        this.fieldCursor_ = this.decoder_.getCursor();
        this.nextField_ = jspb.BinaryConstants.INVALID_FIELD_NUMBER;
        this.nextWireType_ = jspb.BinaryConstants.WireType.INVALID;
        this.error_ = !1;
        this.readCallbacks_ = null;
      };
      jspb.BinaryReader.instanceCache_ = [];
      jspb.BinaryReader.alloc = function(a, b, c) {
        if (jspb.BinaryReader.instanceCache_.length) {
          var d = jspb.BinaryReader.instanceCache_.pop();
          a && d.decoder_.setBlock(a, b, c);
          return d;
        }
        return new jspb.BinaryReader(a, b, c);
      };
      jspb.BinaryReader.prototype.alloc = jspb.BinaryReader.alloc;
      jspb.BinaryReader.prototype.free = function() {
        this.decoder_.clear();
        this.nextField_ = jspb.BinaryConstants.INVALID_FIELD_NUMBER;
        this.nextWireType_ = jspb.BinaryConstants.WireType.INVALID;
        this.error_ = !1;
        this.readCallbacks_ = null;
        100 > jspb.BinaryReader.instanceCache_.length && jspb.BinaryReader.instanceCache_.push(this);
      };
      jspb.BinaryReader.prototype.getFieldCursor = function() {
        return this.fieldCursor_;
      };
      jspb.BinaryReader.prototype.getCursor = function() {
        return this.decoder_.getCursor();
      };
      jspb.BinaryReader.prototype.getBuffer = function() {
        return this.decoder_.getBuffer();
      };
      jspb.BinaryReader.prototype.getFieldNumber = function() {
        return this.nextField_;
      };
      jspb.BinaryReader.prototype.getWireType = function() {
        return this.nextWireType_;
      };
      jspb.BinaryReader.prototype.isEndGroup = function() {
        return this.nextWireType_ == jspb.BinaryConstants.WireType.END_GROUP;
      };
      jspb.BinaryReader.prototype.getError = function() {
        return this.error_ || this.decoder_.getError();
      };
      jspb.BinaryReader.prototype.setBlock = function(a, b, c) {
        this.decoder_.setBlock(a, b, c);
        this.nextField_ = jspb.BinaryConstants.INVALID_FIELD_NUMBER;
        this.nextWireType_ = jspb.BinaryConstants.WireType.INVALID;
      };
      jspb.BinaryReader.prototype.reset = function() {
        this.decoder_.reset();
        this.nextField_ = jspb.BinaryConstants.INVALID_FIELD_NUMBER;
        this.nextWireType_ = jspb.BinaryConstants.WireType.INVALID;
      };
      jspb.BinaryReader.prototype.advance = function(a) {
        this.decoder_.advance(a);
      };
      jspb.BinaryReader.prototype.nextField = function() {
        if (this.decoder_.atEnd()) return !1;
        if (this.getError()) return goog.asserts.fail("Decoder hit an error"), !1;
        this.fieldCursor_ = this.decoder_.getCursor();
        var a = this.decoder_.readUnsignedVarint32(), b = a >>> 3, a = 7 & a;
        if (a != jspb.BinaryConstants.WireType.VARINT && a != jspb.BinaryConstants.WireType.FIXED32 && a != jspb.BinaryConstants.WireType.FIXED64 && a != jspb.BinaryConstants.WireType.DELIMITED && a != jspb.BinaryConstants.WireType.START_GROUP && a != jspb.BinaryConstants.WireType.END_GROUP) return goog.asserts.fail("Invalid wire type"), 
        this.error_ = !0, !1;
        this.nextField_ = b;
        this.nextWireType_ = a;
        return !0;
      };
      jspb.BinaryReader.prototype.unskipHeader = function() {
        this.decoder_.unskipVarint(this.nextField_ << 3 | this.nextWireType_);
      };
      jspb.BinaryReader.prototype.skipMatchingFields = function() {
        var a = this.nextField_;
        for (this.unskipHeader(); this.nextField() && this.getFieldNumber() == a; ) this.skipField();
        this.decoder_.atEnd() || this.unskipHeader();
      };
      jspb.BinaryReader.prototype.skipVarintField = function() {
        this.nextWireType_ != jspb.BinaryConstants.WireType.VARINT ? (goog.asserts.fail("Invalid wire type for skipVarintField"), 
        this.skipField()) : this.decoder_.skipVarint();
      };
      jspb.BinaryReader.prototype.skipDelimitedField = function() {
        if (this.nextWireType_ != jspb.BinaryConstants.WireType.DELIMITED) goog.asserts.fail("Invalid wire type for skipDelimitedField"), 
        this.skipField(); else {
          var a = this.decoder_.readUnsignedVarint32();
          this.decoder_.advance(a);
        }
      };
      jspb.BinaryReader.prototype.skipFixed32Field = function() {
        this.nextWireType_ != jspb.BinaryConstants.WireType.FIXED32 ? (goog.asserts.fail("Invalid wire type for skipFixed32Field"), 
        this.skipField()) : this.decoder_.advance(4);
      };
      jspb.BinaryReader.prototype.skipFixed64Field = function() {
        this.nextWireType_ != jspb.BinaryConstants.WireType.FIXED64 ? (goog.asserts.fail("Invalid wire type for skipFixed64Field"), 
        this.skipField()) : this.decoder_.advance(8);
      };
      jspb.BinaryReader.prototype.skipGroup = function() {
        var a = [ this.nextField_ ];
        do {
          if (!this.nextField()) {
            goog.asserts.fail("Unmatched start-group tag: stream EOF");
            this.error_ = !0;
            break;
          }
          if (this.nextWireType_ == jspb.BinaryConstants.WireType.START_GROUP) a.push(this.nextField_); else if (this.nextWireType_ == jspb.BinaryConstants.WireType.END_GROUP && this.nextField_ != a.pop()) {
            goog.asserts.fail("Unmatched end-group tag");
            this.error_ = !0;
            break;
          }
        } while (0 < a.length);
      };
      jspb.BinaryReader.prototype.skipField = function() {
        switch (this.nextWireType_) {
         case jspb.BinaryConstants.WireType.VARINT:
          this.skipVarintField();
          break;

         case jspb.BinaryConstants.WireType.FIXED64:
          this.skipFixed64Field();
          break;

         case jspb.BinaryConstants.WireType.DELIMITED:
          this.skipDelimitedField();
          break;

         case jspb.BinaryConstants.WireType.FIXED32:
          this.skipFixed32Field();
          break;

         case jspb.BinaryConstants.WireType.START_GROUP:
          this.skipGroup();
          break;

         default:
          goog.asserts.fail("Invalid wire encoding for field.");
        }
      };
      jspb.BinaryReader.prototype.registerReadCallback = function(a, b) {
        goog.isNull(this.readCallbacks_) && (this.readCallbacks_ = {});
        goog.asserts.assert(!this.readCallbacks_[a]);
        this.readCallbacks_[a] = b;
      };
      jspb.BinaryReader.prototype.runReadCallback = function(a) {
        goog.asserts.assert(!goog.isNull(this.readCallbacks_));
        a = this.readCallbacks_[a];
        goog.asserts.assert(a);
        return a(this);
      };
      jspb.BinaryReader.prototype.readAny = function(a) {
        this.nextWireType_ = jspb.BinaryConstants.FieldTypeToWireType(a);
        var b = jspb.BinaryConstants.FieldType;
        switch (a) {
         case b.DOUBLE:
          return this.readDouble();

         case b.FLOAT:
          return this.readFloat();

         case b.INT64:
          return this.readInt64();

         case b.UINT64:
          return this.readUint64();

         case b.INT32:
          return this.readInt32();

         case b.FIXED64:
          return this.readFixed64();

         case b.FIXED32:
          return this.readFixed32();

         case b.BOOL:
          return this.readBool();

         case b.STRING:
          return this.readString();

         case b.GROUP:
          goog.asserts.fail("Group field type not supported in readAny()");

         case b.MESSAGE:
          goog.asserts.fail("Message field type not supported in readAny()");

         case b.BYTES:
          return this.readBytes();

         case b.UINT32:
          return this.readUint32();

         case b.ENUM:
          return this.readEnum();

         case b.SFIXED32:
          return this.readSfixed32();

         case b.SFIXED64:
          return this.readSfixed64();

         case b.SINT32:
          return this.readSint32();

         case b.SINT64:
          return this.readSint64();

         case b.FHASH64:
          return this.readFixedHash64();

         case b.VHASH64:
          return this.readVarintHash64();

         default:
          goog.asserts.fail("Invalid field type in readAny()");
        }
        return 0;
      };
      jspb.BinaryReader.prototype.readMessage = function(a, b) {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.DELIMITED);
        var c = this.decoder_.getEnd(), d = this.decoder_.readUnsignedVarint32(), d = this.decoder_.getCursor() + d;
        this.decoder_.setEnd(d);
        b(a, this);
        this.decoder_.setCursor(d);
        this.decoder_.setEnd(c);
      };
      jspb.BinaryReader.prototype.readGroup = function(a, b, c) {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.START_GROUP);
        goog.asserts.assert(this.nextField_ == a);
        c(b, this);
        this.error_ || this.nextWireType_ == jspb.BinaryConstants.WireType.END_GROUP || (goog.asserts.fail("Group submessage did not end with an END_GROUP tag"), 
        this.error_ = !0);
      };
      jspb.BinaryReader.prototype.getFieldDecoder = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.DELIMITED);
        var a = this.decoder_.readUnsignedVarint32(), b = this.decoder_.getCursor(), c = b + a, a = jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(), b, a);
        this.decoder_.setCursor(c);
        return a;
      };
      jspb.BinaryReader.prototype.readInt32 = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readSignedVarint32();
      };
      jspb.BinaryReader.prototype.readInt32String = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readSignedVarint32String();
      };
      jspb.BinaryReader.prototype.readInt64 = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readSignedVarint64();
      };
      jspb.BinaryReader.prototype.readInt64String = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readSignedVarint64String();
      };
      jspb.BinaryReader.prototype.readUint32 = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readUnsignedVarint32();
      };
      jspb.BinaryReader.prototype.readUint32String = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readUnsignedVarint32String();
      };
      jspb.BinaryReader.prototype.readUint64 = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readUnsignedVarint64();
      };
      jspb.BinaryReader.prototype.readUint64String = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readUnsignedVarint64String();
      };
      jspb.BinaryReader.prototype.readSint32 = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readZigzagVarint32();
      };
      jspb.BinaryReader.prototype.readSint64 = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readZigzagVarint64();
      };
      jspb.BinaryReader.prototype.readSint64String = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readZigzagVarint64String();
      };
      jspb.BinaryReader.prototype.readFixed32 = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED32);
        return this.decoder_.readUint32();
      };
      jspb.BinaryReader.prototype.readFixed64 = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED64);
        return this.decoder_.readUint64();
      };
      jspb.BinaryReader.prototype.readFixed64String = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED64);
        return this.decoder_.readUint64String();
      };
      jspb.BinaryReader.prototype.readSfixed32 = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED32);
        return this.decoder_.readInt32();
      };
      jspb.BinaryReader.prototype.readSfixed32String = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED32);
        return this.decoder_.readInt32().toString();
      };
      jspb.BinaryReader.prototype.readSfixed64 = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED64);
        return this.decoder_.readInt64();
      };
      jspb.BinaryReader.prototype.readSfixed64String = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED64);
        return this.decoder_.readInt64String();
      };
      jspb.BinaryReader.prototype.readFloat = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED32);
        return this.decoder_.readFloat();
      };
      jspb.BinaryReader.prototype.readDouble = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED64);
        return this.decoder_.readDouble();
      };
      jspb.BinaryReader.prototype.readBool = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return !!this.decoder_.readUnsignedVarint32();
      };
      jspb.BinaryReader.prototype.readEnum = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readSignedVarint64();
      };
      jspb.BinaryReader.prototype.readString = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.DELIMITED);
        var a = this.decoder_.readUnsignedVarint32();
        return this.decoder_.readString(a);
      };
      jspb.BinaryReader.prototype.readBytes = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.DELIMITED);
        var a = this.decoder_.readUnsignedVarint32();
        return this.decoder_.readBytes(a);
      };
      jspb.BinaryReader.prototype.readVarintHash64 = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readVarintHash64();
      };
      jspb.BinaryReader.prototype.readFixedHash64 = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED64);
        return this.decoder_.readFixedHash64();
      };
      jspb.BinaryReader.prototype.readPackedField_ = function(a) {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.DELIMITED);
        for (var b = this.decoder_.readUnsignedVarint32(), b = this.decoder_.getCursor() + b, c = []; this.decoder_.getCursor() < b; ) c.push(a.call(this.decoder_));
        return c;
      };
      jspb.BinaryReader.prototype.readPackedInt32 = function() {
        return this.readPackedField_(this.decoder_.readSignedVarint32);
      };
      jspb.BinaryReader.prototype.readPackedInt32String = function() {
        return this.readPackedField_(this.decoder_.readSignedVarint32String);
      };
      jspb.BinaryReader.prototype.readPackedInt64 = function() {
        return this.readPackedField_(this.decoder_.readSignedVarint64);
      };
      jspb.BinaryReader.prototype.readPackedInt64String = function() {
        return this.readPackedField_(this.decoder_.readSignedVarint64String);
      };
      jspb.BinaryReader.prototype.readPackedUint32 = function() {
        return this.readPackedField_(this.decoder_.readUnsignedVarint32);
      };
      jspb.BinaryReader.prototype.readPackedUint32String = function() {
        return this.readPackedField_(this.decoder_.readUnsignedVarint32String);
      };
      jspb.BinaryReader.prototype.readPackedUint64 = function() {
        return this.readPackedField_(this.decoder_.readUnsignedVarint64);
      };
      jspb.BinaryReader.prototype.readPackedUint64String = function() {
        return this.readPackedField_(this.decoder_.readUnsignedVarint64String);
      };
      jspb.BinaryReader.prototype.readPackedSint32 = function() {
        return this.readPackedField_(this.decoder_.readZigzagVarint32);
      };
      jspb.BinaryReader.prototype.readPackedSint64 = function() {
        return this.readPackedField_(this.decoder_.readZigzagVarint64);
      };
      jspb.BinaryReader.prototype.readPackedSint64String = function() {
        return this.readPackedField_(this.decoder_.readZigzagVarint64String);
      };
      jspb.BinaryReader.prototype.readPackedFixed32 = function() {
        return this.readPackedField_(this.decoder_.readUint32);
      };
      jspb.BinaryReader.prototype.readPackedFixed64 = function() {
        return this.readPackedField_(this.decoder_.readUint64);
      };
      jspb.BinaryReader.prototype.readPackedFixed64String = function() {
        return this.readPackedField_(this.decoder_.readUint64String);
      };
      jspb.BinaryReader.prototype.readPackedSfixed32 = function() {
        return this.readPackedField_(this.decoder_.readInt32);
      };
      jspb.BinaryReader.prototype.readPackedSfixed64 = function() {
        return this.readPackedField_(this.decoder_.readInt64);
      };
      jspb.BinaryReader.prototype.readPackedSfixed64String = function() {
        return this.readPackedField_(this.decoder_.readInt64String);
      };
      jspb.BinaryReader.prototype.readPackedFloat = function() {
        return this.readPackedField_(this.decoder_.readFloat);
      };
      jspb.BinaryReader.prototype.readPackedDouble = function() {
        return this.readPackedField_(this.decoder_.readDouble);
      };
      jspb.BinaryReader.prototype.readPackedBool = function() {
        return this.readPackedField_(this.decoder_.readBool);
      };
      jspb.BinaryReader.prototype.readPackedEnum = function() {
        return this.readPackedField_(this.decoder_.readEnum);
      };
      jspb.BinaryReader.prototype.readPackedVarintHash64 = function() {
        return this.readPackedField_(this.decoder_.readVarintHash64);
      };
      jspb.BinaryReader.prototype.readPackedFixedHash64 = function() {
        return this.readPackedField_(this.decoder_.readFixedHash64);
      };
      jspb.Export = {};
      exports.Map = jspb.Map;
      exports.Message = jspb.Message;
      exports.BinaryReader = jspb.BinaryReader;
      exports.BinaryWriter = jspb.BinaryWriter;
      exports.ExtensionFieldInfo = jspb.ExtensionFieldInfo;
      exports.ExtensionFieldBinaryInfo = jspb.ExtensionFieldBinaryInfo;
      exports.exportSymbol = goog.exportSymbol;
      exports.inherits = goog.inherits;
      exports.object = {
        extend: goog.object.extend
      };
      exports.typeOf = goog.typeOf;
      module.exports.goog = goog;
      module.exports.jspb = jspb;
      module.exports.COMPILED = COMPILED;
    }).call(this, "undefined" !== typeof global ? global : "undefined" !== typeof self ? self : "undefined" !== typeof window ? window : {}, require("buffer").Buffer);
  }, {
    buffer: 2
  } ],
  34: [ function(require, module, exports) {
    var jspb = require("google-protobuf");
    var goog = jspb;
    var global = Function("return this")();
    goog.exportSymbol("proto.google.protobuf.Any", null, global);
    proto.google.protobuf.Any = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.google.protobuf.Any, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.google.protobuf.Any.displayName = "proto.google.protobuf.Any");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.google.protobuf.Any.prototype.toObject = function(opt_includeInstance) {
        return proto.google.protobuf.Any.toObject(opt_includeInstance, this);
      };
      proto.google.protobuf.Any.toObject = function(includeInstance, msg) {
        var f, obj = {
          typeUrl: jspb.Message.getFieldWithDefault(msg, 1, ""),
          value: msg.getValue_asB64()
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.google.protobuf.Any.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.google.protobuf.Any();
      return proto.google.protobuf.Any.deserializeBinaryFromReader(msg, reader);
    };
    proto.google.protobuf.Any.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readString();
          msg.setTypeUrl(value);
          break;

         case 2:
          var value = reader.readBytes();
          msg.setValue(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.google.protobuf.Any.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.google.protobuf.Any.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.google.protobuf.Any.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getTypeUrl();
      f.length > 0 && writer.writeString(1, f);
      f = message.getValue_asU8();
      f.length > 0 && writer.writeBytes(2, f);
    };
    proto.google.protobuf.Any.prototype.getTypeUrl = function() {
      return jspb.Message.getFieldWithDefault(this, 1, "");
    };
    proto.google.protobuf.Any.prototype.setTypeUrl = function(value) {
      jspb.Message.setProto3StringField(this, 1, value);
    };
    proto.google.protobuf.Any.prototype.getValue = function() {
      return jspb.Message.getFieldWithDefault(this, 2, "");
    };
    proto.google.protobuf.Any.prototype.getValue_asB64 = function() {
      return jspb.Message.bytesAsB64(this.getValue());
    };
    proto.google.protobuf.Any.prototype.getValue_asU8 = function() {
      return jspb.Message.bytesAsU8(this.getValue());
    };
    proto.google.protobuf.Any.prototype.setValue = function(value) {
      jspb.Message.setProto3BytesField(this, 2, value);
    };
    goog.object.extend(exports, proto.google.protobuf);
    proto.google.protobuf.Any.prototype.getTypeName = function() {
      return this.getTypeUrl().split("/").pop();
    };
    proto.google.protobuf.Any.prototype.pack = function(serialized, name, opt_typeUrlPrefix) {
      opt_typeUrlPrefix || (opt_typeUrlPrefix = "type.googleapis.com/");
      "/" != opt_typeUrlPrefix.substr(-1) ? this.setTypeUrl(opt_typeUrlPrefix + "/" + name) : this.setTypeUrl(opt_typeUrlPrefix + name);
      this.setValue(serialized);
    };
    proto.google.protobuf.Any.prototype.unpack = function(deserialize, name) {
      return this.getTypeName() == name ? deserialize(this.getValue_asU8()) : null;
    };
  }, {
    "google-protobuf": 33
  } ],
  35: [ function(require, module, exports) {
    "use strict";
    var GetIntrinsic = require("get-intrinsic");
    var $gOPD = GetIntrinsic("%Object.getOwnPropertyDescriptor%", true);
    if ($gOPD) try {
      $gOPD([], "length");
    } catch (e) {
      $gOPD = null;
    }
    module.exports = $gOPD;
  }, {
    "get-intrinsic": 32
  } ],
  36: [ function(require, module, exports) {
    "use strict";
    var $defineProperty = require("es-define-property");
    var hasPropertyDescriptors = function hasPropertyDescriptors() {
      return !!$defineProperty;
    };
    hasPropertyDescriptors.hasArrayLengthDefineBug = function hasArrayLengthDefineBug() {
      if (!$defineProperty) return null;
      try {
        return 1 !== $defineProperty([], "length", {
          value: 1
        }).length;
      } catch (e) {
        return true;
      }
    };
    module.exports = hasPropertyDescriptors;
  }, {
    "es-define-property": 16
  } ],
  37: [ function(require, module, exports) {
    "use strict";
    var test = {
      __proto__: null,
      foo: {}
    };
    var $Object = Object;
    module.exports = function hasProto() {
      return {
        __proto__: test
      }.foo === test.foo && !(test instanceof $Object);
    };
  }, {} ],
  38: [ function(require, module, exports) {
    "use strict";
    var origSymbol = "undefined" !== typeof Symbol && Symbol;
    var hasSymbolSham = require("./shams");
    module.exports = function hasNativeSymbols() {
      if ("function" !== typeof origSymbol) return false;
      if ("function" !== typeof Symbol) return false;
      if ("symbol" !== typeof origSymbol("foo")) return false;
      if ("symbol" !== typeof Symbol("bar")) return false;
      return hasSymbolSham();
    };
  }, {
    "./shams": 39
  } ],
  39: [ function(require, module, exports) {
    "use strict";
    module.exports = function hasSymbols() {
      if ("function" !== typeof Symbol || "function" !== typeof Object.getOwnPropertySymbols) return false;
      if ("symbol" === typeof Symbol.iterator) return true;
      var obj = {};
      var sym = Symbol("test");
      var symObj = Object(sym);
      if ("string" === typeof sym) return false;
      if ("[object Symbol]" !== Object.prototype.toString.call(sym)) return false;
      if ("[object Symbol]" !== Object.prototype.toString.call(symObj)) return false;
      var symVal = 42;
      obj[sym] = symVal;
      for (sym in obj) return false;
      if ("function" === typeof Object.keys && 0 !== Object.keys(obj).length) return false;
      if ("function" === typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(obj).length) return false;
      var syms = Object.getOwnPropertySymbols(obj);
      if (1 !== syms.length || syms[0] !== sym) return false;
      if (!Object.prototype.propertyIsEnumerable.call(obj, sym)) return false;
      if ("function" === typeof Object.getOwnPropertyDescriptor) {
        var descriptor = Object.getOwnPropertyDescriptor(obj, sym);
        if (descriptor.value !== symVal || true !== descriptor.enumerable) return false;
      }
      return true;
    };
  }, {} ],
  40: [ function(require, module, exports) {
    "use strict";
    var hasOwnProperty = {}.hasOwnProperty;
    var call = Function.prototype.call;
    module.exports = call.bind ? call.bind(hasOwnProperty) : function(O, P) {
      return call.call(hasOwnProperty, O, P);
    };
  }, {} ],
  41: [ function(require, module, exports) {
    "use strict";
    var call = Function.prototype.call;
    var $hasOwn = Object.prototype.hasOwnProperty;
    var bind = require("function-bind");
    module.exports = bind.call(call, $hasOwn);
  }, {
    "function-bind": 26
  } ],
  42: [ function(require, module, exports) {
    "use strict";
    var fnToStr = Function.prototype.toString;
    var reflectApply = "object" === typeof Reflect && null !== Reflect && Reflect.apply;
    var badArrayLike;
    var isCallableMarker;
    if ("function" === typeof reflectApply && "function" === typeof Object.defineProperty) try {
      badArrayLike = Object.defineProperty({}, "length", {
        get: function() {
          throw isCallableMarker;
        }
      });
      isCallableMarker = {};
      reflectApply(function() {
        throw 42;
      }, null, badArrayLike);
    } catch (_) {
      _ !== isCallableMarker && (reflectApply = null);
    } else reflectApply = null;
    var constructorRegex = /^\s*class\b/;
    var isES6ClassFn = function isES6ClassFunction(value) {
      try {
        var fnStr = fnToStr.call(value);
        return constructorRegex.test(fnStr);
      } catch (e) {
        return false;
      }
    };
    var tryFunctionObject = function tryFunctionToStr(value) {
      try {
        if (isES6ClassFn(value)) return false;
        fnToStr.call(value);
        return true;
      } catch (e) {
        return false;
      }
    };
    var toStr = Object.prototype.toString;
    var objectClass = "[object Object]";
    var fnClass = "[object Function]";
    var genClass = "[object GeneratorFunction]";
    var ddaClass = "[object HTMLAllCollection]";
    var ddaClass2 = "[object HTML document.all class]";
    var ddaClass3 = "[object HTMLCollection]";
    var hasToStringTag = "function" === typeof Symbol && !!Symbol.toStringTag;
    var isIE68 = !(0 in [ ,  ]);
    var isDDA = function isDocumentDotAll() {
      return false;
    };
    if ("object" === typeof document) {
      var all = document.all;
      toStr.call(all) === toStr.call(document.all) && (isDDA = function isDocumentDotAll(value) {
        if ((isIE68 || !value) && ("undefined" === typeof value || "object" === typeof value)) try {
          var str = toStr.call(value);
          return (str === ddaClass || str === ddaClass2 || str === ddaClass3 || str === objectClass) && null == value("");
        } catch (e) {}
        return false;
      });
    }
    module.exports = reflectApply ? function isCallable(value) {
      if (isDDA(value)) return true;
      if (!value) return false;
      if ("function" !== typeof value && "object" !== typeof value) return false;
      try {
        reflectApply(value, null, badArrayLike);
      } catch (e) {
        if (e !== isCallableMarker) return false;
      }
      return !isES6ClassFn(value) && tryFunctionObject(value);
    } : function isCallable(value) {
      if (isDDA(value)) return true;
      if (!value) return false;
      if ("function" !== typeof value && "object" !== typeof value) return false;
      if (hasToStringTag) return tryFunctionObject(value);
      if (isES6ClassFn(value)) return false;
      var strClass = toStr.call(value);
      if (strClass !== fnClass && strClass !== genClass && !/^\[object HTML/.test(strClass)) return false;
      return tryFunctionObject(value);
    };
  }, {} ],
  43: [ function(require, module, exports) {
    "use strict";
    var forEach = require("for-each");
    var warning = require("warning");
    var has = require("has");
    var trim = require("string.prototype.trim");
    var warn = function warn(message) {
      warning(false, message);
    };
    var replace = String.prototype.replace;
    var split = String.prototype.split;
    var delimiter = "||||";
    var russianPluralGroups = function(n) {
      var end = n % 10;
      if (11 !== n && 1 === end) return 0;
      if (2 <= end && end <= 4 && !(n >= 12 && n <= 14)) return 1;
      return 2;
    };
    var pluralTypes = {
      arabic: function(n) {
        if (n < 3) return n;
        var lastTwo = n % 100;
        if (lastTwo >= 3 && lastTwo <= 10) return 3;
        return lastTwo >= 11 ? 4 : 5;
      },
      bosnian_serbian: russianPluralGroups,
      chinese: function() {
        return 0;
      },
      croatian: russianPluralGroups,
      french: function(n) {
        return n > 1 ? 1 : 0;
      },
      german: function(n) {
        return 1 !== n ? 1 : 0;
      },
      russian: russianPluralGroups,
      lithuanian: function(n) {
        if (n % 10 === 1 && n % 100 !== 11) return 0;
        return n % 10 >= 2 && n % 10 <= 9 && (n % 100 < 11 || n % 100 > 19) ? 1 : 2;
      },
      czech: function(n) {
        if (1 === n) return 0;
        return n >= 2 && n <= 4 ? 1 : 2;
      },
      polish: function(n) {
        if (1 === n) return 0;
        var end = n % 10;
        return 2 <= end && end <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2;
      },
      icelandic: function(n) {
        return n % 10 !== 1 || n % 100 === 11 ? 1 : 0;
      },
      slovenian: function(n) {
        var lastTwo = n % 100;
        if (1 === lastTwo) return 0;
        if (2 === lastTwo) return 1;
        if (3 === lastTwo || 4 === lastTwo) return 2;
        return 3;
      }
    };
    var pluralTypeToLanguages = {
      arabic: [ "ar" ],
      bosnian_serbian: [ "bs-Latn-BA", "bs-Cyrl-BA", "srl-RS", "sr-RS" ],
      chinese: [ "id", "id-ID", "ja", "ko", "ko-KR", "lo", "ms", "th", "th-TH", "zh" ],
      croatian: [ "hr", "hr-HR" ],
      german: [ "fa", "da", "de", "en", "es", "fi", "el", "he", "hi-IN", "hu", "hu-HU", "it", "nl", "no", "pt", "sv", "tr" ],
      french: [ "fr", "tl", "pt-br" ],
      russian: [ "ru", "ru-RU" ],
      lithuanian: [ "lt" ],
      czech: [ "cs", "cs-CZ", "sk" ],
      polish: [ "pl" ],
      icelandic: [ "is" ],
      slovenian: [ "sl-SL" ]
    };
    function langToTypeMap(mapping) {
      var ret = {};
      forEach(mapping, function(langs, type) {
        forEach(langs, function(lang) {
          ret[lang] = type;
        });
      });
      return ret;
    }
    function pluralTypeName(locale) {
      var langToPluralType = langToTypeMap(pluralTypeToLanguages);
      return langToPluralType[locale] || langToPluralType[split.call(locale, /-/, 1)[0]] || langToPluralType.en;
    }
    function pluralTypeIndex(locale, count) {
      return pluralTypes[pluralTypeName(locale)](count);
    }
    function escape(token) {
      return token.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
    }
    function constructTokenRegex(opts) {
      var prefix = opts && opts.prefix || "%{";
      var suffix = opts && opts.suffix || "}";
      if (prefix === delimiter || suffix === delimiter) throw new RangeError('"' + delimiter + '" token is reserved for pluralization');
      return new RegExp(escape(prefix) + "(.*?)" + escape(suffix), "g");
    }
    var dollarRegex = /\$/g;
    var dollarBillsYall = "$$";
    var defaultTokenRegex = /%\{(.*?)\}/g;
    function transformPhrase(phrase, substitutions, locale, tokenRegex) {
      if ("string" !== typeof phrase) throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");
      if (null == substitutions) return phrase;
      var result = phrase;
      var interpolationRegex = tokenRegex || defaultTokenRegex;
      var options = "number" === typeof substitutions ? {
        smart_count: substitutions
      } : substitutions;
      if (null != options.smart_count && result) {
        var texts = split.call(result, delimiter);
        result = trim(texts[pluralTypeIndex(locale || "en", options.smart_count)] || texts[0]);
      }
      result = replace.call(result, interpolationRegex, function(expression, argument) {
        if (!has(options, argument) || null == options[argument]) return expression;
        return replace.call(options[argument], dollarRegex, dollarBillsYall);
      });
      return result;
    }
    function Polyglot(options) {
      var opts = options || {};
      this.phrases = {};
      this.extend(opts.phrases || {});
      this.currentLocale = opts.locale || "en";
      var allowMissing = opts.allowMissing ? transformPhrase : null;
      this.onMissingKey = "function" === typeof opts.onMissingKey ? opts.onMissingKey : allowMissing;
      this.warn = opts.warn || warn;
      this.tokenRegex = constructTokenRegex(opts.interpolation);
    }
    Polyglot.prototype.locale = function(newLocale) {
      newLocale && (this.currentLocale = newLocale);
      return this.currentLocale;
    };
    Polyglot.prototype.extend = function(morePhrases, prefix) {
      forEach(morePhrases, function(phrase, key) {
        var prefixedKey = prefix ? prefix + "." + key : key;
        "object" === typeof phrase ? this.extend(phrase, prefixedKey) : this.phrases[prefixedKey] = phrase;
      }, this);
    };
    Polyglot.prototype.unset = function(morePhrases, prefix) {
      "string" === typeof morePhrases ? delete this.phrases[morePhrases] : forEach(morePhrases, function(phrase, key) {
        var prefixedKey = prefix ? prefix + "." + key : key;
        "object" === typeof phrase ? this.unset(phrase, prefixedKey) : delete this.phrases[prefixedKey];
      }, this);
    };
    Polyglot.prototype.clear = function() {
      this.phrases = {};
    };
    Polyglot.prototype.replace = function(newPhrases) {
      this.clear();
      this.extend(newPhrases);
    };
    Polyglot.prototype.t = function(key, options) {
      var phrase, result;
      var opts = null == options ? {} : options;
      if ("string" === typeof this.phrases[key]) phrase = this.phrases[key]; else if ("string" === typeof opts._) phrase = opts._; else if (this.onMissingKey) {
        var onMissingKey = this.onMissingKey;
        result = onMissingKey(key, opts, this.currentLocale, this.tokenRegex);
      } else {
        this.warn('Missing translation for key: "' + key + '"');
        result = key;
      }
      "string" === typeof phrase && (result = transformPhrase(phrase, opts, this.currentLocale, this.tokenRegex));
      return result;
    };
    Polyglot.prototype.has = function(key) {
      return has(this.phrases, key);
    };
    Polyglot.transformPhrase = function transform(phrase, substitutions, locale) {
      return transformPhrase(phrase, substitutions, locale);
    };
    module.exports = Polyglot;
  }, {
    "for-each": 24,
    has: 40,
    "string.prototype.trim": 246,
    warning: 249
  } ],
  44: [ function(require, module, exports) {
    "use strict";
    var keysShim;
    if (!Object.keys) {
      var has = Object.prototype.hasOwnProperty;
      var toStr = Object.prototype.toString;
      var isArgs = require("./isArguments");
      var isEnumerable = Object.prototype.propertyIsEnumerable;
      var hasDontEnumBug = !isEnumerable.call({
        toString: null
      }, "toString");
      var hasProtoEnumBug = isEnumerable.call(function() {}, "prototype");
      var dontEnums = [ "toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor" ];
      var equalsConstructorPrototype = function(o) {
        var ctor = o.constructor;
        return ctor && ctor.prototype === o;
      };
      var excludedKeys = {
        $applicationCache: true,
        $console: true,
        $external: true,
        $frame: true,
        $frameElement: true,
        $frames: true,
        $innerHeight: true,
        $innerWidth: true,
        $onmozfullscreenchange: true,
        $onmozfullscreenerror: true,
        $outerHeight: true,
        $outerWidth: true,
        $pageXOffset: true,
        $pageYOffset: true,
        $parent: true,
        $scrollLeft: true,
        $scrollTop: true,
        $scrollX: true,
        $scrollY: true,
        $self: true,
        $webkitIndexedDB: true,
        $webkitStorageInfo: true,
        $window: true
      };
      var hasAutomationEqualityBug = function() {
        if ("undefined" === typeof window) return false;
        for (var k in window) try {
          if (!excludedKeys["$" + k] && has.call(window, k) && null !== window[k] && "object" === typeof window[k]) try {
            equalsConstructorPrototype(window[k]);
          } catch (e) {
            return true;
          }
        } catch (e) {
          return true;
        }
        return false;
      }();
      var equalsConstructorPrototypeIfNotBuggy = function(o) {
        if ("undefined" === typeof window || !hasAutomationEqualityBug) return equalsConstructorPrototype(o);
        try {
          return equalsConstructorPrototype(o);
        } catch (e) {
          return false;
        }
      };
      keysShim = function keys(object) {
        var isObject = null !== object && "object" === typeof object;
        var isFunction = "[object Function]" === toStr.call(object);
        var isArguments = isArgs(object);
        var isString = isObject && "[object String]" === toStr.call(object);
        var theKeys = [];
        if (!isObject && !isFunction && !isArguments) throw new TypeError("Object.keys called on a non-object");
        var skipProto = hasProtoEnumBug && isFunction;
        if (isString && object.length > 0 && !has.call(object, 0)) for (var i = 0; i < object.length; ++i) theKeys.push(String(i));
        if (isArguments && object.length > 0) for (var j = 0; j < object.length; ++j) theKeys.push(String(j)); else for (var name in object) skipProto && "prototype" === name || !has.call(object, name) || theKeys.push(String(name));
        if (hasDontEnumBug) {
          var skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);
          for (var k = 0; k < dontEnums.length; ++k) skipConstructor && "constructor" === dontEnums[k] || !has.call(object, dontEnums[k]) || theKeys.push(dontEnums[k]);
        }
        return theKeys;
      };
    }
    module.exports = keysShim;
  }, {
    "./isArguments": 46
  } ],
  45: [ function(require, module, exports) {
    "use strict";
    var slice = Array.prototype.slice;
    var isArgs = require("./isArguments");
    var origKeys = Object.keys;
    var keysShim = origKeys ? function keys(o) {
      return origKeys(o);
    } : require("./implementation");
    var originalKeys = Object.keys;
    keysShim.shim = function shimObjectKeys() {
      if (Object.keys) {
        var keysWorksWithArguments = function() {
          var args = Object.keys(arguments);
          return args && args.length === arguments.length;
        }(1, 2);
        keysWorksWithArguments || (Object.keys = function keys(object) {
          if (isArgs(object)) return originalKeys(slice.call(object));
          return originalKeys(object);
        });
      } else Object.keys = keysShim;
      return Object.keys || keysShim;
    };
    module.exports = keysShim;
  }, {
    "./implementation": 44,
    "./isArguments": 46
  } ],
  46: [ function(require, module, exports) {
    "use strict";
    var toStr = Object.prototype.toString;
    module.exports = function isArguments(value) {
      var str = toStr.call(value);
      var isArgs = "[object Arguments]" === str;
      isArgs || (isArgs = "[object Array]" !== str && null !== value && "object" === typeof value && "number" === typeof value.length && value.length >= 0 && "[object Function]" === toStr.call(value.callee));
      return isArgs;
    };
  }, {} ],
  47: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("./internal/Observable");
    exports.Observable = Observable_1.Observable;
    var ConnectableObservable_1 = require("./internal/observable/ConnectableObservable");
    exports.ConnectableObservable = ConnectableObservable_1.ConnectableObservable;
    var groupBy_1 = require("./internal/operators/groupBy");
    exports.GroupedObservable = groupBy_1.GroupedObservable;
    var observable_1 = require("./internal/symbol/observable");
    exports.observable = observable_1.observable;
    var Subject_1 = require("./internal/Subject");
    exports.Subject = Subject_1.Subject;
    var BehaviorSubject_1 = require("./internal/BehaviorSubject");
    exports.BehaviorSubject = BehaviorSubject_1.BehaviorSubject;
    var ReplaySubject_1 = require("./internal/ReplaySubject");
    exports.ReplaySubject = ReplaySubject_1.ReplaySubject;
    var AsyncSubject_1 = require("./internal/AsyncSubject");
    exports.AsyncSubject = AsyncSubject_1.AsyncSubject;
    var asap_1 = require("./internal/scheduler/asap");
    exports.asapScheduler = asap_1.asap;
    var async_1 = require("./internal/scheduler/async");
    exports.asyncScheduler = async_1.async;
    var queue_1 = require("./internal/scheduler/queue");
    exports.queueScheduler = queue_1.queue;
    var animationFrame_1 = require("./internal/scheduler/animationFrame");
    exports.animationFrameScheduler = animationFrame_1.animationFrame;
    var VirtualTimeScheduler_1 = require("./internal/scheduler/VirtualTimeScheduler");
    exports.VirtualTimeScheduler = VirtualTimeScheduler_1.VirtualTimeScheduler;
    exports.VirtualAction = VirtualTimeScheduler_1.VirtualAction;
    var Scheduler_1 = require("./internal/Scheduler");
    exports.Scheduler = Scheduler_1.Scheduler;
    var Subscription_1 = require("./internal/Subscription");
    exports.Subscription = Subscription_1.Subscription;
    var Subscriber_1 = require("./internal/Subscriber");
    exports.Subscriber = Subscriber_1.Subscriber;
    var Notification_1 = require("./internal/Notification");
    exports.Notification = Notification_1.Notification;
    var pipe_1 = require("./internal/util/pipe");
    exports.pipe = pipe_1.pipe;
    var noop_1 = require("./internal/util/noop");
    exports.noop = noop_1.noop;
    var identity_1 = require("./internal/util/identity");
    exports.identity = identity_1.identity;
    var isObservable_1 = require("./internal/util/isObservable");
    exports.isObservable = isObservable_1.isObservable;
    var ArgumentOutOfRangeError_1 = require("./internal/util/ArgumentOutOfRangeError");
    exports.ArgumentOutOfRangeError = ArgumentOutOfRangeError_1.ArgumentOutOfRangeError;
    var EmptyError_1 = require("./internal/util/EmptyError");
    exports.EmptyError = EmptyError_1.EmptyError;
    var ObjectUnsubscribedError_1 = require("./internal/util/ObjectUnsubscribedError");
    exports.ObjectUnsubscribedError = ObjectUnsubscribedError_1.ObjectUnsubscribedError;
    var UnsubscriptionError_1 = require("./internal/util/UnsubscriptionError");
    exports.UnsubscriptionError = UnsubscriptionError_1.UnsubscriptionError;
    var TimeoutError_1 = require("./internal/util/TimeoutError");
    exports.TimeoutError = TimeoutError_1.TimeoutError;
    var bindCallback_1 = require("./internal/observable/bindCallback");
    exports.bindCallback = bindCallback_1.bindCallback;
    var bindNodeCallback_1 = require("./internal/observable/bindNodeCallback");
    exports.bindNodeCallback = bindNodeCallback_1.bindNodeCallback;
    var combineLatest_1 = require("./internal/observable/combineLatest");
    exports.combineLatest = combineLatest_1.combineLatest;
    var concat_1 = require("./internal/observable/concat");
    exports.concat = concat_1.concat;
    var defer_1 = require("./internal/observable/defer");
    exports.defer = defer_1.defer;
    var empty_1 = require("./internal/observable/empty");
    exports.empty = empty_1.empty;
    var forkJoin_1 = require("./internal/observable/forkJoin");
    exports.forkJoin = forkJoin_1.forkJoin;
    var from_1 = require("./internal/observable/from");
    exports.from = from_1.from;
    var fromEvent_1 = require("./internal/observable/fromEvent");
    exports.fromEvent = fromEvent_1.fromEvent;
    var fromEventPattern_1 = require("./internal/observable/fromEventPattern");
    exports.fromEventPattern = fromEventPattern_1.fromEventPattern;
    var generate_1 = require("./internal/observable/generate");
    exports.generate = generate_1.generate;
    var iif_1 = require("./internal/observable/iif");
    exports.iif = iif_1.iif;
    var interval_1 = require("./internal/observable/interval");
    exports.interval = interval_1.interval;
    var merge_1 = require("./internal/observable/merge");
    exports.merge = merge_1.merge;
    var never_1 = require("./internal/observable/never");
    exports.never = never_1.never;
    var of_1 = require("./internal/observable/of");
    exports.of = of_1.of;
    var onErrorResumeNext_1 = require("./internal/observable/onErrorResumeNext");
    exports.onErrorResumeNext = onErrorResumeNext_1.onErrorResumeNext;
    var pairs_1 = require("./internal/observable/pairs");
    exports.pairs = pairs_1.pairs;
    var race_1 = require("./internal/observable/race");
    exports.race = race_1.race;
    var range_1 = require("./internal/observable/range");
    exports.range = range_1.range;
    var throwError_1 = require("./internal/observable/throwError");
    exports.throwError = throwError_1.throwError;
    var timer_1 = require("./internal/observable/timer");
    exports.timer = timer_1.timer;
    var using_1 = require("./internal/observable/using");
    exports.using = using_1.using;
    var zip_1 = require("./internal/observable/zip");
    exports.zip = zip_1.zip;
    var empty_2 = require("./internal/observable/empty");
    exports.EMPTY = empty_2.EMPTY;
    var never_2 = require("./internal/observable/never");
    exports.NEVER = never_2.NEVER;
    var config_1 = require("./internal/config");
    exports.config = config_1.config;
  }, {
    "./internal/AsyncSubject": 48,
    "./internal/BehaviorSubject": 49,
    "./internal/Notification": 51,
    "./internal/Observable": 52,
    "./internal/ReplaySubject": 55,
    "./internal/Scheduler": 56,
    "./internal/Subject": 57,
    "./internal/Subscriber": 59,
    "./internal/Subscription": 60,
    "./internal/config": 61,
    "./internal/observable/ConnectableObservable": 62,
    "./internal/observable/bindCallback": 64,
    "./internal/observable/bindNodeCallback": 65,
    "./internal/observable/combineLatest": 66,
    "./internal/observable/concat": 67,
    "./internal/observable/defer": 68,
    "./internal/observable/empty": 69,
    "./internal/observable/forkJoin": 70,
    "./internal/observable/from": 71,
    "./internal/observable/fromEvent": 73,
    "./internal/observable/fromEventPattern": 74,
    "./internal/observable/generate": 78,
    "./internal/observable/iif": 79,
    "./internal/observable/interval": 80,
    "./internal/observable/merge": 81,
    "./internal/observable/never": 82,
    "./internal/observable/of": 83,
    "./internal/observable/onErrorResumeNext": 84,
    "./internal/observable/pairs": 85,
    "./internal/observable/race": 86,
    "./internal/observable/range": 87,
    "./internal/observable/throwError": 89,
    "./internal/observable/timer": 90,
    "./internal/observable/using": 91,
    "./internal/observable/zip": 92,
    "./internal/operators/groupBy": 128,
    "./internal/scheduler/VirtualTimeScheduler": 205,
    "./internal/scheduler/animationFrame": 206,
    "./internal/scheduler/asap": 207,
    "./internal/scheduler/async": 208,
    "./internal/scheduler/queue": 209,
    "./internal/symbol/observable": 211,
    "./internal/util/ArgumentOutOfRangeError": 213,
    "./internal/util/EmptyError": 214,
    "./internal/util/ObjectUnsubscribedError": 216,
    "./internal/util/TimeoutError": 217,
    "./internal/util/UnsubscriptionError": 218,
    "./internal/util/identity": 221,
    "./internal/util/isObservable": 230,
    "./internal/util/noop": 233,
    "./internal/util/pipe": 235
  } ],
  48: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subject_1 = require("./Subject");
    var Subscription_1 = require("./Subscription");
    var AsyncSubject = function(_super) {
      __extends(AsyncSubject, _super);
      function AsyncSubject() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.value = null;
        _this.hasNext = false;
        _this.hasCompleted = false;
        return _this;
      }
      AsyncSubject.prototype._subscribe = function(subscriber) {
        if (this.hasError) {
          subscriber.error(this.thrownError);
          return Subscription_1.Subscription.EMPTY;
        }
        if (this.hasCompleted && this.hasNext) {
          subscriber.next(this.value);
          subscriber.complete();
          return Subscription_1.Subscription.EMPTY;
        }
        return _super.prototype._subscribe.call(this, subscriber);
      };
      AsyncSubject.prototype.next = function(value) {
        if (!this.hasCompleted) {
          this.value = value;
          this.hasNext = true;
        }
      };
      AsyncSubject.prototype.error = function(error) {
        this.hasCompleted || _super.prototype.error.call(this, error);
      };
      AsyncSubject.prototype.complete = function() {
        this.hasCompleted = true;
        this.hasNext && _super.prototype.next.call(this, this.value);
        _super.prototype.complete.call(this);
      };
      return AsyncSubject;
    }(Subject_1.Subject);
    exports.AsyncSubject = AsyncSubject;
  }, {
    "./Subject": 57,
    "./Subscription": 60
  } ],
  49: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subject_1 = require("./Subject");
    var ObjectUnsubscribedError_1 = require("./util/ObjectUnsubscribedError");
    var BehaviorSubject = function(_super) {
      __extends(BehaviorSubject, _super);
      function BehaviorSubject(_value) {
        var _this = _super.call(this) || this;
        _this._value = _value;
        return _this;
      }
      Object.defineProperty(BehaviorSubject.prototype, "value", {
        get: function() {
          return this.getValue();
        },
        enumerable: true,
        configurable: true
      });
      BehaviorSubject.prototype._subscribe = function(subscriber) {
        var subscription = _super.prototype._subscribe.call(this, subscriber);
        subscription && !subscription.closed && subscriber.next(this._value);
        return subscription;
      };
      BehaviorSubject.prototype.getValue = function() {
        if (this.hasError) throw this.thrownError;
        if (this.closed) throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
        return this._value;
      };
      BehaviorSubject.prototype.next = function(value) {
        _super.prototype.next.call(this, this._value = value);
      };
      return BehaviorSubject;
    }(Subject_1.Subject);
    exports.BehaviorSubject = BehaviorSubject;
  }, {
    "./Subject": 57,
    "./util/ObjectUnsubscribedError": 216
  } ],
  50: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("./Subscriber");
    var InnerSubscriber = function(_super) {
      __extends(InnerSubscriber, _super);
      function InnerSubscriber(parent, outerValue, outerIndex) {
        var _this = _super.call(this) || this;
        _this.parent = parent;
        _this.outerValue = outerValue;
        _this.outerIndex = outerIndex;
        _this.index = 0;
        return _this;
      }
      InnerSubscriber.prototype._next = function(value) {
        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);
      };
      InnerSubscriber.prototype._error = function(error) {
        this.parent.notifyError(error, this);
        this.unsubscribe();
      };
      InnerSubscriber.prototype._complete = function() {
        this.parent.notifyComplete(this);
        this.unsubscribe();
      };
      return InnerSubscriber;
    }(Subscriber_1.Subscriber);
    exports.InnerSubscriber = InnerSubscriber;
  }, {
    "./Subscriber": 59
  } ],
  51: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var empty_1 = require("./observable/empty");
    var of_1 = require("./observable/of");
    var throwError_1 = require("./observable/throwError");
    var NotificationKind;
    (function(NotificationKind) {
      NotificationKind["NEXT"] = "N";
      NotificationKind["ERROR"] = "E";
      NotificationKind["COMPLETE"] = "C";
    })(NotificationKind = exports.NotificationKind || (exports.NotificationKind = {}));
    var Notification = function() {
      function Notification(kind, value, error) {
        this.kind = kind;
        this.value = value;
        this.error = error;
        this.hasValue = "N" === kind;
      }
      Notification.prototype.observe = function(observer) {
        switch (this.kind) {
         case "N":
          return observer.next && observer.next(this.value);

         case "E":
          return observer.error && observer.error(this.error);

         case "C":
          return observer.complete && observer.complete();
        }
      };
      Notification.prototype.do = function(next, error, complete) {
        var kind = this.kind;
        switch (kind) {
         case "N":
          return next && next(this.value);

         case "E":
          return error && error(this.error);

         case "C":
          return complete && complete();
        }
      };
      Notification.prototype.accept = function(nextOrObserver, error, complete) {
        return nextOrObserver && "function" === typeof nextOrObserver.next ? this.observe(nextOrObserver) : this.do(nextOrObserver, error, complete);
      };
      Notification.prototype.toObservable = function() {
        var kind = this.kind;
        switch (kind) {
         case "N":
          return of_1.of(this.value);

         case "E":
          return throwError_1.throwError(this.error);

         case "C":
          return empty_1.empty();
        }
        throw new Error("unexpected notification kind value");
      };
      Notification.createNext = function(value) {
        if ("undefined" !== typeof value) return new Notification("N", value);
        return Notification.undefinedValueNotification;
      };
      Notification.createError = function(err) {
        return new Notification("E", void 0, err);
      };
      Notification.createComplete = function() {
        return Notification.completeNotification;
      };
      Notification.completeNotification = new Notification("C");
      Notification.undefinedValueNotification = new Notification("N", void 0);
      return Notification;
    }();
    exports.Notification = Notification;
  }, {
    "./observable/empty": 69,
    "./observable/of": 83,
    "./observable/throwError": 89
  } ],
  52: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var canReportError_1 = require("./util/canReportError");
    var toSubscriber_1 = require("./util/toSubscriber");
    var observable_1 = require("../internal/symbol/observable");
    var pipe_1 = require("./util/pipe");
    var config_1 = require("./config");
    var Observable = function() {
      function Observable(subscribe) {
        this._isScalar = false;
        subscribe && (this._subscribe = subscribe);
      }
      Observable.prototype.lift = function(operator) {
        var observable = new Observable();
        observable.source = this;
        observable.operator = operator;
        return observable;
      };
      Observable.prototype.subscribe = function(observerOrNext, error, complete) {
        var operator = this.operator;
        var sink = toSubscriber_1.toSubscriber(observerOrNext, error, complete);
        operator ? sink.add(operator.call(sink, this.source)) : sink.add(this.source || config_1.config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable ? this._subscribe(sink) : this._trySubscribe(sink));
        if (config_1.config.useDeprecatedSynchronousErrorHandling && sink.syncErrorThrowable) {
          sink.syncErrorThrowable = false;
          if (sink.syncErrorThrown) throw sink.syncErrorValue;
        }
        return sink;
      };
      Observable.prototype._trySubscribe = function(sink) {
        try {
          return this._subscribe(sink);
        } catch (err) {
          if (config_1.config.useDeprecatedSynchronousErrorHandling) {
            sink.syncErrorThrown = true;
            sink.syncErrorValue = err;
          }
          canReportError_1.canReportError(sink) ? sink.error(err) : console.warn(err);
        }
      };
      Observable.prototype.forEach = function(next, promiseCtor) {
        var _this = this;
        promiseCtor = getPromiseCtor(promiseCtor);
        return new promiseCtor(function(resolve, reject) {
          var subscription;
          subscription = _this.subscribe(function(value) {
            try {
              next(value);
            } catch (err) {
              reject(err);
              subscription && subscription.unsubscribe();
            }
          }, reject, resolve);
        });
      };
      Observable.prototype._subscribe = function(subscriber) {
        var source = this.source;
        return source && source.subscribe(subscriber);
      };
      Observable.prototype[observable_1.observable] = function() {
        return this;
      };
      Observable.prototype.pipe = function() {
        var operations = [];
        for (var _i = 0; _i < arguments.length; _i++) operations[_i] = arguments[_i];
        if (0 === operations.length) return this;
        return pipe_1.pipeFromArray(operations)(this);
      };
      Observable.prototype.toPromise = function(promiseCtor) {
        var _this = this;
        promiseCtor = getPromiseCtor(promiseCtor);
        return new promiseCtor(function(resolve, reject) {
          var value;
          _this.subscribe(function(x) {
            return value = x;
          }, function(err) {
            return reject(err);
          }, function() {
            return resolve(value);
          });
        });
      };
      Observable.create = function(subscribe) {
        return new Observable(subscribe);
      };
      return Observable;
    }();
    exports.Observable = Observable;
    function getPromiseCtor(promiseCtor) {
      promiseCtor || (promiseCtor = config_1.config.Promise || Promise);
      if (!promiseCtor) throw new Error("no Promise impl found");
      return promiseCtor;
    }
  }, {
    "../internal/symbol/observable": 211,
    "./config": 61,
    "./util/canReportError": 219,
    "./util/pipe": 235,
    "./util/toSubscriber": 242
  } ],
  53: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var config_1 = require("./config");
    var hostReportError_1 = require("./util/hostReportError");
    exports.empty = {
      closed: true,
      next: function(value) {},
      error: function(err) {
        if (config_1.config.useDeprecatedSynchronousErrorHandling) throw err;
        hostReportError_1.hostReportError(err);
      },
      complete: function() {}
    };
  }, {
    "./config": 61,
    "./util/hostReportError": 220
  } ],
  54: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("./Subscriber");
    var OuterSubscriber = function(_super) {
      __extends(OuterSubscriber, _super);
      function OuterSubscriber() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      OuterSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.destination.next(innerValue);
      };
      OuterSubscriber.prototype.notifyError = function(error, innerSub) {
        this.destination.error(error);
      };
      OuterSubscriber.prototype.notifyComplete = function(innerSub) {
        this.destination.complete();
      };
      return OuterSubscriber;
    }(Subscriber_1.Subscriber);
    exports.OuterSubscriber = OuterSubscriber;
  }, {
    "./Subscriber": 59
  } ],
  55: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subject_1 = require("./Subject");
    var queue_1 = require("./scheduler/queue");
    var Subscription_1 = require("./Subscription");
    var observeOn_1 = require("./operators/observeOn");
    var ObjectUnsubscribedError_1 = require("./util/ObjectUnsubscribedError");
    var SubjectSubscription_1 = require("./SubjectSubscription");
    var ReplaySubject = function(_super) {
      __extends(ReplaySubject, _super);
      function ReplaySubject(bufferSize, windowTime, scheduler) {
        void 0 === bufferSize && (bufferSize = Number.POSITIVE_INFINITY);
        void 0 === windowTime && (windowTime = Number.POSITIVE_INFINITY);
        var _this = _super.call(this) || this;
        _this.scheduler = scheduler;
        _this._events = [];
        _this._infiniteTimeWindow = false;
        _this._bufferSize = bufferSize < 1 ? 1 : bufferSize;
        _this._windowTime = windowTime < 1 ? 1 : windowTime;
        if (windowTime === Number.POSITIVE_INFINITY) {
          _this._infiniteTimeWindow = true;
          _this.next = _this.nextInfiniteTimeWindow;
        } else _this.next = _this.nextTimeWindow;
        return _this;
      }
      ReplaySubject.prototype.nextInfiniteTimeWindow = function(value) {
        var _events = this._events;
        _events.push(value);
        _events.length > this._bufferSize && _events.shift();
        _super.prototype.next.call(this, value);
      };
      ReplaySubject.prototype.nextTimeWindow = function(value) {
        this._events.push(new ReplayEvent(this._getNow(), value));
        this._trimBufferThenGetEvents();
        _super.prototype.next.call(this, value);
      };
      ReplaySubject.prototype._subscribe = function(subscriber) {
        var _infiniteTimeWindow = this._infiniteTimeWindow;
        var _events = _infiniteTimeWindow ? this._events : this._trimBufferThenGetEvents();
        var scheduler = this.scheduler;
        var len = _events.length;
        var subscription;
        if (this.closed) throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
        if (this.isStopped || this.hasError) subscription = Subscription_1.Subscription.EMPTY; else {
          this.observers.push(subscriber);
          subscription = new SubjectSubscription_1.SubjectSubscription(this, subscriber);
        }
        scheduler && subscriber.add(subscriber = new observeOn_1.ObserveOnSubscriber(subscriber, scheduler));
        if (_infiniteTimeWindow) for (var i = 0; i < len && !subscriber.closed; i++) subscriber.next(_events[i]); else for (var i = 0; i < len && !subscriber.closed; i++) subscriber.next(_events[i].value);
        this.hasError ? subscriber.error(this.thrownError) : this.isStopped && subscriber.complete();
        return subscription;
      };
      ReplaySubject.prototype._getNow = function() {
        return (this.scheduler || queue_1.queue).now();
      };
      ReplaySubject.prototype._trimBufferThenGetEvents = function() {
        var now = this._getNow();
        var _bufferSize = this._bufferSize;
        var _windowTime = this._windowTime;
        var _events = this._events;
        var eventsCount = _events.length;
        var spliceCount = 0;
        while (spliceCount < eventsCount) {
          if (now - _events[spliceCount].time < _windowTime) break;
          spliceCount++;
        }
        eventsCount > _bufferSize && (spliceCount = Math.max(spliceCount, eventsCount - _bufferSize));
        spliceCount > 0 && _events.splice(0, spliceCount);
        return _events;
      };
      return ReplaySubject;
    }(Subject_1.Subject);
    exports.ReplaySubject = ReplaySubject;
    var ReplayEvent = function() {
      function ReplayEvent(time, value) {
        this.time = time;
        this.value = value;
      }
      return ReplayEvent;
    }();
  }, {
    "./Subject": 57,
    "./SubjectSubscription": 58,
    "./Subscription": 60,
    "./operators/observeOn": 143,
    "./scheduler/queue": 209,
    "./util/ObjectUnsubscribedError": 216
  } ],
  56: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Scheduler = function() {
      function Scheduler(SchedulerAction, now) {
        void 0 === now && (now = Scheduler.now);
        this.SchedulerAction = SchedulerAction;
        this.now = now;
      }
      Scheduler.prototype.schedule = function(work, delay, state) {
        void 0 === delay && (delay = 0);
        return new this.SchedulerAction(this, work).schedule(state, delay);
      };
      Scheduler.now = function() {
        return Date.now();
      };
      return Scheduler;
    }();
    exports.Scheduler = Scheduler;
  }, {} ],
  57: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("./Observable");
    var Subscriber_1 = require("./Subscriber");
    var Subscription_1 = require("./Subscription");
    var ObjectUnsubscribedError_1 = require("./util/ObjectUnsubscribedError");
    var SubjectSubscription_1 = require("./SubjectSubscription");
    var rxSubscriber_1 = require("../internal/symbol/rxSubscriber");
    var SubjectSubscriber = function(_super) {
      __extends(SubjectSubscriber, _super);
      function SubjectSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.destination = destination;
        return _this;
      }
      return SubjectSubscriber;
    }(Subscriber_1.Subscriber);
    exports.SubjectSubscriber = SubjectSubscriber;
    var Subject = function(_super) {
      __extends(Subject, _super);
      function Subject() {
        var _this = _super.call(this) || this;
        _this.observers = [];
        _this.closed = false;
        _this.isStopped = false;
        _this.hasError = false;
        _this.thrownError = null;
        return _this;
      }
      Subject.prototype[rxSubscriber_1.rxSubscriber] = function() {
        return new SubjectSubscriber(this);
      };
      Subject.prototype.lift = function(operator) {
        var subject = new AnonymousSubject(this, this);
        subject.operator = operator;
        return subject;
      };
      Subject.prototype.next = function(value) {
        if (this.closed) throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
        if (!this.isStopped) {
          var observers = this.observers;
          var len = observers.length;
          var copy = observers.slice();
          for (var i = 0; i < len; i++) copy[i].next(value);
        }
      };
      Subject.prototype.error = function(err) {
        if (this.closed) throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
        this.hasError = true;
        this.thrownError = err;
        this.isStopped = true;
        var observers = this.observers;
        var len = observers.length;
        var copy = observers.slice();
        for (var i = 0; i < len; i++) copy[i].error(err);
        this.observers.length = 0;
      };
      Subject.prototype.complete = function() {
        if (this.closed) throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
        this.isStopped = true;
        var observers = this.observers;
        var len = observers.length;
        var copy = observers.slice();
        for (var i = 0; i < len; i++) copy[i].complete();
        this.observers.length = 0;
      };
      Subject.prototype.unsubscribe = function() {
        this.isStopped = true;
        this.closed = true;
        this.observers = null;
      };
      Subject.prototype._trySubscribe = function(subscriber) {
        if (this.closed) throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
        return _super.prototype._trySubscribe.call(this, subscriber);
      };
      Subject.prototype._subscribe = function(subscriber) {
        if (this.closed) throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
        if (this.hasError) {
          subscriber.error(this.thrownError);
          return Subscription_1.Subscription.EMPTY;
        }
        if (this.isStopped) {
          subscriber.complete();
          return Subscription_1.Subscription.EMPTY;
        }
        this.observers.push(subscriber);
        return new SubjectSubscription_1.SubjectSubscription(this, subscriber);
      };
      Subject.prototype.asObservable = function() {
        var observable = new Observable_1.Observable();
        observable.source = this;
        return observable;
      };
      Subject.create = function(destination, source) {
        return new AnonymousSubject(destination, source);
      };
      return Subject;
    }(Observable_1.Observable);
    exports.Subject = Subject;
    var AnonymousSubject = function(_super) {
      __extends(AnonymousSubject, _super);
      function AnonymousSubject(destination, source) {
        var _this = _super.call(this) || this;
        _this.destination = destination;
        _this.source = source;
        return _this;
      }
      AnonymousSubject.prototype.next = function(value) {
        var destination = this.destination;
        destination && destination.next && destination.next(value);
      };
      AnonymousSubject.prototype.error = function(err) {
        var destination = this.destination;
        destination && destination.error && this.destination.error(err);
      };
      AnonymousSubject.prototype.complete = function() {
        var destination = this.destination;
        destination && destination.complete && this.destination.complete();
      };
      AnonymousSubject.prototype._subscribe = function(subscriber) {
        var source = this.source;
        return source ? this.source.subscribe(subscriber) : Subscription_1.Subscription.EMPTY;
      };
      return AnonymousSubject;
    }(Subject);
    exports.AnonymousSubject = AnonymousSubject;
  }, {
    "../internal/symbol/rxSubscriber": 212,
    "./Observable": 52,
    "./SubjectSubscription": 58,
    "./Subscriber": 59,
    "./Subscription": 60,
    "./util/ObjectUnsubscribedError": 216
  } ],
  58: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscription_1 = require("./Subscription");
    var SubjectSubscription = function(_super) {
      __extends(SubjectSubscription, _super);
      function SubjectSubscription(subject, subscriber) {
        var _this = _super.call(this) || this;
        _this.subject = subject;
        _this.subscriber = subscriber;
        _this.closed = false;
        return _this;
      }
      SubjectSubscription.prototype.unsubscribe = function() {
        if (this.closed) return;
        this.closed = true;
        var subject = this.subject;
        var observers = subject.observers;
        this.subject = null;
        if (!observers || 0 === observers.length || subject.isStopped || subject.closed) return;
        var subscriberIndex = observers.indexOf(this.subscriber);
        -1 !== subscriberIndex && observers.splice(subscriberIndex, 1);
      };
      return SubjectSubscription;
    }(Subscription_1.Subscription);
    exports.SubjectSubscription = SubjectSubscription;
  }, {
    "./Subscription": 60
  } ],
  59: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var isFunction_1 = require("./util/isFunction");
    var Observer_1 = require("./Observer");
    var Subscription_1 = require("./Subscription");
    var rxSubscriber_1 = require("../internal/symbol/rxSubscriber");
    var config_1 = require("./config");
    var hostReportError_1 = require("./util/hostReportError");
    var Subscriber = function(_super) {
      __extends(Subscriber, _super);
      function Subscriber(destinationOrNext, error, complete) {
        var _this = _super.call(this) || this;
        _this.syncErrorValue = null;
        _this.syncErrorThrown = false;
        _this.syncErrorThrowable = false;
        _this.isStopped = false;
        switch (arguments.length) {
         case 0:
          _this.destination = Observer_1.empty;
          break;

         case 1:
          if (!destinationOrNext) {
            _this.destination = Observer_1.empty;
            break;
          }
          if ("object" === typeof destinationOrNext) {
            if (destinationOrNext instanceof Subscriber) {
              _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;
              _this.destination = destinationOrNext;
              destinationOrNext.add(_this);
            } else {
              _this.syncErrorThrowable = true;
              _this.destination = new SafeSubscriber(_this, destinationOrNext);
            }
            break;
          }

         default:
          _this.syncErrorThrowable = true;
          _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);
        }
        return _this;
      }
      Subscriber.prototype[rxSubscriber_1.rxSubscriber] = function() {
        return this;
      };
      Subscriber.create = function(next, error, complete) {
        var subscriber = new Subscriber(next, error, complete);
        subscriber.syncErrorThrowable = false;
        return subscriber;
      };
      Subscriber.prototype.next = function(value) {
        this.isStopped || this._next(value);
      };
      Subscriber.prototype.error = function(err) {
        if (!this.isStopped) {
          this.isStopped = true;
          this._error(err);
        }
      };
      Subscriber.prototype.complete = function() {
        if (!this.isStopped) {
          this.isStopped = true;
          this._complete();
        }
      };
      Subscriber.prototype.unsubscribe = function() {
        if (this.closed) return;
        this.isStopped = true;
        _super.prototype.unsubscribe.call(this);
      };
      Subscriber.prototype._next = function(value) {
        this.destination.next(value);
      };
      Subscriber.prototype._error = function(err) {
        this.destination.error(err);
        this.unsubscribe();
      };
      Subscriber.prototype._complete = function() {
        this.destination.complete();
        this.unsubscribe();
      };
      Subscriber.prototype._unsubscribeAndRecycle = function() {
        var _a = this, _parent = _a._parent, _parents = _a._parents;
        this._parent = null;
        this._parents = null;
        this.unsubscribe();
        this.closed = false;
        this.isStopped = false;
        this._parent = _parent;
        this._parents = _parents;
        return this;
      };
      return Subscriber;
    }(Subscription_1.Subscription);
    exports.Subscriber = Subscriber;
    var SafeSubscriber = function(_super) {
      __extends(SafeSubscriber, _super);
      function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {
        var _this = _super.call(this) || this;
        _this._parentSubscriber = _parentSubscriber;
        var next;
        var context = _this;
        if (isFunction_1.isFunction(observerOrNext)) next = observerOrNext; else if (observerOrNext) {
          next = observerOrNext.next;
          error = observerOrNext.error;
          complete = observerOrNext.complete;
          if (observerOrNext !== Observer_1.empty) {
            context = Object.create(observerOrNext);
            isFunction_1.isFunction(context.unsubscribe) && _this.add(context.unsubscribe.bind(context));
            context.unsubscribe = _this.unsubscribe.bind(_this);
          }
        }
        _this._context = context;
        _this._next = next;
        _this._error = error;
        _this._complete = complete;
        return _this;
      }
      SafeSubscriber.prototype.next = function(value) {
        if (!this.isStopped && this._next) {
          var _parentSubscriber = this._parentSubscriber;
          config_1.config.useDeprecatedSynchronousErrorHandling && _parentSubscriber.syncErrorThrowable ? this.__tryOrSetError(_parentSubscriber, this._next, value) && this.unsubscribe() : this.__tryOrUnsub(this._next, value);
        }
      };
      SafeSubscriber.prototype.error = function(err) {
        if (!this.isStopped) {
          var _parentSubscriber = this._parentSubscriber;
          var useDeprecatedSynchronousErrorHandling = config_1.config.useDeprecatedSynchronousErrorHandling;
          if (this._error) if (useDeprecatedSynchronousErrorHandling && _parentSubscriber.syncErrorThrowable) {
            this.__tryOrSetError(_parentSubscriber, this._error, err);
            this.unsubscribe();
          } else {
            this.__tryOrUnsub(this._error, err);
            this.unsubscribe();
          } else if (_parentSubscriber.syncErrorThrowable) {
            if (useDeprecatedSynchronousErrorHandling) {
              _parentSubscriber.syncErrorValue = err;
              _parentSubscriber.syncErrorThrown = true;
            } else hostReportError_1.hostReportError(err);
            this.unsubscribe();
          } else {
            this.unsubscribe();
            if (useDeprecatedSynchronousErrorHandling) throw err;
            hostReportError_1.hostReportError(err);
          }
        }
      };
      SafeSubscriber.prototype.complete = function() {
        var _this = this;
        if (!this.isStopped) {
          var _parentSubscriber = this._parentSubscriber;
          if (this._complete) {
            var wrappedComplete = function() {
              return _this._complete.call(_this._context);
            };
            if (config_1.config.useDeprecatedSynchronousErrorHandling && _parentSubscriber.syncErrorThrowable) {
              this.__tryOrSetError(_parentSubscriber, wrappedComplete);
              this.unsubscribe();
            } else {
              this.__tryOrUnsub(wrappedComplete);
              this.unsubscribe();
            }
          } else this.unsubscribe();
        }
      };
      SafeSubscriber.prototype.__tryOrUnsub = function(fn, value) {
        try {
          fn.call(this._context, value);
        } catch (err) {
          this.unsubscribe();
          if (config_1.config.useDeprecatedSynchronousErrorHandling) throw err;
          hostReportError_1.hostReportError(err);
        }
      };
      SafeSubscriber.prototype.__tryOrSetError = function(parent, fn, value) {
        if (!config_1.config.useDeprecatedSynchronousErrorHandling) throw new Error("bad call");
        try {
          fn.call(this._context, value);
        } catch (err) {
          if (config_1.config.useDeprecatedSynchronousErrorHandling) {
            parent.syncErrorValue = err;
            parent.syncErrorThrown = true;
            return true;
          }
          hostReportError_1.hostReportError(err);
          return true;
        }
        return false;
      };
      SafeSubscriber.prototype._unsubscribe = function() {
        var _parentSubscriber = this._parentSubscriber;
        this._context = null;
        this._parentSubscriber = null;
        _parentSubscriber.unsubscribe();
      };
      return SafeSubscriber;
    }(Subscriber);
    exports.SafeSubscriber = SafeSubscriber;
  }, {
    "../internal/symbol/rxSubscriber": 212,
    "./Observer": 53,
    "./Subscription": 60,
    "./config": 61,
    "./util/hostReportError": 220,
    "./util/isFunction": 225
  } ],
  60: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var isArray_1 = require("./util/isArray");
    var isObject_1 = require("./util/isObject");
    var isFunction_1 = require("./util/isFunction");
    var UnsubscriptionError_1 = require("./util/UnsubscriptionError");
    var Subscription = function() {
      function Subscription(unsubscribe) {
        this.closed = false;
        this._parent = null;
        this._parents = null;
        this._subscriptions = null;
        unsubscribe && (this._unsubscribe = unsubscribe);
      }
      Subscription.prototype.unsubscribe = function() {
        var hasErrors = false;
        var errors;
        if (this.closed) return;
        var _a = this, _parent = _a._parent, _parents = _a._parents, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;
        this.closed = true;
        this._parent = null;
        this._parents = null;
        this._subscriptions = null;
        var index = -1;
        var len = _parents ? _parents.length : 0;
        while (_parent) {
          _parent.remove(this);
          _parent = ++index < len && _parents[index] || null;
        }
        if (isFunction_1.isFunction(_unsubscribe)) try {
          _unsubscribe.call(this);
        } catch (e) {
          hasErrors = true;
          errors = e instanceof UnsubscriptionError_1.UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [ e ];
        }
        if (isArray_1.isArray(_subscriptions)) {
          index = -1;
          len = _subscriptions.length;
          while (++index < len) {
            var sub = _subscriptions[index];
            if (isObject_1.isObject(sub)) try {
              sub.unsubscribe();
            } catch (e) {
              hasErrors = true;
              errors = errors || [];
              e instanceof UnsubscriptionError_1.UnsubscriptionError ? errors = errors.concat(flattenUnsubscriptionErrors(e.errors)) : errors.push(e);
            }
          }
        }
        if (hasErrors) throw new UnsubscriptionError_1.UnsubscriptionError(errors);
      };
      Subscription.prototype.add = function(teardown) {
        var subscription = teardown;
        switch (typeof teardown) {
         case "function":
          subscription = new Subscription(teardown);

         case "object":
          if (subscription === this || subscription.closed || "function" !== typeof subscription.unsubscribe) return subscription;
          if (this.closed) {
            subscription.unsubscribe();
            return subscription;
          }
          if (!(subscription instanceof Subscription)) {
            var tmp = subscription;
            subscription = new Subscription();
            subscription._subscriptions = [ tmp ];
          }
          break;

         default:
          if (!teardown) return Subscription.EMPTY;
          throw new Error("unrecognized teardown " + teardown + " added to Subscription.");
        }
        if (subscription._addParent(this)) {
          var subscriptions = this._subscriptions;
          subscriptions ? subscriptions.push(subscription) : this._subscriptions = [ subscription ];
        }
        return subscription;
      };
      Subscription.prototype.remove = function(subscription) {
        var subscriptions = this._subscriptions;
        if (subscriptions) {
          var subscriptionIndex = subscriptions.indexOf(subscription);
          -1 !== subscriptionIndex && subscriptions.splice(subscriptionIndex, 1);
        }
      };
      Subscription.prototype._addParent = function(parent) {
        var _a = this, _parent = _a._parent, _parents = _a._parents;
        if (_parent === parent) return false;
        if (!_parent) {
          this._parent = parent;
          return true;
        }
        if (!_parents) {
          this._parents = [ parent ];
          return true;
        }
        if (-1 === _parents.indexOf(parent)) {
          _parents.push(parent);
          return true;
        }
        return false;
      };
      Subscription.EMPTY = function(empty) {
        empty.closed = true;
        return empty;
      }(new Subscription());
      return Subscription;
    }();
    exports.Subscription = Subscription;
    function flattenUnsubscriptionErrors(errors) {
      return errors.reduce(function(errs, err) {
        return errs.concat(err instanceof UnsubscriptionError_1.UnsubscriptionError ? err.errors : err);
      }, []);
    }
  }, {
    "./util/UnsubscriptionError": 218,
    "./util/isArray": 222,
    "./util/isFunction": 225,
    "./util/isObject": 229
  } ],
  61: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _enable_super_gross_mode_that_will_cause_bad_things = false;
    exports.config = {
      Promise: void 0,
      set useDeprecatedSynchronousErrorHandling(value) {
        if (value) {
          var error = new Error();
          console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n" + error.stack);
        } else _enable_super_gross_mode_that_will_cause_bad_things && console.log("RxJS: Back to a better error behavior. Thank you. <3");
        _enable_super_gross_mode_that_will_cause_bad_things = value;
      },
      get useDeprecatedSynchronousErrorHandling() {
        return _enable_super_gross_mode_that_will_cause_bad_things;
      }
    };
  }, {} ],
  62: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subject_1 = require("../Subject");
    var Observable_1 = require("../Observable");
    var Subscriber_1 = require("../Subscriber");
    var Subscription_1 = require("../Subscription");
    var refCount_1 = require("../operators/refCount");
    var ConnectableObservable = function(_super) {
      __extends(ConnectableObservable, _super);
      function ConnectableObservable(source, subjectFactory) {
        var _this = _super.call(this) || this;
        _this.source = source;
        _this.subjectFactory = subjectFactory;
        _this._refCount = 0;
        _this._isComplete = false;
        return _this;
      }
      ConnectableObservable.prototype._subscribe = function(subscriber) {
        return this.getSubject().subscribe(subscriber);
      };
      ConnectableObservable.prototype.getSubject = function() {
        var subject = this._subject;
        subject && !subject.isStopped || (this._subject = this.subjectFactory());
        return this._subject;
      };
      ConnectableObservable.prototype.connect = function() {
        var connection = this._connection;
        if (!connection) {
          this._isComplete = false;
          connection = this._connection = new Subscription_1.Subscription();
          connection.add(this.source.subscribe(new ConnectableSubscriber(this.getSubject(), this)));
          if (connection.closed) {
            this._connection = null;
            connection = Subscription_1.Subscription.EMPTY;
          } else this._connection = connection;
        }
        return connection;
      };
      ConnectableObservable.prototype.refCount = function() {
        return refCount_1.refCount()(this);
      };
      return ConnectableObservable;
    }(Observable_1.Observable);
    exports.ConnectableObservable = ConnectableObservable;
    var connectableProto = ConnectableObservable.prototype;
    exports.connectableObservableDescriptor = {
      operator: {
        value: null
      },
      _refCount: {
        value: 0,
        writable: true
      },
      _subject: {
        value: null,
        writable: true
      },
      _connection: {
        value: null,
        writable: true
      },
      _subscribe: {
        value: connectableProto._subscribe
      },
      _isComplete: {
        value: connectableProto._isComplete,
        writable: true
      },
      getSubject: {
        value: connectableProto.getSubject
      },
      connect: {
        value: connectableProto.connect
      },
      refCount: {
        value: connectableProto.refCount
      }
    };
    var ConnectableSubscriber = function(_super) {
      __extends(ConnectableSubscriber, _super);
      function ConnectableSubscriber(destination, connectable) {
        var _this = _super.call(this, destination) || this;
        _this.connectable = connectable;
        return _this;
      }
      ConnectableSubscriber.prototype._error = function(err) {
        this._unsubscribe();
        _super.prototype._error.call(this, err);
      };
      ConnectableSubscriber.prototype._complete = function() {
        this.connectable._isComplete = true;
        this._unsubscribe();
        _super.prototype._complete.call(this);
      };
      ConnectableSubscriber.prototype._unsubscribe = function() {
        var connectable = this.connectable;
        if (connectable) {
          this.connectable = null;
          var connection = connectable._connection;
          connectable._refCount = 0;
          connectable._subject = null;
          connectable._connection = null;
          connection && connection.unsubscribe();
        }
      };
      return ConnectableSubscriber;
    }(Subject_1.SubjectSubscriber);
    var RefCountOperator = function() {
      function RefCountOperator(connectable) {
        this.connectable = connectable;
      }
      RefCountOperator.prototype.call = function(subscriber, source) {
        var connectable = this.connectable;
        connectable._refCount++;
        var refCounter = new RefCountSubscriber(subscriber, connectable);
        var subscription = source.subscribe(refCounter);
        refCounter.closed || (refCounter.connection = connectable.connect());
        return subscription;
      };
      return RefCountOperator;
    }();
    var RefCountSubscriber = function(_super) {
      __extends(RefCountSubscriber, _super);
      function RefCountSubscriber(destination, connectable) {
        var _this = _super.call(this, destination) || this;
        _this.connectable = connectable;
        return _this;
      }
      RefCountSubscriber.prototype._unsubscribe = function() {
        var connectable = this.connectable;
        if (!connectable) {
          this.connection = null;
          return;
        }
        this.connectable = null;
        var refCount = connectable._refCount;
        if (refCount <= 0) {
          this.connection = null;
          return;
        }
        connectable._refCount = refCount - 1;
        if (refCount > 1) {
          this.connection = null;
          return;
        }
        var connection = this.connection;
        var sharedConnection = connectable._connection;
        this.connection = null;
        !sharedConnection || connection && sharedConnection !== connection || sharedConnection.unsubscribe();
      };
      return RefCountSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Observable": 52,
    "../Subject": 57,
    "../Subscriber": 59,
    "../Subscription": 60,
    "../operators/refCount": 154
  } ],
  63: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var asap_1 = require("../scheduler/asap");
    var isNumeric_1 = require("../util/isNumeric");
    var SubscribeOnObservable = function(_super) {
      __extends(SubscribeOnObservable, _super);
      function SubscribeOnObservable(source, delayTime, scheduler) {
        void 0 === delayTime && (delayTime = 0);
        void 0 === scheduler && (scheduler = asap_1.asap);
        var _this = _super.call(this) || this;
        _this.source = source;
        _this.delayTime = delayTime;
        _this.scheduler = scheduler;
        (!isNumeric_1.isNumeric(delayTime) || delayTime < 0) && (_this.delayTime = 0);
        scheduler && "function" === typeof scheduler.schedule || (_this.scheduler = asap_1.asap);
        return _this;
      }
      SubscribeOnObservable.create = function(source, delay, scheduler) {
        void 0 === delay && (delay = 0);
        void 0 === scheduler && (scheduler = asap_1.asap);
        return new SubscribeOnObservable(source, delay, scheduler);
      };
      SubscribeOnObservable.dispatch = function(arg) {
        var source = arg.source, subscriber = arg.subscriber;
        return this.add(source.subscribe(subscriber));
      };
      SubscribeOnObservable.prototype._subscribe = function(subscriber) {
        var delay = this.delayTime;
        var source = this.source;
        var scheduler = this.scheduler;
        return scheduler.schedule(SubscribeOnObservable.dispatch, delay, {
          source: source,
          subscriber: subscriber
        });
      };
      return SubscribeOnObservable;
    }(Observable_1.Observable);
    exports.SubscribeOnObservable = SubscribeOnObservable;
  }, {
    "../Observable": 52,
    "../scheduler/asap": 207,
    "../util/isNumeric": 228
  } ],
  64: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var AsyncSubject_1 = require("../AsyncSubject");
    var map_1 = require("../operators/map");
    var canReportError_1 = require("../util/canReportError");
    var isArray_1 = require("../util/isArray");
    var isScheduler_1 = require("../util/isScheduler");
    function bindCallback(callbackFunc, resultSelector, scheduler) {
      if (resultSelector) {
        if (!isScheduler_1.isScheduler(resultSelector)) return function() {
          var args = [];
          for (var _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
          return bindCallback(callbackFunc, scheduler).apply(void 0, args).pipe(map_1.map(function(args) {
            return isArray_1.isArray(args) ? resultSelector.apply(void 0, args) : resultSelector(args);
          }));
        };
        scheduler = resultSelector;
      }
      return function() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
        var context = this;
        var subject;
        var params = {
          context: context,
          subject: subject,
          callbackFunc: callbackFunc,
          scheduler: scheduler
        };
        return new Observable_1.Observable(function(subscriber) {
          if (scheduler) {
            var state = {
              args: args,
              subscriber: subscriber,
              params: params
            };
            return scheduler.schedule(dispatch, 0, state);
          }
          if (!subject) {
            subject = new AsyncSubject_1.AsyncSubject();
            var handler = function() {
              var innerArgs = [];
              for (var _i = 0; _i < arguments.length; _i++) innerArgs[_i] = arguments[_i];
              subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);
              subject.complete();
            };
            try {
              callbackFunc.apply(context, args.concat([ handler ]));
            } catch (err) {
              canReportError_1.canReportError(subject) ? subject.error(err) : console.warn(err);
            }
          }
          return subject.subscribe(subscriber);
        });
      };
    }
    exports.bindCallback = bindCallback;
    function dispatch(state) {
      var _this = this;
      var self = this;
      var args = state.args, subscriber = state.subscriber, params = state.params;
      var callbackFunc = params.callbackFunc, context = params.context, scheduler = params.scheduler;
      var subject = params.subject;
      if (!subject) {
        subject = params.subject = new AsyncSubject_1.AsyncSubject();
        var handler = function() {
          var innerArgs = [];
          for (var _i = 0; _i < arguments.length; _i++) innerArgs[_i] = arguments[_i];
          var value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;
          _this.add(scheduler.schedule(dispatchNext, 0, {
            value: value,
            subject: subject
          }));
        };
        try {
          callbackFunc.apply(context, args.concat([ handler ]));
        } catch (err) {
          subject.error(err);
        }
      }
      this.add(subject.subscribe(subscriber));
    }
    function dispatchNext(state) {
      var value = state.value, subject = state.subject;
      subject.next(value);
      subject.complete();
    }
    function dispatchError(state) {
      var err = state.err, subject = state.subject;
      subject.error(err);
    }
  }, {
    "../AsyncSubject": 48,
    "../Observable": 52,
    "../operators/map": 132,
    "../util/canReportError": 219,
    "../util/isArray": 222,
    "../util/isScheduler": 232
  } ],
  65: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var AsyncSubject_1 = require("../AsyncSubject");
    var map_1 = require("../operators/map");
    var canReportError_1 = require("../util/canReportError");
    var isScheduler_1 = require("../util/isScheduler");
    var isArray_1 = require("../util/isArray");
    function bindNodeCallback(callbackFunc, resultSelector, scheduler) {
      if (resultSelector) {
        if (!isScheduler_1.isScheduler(resultSelector)) return function() {
          var args = [];
          for (var _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
          return bindNodeCallback(callbackFunc, scheduler).apply(void 0, args).pipe(map_1.map(function(args) {
            return isArray_1.isArray(args) ? resultSelector.apply(void 0, args) : resultSelector(args);
          }));
        };
        scheduler = resultSelector;
      }
      return function() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
        var params = {
          subject: void 0,
          args: args,
          callbackFunc: callbackFunc,
          scheduler: scheduler,
          context: this
        };
        return new Observable_1.Observable(function(subscriber) {
          var context = params.context;
          var subject = params.subject;
          if (scheduler) return scheduler.schedule(dispatch, 0, {
            params: params,
            subscriber: subscriber,
            context: context
          });
          if (!subject) {
            subject = params.subject = new AsyncSubject_1.AsyncSubject();
            var handler = function() {
              var innerArgs = [];
              for (var _i = 0; _i < arguments.length; _i++) innerArgs[_i] = arguments[_i];
              var err = innerArgs.shift();
              if (err) {
                subject.error(err);
                return;
              }
              subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);
              subject.complete();
            };
            try {
              callbackFunc.apply(context, args.concat([ handler ]));
            } catch (err) {
              canReportError_1.canReportError(subject) ? subject.error(err) : console.warn(err);
            }
          }
          return subject.subscribe(subscriber);
        });
      };
    }
    exports.bindNodeCallback = bindNodeCallback;
    function dispatch(state) {
      var _this = this;
      var params = state.params, subscriber = state.subscriber, context = state.context;
      var callbackFunc = params.callbackFunc, args = params.args, scheduler = params.scheduler;
      var subject = params.subject;
      if (!subject) {
        subject = params.subject = new AsyncSubject_1.AsyncSubject();
        var handler = function() {
          var innerArgs = [];
          for (var _i = 0; _i < arguments.length; _i++) innerArgs[_i] = arguments[_i];
          var err = innerArgs.shift();
          if (err) _this.add(scheduler.schedule(dispatchError, 0, {
            err: err,
            subject: subject
          })); else {
            var value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;
            _this.add(scheduler.schedule(dispatchNext, 0, {
              value: value,
              subject: subject
            }));
          }
        };
        try {
          callbackFunc.apply(context, args.concat([ handler ]));
        } catch (err) {
          this.add(scheduler.schedule(dispatchError, 0, {
            err: err,
            subject: subject
          }));
        }
      }
      this.add(subject.subscribe(subscriber));
    }
    function dispatchNext(arg) {
      var value = arg.value, subject = arg.subject;
      subject.next(value);
      subject.complete();
    }
    function dispatchError(arg) {
      var err = arg.err, subject = arg.subject;
      subject.error(err);
    }
  }, {
    "../AsyncSubject": 48,
    "../Observable": 52,
    "../operators/map": 132,
    "../util/canReportError": 219,
    "../util/isArray": 222,
    "../util/isScheduler": 232
  } ],
  66: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var isScheduler_1 = require("../util/isScheduler");
    var isArray_1 = require("../util/isArray");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    var fromArray_1 = require("./fromArray");
    var NONE = {};
    function combineLatest() {
      var observables = [];
      for (var _i = 0; _i < arguments.length; _i++) observables[_i] = arguments[_i];
      var resultSelector = null;
      var scheduler = null;
      isScheduler_1.isScheduler(observables[observables.length - 1]) && (scheduler = observables.pop());
      "function" === typeof observables[observables.length - 1] && (resultSelector = observables.pop());
      1 === observables.length && isArray_1.isArray(observables[0]) && (observables = observables[0]);
      return fromArray_1.fromArray(observables, scheduler).lift(new CombineLatestOperator(resultSelector));
    }
    exports.combineLatest = combineLatest;
    var CombineLatestOperator = function() {
      function CombineLatestOperator(resultSelector) {
        this.resultSelector = resultSelector;
      }
      CombineLatestOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new CombineLatestSubscriber(subscriber, this.resultSelector));
      };
      return CombineLatestOperator;
    }();
    exports.CombineLatestOperator = CombineLatestOperator;
    var CombineLatestSubscriber = function(_super) {
      __extends(CombineLatestSubscriber, _super);
      function CombineLatestSubscriber(destination, resultSelector) {
        var _this = _super.call(this, destination) || this;
        _this.resultSelector = resultSelector;
        _this.active = 0;
        _this.values = [];
        _this.observables = [];
        return _this;
      }
      CombineLatestSubscriber.prototype._next = function(observable) {
        this.values.push(NONE);
        this.observables.push(observable);
      };
      CombineLatestSubscriber.prototype._complete = function() {
        var observables = this.observables;
        var len = observables.length;
        if (0 === len) this.destination.complete(); else {
          this.active = len;
          this.toRespond = len;
          for (var i = 0; i < len; i++) {
            var observable = observables[i];
            this.add(subscribeToResult_1.subscribeToResult(this, observable, observable, i));
          }
        }
      };
      CombineLatestSubscriber.prototype.notifyComplete = function(unused) {
        0 === (this.active -= 1) && this.destination.complete();
      };
      CombineLatestSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        var values = this.values;
        var oldVal = values[outerIndex];
        var toRespond = this.toRespond ? oldVal === NONE ? --this.toRespond : this.toRespond : 0;
        values[outerIndex] = innerValue;
        0 === toRespond && (this.resultSelector ? this._tryResultSelector(values) : this.destination.next(values.slice()));
      };
      CombineLatestSubscriber.prototype._tryResultSelector = function(values) {
        var result;
        try {
          result = this.resultSelector.apply(this, values);
        } catch (err) {
          this.destination.error(err);
          return;
        }
        this.destination.next(result);
      };
      return CombineLatestSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
    exports.CombineLatestSubscriber = CombineLatestSubscriber;
  }, {
    "../OuterSubscriber": 54,
    "../util/isArray": 222,
    "../util/isScheduler": 232,
    "../util/subscribeToResult": 241,
    "./fromArray": 72
  } ],
  67: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var of_1 = require("./of");
    var concatAll_1 = require("../operators/concatAll");
    function concat() {
      var observables = [];
      for (var _i = 0; _i < arguments.length; _i++) observables[_i] = arguments[_i];
      return concatAll_1.concatAll()(of_1.of.apply(void 0, observables));
    }
    exports.concat = concat;
  }, {
    "../operators/concatAll": 104,
    "./of": 83
  } ],
  68: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var from_1 = require("./from");
    var empty_1 = require("./empty");
    function defer(observableFactory) {
      return new Observable_1.Observable(function(subscriber) {
        var input;
        try {
          input = observableFactory();
        } catch (err) {
          subscriber.error(err);
          return;
        }
        var source = input ? from_1.from(input) : empty_1.empty();
        return source.subscribe(subscriber);
      });
    }
    exports.defer = defer;
  }, {
    "../Observable": 52,
    "./empty": 69,
    "./from": 71
  } ],
  69: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    exports.EMPTY = new Observable_1.Observable(function(subscriber) {
      return subscriber.complete();
    });
    function empty(scheduler) {
      return scheduler ? emptyScheduled(scheduler) : exports.EMPTY;
    }
    exports.empty = empty;
    function emptyScheduled(scheduler) {
      return new Observable_1.Observable(function(subscriber) {
        return scheduler.schedule(function() {
          return subscriber.complete();
        });
      });
    }
    exports.emptyScheduled = emptyScheduled;
  }, {
    "../Observable": 52
  } ],
  70: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var isArray_1 = require("../util/isArray");
    var empty_1 = require("./empty");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var map_1 = require("../operators/map");
    function forkJoin() {
      var sources = [];
      for (var _i = 0; _i < arguments.length; _i++) sources[_i] = arguments[_i];
      var resultSelector;
      "function" === typeof sources[sources.length - 1] && (resultSelector = sources.pop());
      1 === sources.length && isArray_1.isArray(sources[0]) && (sources = sources[0]);
      if (0 === sources.length) return empty_1.EMPTY;
      if (resultSelector) return forkJoin(sources).pipe(map_1.map(function(args) {
        return resultSelector.apply(void 0, args);
      }));
      return new Observable_1.Observable(function(subscriber) {
        return new ForkJoinSubscriber(subscriber, sources);
      });
    }
    exports.forkJoin = forkJoin;
    var ForkJoinSubscriber = function(_super) {
      __extends(ForkJoinSubscriber, _super);
      function ForkJoinSubscriber(destination, sources) {
        var _this = _super.call(this, destination) || this;
        _this.sources = sources;
        _this.completed = 0;
        _this.haveValues = 0;
        var len = sources.length;
        _this.values = new Array(len);
        for (var i = 0; i < len; i++) {
          var source = sources[i];
          var innerSubscription = subscribeToResult_1.subscribeToResult(_this, source, null, i);
          innerSubscription && _this.add(innerSubscription);
        }
        return _this;
      }
      ForkJoinSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.values[outerIndex] = innerValue;
        if (!innerSub._hasValue) {
          innerSub._hasValue = true;
          this.haveValues++;
        }
      };
      ForkJoinSubscriber.prototype.notifyComplete = function(innerSub) {
        var _a = this, destination = _a.destination, haveValues = _a.haveValues, values = _a.values;
        var len = values.length;
        if (!innerSub._hasValue) {
          destination.complete();
          return;
        }
        this.completed++;
        if (this.completed !== len) return;
        haveValues === len && destination.next(values);
        destination.complete();
      };
      return ForkJoinSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../Observable": 52,
    "../OuterSubscriber": 54,
    "../operators/map": 132,
    "../util/isArray": 222,
    "../util/subscribeToResult": 241,
    "./empty": 69
  } ],
  71: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var isPromise_1 = require("../util/isPromise");
    var isArrayLike_1 = require("../util/isArrayLike");
    var isInteropObservable_1 = require("../util/isInteropObservable");
    var isIterable_1 = require("../util/isIterable");
    var fromArray_1 = require("./fromArray");
    var fromPromise_1 = require("./fromPromise");
    var fromIterable_1 = require("./fromIterable");
    var fromObservable_1 = require("./fromObservable");
    var subscribeTo_1 = require("../util/subscribeTo");
    function from(input, scheduler) {
      if (!scheduler) {
        if (input instanceof Observable_1.Observable) return input;
        return new Observable_1.Observable(subscribeTo_1.subscribeTo(input));
      }
      if (null != input) {
        if (isInteropObservable_1.isInteropObservable(input)) return fromObservable_1.fromObservable(input, scheduler);
        if (isPromise_1.isPromise(input)) return fromPromise_1.fromPromise(input, scheduler);
        if (isArrayLike_1.isArrayLike(input)) return fromArray_1.fromArray(input, scheduler);
        if (isIterable_1.isIterable(input) || "string" === typeof input) return fromIterable_1.fromIterable(input, scheduler);
      }
      throw new TypeError((null !== input && typeof input || input) + " is not observable");
    }
    exports.from = from;
  }, {
    "../Observable": 52,
    "../util/isArrayLike": 223,
    "../util/isInteropObservable": 226,
    "../util/isIterable": 227,
    "../util/isPromise": 231,
    "../util/subscribeTo": 236,
    "./fromArray": 72,
    "./fromIterable": 75,
    "./fromObservable": 76,
    "./fromPromise": 77
  } ],
  72: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var Subscription_1 = require("../Subscription");
    var subscribeToArray_1 = require("../util/subscribeToArray");
    function fromArray(input, scheduler) {
      return scheduler ? new Observable_1.Observable(function(subscriber) {
        var sub = new Subscription_1.Subscription();
        var i = 0;
        sub.add(scheduler.schedule(function() {
          if (i === input.length) {
            subscriber.complete();
            return;
          }
          subscriber.next(input[i++]);
          subscriber.closed || sub.add(this.schedule());
        }));
        return sub;
      }) : new Observable_1.Observable(subscribeToArray_1.subscribeToArray(input));
    }
    exports.fromArray = fromArray;
  }, {
    "../Observable": 52,
    "../Subscription": 60,
    "../util/subscribeToArray": 237
  } ],
  73: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var isArray_1 = require("../util/isArray");
    var isFunction_1 = require("../util/isFunction");
    var map_1 = require("../operators/map");
    var toString = Object.prototype.toString;
    function fromEvent(target, eventName, options, resultSelector) {
      if (isFunction_1.isFunction(options)) {
        resultSelector = options;
        options = void 0;
      }
      if (resultSelector) return fromEvent(target, eventName, options).pipe(map_1.map(function(args) {
        return isArray_1.isArray(args) ? resultSelector.apply(void 0, args) : resultSelector(args);
      }));
      return new Observable_1.Observable(function(subscriber) {
        function handler(e) {
          arguments.length > 1 ? subscriber.next(Array.prototype.slice.call(arguments)) : subscriber.next(e);
        }
        setupSubscription(target, eventName, handler, subscriber, options);
      });
    }
    exports.fromEvent = fromEvent;
    function setupSubscription(sourceObj, eventName, handler, subscriber, options) {
      var unsubscribe;
      if (isEventTarget(sourceObj)) {
        var source_1 = sourceObj;
        sourceObj.addEventListener(eventName, handler, options);
        unsubscribe = function() {
          return source_1.removeEventListener(eventName, handler, options);
        };
      } else if (isJQueryStyleEventEmitter(sourceObj)) {
        var source_2 = sourceObj;
        sourceObj.on(eventName, handler);
        unsubscribe = function() {
          return source_2.off(eventName, handler);
        };
      } else if (isNodeStyleEventEmitter(sourceObj)) {
        var source_3 = sourceObj;
        sourceObj.addListener(eventName, handler);
        unsubscribe = function() {
          return source_3.removeListener(eventName, handler);
        };
      } else {
        if (!sourceObj || !sourceObj.length) throw new TypeError("Invalid event target");
        for (var i = 0, len = sourceObj.length; i < len; i++) setupSubscription(sourceObj[i], eventName, handler, subscriber, options);
      }
      subscriber.add(unsubscribe);
    }
    function isNodeStyleEventEmitter(sourceObj) {
      return sourceObj && "function" === typeof sourceObj.addListener && "function" === typeof sourceObj.removeListener;
    }
    function isJQueryStyleEventEmitter(sourceObj) {
      return sourceObj && "function" === typeof sourceObj.on && "function" === typeof sourceObj.off;
    }
    function isEventTarget(sourceObj) {
      return sourceObj && "function" === typeof sourceObj.addEventListener && "function" === typeof sourceObj.removeEventListener;
    }
  }, {
    "../Observable": 52,
    "../operators/map": 132,
    "../util/isArray": 222,
    "../util/isFunction": 225
  } ],
  74: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var isArray_1 = require("../util/isArray");
    var isFunction_1 = require("../util/isFunction");
    var map_1 = require("../operators/map");
    function fromEventPattern(addHandler, removeHandler, resultSelector) {
      if (resultSelector) return fromEventPattern(addHandler, removeHandler).pipe(map_1.map(function(args) {
        return isArray_1.isArray(args) ? resultSelector.apply(void 0, args) : resultSelector(args);
      }));
      return new Observable_1.Observable(function(subscriber) {
        var handler = function() {
          var e = [];
          for (var _i = 0; _i < arguments.length; _i++) e[_i] = arguments[_i];
          return subscriber.next(1 === e.length ? e[0] : e);
        };
        var retValue;
        try {
          retValue = addHandler(handler);
        } catch (err) {
          subscriber.error(err);
          return;
        }
        if (!isFunction_1.isFunction(removeHandler)) return;
        return function() {
          return removeHandler(handler, retValue);
        };
      });
    }
    exports.fromEventPattern = fromEventPattern;
  }, {
    "../Observable": 52,
    "../operators/map": 132,
    "../util/isArray": 222,
    "../util/isFunction": 225
  } ],
  75: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var Subscription_1 = require("../Subscription");
    var iterator_1 = require("../symbol/iterator");
    var subscribeToIterable_1 = require("../util/subscribeToIterable");
    function fromIterable(input, scheduler) {
      if (!input) throw new Error("Iterable cannot be null");
      return scheduler ? new Observable_1.Observable(function(subscriber) {
        var sub = new Subscription_1.Subscription();
        var iterator;
        sub.add(function() {
          iterator && "function" === typeof iterator.return && iterator.return();
        });
        sub.add(scheduler.schedule(function() {
          iterator = input[iterator_1.iterator]();
          sub.add(scheduler.schedule(function() {
            if (subscriber.closed) return;
            var value;
            var done;
            try {
              var result = iterator.next();
              value = result.value;
              done = result.done;
            } catch (err) {
              subscriber.error(err);
              return;
            }
            if (done) subscriber.complete(); else {
              subscriber.next(value);
              this.schedule();
            }
          }));
        }));
        return sub;
      }) : new Observable_1.Observable(subscribeToIterable_1.subscribeToIterable(input));
    }
    exports.fromIterable = fromIterable;
  }, {
    "../Observable": 52,
    "../Subscription": 60,
    "../symbol/iterator": 210,
    "../util/subscribeToIterable": 238
  } ],
  76: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var Subscription_1 = require("../Subscription");
    var observable_1 = require("../symbol/observable");
    var subscribeToObservable_1 = require("../util/subscribeToObservable");
    function fromObservable(input, scheduler) {
      return scheduler ? new Observable_1.Observable(function(subscriber) {
        var sub = new Subscription_1.Subscription();
        sub.add(scheduler.schedule(function() {
          var observable = input[observable_1.observable]();
          sub.add(observable.subscribe({
            next: function(value) {
              sub.add(scheduler.schedule(function() {
                return subscriber.next(value);
              }));
            },
            error: function(err) {
              sub.add(scheduler.schedule(function() {
                return subscriber.error(err);
              }));
            },
            complete: function() {
              sub.add(scheduler.schedule(function() {
                return subscriber.complete();
              }));
            }
          }));
        }));
        return sub;
      }) : new Observable_1.Observable(subscribeToObservable_1.subscribeToObservable(input));
    }
    exports.fromObservable = fromObservable;
  }, {
    "../Observable": 52,
    "../Subscription": 60,
    "../symbol/observable": 211,
    "../util/subscribeToObservable": 239
  } ],
  77: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var Subscription_1 = require("../Subscription");
    var subscribeToPromise_1 = require("../util/subscribeToPromise");
    function fromPromise(input, scheduler) {
      return scheduler ? new Observable_1.Observable(function(subscriber) {
        var sub = new Subscription_1.Subscription();
        sub.add(scheduler.schedule(function() {
          return input.then(function(value) {
            sub.add(scheduler.schedule(function() {
              subscriber.next(value);
              sub.add(scheduler.schedule(function() {
                return subscriber.complete();
              }));
            }));
          }, function(err) {
            sub.add(scheduler.schedule(function() {
              return subscriber.error(err);
            }));
          });
        }));
        return sub;
      }) : new Observable_1.Observable(subscribeToPromise_1.subscribeToPromise(input));
    }
    exports.fromPromise = fromPromise;
  }, {
    "../Observable": 52,
    "../Subscription": 60,
    "../util/subscribeToPromise": 240
  } ],
  78: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var identity_1 = require("../util/identity");
    var isScheduler_1 = require("../util/isScheduler");
    function generate(initialStateOrOptions, condition, iterate, resultSelectorOrObservable, scheduler) {
      var resultSelector;
      var initialState;
      if (1 == arguments.length) {
        var options = initialStateOrOptions;
        initialState = options.initialState;
        condition = options.condition;
        iterate = options.iterate;
        resultSelector = options.resultSelector || identity_1.identity;
        scheduler = options.scheduler;
      } else if (void 0 === resultSelectorOrObservable || isScheduler_1.isScheduler(resultSelectorOrObservable)) {
        initialState = initialStateOrOptions;
        resultSelector = identity_1.identity;
        scheduler = resultSelectorOrObservable;
      } else {
        initialState = initialStateOrOptions;
        resultSelector = resultSelectorOrObservable;
      }
      return new Observable_1.Observable(function(subscriber) {
        var state = initialState;
        if (scheduler) return scheduler.schedule(dispatch, 0, {
          subscriber: subscriber,
          iterate: iterate,
          condition: condition,
          resultSelector: resultSelector,
          state: state
        });
        do {
          if (condition) {
            var conditionResult = void 0;
            try {
              conditionResult = condition(state);
            } catch (err) {
              subscriber.error(err);
              return;
            }
            if (!conditionResult) {
              subscriber.complete();
              break;
            }
          }
          var value = void 0;
          try {
            value = resultSelector(state);
          } catch (err) {
            subscriber.error(err);
            return;
          }
          subscriber.next(value);
          if (subscriber.closed) break;
          try {
            state = iterate(state);
          } catch (err) {
            subscriber.error(err);
            return;
          }
        } while (true);
        return;
      });
    }
    exports.generate = generate;
    function dispatch(state) {
      var subscriber = state.subscriber, condition = state.condition;
      if (subscriber.closed) return;
      if (state.needIterate) try {
        state.state = state.iterate(state.state);
      } catch (err) {
        subscriber.error(err);
        return;
      } else state.needIterate = true;
      if (condition) {
        var conditionResult = void 0;
        try {
          conditionResult = condition(state.state);
        } catch (err) {
          subscriber.error(err);
          return;
        }
        if (!conditionResult) {
          subscriber.complete();
          return;
        }
        if (subscriber.closed) return;
      }
      var value;
      try {
        value = state.resultSelector(state.state);
      } catch (err) {
        subscriber.error(err);
        return;
      }
      if (subscriber.closed) return;
      subscriber.next(value);
      if (subscriber.closed) return;
      return this.schedule(state);
    }
  }, {
    "../Observable": 52,
    "../util/identity": 221,
    "../util/isScheduler": 232
  } ],
  79: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var defer_1 = require("./defer");
    var empty_1 = require("./empty");
    function iif(condition, trueResult, falseResult) {
      void 0 === trueResult && (trueResult = empty_1.EMPTY);
      void 0 === falseResult && (falseResult = empty_1.EMPTY);
      return defer_1.defer(function() {
        return condition() ? trueResult : falseResult;
      });
    }
    exports.iif = iif;
  }, {
    "./defer": 68,
    "./empty": 69
  } ],
  80: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var async_1 = require("../scheduler/async");
    var isNumeric_1 = require("../util/isNumeric");
    function interval(period, scheduler) {
      void 0 === period && (period = 0);
      void 0 === scheduler && (scheduler = async_1.async);
      (!isNumeric_1.isNumeric(period) || period < 0) && (period = 0);
      scheduler && "function" === typeof scheduler.schedule || (scheduler = async_1.async);
      return new Observable_1.Observable(function(subscriber) {
        subscriber.add(scheduler.schedule(dispatch, period, {
          subscriber: subscriber,
          counter: 0,
          period: period
        }));
        return subscriber;
      });
    }
    exports.interval = interval;
    function dispatch(state) {
      var subscriber = state.subscriber, counter = state.counter, period = state.period;
      subscriber.next(counter);
      this.schedule({
        subscriber: subscriber,
        counter: counter + 1,
        period: period
      }, period);
    }
  }, {
    "../Observable": 52,
    "../scheduler/async": 208,
    "../util/isNumeric": 228
  } ],
  81: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var isScheduler_1 = require("../util/isScheduler");
    var mergeAll_1 = require("../operators/mergeAll");
    var fromArray_1 = require("./fromArray");
    function merge() {
      var observables = [];
      for (var _i = 0; _i < arguments.length; _i++) observables[_i] = arguments[_i];
      var concurrent = Number.POSITIVE_INFINITY;
      var scheduler = null;
      var last = observables[observables.length - 1];
      if (isScheduler_1.isScheduler(last)) {
        scheduler = observables.pop();
        observables.length > 1 && "number" === typeof observables[observables.length - 1] && (concurrent = observables.pop());
      } else "number" === typeof last && (concurrent = observables.pop());
      if (null === scheduler && 1 === observables.length && observables[0] instanceof Observable_1.Observable) return observables[0];
      return mergeAll_1.mergeAll(concurrent)(fromArray_1.fromArray(observables, scheduler));
    }
    exports.merge = merge;
  }, {
    "../Observable": 52,
    "../operators/mergeAll": 137,
    "../util/isScheduler": 232,
    "./fromArray": 72
  } ],
  82: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var noop_1 = require("../util/noop");
    exports.NEVER = new Observable_1.Observable(noop_1.noop);
    function never() {
      return exports.NEVER;
    }
    exports.never = never;
  }, {
    "../Observable": 52,
    "../util/noop": 233
  } ],
  83: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var isScheduler_1 = require("../util/isScheduler");
    var fromArray_1 = require("./fromArray");
    var empty_1 = require("./empty");
    var scalar_1 = require("./scalar");
    function of() {
      var args = [];
      for (var _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
      var scheduler = args[args.length - 1];
      isScheduler_1.isScheduler(scheduler) ? args.pop() : scheduler = void 0;
      switch (args.length) {
       case 0:
        return empty_1.empty(scheduler);

       case 1:
        return scheduler ? fromArray_1.fromArray(args, scheduler) : scalar_1.scalar(args[0]);

       default:
        return fromArray_1.fromArray(args, scheduler);
      }
    }
    exports.of = of;
  }, {
    "../util/isScheduler": 232,
    "./empty": 69,
    "./fromArray": 72,
    "./scalar": 88
  } ],
  84: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var from_1 = require("./from");
    var isArray_1 = require("../util/isArray");
    var empty_1 = require("./empty");
    function onErrorResumeNext() {
      var sources = [];
      for (var _i = 0; _i < arguments.length; _i++) sources[_i] = arguments[_i];
      if (0 === sources.length) return empty_1.EMPTY;
      var first = sources[0], remainder = sources.slice(1);
      if (1 === sources.length && isArray_1.isArray(first)) return onErrorResumeNext.apply(void 0, first);
      return new Observable_1.Observable(function(subscriber) {
        var subNext = function() {
          return subscriber.add(onErrorResumeNext.apply(void 0, remainder).subscribe(subscriber));
        };
        return from_1.from(first).subscribe({
          next: function(value) {
            subscriber.next(value);
          },
          error: subNext,
          complete: subNext
        });
      });
    }
    exports.onErrorResumeNext = onErrorResumeNext;
  }, {
    "../Observable": 52,
    "../util/isArray": 222,
    "./empty": 69,
    "./from": 71
  } ],
  85: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var Subscription_1 = require("../Subscription");
    function pairs(obj, scheduler) {
      return scheduler ? new Observable_1.Observable(function(subscriber) {
        var keys = Object.keys(obj);
        var subscription = new Subscription_1.Subscription();
        subscription.add(scheduler.schedule(dispatch, 0, {
          keys: keys,
          index: 0,
          subscriber: subscriber,
          subscription: subscription,
          obj: obj
        }));
        return subscription;
      }) : new Observable_1.Observable(function(subscriber) {
        var keys = Object.keys(obj);
        for (var i = 0; i < keys.length && !subscriber.closed; i++) {
          var key = keys[i];
          obj.hasOwnProperty(key) && subscriber.next([ key, obj[key] ]);
        }
        subscriber.complete();
      });
    }
    exports.pairs = pairs;
    function dispatch(state) {
      var keys = state.keys, index = state.index, subscriber = state.subscriber, subscription = state.subscription, obj = state.obj;
      if (!subscriber.closed) if (index < keys.length) {
        var key = keys[index];
        subscriber.next([ key, obj[key] ]);
        subscription.add(this.schedule({
          keys: keys,
          index: index + 1,
          subscriber: subscriber,
          subscription: subscription,
          obj: obj
        }));
      } else subscriber.complete();
    }
    exports.dispatch = dispatch;
  }, {
    "../Observable": 52,
    "../Subscription": 60
  } ],
  86: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var isArray_1 = require("../util/isArray");
    var fromArray_1 = require("./fromArray");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function race() {
      var observables = [];
      for (var _i = 0; _i < arguments.length; _i++) observables[_i] = arguments[_i];
      if (1 === observables.length) {
        if (!isArray_1.isArray(observables[0])) return observables[0];
        observables = observables[0];
      }
      return fromArray_1.fromArray(observables, void 0).lift(new RaceOperator());
    }
    exports.race = race;
    var RaceOperator = function() {
      function RaceOperator() {}
      RaceOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new RaceSubscriber(subscriber));
      };
      return RaceOperator;
    }();
    exports.RaceOperator = RaceOperator;
    var RaceSubscriber = function(_super) {
      __extends(RaceSubscriber, _super);
      function RaceSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.hasFirst = false;
        _this.observables = [];
        _this.subscriptions = [];
        return _this;
      }
      RaceSubscriber.prototype._next = function(observable) {
        this.observables.push(observable);
      };
      RaceSubscriber.prototype._complete = function() {
        var observables = this.observables;
        var len = observables.length;
        if (0 === len) this.destination.complete(); else {
          for (var i = 0; i < len && !this.hasFirst; i++) {
            var observable = observables[i];
            var subscription = subscribeToResult_1.subscribeToResult(this, observable, observable, i);
            this.subscriptions && this.subscriptions.push(subscription);
            this.add(subscription);
          }
          this.observables = null;
        }
      };
      RaceSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        if (!this.hasFirst) {
          this.hasFirst = true;
          for (var i = 0; i < this.subscriptions.length; i++) if (i !== outerIndex) {
            var subscription = this.subscriptions[i];
            subscription.unsubscribe();
            this.remove(subscription);
          }
          this.subscriptions = null;
        }
        this.destination.next(innerValue);
      };
      return RaceSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
    exports.RaceSubscriber = RaceSubscriber;
  }, {
    "../OuterSubscriber": 54,
    "../util/isArray": 222,
    "../util/subscribeToResult": 241,
    "./fromArray": 72
  } ],
  87: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    function range(start, count, scheduler) {
      void 0 === start && (start = 0);
      return new Observable_1.Observable(function(subscriber) {
        if (void 0 === count) {
          count = start;
          start = 0;
        }
        var index = 0;
        var current = start;
        if (scheduler) return scheduler.schedule(dispatch, 0, {
          index: index,
          count: count,
          start: start,
          subscriber: subscriber
        });
        do {
          if (index++ >= count) {
            subscriber.complete();
            break;
          }
          subscriber.next(current++);
          if (subscriber.closed) break;
        } while (true);
        return;
      });
    }
    exports.range = range;
    function dispatch(state) {
      var start = state.start, index = state.index, count = state.count, subscriber = state.subscriber;
      if (index >= count) {
        subscriber.complete();
        return;
      }
      subscriber.next(start);
      if (subscriber.closed) return;
      state.index = index + 1;
      state.start = start + 1;
      this.schedule(state);
    }
    exports.dispatch = dispatch;
  }, {
    "../Observable": 52
  } ],
  88: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    function scalar(value) {
      var result = new Observable_1.Observable(function(subscriber) {
        subscriber.next(value);
        subscriber.complete();
      });
      result._isScalar = true;
      result.value = value;
      return result;
    }
    exports.scalar = scalar;
  }, {
    "../Observable": 52
  } ],
  89: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    function throwError(error, scheduler) {
      return scheduler ? new Observable_1.Observable(function(subscriber) {
        return scheduler.schedule(dispatch, 0, {
          error: error,
          subscriber: subscriber
        });
      }) : new Observable_1.Observable(function(subscriber) {
        return subscriber.error(error);
      });
    }
    exports.throwError = throwError;
    function dispatch(_a) {
      var error = _a.error, subscriber = _a.subscriber;
      subscriber.error(error);
    }
  }, {
    "../Observable": 52
  } ],
  90: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var async_1 = require("../scheduler/async");
    var isNumeric_1 = require("../util/isNumeric");
    var isScheduler_1 = require("../util/isScheduler");
    function timer(dueTime, periodOrScheduler, scheduler) {
      void 0 === dueTime && (dueTime = 0);
      var period = -1;
      isNumeric_1.isNumeric(periodOrScheduler) ? period = Number(periodOrScheduler) < 1 ? 1 : Number(periodOrScheduler) : isScheduler_1.isScheduler(periodOrScheduler) && (scheduler = periodOrScheduler);
      isScheduler_1.isScheduler(scheduler) || (scheduler = async_1.async);
      return new Observable_1.Observable(function(subscriber) {
        var due = isNumeric_1.isNumeric(dueTime) ? dueTime : +dueTime - scheduler.now();
        return scheduler.schedule(dispatch, due, {
          index: 0,
          period: period,
          subscriber: subscriber
        });
      });
    }
    exports.timer = timer;
    function dispatch(state) {
      var index = state.index, period = state.period, subscriber = state.subscriber;
      subscriber.next(index);
      if (subscriber.closed) return;
      if (-1 === period) return subscriber.complete();
      state.index = index + 1;
      this.schedule(state, period);
    }
  }, {
    "../Observable": 52,
    "../scheduler/async": 208,
    "../util/isNumeric": 228,
    "../util/isScheduler": 232
  } ],
  91: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var from_1 = require("./from");
    var empty_1 = require("./empty");
    function using(resourceFactory, observableFactory) {
      return new Observable_1.Observable(function(subscriber) {
        var resource;
        try {
          resource = resourceFactory();
        } catch (err) {
          subscriber.error(err);
          return;
        }
        var result;
        try {
          result = observableFactory(resource);
        } catch (err) {
          subscriber.error(err);
          return;
        }
        var source = result ? from_1.from(result) : empty_1.EMPTY;
        var subscription = source.subscribe(subscriber);
        return function() {
          subscription.unsubscribe();
          resource && resource.unsubscribe();
        };
      });
    }
    exports.using = using;
  }, {
    "../Observable": 52,
    "./empty": 69,
    "./from": 71
  } ],
  92: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var fromArray_1 = require("./fromArray");
    var isArray_1 = require("../util/isArray");
    var Subscriber_1 = require("../Subscriber");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    var iterator_1 = require("../../internal/symbol/iterator");
    function zip() {
      var observables = [];
      for (var _i = 0; _i < arguments.length; _i++) observables[_i] = arguments[_i];
      var resultSelector = observables[observables.length - 1];
      "function" === typeof resultSelector && observables.pop();
      return fromArray_1.fromArray(observables, void 0).lift(new ZipOperator(resultSelector));
    }
    exports.zip = zip;
    var ZipOperator = function() {
      function ZipOperator(resultSelector) {
        this.resultSelector = resultSelector;
      }
      ZipOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new ZipSubscriber(subscriber, this.resultSelector));
      };
      return ZipOperator;
    }();
    exports.ZipOperator = ZipOperator;
    var ZipSubscriber = function(_super) {
      __extends(ZipSubscriber, _super);
      function ZipSubscriber(destination, resultSelector, values) {
        void 0 === values && (values = Object.create(null));
        var _this = _super.call(this, destination) || this;
        _this.iterators = [];
        _this.active = 0;
        _this.resultSelector = "function" === typeof resultSelector ? resultSelector : null;
        _this.values = values;
        return _this;
      }
      ZipSubscriber.prototype._next = function(value) {
        var iterators = this.iterators;
        isArray_1.isArray(value) ? iterators.push(new StaticArrayIterator(value)) : "function" === typeof value[iterator_1.iterator] ? iterators.push(new StaticIterator(value[iterator_1.iterator]())) : iterators.push(new ZipBufferIterator(this.destination, this, value));
      };
      ZipSubscriber.prototype._complete = function() {
        var iterators = this.iterators;
        var len = iterators.length;
        this.unsubscribe();
        if (0 === len) {
          this.destination.complete();
          return;
        }
        this.active = len;
        for (var i = 0; i < len; i++) {
          var iterator = iterators[i];
          if (iterator.stillUnsubscribed) {
            var destination = this.destination;
            destination.add(iterator.subscribe(iterator, i));
          } else this.active--;
        }
      };
      ZipSubscriber.prototype.notifyInactive = function() {
        this.active--;
        0 === this.active && this.destination.complete();
      };
      ZipSubscriber.prototype.checkIterators = function() {
        var iterators = this.iterators;
        var len = iterators.length;
        var destination = this.destination;
        for (var i = 0; i < len; i++) {
          var iterator = iterators[i];
          if ("function" === typeof iterator.hasValue && !iterator.hasValue()) return;
        }
        var shouldComplete = false;
        var args = [];
        for (var i = 0; i < len; i++) {
          var iterator = iterators[i];
          var result = iterator.next();
          iterator.hasCompleted() && (shouldComplete = true);
          if (result.done) {
            destination.complete();
            return;
          }
          args.push(result.value);
        }
        this.resultSelector ? this._tryresultSelector(args) : destination.next(args);
        shouldComplete && destination.complete();
      };
      ZipSubscriber.prototype._tryresultSelector = function(args) {
        var result;
        try {
          result = this.resultSelector.apply(this, args);
        } catch (err) {
          this.destination.error(err);
          return;
        }
        this.destination.next(result);
      };
      return ZipSubscriber;
    }(Subscriber_1.Subscriber);
    exports.ZipSubscriber = ZipSubscriber;
    var StaticIterator = function() {
      function StaticIterator(iterator) {
        this.iterator = iterator;
        this.nextResult = iterator.next();
      }
      StaticIterator.prototype.hasValue = function() {
        return true;
      };
      StaticIterator.prototype.next = function() {
        var result = this.nextResult;
        this.nextResult = this.iterator.next();
        return result;
      };
      StaticIterator.prototype.hasCompleted = function() {
        var nextResult = this.nextResult;
        return nextResult && nextResult.done;
      };
      return StaticIterator;
    }();
    var StaticArrayIterator = function() {
      function StaticArrayIterator(array) {
        this.array = array;
        this.index = 0;
        this.length = 0;
        this.length = array.length;
      }
      StaticArrayIterator.prototype[iterator_1.iterator] = function() {
        return this;
      };
      StaticArrayIterator.prototype.next = function(value) {
        var i = this.index++;
        var array = this.array;
        return i < this.length ? {
          value: array[i],
          done: false
        } : {
          value: null,
          done: true
        };
      };
      StaticArrayIterator.prototype.hasValue = function() {
        return this.array.length > this.index;
      };
      StaticArrayIterator.prototype.hasCompleted = function() {
        return this.array.length === this.index;
      };
      return StaticArrayIterator;
    }();
    var ZipBufferIterator = function(_super) {
      __extends(ZipBufferIterator, _super);
      function ZipBufferIterator(destination, parent, observable) {
        var _this = _super.call(this, destination) || this;
        _this.parent = parent;
        _this.observable = observable;
        _this.stillUnsubscribed = true;
        _this.buffer = [];
        _this.isComplete = false;
        return _this;
      }
      ZipBufferIterator.prototype[iterator_1.iterator] = function() {
        return this;
      };
      ZipBufferIterator.prototype.next = function() {
        var buffer = this.buffer;
        return 0 === buffer.length && this.isComplete ? {
          value: null,
          done: true
        } : {
          value: buffer.shift(),
          done: false
        };
      };
      ZipBufferIterator.prototype.hasValue = function() {
        return this.buffer.length > 0;
      };
      ZipBufferIterator.prototype.hasCompleted = function() {
        return 0 === this.buffer.length && this.isComplete;
      };
      ZipBufferIterator.prototype.notifyComplete = function() {
        if (this.buffer.length > 0) {
          this.isComplete = true;
          this.parent.notifyInactive();
        } else this.destination.complete();
      };
      ZipBufferIterator.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.buffer.push(innerValue);
        this.parent.checkIterators();
      };
      ZipBufferIterator.prototype.subscribe = function(value, index) {
        return subscribeToResult_1.subscribeToResult(this, this.observable, this, index);
      };
      return ZipBufferIterator;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../../internal/symbol/iterator": 210,
    "../OuterSubscriber": 54,
    "../Subscriber": 59,
    "../util/isArray": 222,
    "../util/subscribeToResult": 241,
    "./fromArray": 72
  } ],
  93: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function audit(durationSelector) {
      return function auditOperatorFunction(source) {
        return source.lift(new AuditOperator(durationSelector));
      };
    }
    exports.audit = audit;
    var AuditOperator = function() {
      function AuditOperator(durationSelector) {
        this.durationSelector = durationSelector;
      }
      AuditOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new AuditSubscriber(subscriber, this.durationSelector));
      };
      return AuditOperator;
    }();
    var AuditSubscriber = function(_super) {
      __extends(AuditSubscriber, _super);
      function AuditSubscriber(destination, durationSelector) {
        var _this = _super.call(this, destination) || this;
        _this.durationSelector = durationSelector;
        _this.hasValue = false;
        return _this;
      }
      AuditSubscriber.prototype._next = function(value) {
        this.value = value;
        this.hasValue = true;
        if (!this.throttled) {
          var duration = void 0;
          try {
            var durationSelector = this.durationSelector;
            duration = durationSelector(value);
          } catch (err) {
            return this.destination.error(err);
          }
          var innerSubscription = subscribeToResult_1.subscribeToResult(this, duration);
          !innerSubscription || innerSubscription.closed ? this.clearThrottle() : this.add(this.throttled = innerSubscription);
        }
      };
      AuditSubscriber.prototype.clearThrottle = function() {
        var _a = this, value = _a.value, hasValue = _a.hasValue, throttled = _a.throttled;
        if (throttled) {
          this.remove(throttled);
          this.throttled = null;
          throttled.unsubscribe();
        }
        if (hasValue) {
          this.value = null;
          this.hasValue = false;
          this.destination.next(value);
        }
      };
      AuditSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex) {
        this.clearThrottle();
      };
      AuditSubscriber.prototype.notifyComplete = function() {
        this.clearThrottle();
      };
      return AuditSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 54,
    "../util/subscribeToResult": 241
  } ],
  94: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var async_1 = require("../scheduler/async");
    var audit_1 = require("./audit");
    var timer_1 = require("../observable/timer");
    function auditTime(duration, scheduler) {
      void 0 === scheduler && (scheduler = async_1.async);
      return audit_1.audit(function() {
        return timer_1.timer(duration, scheduler);
      });
    }
    exports.auditTime = auditTime;
  }, {
    "../observable/timer": 90,
    "../scheduler/async": 208,
    "./audit": 93
  } ],
  95: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function buffer(closingNotifier) {
      return function bufferOperatorFunction(source) {
        return source.lift(new BufferOperator(closingNotifier));
      };
    }
    exports.buffer = buffer;
    var BufferOperator = function() {
      function BufferOperator(closingNotifier) {
        this.closingNotifier = closingNotifier;
      }
      BufferOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new BufferSubscriber(subscriber, this.closingNotifier));
      };
      return BufferOperator;
    }();
    var BufferSubscriber = function(_super) {
      __extends(BufferSubscriber, _super);
      function BufferSubscriber(destination, closingNotifier) {
        var _this = _super.call(this, destination) || this;
        _this.buffer = [];
        _this.add(subscribeToResult_1.subscribeToResult(_this, closingNotifier));
        return _this;
      }
      BufferSubscriber.prototype._next = function(value) {
        this.buffer.push(value);
      };
      BufferSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        var buffer = this.buffer;
        this.buffer = [];
        this.destination.next(buffer);
      };
      return BufferSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 54,
    "../util/subscribeToResult": 241
  } ],
  96: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function bufferCount(bufferSize, startBufferEvery) {
      void 0 === startBufferEvery && (startBufferEvery = null);
      return function bufferCountOperatorFunction(source) {
        return source.lift(new BufferCountOperator(bufferSize, startBufferEvery));
      };
    }
    exports.bufferCount = bufferCount;
    var BufferCountOperator = function() {
      function BufferCountOperator(bufferSize, startBufferEvery) {
        this.bufferSize = bufferSize;
        this.startBufferEvery = startBufferEvery;
        this.subscriberClass = startBufferEvery && bufferSize !== startBufferEvery ? BufferSkipCountSubscriber : BufferCountSubscriber;
      }
      BufferCountOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new this.subscriberClass(subscriber, this.bufferSize, this.startBufferEvery));
      };
      return BufferCountOperator;
    }();
    var BufferCountSubscriber = function(_super) {
      __extends(BufferCountSubscriber, _super);
      function BufferCountSubscriber(destination, bufferSize) {
        var _this = _super.call(this, destination) || this;
        _this.bufferSize = bufferSize;
        _this.buffer = [];
        return _this;
      }
      BufferCountSubscriber.prototype._next = function(value) {
        var buffer = this.buffer;
        buffer.push(value);
        if (buffer.length == this.bufferSize) {
          this.destination.next(buffer);
          this.buffer = [];
        }
      };
      BufferCountSubscriber.prototype._complete = function() {
        var buffer = this.buffer;
        buffer.length > 0 && this.destination.next(buffer);
        _super.prototype._complete.call(this);
      };
      return BufferCountSubscriber;
    }(Subscriber_1.Subscriber);
    var BufferSkipCountSubscriber = function(_super) {
      __extends(BufferSkipCountSubscriber, _super);
      function BufferSkipCountSubscriber(destination, bufferSize, startBufferEvery) {
        var _this = _super.call(this, destination) || this;
        _this.bufferSize = bufferSize;
        _this.startBufferEvery = startBufferEvery;
        _this.buffers = [];
        _this.count = 0;
        return _this;
      }
      BufferSkipCountSubscriber.prototype._next = function(value) {
        var _a = this, bufferSize = _a.bufferSize, startBufferEvery = _a.startBufferEvery, buffers = _a.buffers, count = _a.count;
        this.count++;
        count % startBufferEvery === 0 && buffers.push([]);
        for (var i = buffers.length; i--; ) {
          var buffer = buffers[i];
          buffer.push(value);
          if (buffer.length === bufferSize) {
            buffers.splice(i, 1);
            this.destination.next(buffer);
          }
        }
      };
      BufferSkipCountSubscriber.prototype._complete = function() {
        var _a = this, buffers = _a.buffers, destination = _a.destination;
        while (buffers.length > 0) {
          var buffer = buffers.shift();
          buffer.length > 0 && destination.next(buffer);
        }
        _super.prototype._complete.call(this);
      };
      return BufferSkipCountSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59
  } ],
  97: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var async_1 = require("../scheduler/async");
    var Subscriber_1 = require("../Subscriber");
    var isScheduler_1 = require("../util/isScheduler");
    function bufferTime(bufferTimeSpan) {
      var length = arguments.length;
      var scheduler = async_1.async;
      if (isScheduler_1.isScheduler(arguments[arguments.length - 1])) {
        scheduler = arguments[arguments.length - 1];
        length--;
      }
      var bufferCreationInterval = null;
      length >= 2 && (bufferCreationInterval = arguments[1]);
      var maxBufferSize = Number.POSITIVE_INFINITY;
      length >= 3 && (maxBufferSize = arguments[2]);
      return function bufferTimeOperatorFunction(source) {
        return source.lift(new BufferTimeOperator(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler));
      };
    }
    exports.bufferTime = bufferTime;
    var BufferTimeOperator = function() {
      function BufferTimeOperator(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler) {
        this.bufferTimeSpan = bufferTimeSpan;
        this.bufferCreationInterval = bufferCreationInterval;
        this.maxBufferSize = maxBufferSize;
        this.scheduler = scheduler;
      }
      BufferTimeOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new BufferTimeSubscriber(subscriber, this.bufferTimeSpan, this.bufferCreationInterval, this.maxBufferSize, this.scheduler));
      };
      return BufferTimeOperator;
    }();
    var Context = function() {
      function Context() {
        this.buffer = [];
      }
      return Context;
    }();
    var BufferTimeSubscriber = function(_super) {
      __extends(BufferTimeSubscriber, _super);
      function BufferTimeSubscriber(destination, bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.bufferTimeSpan = bufferTimeSpan;
        _this.bufferCreationInterval = bufferCreationInterval;
        _this.maxBufferSize = maxBufferSize;
        _this.scheduler = scheduler;
        _this.contexts = [];
        var context = _this.openContext();
        _this.timespanOnly = null == bufferCreationInterval || bufferCreationInterval < 0;
        if (_this.timespanOnly) {
          var timeSpanOnlyState = {
            subscriber: _this,
            context: context,
            bufferTimeSpan: bufferTimeSpan
          };
          _this.add(context.closeAction = scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));
        } else {
          var closeState = {
            subscriber: _this,
            context: context
          };
          var creationState = {
            bufferTimeSpan: bufferTimeSpan,
            bufferCreationInterval: bufferCreationInterval,
            subscriber: _this,
            scheduler: scheduler
          };
          _this.add(context.closeAction = scheduler.schedule(dispatchBufferClose, bufferTimeSpan, closeState));
          _this.add(scheduler.schedule(dispatchBufferCreation, bufferCreationInterval, creationState));
        }
        return _this;
      }
      BufferTimeSubscriber.prototype._next = function(value) {
        var contexts = this.contexts;
        var len = contexts.length;
        var filledBufferContext;
        for (var i = 0; i < len; i++) {
          var context_1 = contexts[i];
          var buffer = context_1.buffer;
          buffer.push(value);
          buffer.length == this.maxBufferSize && (filledBufferContext = context_1);
        }
        filledBufferContext && this.onBufferFull(filledBufferContext);
      };
      BufferTimeSubscriber.prototype._error = function(err) {
        this.contexts.length = 0;
        _super.prototype._error.call(this, err);
      };
      BufferTimeSubscriber.prototype._complete = function() {
        var _a = this, contexts = _a.contexts, destination = _a.destination;
        while (contexts.length > 0) {
          var context_2 = contexts.shift();
          destination.next(context_2.buffer);
        }
        _super.prototype._complete.call(this);
      };
      BufferTimeSubscriber.prototype._unsubscribe = function() {
        this.contexts = null;
      };
      BufferTimeSubscriber.prototype.onBufferFull = function(context) {
        this.closeContext(context);
        var closeAction = context.closeAction;
        closeAction.unsubscribe();
        this.remove(closeAction);
        if (!this.closed && this.timespanOnly) {
          context = this.openContext();
          var bufferTimeSpan = this.bufferTimeSpan;
          var timeSpanOnlyState = {
            subscriber: this,
            context: context,
            bufferTimeSpan: bufferTimeSpan
          };
          this.add(context.closeAction = this.scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));
        }
      };
      BufferTimeSubscriber.prototype.openContext = function() {
        var context = new Context();
        this.contexts.push(context);
        return context;
      };
      BufferTimeSubscriber.prototype.closeContext = function(context) {
        this.destination.next(context.buffer);
        var contexts = this.contexts;
        var spliceIndex = contexts ? contexts.indexOf(context) : -1;
        spliceIndex >= 0 && contexts.splice(contexts.indexOf(context), 1);
      };
      return BufferTimeSubscriber;
    }(Subscriber_1.Subscriber);
    function dispatchBufferTimeSpanOnly(state) {
      var subscriber = state.subscriber;
      var prevContext = state.context;
      prevContext && subscriber.closeContext(prevContext);
      if (!subscriber.closed) {
        state.context = subscriber.openContext();
        state.context.closeAction = this.schedule(state, state.bufferTimeSpan);
      }
    }
    function dispatchBufferCreation(state) {
      var bufferCreationInterval = state.bufferCreationInterval, bufferTimeSpan = state.bufferTimeSpan, subscriber = state.subscriber, scheduler = state.scheduler;
      var context = subscriber.openContext();
      var action = this;
      if (!subscriber.closed) {
        subscriber.add(context.closeAction = scheduler.schedule(dispatchBufferClose, bufferTimeSpan, {
          subscriber: subscriber,
          context: context
        }));
        action.schedule(state, bufferCreationInterval);
      }
    }
    function dispatchBufferClose(arg) {
      var subscriber = arg.subscriber, context = arg.context;
      subscriber.closeContext(context);
    }
  }, {
    "../Subscriber": 59,
    "../scheduler/async": 208,
    "../util/isScheduler": 232
  } ],
  98: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscription_1 = require("../Subscription");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    function bufferToggle(openings, closingSelector) {
      return function bufferToggleOperatorFunction(source) {
        return source.lift(new BufferToggleOperator(openings, closingSelector));
      };
    }
    exports.bufferToggle = bufferToggle;
    var BufferToggleOperator = function() {
      function BufferToggleOperator(openings, closingSelector) {
        this.openings = openings;
        this.closingSelector = closingSelector;
      }
      BufferToggleOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new BufferToggleSubscriber(subscriber, this.openings, this.closingSelector));
      };
      return BufferToggleOperator;
    }();
    var BufferToggleSubscriber = function(_super) {
      __extends(BufferToggleSubscriber, _super);
      function BufferToggleSubscriber(destination, openings, closingSelector) {
        var _this = _super.call(this, destination) || this;
        _this.openings = openings;
        _this.closingSelector = closingSelector;
        _this.contexts = [];
        _this.add(subscribeToResult_1.subscribeToResult(_this, openings));
        return _this;
      }
      BufferToggleSubscriber.prototype._next = function(value) {
        var contexts = this.contexts;
        var len = contexts.length;
        for (var i = 0; i < len; i++) contexts[i].buffer.push(value);
      };
      BufferToggleSubscriber.prototype._error = function(err) {
        var contexts = this.contexts;
        while (contexts.length > 0) {
          var context_1 = contexts.shift();
          context_1.subscription.unsubscribe();
          context_1.buffer = null;
          context_1.subscription = null;
        }
        this.contexts = null;
        _super.prototype._error.call(this, err);
      };
      BufferToggleSubscriber.prototype._complete = function() {
        var contexts = this.contexts;
        while (contexts.length > 0) {
          var context_2 = contexts.shift();
          this.destination.next(context_2.buffer);
          context_2.subscription.unsubscribe();
          context_2.buffer = null;
          context_2.subscription = null;
        }
        this.contexts = null;
        _super.prototype._complete.call(this);
      };
      BufferToggleSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        outerValue ? this.closeBuffer(outerValue) : this.openBuffer(innerValue);
      };
      BufferToggleSubscriber.prototype.notifyComplete = function(innerSub) {
        this.closeBuffer(innerSub.context);
      };
      BufferToggleSubscriber.prototype.openBuffer = function(value) {
        try {
          var closingSelector = this.closingSelector;
          var closingNotifier = closingSelector.call(this, value);
          closingNotifier && this.trySubscribe(closingNotifier);
        } catch (err) {
          this._error(err);
        }
      };
      BufferToggleSubscriber.prototype.closeBuffer = function(context) {
        var contexts = this.contexts;
        if (contexts && context) {
          var buffer = context.buffer, subscription = context.subscription;
          this.destination.next(buffer);
          contexts.splice(contexts.indexOf(context), 1);
          this.remove(subscription);
          subscription.unsubscribe();
        }
      };
      BufferToggleSubscriber.prototype.trySubscribe = function(closingNotifier) {
        var contexts = this.contexts;
        var buffer = [];
        var subscription = new Subscription_1.Subscription();
        var context = {
          buffer: buffer,
          subscription: subscription
        };
        contexts.push(context);
        var innerSubscription = subscribeToResult_1.subscribeToResult(this, closingNotifier, context);
        if (!innerSubscription || innerSubscription.closed) this.closeBuffer(context); else {
          innerSubscription.context = context;
          this.add(innerSubscription);
          subscription.add(innerSubscription);
        }
      };
      return BufferToggleSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 54,
    "../Subscription": 60,
    "../util/subscribeToResult": 241
  } ],
  99: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscription_1 = require("../Subscription");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function bufferWhen(closingSelector) {
      return function(source) {
        return source.lift(new BufferWhenOperator(closingSelector));
      };
    }
    exports.bufferWhen = bufferWhen;
    var BufferWhenOperator = function() {
      function BufferWhenOperator(closingSelector) {
        this.closingSelector = closingSelector;
      }
      BufferWhenOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new BufferWhenSubscriber(subscriber, this.closingSelector));
      };
      return BufferWhenOperator;
    }();
    var BufferWhenSubscriber = function(_super) {
      __extends(BufferWhenSubscriber, _super);
      function BufferWhenSubscriber(destination, closingSelector) {
        var _this = _super.call(this, destination) || this;
        _this.closingSelector = closingSelector;
        _this.subscribing = false;
        _this.openBuffer();
        return _this;
      }
      BufferWhenSubscriber.prototype._next = function(value) {
        this.buffer.push(value);
      };
      BufferWhenSubscriber.prototype._complete = function() {
        var buffer = this.buffer;
        buffer && this.destination.next(buffer);
        _super.prototype._complete.call(this);
      };
      BufferWhenSubscriber.prototype._unsubscribe = function() {
        this.buffer = null;
        this.subscribing = false;
      };
      BufferWhenSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.openBuffer();
      };
      BufferWhenSubscriber.prototype.notifyComplete = function() {
        this.subscribing ? this.complete() : this.openBuffer();
      };
      BufferWhenSubscriber.prototype.openBuffer = function() {
        var closingSubscription = this.closingSubscription;
        if (closingSubscription) {
          this.remove(closingSubscription);
          closingSubscription.unsubscribe();
        }
        var buffer = this.buffer;
        this.buffer && this.destination.next(buffer);
        this.buffer = [];
        var closingNotifier;
        try {
          var closingSelector = this.closingSelector;
          closingNotifier = closingSelector();
        } catch (err) {
          return this.error(err);
        }
        closingSubscription = new Subscription_1.Subscription();
        this.closingSubscription = closingSubscription;
        this.add(closingSubscription);
        this.subscribing = true;
        closingSubscription.add(subscribeToResult_1.subscribeToResult(this, closingNotifier));
        this.subscribing = false;
      };
      return BufferWhenSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 54,
    "../Subscription": 60,
    "../util/subscribeToResult": 241
  } ],
  100: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var InnerSubscriber_1 = require("../InnerSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function catchError(selector) {
      return function catchErrorOperatorFunction(source) {
        var operator = new CatchOperator(selector);
        var caught = source.lift(operator);
        return operator.caught = caught;
      };
    }
    exports.catchError = catchError;
    var CatchOperator = function() {
      function CatchOperator(selector) {
        this.selector = selector;
      }
      CatchOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new CatchSubscriber(subscriber, this.selector, this.caught));
      };
      return CatchOperator;
    }();
    var CatchSubscriber = function(_super) {
      __extends(CatchSubscriber, _super);
      function CatchSubscriber(destination, selector, caught) {
        var _this = _super.call(this, destination) || this;
        _this.selector = selector;
        _this.caught = caught;
        return _this;
      }
      CatchSubscriber.prototype.error = function(err) {
        if (!this.isStopped) {
          var result = void 0;
          try {
            result = this.selector(err, this.caught);
          } catch (err2) {
            _super.prototype.error.call(this, err2);
            return;
          }
          this._unsubscribeAndRecycle();
          var innerSubscriber = new InnerSubscriber_1.InnerSubscriber(this, void 0, void 0);
          this.add(innerSubscriber);
          subscribeToResult_1.subscribeToResult(this, result, void 0, void 0, innerSubscriber);
        }
      };
      return CatchSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../InnerSubscriber": 50,
    "../OuterSubscriber": 54,
    "../util/subscribeToResult": 241
  } ],
  101: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var combineLatest_1 = require("../observable/combineLatest");
    function combineAll(project) {
      return function(source) {
        return source.lift(new combineLatest_1.CombineLatestOperator(project));
      };
    }
    exports.combineAll = combineAll;
  }, {
    "../observable/combineLatest": 66
  } ],
  102: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var isArray_1 = require("../util/isArray");
    var combineLatest_1 = require("../observable/combineLatest");
    var from_1 = require("../observable/from");
    var none = {};
    function combineLatest() {
      var observables = [];
      for (var _i = 0; _i < arguments.length; _i++) observables[_i] = arguments[_i];
      var project = null;
      "function" === typeof observables[observables.length - 1] && (project = observables.pop());
      1 === observables.length && isArray_1.isArray(observables[0]) && (observables = observables[0].slice());
      return function(source) {
        return source.lift.call(from_1.from([ source ].concat(observables)), new combineLatest_1.CombineLatestOperator(project));
      };
    }
    exports.combineLatest = combineLatest;
  }, {
    "../observable/combineLatest": 66,
    "../observable/from": 71,
    "../util/isArray": 222
  } ],
  103: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var concat_1 = require("../observable/concat");
    function concat() {
      var observables = [];
      for (var _i = 0; _i < arguments.length; _i++) observables[_i] = arguments[_i];
      return function(source) {
        return source.lift.call(concat_1.concat.apply(void 0, [ source ].concat(observables)));
      };
    }
    exports.concat = concat;
  }, {
    "../observable/concat": 67
  } ],
  104: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var mergeAll_1 = require("./mergeAll");
    function concatAll() {
      return mergeAll_1.mergeAll(1);
    }
    exports.concatAll = concatAll;
  }, {
    "./mergeAll": 137
  } ],
  105: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var mergeMap_1 = require("./mergeMap");
    function concatMap(project, resultSelector) {
      return mergeMap_1.mergeMap(project, resultSelector, 1);
    }
    exports.concatMap = concatMap;
  }, {
    "./mergeMap": 138
  } ],
  106: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var concatMap_1 = require("./concatMap");
    function concatMapTo(innerObservable, resultSelector) {
      return concatMap_1.concatMap(function() {
        return innerObservable;
      }, resultSelector);
    }
    exports.concatMapTo = concatMapTo;
  }, {
    "./concatMap": 105
  } ],
  107: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function count(predicate) {
      return function(source) {
        return source.lift(new CountOperator(predicate, source));
      };
    }
    exports.count = count;
    var CountOperator = function() {
      function CountOperator(predicate, source) {
        this.predicate = predicate;
        this.source = source;
      }
      CountOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new CountSubscriber(subscriber, this.predicate, this.source));
      };
      return CountOperator;
    }();
    var CountSubscriber = function(_super) {
      __extends(CountSubscriber, _super);
      function CountSubscriber(destination, predicate, source) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.source = source;
        _this.count = 0;
        _this.index = 0;
        return _this;
      }
      CountSubscriber.prototype._next = function(value) {
        this.predicate ? this._tryPredicate(value) : this.count++;
      };
      CountSubscriber.prototype._tryPredicate = function(value) {
        var result;
        try {
          result = this.predicate(value, this.index++, this.source);
        } catch (err) {
          this.destination.error(err);
          return;
        }
        result && this.count++;
      };
      CountSubscriber.prototype._complete = function() {
        this.destination.next(this.count);
        this.destination.complete();
      };
      return CountSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59
  } ],
  108: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function debounce(durationSelector) {
      return function(source) {
        return source.lift(new DebounceOperator(durationSelector));
      };
    }
    exports.debounce = debounce;
    var DebounceOperator = function() {
      function DebounceOperator(durationSelector) {
        this.durationSelector = durationSelector;
      }
      DebounceOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new DebounceSubscriber(subscriber, this.durationSelector));
      };
      return DebounceOperator;
    }();
    var DebounceSubscriber = function(_super) {
      __extends(DebounceSubscriber, _super);
      function DebounceSubscriber(destination, durationSelector) {
        var _this = _super.call(this, destination) || this;
        _this.durationSelector = durationSelector;
        _this.hasValue = false;
        _this.durationSubscription = null;
        return _this;
      }
      DebounceSubscriber.prototype._next = function(value) {
        try {
          var result = this.durationSelector.call(this, value);
          result && this._tryNext(value, result);
        } catch (err) {
          this.destination.error(err);
        }
      };
      DebounceSubscriber.prototype._complete = function() {
        this.emitValue();
        this.destination.complete();
      };
      DebounceSubscriber.prototype._tryNext = function(value, duration) {
        var subscription = this.durationSubscription;
        this.value = value;
        this.hasValue = true;
        if (subscription) {
          subscription.unsubscribe();
          this.remove(subscription);
        }
        subscription = subscribeToResult_1.subscribeToResult(this, duration);
        subscription && !subscription.closed && this.add(this.durationSubscription = subscription);
      };
      DebounceSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.emitValue();
      };
      DebounceSubscriber.prototype.notifyComplete = function() {
        this.emitValue();
      };
      DebounceSubscriber.prototype.emitValue = function() {
        if (this.hasValue) {
          var value = this.value;
          var subscription = this.durationSubscription;
          if (subscription) {
            this.durationSubscription = null;
            subscription.unsubscribe();
            this.remove(subscription);
          }
          this.value = null;
          this.hasValue = false;
          _super.prototype._next.call(this, value);
        }
      };
      return DebounceSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 54,
    "../util/subscribeToResult": 241
  } ],
  109: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var async_1 = require("../scheduler/async");
    function debounceTime(dueTime, scheduler) {
      void 0 === scheduler && (scheduler = async_1.async);
      return function(source) {
        return source.lift(new DebounceTimeOperator(dueTime, scheduler));
      };
    }
    exports.debounceTime = debounceTime;
    var DebounceTimeOperator = function() {
      function DebounceTimeOperator(dueTime, scheduler) {
        this.dueTime = dueTime;
        this.scheduler = scheduler;
      }
      DebounceTimeOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new DebounceTimeSubscriber(subscriber, this.dueTime, this.scheduler));
      };
      return DebounceTimeOperator;
    }();
    var DebounceTimeSubscriber = function(_super) {
      __extends(DebounceTimeSubscriber, _super);
      function DebounceTimeSubscriber(destination, dueTime, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.dueTime = dueTime;
        _this.scheduler = scheduler;
        _this.debouncedSubscription = null;
        _this.lastValue = null;
        _this.hasValue = false;
        return _this;
      }
      DebounceTimeSubscriber.prototype._next = function(value) {
        this.clearDebounce();
        this.lastValue = value;
        this.hasValue = true;
        this.add(this.debouncedSubscription = this.scheduler.schedule(dispatchNext, this.dueTime, this));
      };
      DebounceTimeSubscriber.prototype._complete = function() {
        this.debouncedNext();
        this.destination.complete();
      };
      DebounceTimeSubscriber.prototype.debouncedNext = function() {
        this.clearDebounce();
        if (this.hasValue) {
          var lastValue = this.lastValue;
          this.lastValue = null;
          this.hasValue = false;
          this.destination.next(lastValue);
        }
      };
      DebounceTimeSubscriber.prototype.clearDebounce = function() {
        var debouncedSubscription = this.debouncedSubscription;
        if (null !== debouncedSubscription) {
          this.remove(debouncedSubscription);
          debouncedSubscription.unsubscribe();
          this.debouncedSubscription = null;
        }
      };
      return DebounceTimeSubscriber;
    }(Subscriber_1.Subscriber);
    function dispatchNext(subscriber) {
      subscriber.debouncedNext();
    }
  }, {
    "../Subscriber": 59,
    "../scheduler/async": 208
  } ],
  110: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function defaultIfEmpty(defaultValue) {
      void 0 === defaultValue && (defaultValue = null);
      return function(source) {
        return source.lift(new DefaultIfEmptyOperator(defaultValue));
      };
    }
    exports.defaultIfEmpty = defaultIfEmpty;
    var DefaultIfEmptyOperator = function() {
      function DefaultIfEmptyOperator(defaultValue) {
        this.defaultValue = defaultValue;
      }
      DefaultIfEmptyOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new DefaultIfEmptySubscriber(subscriber, this.defaultValue));
      };
      return DefaultIfEmptyOperator;
    }();
    var DefaultIfEmptySubscriber = function(_super) {
      __extends(DefaultIfEmptySubscriber, _super);
      function DefaultIfEmptySubscriber(destination, defaultValue) {
        var _this = _super.call(this, destination) || this;
        _this.defaultValue = defaultValue;
        _this.isEmpty = true;
        return _this;
      }
      DefaultIfEmptySubscriber.prototype._next = function(value) {
        this.isEmpty = false;
        this.destination.next(value);
      };
      DefaultIfEmptySubscriber.prototype._complete = function() {
        this.isEmpty && this.destination.next(this.defaultValue);
        this.destination.complete();
      };
      return DefaultIfEmptySubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59
  } ],
  111: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var async_1 = require("../scheduler/async");
    var isDate_1 = require("../util/isDate");
    var Subscriber_1 = require("../Subscriber");
    var Notification_1 = require("../Notification");
    function delay(delay, scheduler) {
      void 0 === scheduler && (scheduler = async_1.async);
      var absoluteDelay = isDate_1.isDate(delay);
      var delayFor = absoluteDelay ? +delay - scheduler.now() : Math.abs(delay);
      return function(source) {
        return source.lift(new DelayOperator(delayFor, scheduler));
      };
    }
    exports.delay = delay;
    var DelayOperator = function() {
      function DelayOperator(delay, scheduler) {
        this.delay = delay;
        this.scheduler = scheduler;
      }
      DelayOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new DelaySubscriber(subscriber, this.delay, this.scheduler));
      };
      return DelayOperator;
    }();
    var DelaySubscriber = function(_super) {
      __extends(DelaySubscriber, _super);
      function DelaySubscriber(destination, delay, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.delay = delay;
        _this.scheduler = scheduler;
        _this.queue = [];
        _this.active = false;
        _this.errored = false;
        return _this;
      }
      DelaySubscriber.dispatch = function(state) {
        var source = state.source;
        var queue = source.queue;
        var scheduler = state.scheduler;
        var destination = state.destination;
        while (queue.length > 0 && queue[0].time - scheduler.now() <= 0) queue.shift().notification.observe(destination);
        if (queue.length > 0) {
          var delay_1 = Math.max(0, queue[0].time - scheduler.now());
          this.schedule(state, delay_1);
        } else {
          this.unsubscribe();
          source.active = false;
        }
      };
      DelaySubscriber.prototype._schedule = function(scheduler) {
        this.active = true;
        var destination = this.destination;
        destination.add(scheduler.schedule(DelaySubscriber.dispatch, this.delay, {
          source: this,
          destination: this.destination,
          scheduler: scheduler
        }));
      };
      DelaySubscriber.prototype.scheduleNotification = function(notification) {
        if (true === this.errored) return;
        var scheduler = this.scheduler;
        var message = new DelayMessage(scheduler.now() + this.delay, notification);
        this.queue.push(message);
        false === this.active && this._schedule(scheduler);
      };
      DelaySubscriber.prototype._next = function(value) {
        this.scheduleNotification(Notification_1.Notification.createNext(value));
      };
      DelaySubscriber.prototype._error = function(err) {
        this.errored = true;
        this.queue = [];
        this.destination.error(err);
        this.unsubscribe();
      };
      DelaySubscriber.prototype._complete = function() {
        this.scheduleNotification(Notification_1.Notification.createComplete());
        this.unsubscribe();
      };
      return DelaySubscriber;
    }(Subscriber_1.Subscriber);
    var DelayMessage = function() {
      function DelayMessage(time, notification) {
        this.time = time;
        this.notification = notification;
      }
      return DelayMessage;
    }();
  }, {
    "../Notification": 51,
    "../Subscriber": 59,
    "../scheduler/async": 208,
    "../util/isDate": 224
  } ],
  112: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var Observable_1 = require("../Observable");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function delayWhen(delayDurationSelector, subscriptionDelay) {
      if (subscriptionDelay) return function(source) {
        return new SubscriptionDelayObservable(source, subscriptionDelay).lift(new DelayWhenOperator(delayDurationSelector));
      };
      return function(source) {
        return source.lift(new DelayWhenOperator(delayDurationSelector));
      };
    }
    exports.delayWhen = delayWhen;
    var DelayWhenOperator = function() {
      function DelayWhenOperator(delayDurationSelector) {
        this.delayDurationSelector = delayDurationSelector;
      }
      DelayWhenOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new DelayWhenSubscriber(subscriber, this.delayDurationSelector));
      };
      return DelayWhenOperator;
    }();
    var DelayWhenSubscriber = function(_super) {
      __extends(DelayWhenSubscriber, _super);
      function DelayWhenSubscriber(destination, delayDurationSelector) {
        var _this = _super.call(this, destination) || this;
        _this.delayDurationSelector = delayDurationSelector;
        _this.completed = false;
        _this.delayNotifierSubscriptions = [];
        _this.index = 0;
        return _this;
      }
      DelayWhenSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.destination.next(outerValue);
        this.removeSubscription(innerSub);
        this.tryComplete();
      };
      DelayWhenSubscriber.prototype.notifyError = function(error, innerSub) {
        this._error(error);
      };
      DelayWhenSubscriber.prototype.notifyComplete = function(innerSub) {
        var value = this.removeSubscription(innerSub);
        value && this.destination.next(value);
        this.tryComplete();
      };
      DelayWhenSubscriber.prototype._next = function(value) {
        var index = this.index++;
        try {
          var delayNotifier = this.delayDurationSelector(value, index);
          delayNotifier && this.tryDelay(delayNotifier, value);
        } catch (err) {
          this.destination.error(err);
        }
      };
      DelayWhenSubscriber.prototype._complete = function() {
        this.completed = true;
        this.tryComplete();
        this.unsubscribe();
      };
      DelayWhenSubscriber.prototype.removeSubscription = function(subscription) {
        subscription.unsubscribe();
        var subscriptionIdx = this.delayNotifierSubscriptions.indexOf(subscription);
        -1 !== subscriptionIdx && this.delayNotifierSubscriptions.splice(subscriptionIdx, 1);
        return subscription.outerValue;
      };
      DelayWhenSubscriber.prototype.tryDelay = function(delayNotifier, value) {
        var notifierSubscription = subscribeToResult_1.subscribeToResult(this, delayNotifier, value);
        if (notifierSubscription && !notifierSubscription.closed) {
          var destination = this.destination;
          destination.add(notifierSubscription);
          this.delayNotifierSubscriptions.push(notifierSubscription);
        }
      };
      DelayWhenSubscriber.prototype.tryComplete = function() {
        this.completed && 0 === this.delayNotifierSubscriptions.length && this.destination.complete();
      };
      return DelayWhenSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
    var SubscriptionDelayObservable = function(_super) {
      __extends(SubscriptionDelayObservable, _super);
      function SubscriptionDelayObservable(source, subscriptionDelay) {
        var _this = _super.call(this) || this;
        _this.source = source;
        _this.subscriptionDelay = subscriptionDelay;
        return _this;
      }
      SubscriptionDelayObservable.prototype._subscribe = function(subscriber) {
        this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(subscriber, this.source));
      };
      return SubscriptionDelayObservable;
    }(Observable_1.Observable);
    var SubscriptionDelaySubscriber = function(_super) {
      __extends(SubscriptionDelaySubscriber, _super);
      function SubscriptionDelaySubscriber(parent, source) {
        var _this = _super.call(this) || this;
        _this.parent = parent;
        _this.source = source;
        _this.sourceSubscribed = false;
        return _this;
      }
      SubscriptionDelaySubscriber.prototype._next = function(unused) {
        this.subscribeToSource();
      };
      SubscriptionDelaySubscriber.prototype._error = function(err) {
        this.unsubscribe();
        this.parent.error(err);
      };
      SubscriptionDelaySubscriber.prototype._complete = function() {
        this.unsubscribe();
        this.subscribeToSource();
      };
      SubscriptionDelaySubscriber.prototype.subscribeToSource = function() {
        if (!this.sourceSubscribed) {
          this.sourceSubscribed = true;
          this.unsubscribe();
          this.source.subscribe(this.parent);
        }
      };
      return SubscriptionDelaySubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Observable": 52,
    "../OuterSubscriber": 54,
    "../Subscriber": 59,
    "../util/subscribeToResult": 241
  } ],
  113: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function dematerialize() {
      return function dematerializeOperatorFunction(source) {
        return source.lift(new DeMaterializeOperator());
      };
    }
    exports.dematerialize = dematerialize;
    var DeMaterializeOperator = function() {
      function DeMaterializeOperator() {}
      DeMaterializeOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new DeMaterializeSubscriber(subscriber));
      };
      return DeMaterializeOperator;
    }();
    var DeMaterializeSubscriber = function(_super) {
      __extends(DeMaterializeSubscriber, _super);
      function DeMaterializeSubscriber(destination) {
        return _super.call(this, destination) || this;
      }
      DeMaterializeSubscriber.prototype._next = function(value) {
        value.observe(this.destination);
      };
      return DeMaterializeSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59
  } ],
  114: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function distinct(keySelector, flushes) {
      return function(source) {
        return source.lift(new DistinctOperator(keySelector, flushes));
      };
    }
    exports.distinct = distinct;
    var DistinctOperator = function() {
      function DistinctOperator(keySelector, flushes) {
        this.keySelector = keySelector;
        this.flushes = flushes;
      }
      DistinctOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new DistinctSubscriber(subscriber, this.keySelector, this.flushes));
      };
      return DistinctOperator;
    }();
    var DistinctSubscriber = function(_super) {
      __extends(DistinctSubscriber, _super);
      function DistinctSubscriber(destination, keySelector, flushes) {
        var _this = _super.call(this, destination) || this;
        _this.keySelector = keySelector;
        _this.values = new Set();
        flushes && _this.add(subscribeToResult_1.subscribeToResult(_this, flushes));
        return _this;
      }
      DistinctSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.values.clear();
      };
      DistinctSubscriber.prototype.notifyError = function(error, innerSub) {
        this._error(error);
      };
      DistinctSubscriber.prototype._next = function(value) {
        this.keySelector ? this._useKeySelector(value) : this._finalizeNext(value, value);
      };
      DistinctSubscriber.prototype._useKeySelector = function(value) {
        var key;
        var destination = this.destination;
        try {
          key = this.keySelector(value);
        } catch (err) {
          destination.error(err);
          return;
        }
        this._finalizeNext(key, value);
      };
      DistinctSubscriber.prototype._finalizeNext = function(key, value) {
        var values = this.values;
        if (!values.has(key)) {
          values.add(key);
          this.destination.next(value);
        }
      };
      return DistinctSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
    exports.DistinctSubscriber = DistinctSubscriber;
  }, {
    "../OuterSubscriber": 54,
    "../util/subscribeToResult": 241
  } ],
  115: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function distinctUntilChanged(compare, keySelector) {
      return function(source) {
        return source.lift(new DistinctUntilChangedOperator(compare, keySelector));
      };
    }
    exports.distinctUntilChanged = distinctUntilChanged;
    var DistinctUntilChangedOperator = function() {
      function DistinctUntilChangedOperator(compare, keySelector) {
        this.compare = compare;
        this.keySelector = keySelector;
      }
      DistinctUntilChangedOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new DistinctUntilChangedSubscriber(subscriber, this.compare, this.keySelector));
      };
      return DistinctUntilChangedOperator;
    }();
    var DistinctUntilChangedSubscriber = function(_super) {
      __extends(DistinctUntilChangedSubscriber, _super);
      function DistinctUntilChangedSubscriber(destination, compare, keySelector) {
        var _this = _super.call(this, destination) || this;
        _this.keySelector = keySelector;
        _this.hasKey = false;
        "function" === typeof compare && (_this.compare = compare);
        return _this;
      }
      DistinctUntilChangedSubscriber.prototype.compare = function(x, y) {
        return x === y;
      };
      DistinctUntilChangedSubscriber.prototype._next = function(value) {
        var key;
        try {
          var keySelector = this.keySelector;
          key = keySelector ? keySelector(value) : value;
        } catch (err) {
          return this.destination.error(err);
        }
        var result = false;
        if (this.hasKey) try {
          var compare = this.compare;
          result = compare(this.key, key);
        } catch (err) {
          return this.destination.error(err);
        } else this.hasKey = true;
        if (!result) {
          this.key = key;
          this.destination.next(value);
        }
      };
      return DistinctUntilChangedSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59
  } ],
  116: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var distinctUntilChanged_1 = require("./distinctUntilChanged");
    function distinctUntilKeyChanged(key, compare) {
      return distinctUntilChanged_1.distinctUntilChanged(function(x, y) {
        return compare ? compare(x[key], y[key]) : x[key] === y[key];
      });
    }
    exports.distinctUntilKeyChanged = distinctUntilKeyChanged;
  }, {
    "./distinctUntilChanged": 115
  } ],
  117: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ArgumentOutOfRangeError_1 = require("../util/ArgumentOutOfRangeError");
    var filter_1 = require("./filter");
    var throwIfEmpty_1 = require("./throwIfEmpty");
    var defaultIfEmpty_1 = require("./defaultIfEmpty");
    var take_1 = require("./take");
    function elementAt(index, defaultValue) {
      if (index < 0) throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError();
      var hasDefaultValue = arguments.length >= 2;
      return function(source) {
        return source.pipe(filter_1.filter(function(v, i) {
          return i === index;
        }), take_1.take(1), hasDefaultValue ? defaultIfEmpty_1.defaultIfEmpty(defaultValue) : throwIfEmpty_1.throwIfEmpty(function() {
          return new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError();
        }));
      };
    }
    exports.elementAt = elementAt;
  }, {
    "../util/ArgumentOutOfRangeError": 213,
    "./defaultIfEmpty": 110,
    "./filter": 123,
    "./take": 175,
    "./throwIfEmpty": 182
  } ],
  118: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var fromArray_1 = require("../observable/fromArray");
    var scalar_1 = require("../observable/scalar");
    var empty_1 = require("../observable/empty");
    var concat_1 = require("../observable/concat");
    var isScheduler_1 = require("../util/isScheduler");
    function endWith() {
      var array = [];
      for (var _i = 0; _i < arguments.length; _i++) array[_i] = arguments[_i];
      return function(source) {
        var scheduler = array[array.length - 1];
        isScheduler_1.isScheduler(scheduler) ? array.pop() : scheduler = null;
        var len = array.length;
        return 1 !== len || scheduler ? len > 0 ? concat_1.concat(source, fromArray_1.fromArray(array, scheduler)) : concat_1.concat(source, empty_1.empty(scheduler)) : concat_1.concat(source, scalar_1.scalar(array[0]));
      };
    }
    exports.endWith = endWith;
  }, {
    "../observable/concat": 67,
    "../observable/empty": 69,
    "../observable/fromArray": 72,
    "../observable/scalar": 88,
    "../util/isScheduler": 232
  } ],
  119: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function every(predicate, thisArg) {
      return function(source) {
        return source.lift(new EveryOperator(predicate, thisArg, source));
      };
    }
    exports.every = every;
    var EveryOperator = function() {
      function EveryOperator(predicate, thisArg, source) {
        this.predicate = predicate;
        this.thisArg = thisArg;
        this.source = source;
      }
      EveryOperator.prototype.call = function(observer, source) {
        return source.subscribe(new EverySubscriber(observer, this.predicate, this.thisArg, this.source));
      };
      return EveryOperator;
    }();
    var EverySubscriber = function(_super) {
      __extends(EverySubscriber, _super);
      function EverySubscriber(destination, predicate, thisArg, source) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.thisArg = thisArg;
        _this.source = source;
        _this.index = 0;
        _this.thisArg = thisArg || _this;
        return _this;
      }
      EverySubscriber.prototype.notifyComplete = function(everyValueMatch) {
        this.destination.next(everyValueMatch);
        this.destination.complete();
      };
      EverySubscriber.prototype._next = function(value) {
        var result = false;
        try {
          result = this.predicate.call(this.thisArg, value, this.index++, this.source);
        } catch (err) {
          this.destination.error(err);
          return;
        }
        result || this.notifyComplete(false);
      };
      EverySubscriber.prototype._complete = function() {
        this.notifyComplete(true);
      };
      return EverySubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59
  } ],
  120: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function exhaust() {
      return function(source) {
        return source.lift(new SwitchFirstOperator());
      };
    }
    exports.exhaust = exhaust;
    var SwitchFirstOperator = function() {
      function SwitchFirstOperator() {}
      SwitchFirstOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new SwitchFirstSubscriber(subscriber));
      };
      return SwitchFirstOperator;
    }();
    var SwitchFirstSubscriber = function(_super) {
      __extends(SwitchFirstSubscriber, _super);
      function SwitchFirstSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.hasCompleted = false;
        _this.hasSubscription = false;
        return _this;
      }
      SwitchFirstSubscriber.prototype._next = function(value) {
        if (!this.hasSubscription) {
          this.hasSubscription = true;
          this.add(subscribeToResult_1.subscribeToResult(this, value));
        }
      };
      SwitchFirstSubscriber.prototype._complete = function() {
        this.hasCompleted = true;
        this.hasSubscription || this.destination.complete();
      };
      SwitchFirstSubscriber.prototype.notifyComplete = function(innerSub) {
        this.remove(innerSub);
        this.hasSubscription = false;
        this.hasCompleted && this.destination.complete();
      };
      return SwitchFirstSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 54,
    "../util/subscribeToResult": 241
  } ],
  121: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var InnerSubscriber_1 = require("../InnerSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    var map_1 = require("./map");
    var from_1 = require("../observable/from");
    function exhaustMap(project, resultSelector) {
      if (resultSelector) return function(source) {
        return source.pipe(exhaustMap(function(a, i) {
          return from_1.from(project(a, i)).pipe(map_1.map(function(b, ii) {
            return resultSelector(a, b, i, ii);
          }));
        }));
      };
      return function(source) {
        return source.lift(new ExhaustMapOperator(project));
      };
    }
    exports.exhaustMap = exhaustMap;
    var ExhaustMapOperator = function() {
      function ExhaustMapOperator(project) {
        this.project = project;
      }
      ExhaustMapOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new ExhaustMapSubscriber(subscriber, this.project));
      };
      return ExhaustMapOperator;
    }();
    var ExhaustMapSubscriber = function(_super) {
      __extends(ExhaustMapSubscriber, _super);
      function ExhaustMapSubscriber(destination, project) {
        var _this = _super.call(this, destination) || this;
        _this.project = project;
        _this.hasSubscription = false;
        _this.hasCompleted = false;
        _this.index = 0;
        return _this;
      }
      ExhaustMapSubscriber.prototype._next = function(value) {
        this.hasSubscription || this.tryNext(value);
      };
      ExhaustMapSubscriber.prototype.tryNext = function(value) {
        var result;
        var index = this.index++;
        try {
          result = this.project(value, index);
        } catch (err) {
          this.destination.error(err);
          return;
        }
        this.hasSubscription = true;
        this._innerSub(result, value, index);
      };
      ExhaustMapSubscriber.prototype._innerSub = function(result, value, index) {
        var innerSubscriber = new InnerSubscriber_1.InnerSubscriber(this, void 0, void 0);
        var destination = this.destination;
        destination.add(innerSubscriber);
        subscribeToResult_1.subscribeToResult(this, result, value, index, innerSubscriber);
      };
      ExhaustMapSubscriber.prototype._complete = function() {
        this.hasCompleted = true;
        this.hasSubscription || this.destination.complete();
        this.unsubscribe();
      };
      ExhaustMapSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.destination.next(innerValue);
      };
      ExhaustMapSubscriber.prototype.notifyError = function(err) {
        this.destination.error(err);
      };
      ExhaustMapSubscriber.prototype.notifyComplete = function(innerSub) {
        var destination = this.destination;
        destination.remove(innerSub);
        this.hasSubscription = false;
        this.hasCompleted && this.destination.complete();
      };
      return ExhaustMapSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../InnerSubscriber": 50,
    "../OuterSubscriber": 54,
    "../observable/from": 71,
    "../util/subscribeToResult": 241,
    "./map": 132
  } ],
  122: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function expand(project, concurrent, scheduler) {
      void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY);
      void 0 === scheduler && (scheduler = void 0);
      concurrent = (concurrent || 0) < 1 ? Number.POSITIVE_INFINITY : concurrent;
      return function(source) {
        return source.lift(new ExpandOperator(project, concurrent, scheduler));
      };
    }
    exports.expand = expand;
    var ExpandOperator = function() {
      function ExpandOperator(project, concurrent, scheduler) {
        this.project = project;
        this.concurrent = concurrent;
        this.scheduler = scheduler;
      }
      ExpandOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new ExpandSubscriber(subscriber, this.project, this.concurrent, this.scheduler));
      };
      return ExpandOperator;
    }();
    exports.ExpandOperator = ExpandOperator;
    var ExpandSubscriber = function(_super) {
      __extends(ExpandSubscriber, _super);
      function ExpandSubscriber(destination, project, concurrent, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.project = project;
        _this.concurrent = concurrent;
        _this.scheduler = scheduler;
        _this.index = 0;
        _this.active = 0;
        _this.hasCompleted = false;
        concurrent < Number.POSITIVE_INFINITY && (_this.buffer = []);
        return _this;
      }
      ExpandSubscriber.dispatch = function(arg) {
        var subscriber = arg.subscriber, result = arg.result, value = arg.value, index = arg.index;
        subscriber.subscribeToProjection(result, value, index);
      };
      ExpandSubscriber.prototype._next = function(value) {
        var destination = this.destination;
        if (destination.closed) {
          this._complete();
          return;
        }
        var index = this.index++;
        if (this.active < this.concurrent) {
          destination.next(value);
          try {
            var project = this.project;
            var result = project(value, index);
            if (this.scheduler) {
              var state = {
                subscriber: this,
                result: result,
                value: value,
                index: index
              };
              var destination_1 = this.destination;
              destination_1.add(this.scheduler.schedule(ExpandSubscriber.dispatch, 0, state));
            } else this.subscribeToProjection(result, value, index);
          } catch (e) {
            destination.error(e);
          }
        } else this.buffer.push(value);
      };
      ExpandSubscriber.prototype.subscribeToProjection = function(result, value, index) {
        this.active++;
        var destination = this.destination;
        destination.add(subscribeToResult_1.subscribeToResult(this, result, value, index));
      };
      ExpandSubscriber.prototype._complete = function() {
        this.hasCompleted = true;
        this.hasCompleted && 0 === this.active && this.destination.complete();
        this.unsubscribe();
      };
      ExpandSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this._next(innerValue);
      };
      ExpandSubscriber.prototype.notifyComplete = function(innerSub) {
        var buffer = this.buffer;
        var destination = this.destination;
        destination.remove(innerSub);
        this.active--;
        buffer && buffer.length > 0 && this._next(buffer.shift());
        this.hasCompleted && 0 === this.active && this.destination.complete();
      };
      return ExpandSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
    exports.ExpandSubscriber = ExpandSubscriber;
  }, {
    "../OuterSubscriber": 54,
    "../util/subscribeToResult": 241
  } ],
  123: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function filter(predicate, thisArg) {
      return function filterOperatorFunction(source) {
        return source.lift(new FilterOperator(predicate, thisArg));
      };
    }
    exports.filter = filter;
    var FilterOperator = function() {
      function FilterOperator(predicate, thisArg) {
        this.predicate = predicate;
        this.thisArg = thisArg;
      }
      FilterOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));
      };
      return FilterOperator;
    }();
    var FilterSubscriber = function(_super) {
      __extends(FilterSubscriber, _super);
      function FilterSubscriber(destination, predicate, thisArg) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.thisArg = thisArg;
        _this.count = 0;
        return _this;
      }
      FilterSubscriber.prototype._next = function(value) {
        var result;
        try {
          result = this.predicate.call(this.thisArg, value, this.count++);
        } catch (err) {
          this.destination.error(err);
          return;
        }
        result && this.destination.next(value);
      };
      return FilterSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59
  } ],
  124: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var Subscription_1 = require("../Subscription");
    function finalize(callback) {
      return function(source) {
        return source.lift(new FinallyOperator(callback));
      };
    }
    exports.finalize = finalize;
    var FinallyOperator = function() {
      function FinallyOperator(callback) {
        this.callback = callback;
      }
      FinallyOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new FinallySubscriber(subscriber, this.callback));
      };
      return FinallyOperator;
    }();
    var FinallySubscriber = function(_super) {
      __extends(FinallySubscriber, _super);
      function FinallySubscriber(destination, callback) {
        var _this = _super.call(this, destination) || this;
        _this.add(new Subscription_1.Subscription(callback));
        return _this;
      }
      return FinallySubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59,
    "../Subscription": 60
  } ],
  125: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function find(predicate, thisArg) {
      if ("function" !== typeof predicate) throw new TypeError("predicate is not a function");
      return function(source) {
        return source.lift(new FindValueOperator(predicate, source, false, thisArg));
      };
    }
    exports.find = find;
    var FindValueOperator = function() {
      function FindValueOperator(predicate, source, yieldIndex, thisArg) {
        this.predicate = predicate;
        this.source = source;
        this.yieldIndex = yieldIndex;
        this.thisArg = thisArg;
      }
      FindValueOperator.prototype.call = function(observer, source) {
        return source.subscribe(new FindValueSubscriber(observer, this.predicate, this.source, this.yieldIndex, this.thisArg));
      };
      return FindValueOperator;
    }();
    exports.FindValueOperator = FindValueOperator;
    var FindValueSubscriber = function(_super) {
      __extends(FindValueSubscriber, _super);
      function FindValueSubscriber(destination, predicate, source, yieldIndex, thisArg) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.source = source;
        _this.yieldIndex = yieldIndex;
        _this.thisArg = thisArg;
        _this.index = 0;
        return _this;
      }
      FindValueSubscriber.prototype.notifyComplete = function(value) {
        var destination = this.destination;
        destination.next(value);
        destination.complete();
        this.unsubscribe();
      };
      FindValueSubscriber.prototype._next = function(value) {
        var _a = this, predicate = _a.predicate, thisArg = _a.thisArg;
        var index = this.index++;
        try {
          var result = predicate.call(thisArg || this, value, index, this.source);
          result && this.notifyComplete(this.yieldIndex ? index : value);
        } catch (err) {
          this.destination.error(err);
        }
      };
      FindValueSubscriber.prototype._complete = function() {
        this.notifyComplete(this.yieldIndex ? -1 : void 0);
      };
      return FindValueSubscriber;
    }(Subscriber_1.Subscriber);
    exports.FindValueSubscriber = FindValueSubscriber;
  }, {
    "../Subscriber": 59
  } ],
  126: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var find_1 = require("../operators/find");
    function findIndex(predicate, thisArg) {
      return function(source) {
        return source.lift(new find_1.FindValueOperator(predicate, source, true, thisArg));
      };
    }
    exports.findIndex = findIndex;
  }, {
    "../operators/find": 125
  } ],
  127: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var EmptyError_1 = require("../util/EmptyError");
    var filter_1 = require("./filter");
    var take_1 = require("./take");
    var defaultIfEmpty_1 = require("./defaultIfEmpty");
    var throwIfEmpty_1 = require("./throwIfEmpty");
    var identity_1 = require("../util/identity");
    function first(predicate, defaultValue) {
      var hasDefaultValue = arguments.length >= 2;
      return function(source) {
        return source.pipe(predicate ? filter_1.filter(function(v, i) {
          return predicate(v, i, source);
        }) : identity_1.identity, take_1.take(1), hasDefaultValue ? defaultIfEmpty_1.defaultIfEmpty(defaultValue) : throwIfEmpty_1.throwIfEmpty(function() {
          return new EmptyError_1.EmptyError();
        }));
      };
    }
    exports.first = first;
  }, {
    "../util/EmptyError": 214,
    "../util/identity": 221,
    "./defaultIfEmpty": 110,
    "./filter": 123,
    "./take": 175,
    "./throwIfEmpty": 182
  } ],
  128: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var Subscription_1 = require("../Subscription");
    var Observable_1 = require("../Observable");
    var Subject_1 = require("../Subject");
    function groupBy(keySelector, elementSelector, durationSelector, subjectSelector) {
      return function(source) {
        return source.lift(new GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector));
      };
    }
    exports.groupBy = groupBy;
    var GroupByOperator = function() {
      function GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector) {
        this.keySelector = keySelector;
        this.elementSelector = elementSelector;
        this.durationSelector = durationSelector;
        this.subjectSelector = subjectSelector;
      }
      GroupByOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new GroupBySubscriber(subscriber, this.keySelector, this.elementSelector, this.durationSelector, this.subjectSelector));
      };
      return GroupByOperator;
    }();
    var GroupBySubscriber = function(_super) {
      __extends(GroupBySubscriber, _super);
      function GroupBySubscriber(destination, keySelector, elementSelector, durationSelector, subjectSelector) {
        var _this = _super.call(this, destination) || this;
        _this.keySelector = keySelector;
        _this.elementSelector = elementSelector;
        _this.durationSelector = durationSelector;
        _this.subjectSelector = subjectSelector;
        _this.groups = null;
        _this.attemptedToUnsubscribe = false;
        _this.count = 0;
        return _this;
      }
      GroupBySubscriber.prototype._next = function(value) {
        var key;
        try {
          key = this.keySelector(value);
        } catch (err) {
          this.error(err);
          return;
        }
        this._group(value, key);
      };
      GroupBySubscriber.prototype._group = function(value, key) {
        var groups = this.groups;
        groups || (groups = this.groups = new Map());
        var group = groups.get(key);
        var element;
        if (this.elementSelector) try {
          element = this.elementSelector(value);
        } catch (err) {
          this.error(err);
        } else element = value;
        if (!group) {
          group = this.subjectSelector ? this.subjectSelector() : new Subject_1.Subject();
          groups.set(key, group);
          var groupedObservable = new GroupedObservable(key, group, this);
          this.destination.next(groupedObservable);
          if (this.durationSelector) {
            var duration = void 0;
            try {
              duration = this.durationSelector(new GroupedObservable(key, group));
            } catch (err) {
              this.error(err);
              return;
            }
            this.add(duration.subscribe(new GroupDurationSubscriber(key, group, this)));
          }
        }
        group.closed || group.next(element);
      };
      GroupBySubscriber.prototype._error = function(err) {
        var groups = this.groups;
        if (groups) {
          groups.forEach(function(group, key) {
            group.error(err);
          });
          groups.clear();
        }
        this.destination.error(err);
      };
      GroupBySubscriber.prototype._complete = function() {
        var groups = this.groups;
        if (groups) {
          groups.forEach(function(group, key) {
            group.complete();
          });
          groups.clear();
        }
        this.destination.complete();
      };
      GroupBySubscriber.prototype.removeGroup = function(key) {
        this.groups.delete(key);
      };
      GroupBySubscriber.prototype.unsubscribe = function() {
        if (!this.closed) {
          this.attemptedToUnsubscribe = true;
          0 === this.count && _super.prototype.unsubscribe.call(this);
        }
      };
      return GroupBySubscriber;
    }(Subscriber_1.Subscriber);
    var GroupDurationSubscriber = function(_super) {
      __extends(GroupDurationSubscriber, _super);
      function GroupDurationSubscriber(key, group, parent) {
        var _this = _super.call(this, group) || this;
        _this.key = key;
        _this.group = group;
        _this.parent = parent;
        return _this;
      }
      GroupDurationSubscriber.prototype._next = function(value) {
        this.complete();
      };
      GroupDurationSubscriber.prototype._unsubscribe = function() {
        var _a = this, parent = _a.parent, key = _a.key;
        this.key = this.parent = null;
        parent && parent.removeGroup(key);
      };
      return GroupDurationSubscriber;
    }(Subscriber_1.Subscriber);
    var GroupedObservable = function(_super) {
      __extends(GroupedObservable, _super);
      function GroupedObservable(key, groupSubject, refCountSubscription) {
        var _this = _super.call(this) || this;
        _this.key = key;
        _this.groupSubject = groupSubject;
        _this.refCountSubscription = refCountSubscription;
        return _this;
      }
      GroupedObservable.prototype._subscribe = function(subscriber) {
        var subscription = new Subscription_1.Subscription();
        var _a = this, refCountSubscription = _a.refCountSubscription, groupSubject = _a.groupSubject;
        refCountSubscription && !refCountSubscription.closed && subscription.add(new InnerRefCountSubscription(refCountSubscription));
        subscription.add(groupSubject.subscribe(subscriber));
        return subscription;
      };
      return GroupedObservable;
    }(Observable_1.Observable);
    exports.GroupedObservable = GroupedObservable;
    var InnerRefCountSubscription = function(_super) {
      __extends(InnerRefCountSubscription, _super);
      function InnerRefCountSubscription(parent) {
        var _this = _super.call(this) || this;
        _this.parent = parent;
        parent.count++;
        return _this;
      }
      InnerRefCountSubscription.prototype.unsubscribe = function() {
        var parent = this.parent;
        if (!parent.closed && !this.closed) {
          _super.prototype.unsubscribe.call(this);
          parent.count -= 1;
          0 === parent.count && parent.attemptedToUnsubscribe && parent.unsubscribe();
        }
      };
      return InnerRefCountSubscription;
    }(Subscription_1.Subscription);
  }, {
    "../Observable": 52,
    "../Subject": 57,
    "../Subscriber": 59,
    "../Subscription": 60
  } ],
  129: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function ignoreElements() {
      return function ignoreElementsOperatorFunction(source) {
        return source.lift(new IgnoreElementsOperator());
      };
    }
    exports.ignoreElements = ignoreElements;
    var IgnoreElementsOperator = function() {
      function IgnoreElementsOperator() {}
      IgnoreElementsOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new IgnoreElementsSubscriber(subscriber));
      };
      return IgnoreElementsOperator;
    }();
    var IgnoreElementsSubscriber = function(_super) {
      __extends(IgnoreElementsSubscriber, _super);
      function IgnoreElementsSubscriber() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      IgnoreElementsSubscriber.prototype._next = function(unused) {};
      return IgnoreElementsSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59
  } ],
  130: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function isEmpty() {
      return function(source) {
        return source.lift(new IsEmptyOperator());
      };
    }
    exports.isEmpty = isEmpty;
    var IsEmptyOperator = function() {
      function IsEmptyOperator() {}
      IsEmptyOperator.prototype.call = function(observer, source) {
        return source.subscribe(new IsEmptySubscriber(observer));
      };
      return IsEmptyOperator;
    }();
    var IsEmptySubscriber = function(_super) {
      __extends(IsEmptySubscriber, _super);
      function IsEmptySubscriber(destination) {
        return _super.call(this, destination) || this;
      }
      IsEmptySubscriber.prototype.notifyComplete = function(isEmpty) {
        var destination = this.destination;
        destination.next(isEmpty);
        destination.complete();
      };
      IsEmptySubscriber.prototype._next = function(value) {
        this.notifyComplete(false);
      };
      IsEmptySubscriber.prototype._complete = function() {
        this.notifyComplete(true);
      };
      return IsEmptySubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59
  } ],
  131: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var EmptyError_1 = require("../util/EmptyError");
    var filter_1 = require("./filter");
    var takeLast_1 = require("./takeLast");
    var throwIfEmpty_1 = require("./throwIfEmpty");
    var defaultIfEmpty_1 = require("./defaultIfEmpty");
    var identity_1 = require("../util/identity");
    function last(predicate, defaultValue) {
      var hasDefaultValue = arguments.length >= 2;
      return function(source) {
        return source.pipe(predicate ? filter_1.filter(function(v, i) {
          return predicate(v, i, source);
        }) : identity_1.identity, takeLast_1.takeLast(1), hasDefaultValue ? defaultIfEmpty_1.defaultIfEmpty(defaultValue) : throwIfEmpty_1.throwIfEmpty(function() {
          return new EmptyError_1.EmptyError();
        }));
      };
    }
    exports.last = last;
  }, {
    "../util/EmptyError": 214,
    "../util/identity": 221,
    "./defaultIfEmpty": 110,
    "./filter": 123,
    "./takeLast": 176,
    "./throwIfEmpty": 182
  } ],
  132: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function map(project, thisArg) {
      return function mapOperation(source) {
        if ("function" !== typeof project) throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");
        return source.lift(new MapOperator(project, thisArg));
      };
    }
    exports.map = map;
    var MapOperator = function() {
      function MapOperator(project, thisArg) {
        this.project = project;
        this.thisArg = thisArg;
      }
      MapOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));
      };
      return MapOperator;
    }();
    exports.MapOperator = MapOperator;
    var MapSubscriber = function(_super) {
      __extends(MapSubscriber, _super);
      function MapSubscriber(destination, project, thisArg) {
        var _this = _super.call(this, destination) || this;
        _this.project = project;
        _this.count = 0;
        _this.thisArg = thisArg || _this;
        return _this;
      }
      MapSubscriber.prototype._next = function(value) {
        var result;
        try {
          result = this.project.call(this.thisArg, value, this.count++);
        } catch (err) {
          this.destination.error(err);
          return;
        }
        this.destination.next(result);
      };
      return MapSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59
  } ],
  133: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function mapTo(value) {
      return function(source) {
        return source.lift(new MapToOperator(value));
      };
    }
    exports.mapTo = mapTo;
    var MapToOperator = function() {
      function MapToOperator(value) {
        this.value = value;
      }
      MapToOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new MapToSubscriber(subscriber, this.value));
      };
      return MapToOperator;
    }();
    var MapToSubscriber = function(_super) {
      __extends(MapToSubscriber, _super);
      function MapToSubscriber(destination, value) {
        var _this = _super.call(this, destination) || this;
        _this.value = value;
        return _this;
      }
      MapToSubscriber.prototype._next = function(x) {
        this.destination.next(this.value);
      };
      return MapToSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59
  } ],
  134: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var Notification_1 = require("../Notification");
    function materialize() {
      return function materializeOperatorFunction(source) {
        return source.lift(new MaterializeOperator());
      };
    }
    exports.materialize = materialize;
    var MaterializeOperator = function() {
      function MaterializeOperator() {}
      MaterializeOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new MaterializeSubscriber(subscriber));
      };
      return MaterializeOperator;
    }();
    var MaterializeSubscriber = function(_super) {
      __extends(MaterializeSubscriber, _super);
      function MaterializeSubscriber(destination) {
        return _super.call(this, destination) || this;
      }
      MaterializeSubscriber.prototype._next = function(value) {
        this.destination.next(Notification_1.Notification.createNext(value));
      };
      MaterializeSubscriber.prototype._error = function(err) {
        var destination = this.destination;
        destination.next(Notification_1.Notification.createError(err));
        destination.complete();
      };
      MaterializeSubscriber.prototype._complete = function() {
        var destination = this.destination;
        destination.next(Notification_1.Notification.createComplete());
        destination.complete();
      };
      return MaterializeSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Notification": 51,
    "../Subscriber": 59
  } ],
  135: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var reduce_1 = require("./reduce");
    function max(comparer) {
      var max = "function" === typeof comparer ? function(x, y) {
        return comparer(x, y) > 0 ? x : y;
      } : function(x, y) {
        return x > y ? x : y;
      };
      return reduce_1.reduce(max);
    }
    exports.max = max;
  }, {
    "./reduce": 153
  } ],
  136: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var merge_1 = require("../observable/merge");
    function merge() {
      var observables = [];
      for (var _i = 0; _i < arguments.length; _i++) observables[_i] = arguments[_i];
      return function(source) {
        return source.lift.call(merge_1.merge.apply(void 0, [ source ].concat(observables)));
      };
    }
    exports.merge = merge;
  }, {
    "../observable/merge": 81
  } ],
  137: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var mergeMap_1 = require("./mergeMap");
    var identity_1 = require("../util/identity");
    function mergeAll(concurrent) {
      void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY);
      return mergeMap_1.mergeMap(identity_1.identity, concurrent);
    }
    exports.mergeAll = mergeAll;
  }, {
    "../util/identity": 221,
    "./mergeMap": 138
  } ],
  138: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var subscribeToResult_1 = require("../util/subscribeToResult");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var InnerSubscriber_1 = require("../InnerSubscriber");
    var map_1 = require("./map");
    var from_1 = require("../observable/from");
    function mergeMap(project, resultSelector, concurrent) {
      void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY);
      if ("function" === typeof resultSelector) return function(source) {
        return source.pipe(mergeMap(function(a, i) {
          return from_1.from(project(a, i)).pipe(map_1.map(function(b, ii) {
            return resultSelector(a, b, i, ii);
          }));
        }, concurrent));
      };
      "number" === typeof resultSelector && (concurrent = resultSelector);
      return function(source) {
        return source.lift(new MergeMapOperator(project, concurrent));
      };
    }
    exports.mergeMap = mergeMap;
    var MergeMapOperator = function() {
      function MergeMapOperator(project, concurrent) {
        void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY);
        this.project = project;
        this.concurrent = concurrent;
      }
      MergeMapOperator.prototype.call = function(observer, source) {
        return source.subscribe(new MergeMapSubscriber(observer, this.project, this.concurrent));
      };
      return MergeMapOperator;
    }();
    exports.MergeMapOperator = MergeMapOperator;
    var MergeMapSubscriber = function(_super) {
      __extends(MergeMapSubscriber, _super);
      function MergeMapSubscriber(destination, project, concurrent) {
        void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY);
        var _this = _super.call(this, destination) || this;
        _this.project = project;
        _this.concurrent = concurrent;
        _this.hasCompleted = false;
        _this.buffer = [];
        _this.active = 0;
        _this.index = 0;
        return _this;
      }
      MergeMapSubscriber.prototype._next = function(value) {
        this.active < this.concurrent ? this._tryNext(value) : this.buffer.push(value);
      };
      MergeMapSubscriber.prototype._tryNext = function(value) {
        var result;
        var index = this.index++;
        try {
          result = this.project(value, index);
        } catch (err) {
          this.destination.error(err);
          return;
        }
        this.active++;
        this._innerSub(result, value, index);
      };
      MergeMapSubscriber.prototype._innerSub = function(ish, value, index) {
        var innerSubscriber = new InnerSubscriber_1.InnerSubscriber(this, void 0, void 0);
        var destination = this.destination;
        destination.add(innerSubscriber);
        subscribeToResult_1.subscribeToResult(this, ish, value, index, innerSubscriber);
      };
      MergeMapSubscriber.prototype._complete = function() {
        this.hasCompleted = true;
        0 === this.active && 0 === this.buffer.length && this.destination.complete();
        this.unsubscribe();
      };
      MergeMapSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.destination.next(innerValue);
      };
      MergeMapSubscriber.prototype.notifyComplete = function(innerSub) {
        var buffer = this.buffer;
        this.remove(innerSub);
        this.active--;
        buffer.length > 0 ? this._next(buffer.shift()) : 0 === this.active && this.hasCompleted && this.destination.complete();
      };
      return MergeMapSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
    exports.MergeMapSubscriber = MergeMapSubscriber;
  }, {
    "../InnerSubscriber": 50,
    "../OuterSubscriber": 54,
    "../observable/from": 71,
    "../util/subscribeToResult": 241,
    "./map": 132
  } ],
  139: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var mergeMap_1 = require("./mergeMap");
    function mergeMapTo(innerObservable, resultSelector, concurrent) {
      void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY);
      if ("function" === typeof resultSelector) return mergeMap_1.mergeMap(function() {
        return innerObservable;
      }, resultSelector, concurrent);
      "number" === typeof resultSelector && (concurrent = resultSelector);
      return mergeMap_1.mergeMap(function() {
        return innerObservable;
      }, concurrent);
    }
    exports.mergeMapTo = mergeMapTo;
  }, {
    "./mergeMap": 138
  } ],
  140: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var subscribeToResult_1 = require("../util/subscribeToResult");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var InnerSubscriber_1 = require("../InnerSubscriber");
    function mergeScan(accumulator, seed, concurrent) {
      void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY);
      return function(source) {
        return source.lift(new MergeScanOperator(accumulator, seed, concurrent));
      };
    }
    exports.mergeScan = mergeScan;
    var MergeScanOperator = function() {
      function MergeScanOperator(accumulator, seed, concurrent) {
        this.accumulator = accumulator;
        this.seed = seed;
        this.concurrent = concurrent;
      }
      MergeScanOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new MergeScanSubscriber(subscriber, this.accumulator, this.seed, this.concurrent));
      };
      return MergeScanOperator;
    }();
    exports.MergeScanOperator = MergeScanOperator;
    var MergeScanSubscriber = function(_super) {
      __extends(MergeScanSubscriber, _super);
      function MergeScanSubscriber(destination, accumulator, acc, concurrent) {
        var _this = _super.call(this, destination) || this;
        _this.accumulator = accumulator;
        _this.acc = acc;
        _this.concurrent = concurrent;
        _this.hasValue = false;
        _this.hasCompleted = false;
        _this.buffer = [];
        _this.active = 0;
        _this.index = 0;
        return _this;
      }
      MergeScanSubscriber.prototype._next = function(value) {
        if (this.active < this.concurrent) {
          var index = this.index++;
          var destination = this.destination;
          var ish = void 0;
          try {
            var accumulator = this.accumulator;
            ish = accumulator(this.acc, value, index);
          } catch (e) {
            return destination.error(e);
          }
          this.active++;
          this._innerSub(ish, value, index);
        } else this.buffer.push(value);
      };
      MergeScanSubscriber.prototype._innerSub = function(ish, value, index) {
        var innerSubscriber = new InnerSubscriber_1.InnerSubscriber(this, void 0, void 0);
        var destination = this.destination;
        destination.add(innerSubscriber);
        subscribeToResult_1.subscribeToResult(this, ish, value, index, innerSubscriber);
      };
      MergeScanSubscriber.prototype._complete = function() {
        this.hasCompleted = true;
        if (0 === this.active && 0 === this.buffer.length) {
          false === this.hasValue && this.destination.next(this.acc);
          this.destination.complete();
        }
        this.unsubscribe();
      };
      MergeScanSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        var destination = this.destination;
        this.acc = innerValue;
        this.hasValue = true;
        destination.next(innerValue);
      };
      MergeScanSubscriber.prototype.notifyComplete = function(innerSub) {
        var buffer = this.buffer;
        var destination = this.destination;
        destination.remove(innerSub);
        this.active--;
        if (buffer.length > 0) this._next(buffer.shift()); else if (0 === this.active && this.hasCompleted) {
          false === this.hasValue && this.destination.next(this.acc);
          this.destination.complete();
        }
      };
      return MergeScanSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
    exports.MergeScanSubscriber = MergeScanSubscriber;
  }, {
    "../InnerSubscriber": 50,
    "../OuterSubscriber": 54,
    "../util/subscribeToResult": 241
  } ],
  141: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var reduce_1 = require("./reduce");
    function min(comparer) {
      var min = "function" === typeof comparer ? function(x, y) {
        return comparer(x, y) < 0 ? x : y;
      } : function(x, y) {
        return x < y ? x : y;
      };
      return reduce_1.reduce(min);
    }
    exports.min = min;
  }, {
    "./reduce": 153
  } ],
  142: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ConnectableObservable_1 = require("../observable/ConnectableObservable");
    function multicast(subjectOrSubjectFactory, selector) {
      return function multicastOperatorFunction(source) {
        var subjectFactory;
        subjectFactory = "function" === typeof subjectOrSubjectFactory ? subjectOrSubjectFactory : function subjectFactory() {
          return subjectOrSubjectFactory;
        };
        if ("function" === typeof selector) return source.lift(new MulticastOperator(subjectFactory, selector));
        var connectable = Object.create(source, ConnectableObservable_1.connectableObservableDescriptor);
        connectable.source = source;
        connectable.subjectFactory = subjectFactory;
        return connectable;
      };
    }
    exports.multicast = multicast;
    var MulticastOperator = function() {
      function MulticastOperator(subjectFactory, selector) {
        this.subjectFactory = subjectFactory;
        this.selector = selector;
      }
      MulticastOperator.prototype.call = function(subscriber, source) {
        var selector = this.selector;
        var subject = this.subjectFactory();
        var subscription = selector(subject).subscribe(subscriber);
        subscription.add(source.subscribe(subject));
        return subscription;
      };
      return MulticastOperator;
    }();
    exports.MulticastOperator = MulticastOperator;
  }, {
    "../observable/ConnectableObservable": 62
  } ],
  143: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var Notification_1 = require("../Notification");
    function observeOn(scheduler, delay) {
      void 0 === delay && (delay = 0);
      return function observeOnOperatorFunction(source) {
        return source.lift(new ObserveOnOperator(scheduler, delay));
      };
    }
    exports.observeOn = observeOn;
    var ObserveOnOperator = function() {
      function ObserveOnOperator(scheduler, delay) {
        void 0 === delay && (delay = 0);
        this.scheduler = scheduler;
        this.delay = delay;
      }
      ObserveOnOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));
      };
      return ObserveOnOperator;
    }();
    exports.ObserveOnOperator = ObserveOnOperator;
    var ObserveOnSubscriber = function(_super) {
      __extends(ObserveOnSubscriber, _super);
      function ObserveOnSubscriber(destination, scheduler, delay) {
        void 0 === delay && (delay = 0);
        var _this = _super.call(this, destination) || this;
        _this.scheduler = scheduler;
        _this.delay = delay;
        return _this;
      }
      ObserveOnSubscriber.dispatch = function(arg) {
        var notification = arg.notification, destination = arg.destination;
        notification.observe(destination);
        this.unsubscribe();
      };
      ObserveOnSubscriber.prototype.scheduleMessage = function(notification) {
        var destination = this.destination;
        destination.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch, this.delay, new ObserveOnMessage(notification, this.destination)));
      };
      ObserveOnSubscriber.prototype._next = function(value) {
        this.scheduleMessage(Notification_1.Notification.createNext(value));
      };
      ObserveOnSubscriber.prototype._error = function(err) {
        this.scheduleMessage(Notification_1.Notification.createError(err));
        this.unsubscribe();
      };
      ObserveOnSubscriber.prototype._complete = function() {
        this.scheduleMessage(Notification_1.Notification.createComplete());
        this.unsubscribe();
      };
      return ObserveOnSubscriber;
    }(Subscriber_1.Subscriber);
    exports.ObserveOnSubscriber = ObserveOnSubscriber;
    var ObserveOnMessage = function() {
      function ObserveOnMessage(notification, destination) {
        this.notification = notification;
        this.destination = destination;
      }
      return ObserveOnMessage;
    }();
    exports.ObserveOnMessage = ObserveOnMessage;
  }, {
    "../Notification": 51,
    "../Subscriber": 59
  } ],
  144: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var from_1 = require("../observable/from");
    var isArray_1 = require("../util/isArray");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var InnerSubscriber_1 = require("../InnerSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function onErrorResumeNext() {
      var nextSources = [];
      for (var _i = 0; _i < arguments.length; _i++) nextSources[_i] = arguments[_i];
      1 === nextSources.length && isArray_1.isArray(nextSources[0]) && (nextSources = nextSources[0]);
      return function(source) {
        return source.lift(new OnErrorResumeNextOperator(nextSources));
      };
    }
    exports.onErrorResumeNext = onErrorResumeNext;
    function onErrorResumeNextStatic() {
      var nextSources = [];
      for (var _i = 0; _i < arguments.length; _i++) nextSources[_i] = arguments[_i];
      var source = null;
      1 === nextSources.length && isArray_1.isArray(nextSources[0]) && (nextSources = nextSources[0]);
      source = nextSources.shift();
      return from_1.from(source, null).lift(new OnErrorResumeNextOperator(nextSources));
    }
    exports.onErrorResumeNextStatic = onErrorResumeNextStatic;
    var OnErrorResumeNextOperator = function() {
      function OnErrorResumeNextOperator(nextSources) {
        this.nextSources = nextSources;
      }
      OnErrorResumeNextOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new OnErrorResumeNextSubscriber(subscriber, this.nextSources));
      };
      return OnErrorResumeNextOperator;
    }();
    var OnErrorResumeNextSubscriber = function(_super) {
      __extends(OnErrorResumeNextSubscriber, _super);
      function OnErrorResumeNextSubscriber(destination, nextSources) {
        var _this = _super.call(this, destination) || this;
        _this.destination = destination;
        _this.nextSources = nextSources;
        return _this;
      }
      OnErrorResumeNextSubscriber.prototype.notifyError = function(error, innerSub) {
        this.subscribeToNextSource();
      };
      OnErrorResumeNextSubscriber.prototype.notifyComplete = function(innerSub) {
        this.subscribeToNextSource();
      };
      OnErrorResumeNextSubscriber.prototype._error = function(err) {
        this.subscribeToNextSource();
        this.unsubscribe();
      };
      OnErrorResumeNextSubscriber.prototype._complete = function() {
        this.subscribeToNextSource();
        this.unsubscribe();
      };
      OnErrorResumeNextSubscriber.prototype.subscribeToNextSource = function() {
        var next = this.nextSources.shift();
        if (!next) this.destination.complete(); else {
          var innerSubscriber = new InnerSubscriber_1.InnerSubscriber(this, void 0, void 0);
          var destination = this.destination;
          destination.add(innerSubscriber);
          subscribeToResult_1.subscribeToResult(this, next, void 0, void 0, innerSubscriber);
        }
      };
      return OnErrorResumeNextSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../InnerSubscriber": 50,
    "../OuterSubscriber": 54,
    "../observable/from": 71,
    "../util/isArray": 222,
    "../util/subscribeToResult": 241
  } ],
  145: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function pairwise() {
      return function(source) {
        return source.lift(new PairwiseOperator());
      };
    }
    exports.pairwise = pairwise;
    var PairwiseOperator = function() {
      function PairwiseOperator() {}
      PairwiseOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new PairwiseSubscriber(subscriber));
      };
      return PairwiseOperator;
    }();
    var PairwiseSubscriber = function(_super) {
      __extends(PairwiseSubscriber, _super);
      function PairwiseSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.hasPrev = false;
        return _this;
      }
      PairwiseSubscriber.prototype._next = function(value) {
        this.hasPrev ? this.destination.next([ this.prev, value ]) : this.hasPrev = true;
        this.prev = value;
      };
      return PairwiseSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59
  } ],
  146: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var not_1 = require("../util/not");
    var filter_1 = require("./filter");
    function partition(predicate, thisArg) {
      return function(source) {
        return [ filter_1.filter(predicate, thisArg)(source), filter_1.filter(not_1.not(predicate, thisArg))(source) ];
      };
    }
    exports.partition = partition;
  }, {
    "../util/not": 234,
    "./filter": 123
  } ],
  147: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var map_1 = require("./map");
    function pluck() {
      var properties = [];
      for (var _i = 0; _i < arguments.length; _i++) properties[_i] = arguments[_i];
      var length = properties.length;
      if (0 === length) throw new Error("list of properties cannot be empty.");
      return function(source) {
        return map_1.map(plucker(properties, length))(source);
      };
    }
    exports.pluck = pluck;
    function plucker(props, length) {
      var mapper = function(x) {
        var currentProp = x;
        for (var i = 0; i < length; i++) {
          var p = currentProp[props[i]];
          if ("undefined" === typeof p) return;
          currentProp = p;
        }
        return currentProp;
      };
      return mapper;
    }
  }, {
    "./map": 132
  } ],
  148: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subject_1 = require("../Subject");
    var multicast_1 = require("./multicast");
    function publish(selector) {
      return selector ? multicast_1.multicast(function() {
        return new Subject_1.Subject();
      }, selector) : multicast_1.multicast(new Subject_1.Subject());
    }
    exports.publish = publish;
  }, {
    "../Subject": 57,
    "./multicast": 142
  } ],
  149: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var BehaviorSubject_1 = require("../BehaviorSubject");
    var multicast_1 = require("./multicast");
    function publishBehavior(value) {
      return function(source) {
        return multicast_1.multicast(new BehaviorSubject_1.BehaviorSubject(value))(source);
      };
    }
    exports.publishBehavior = publishBehavior;
  }, {
    "../BehaviorSubject": 49,
    "./multicast": 142
  } ],
  150: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AsyncSubject_1 = require("../AsyncSubject");
    var multicast_1 = require("./multicast");
    function publishLast() {
      return function(source) {
        return multicast_1.multicast(new AsyncSubject_1.AsyncSubject())(source);
      };
    }
    exports.publishLast = publishLast;
  }, {
    "../AsyncSubject": 48,
    "./multicast": 142
  } ],
  151: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ReplaySubject_1 = require("../ReplaySubject");
    var multicast_1 = require("./multicast");
    function publishReplay(bufferSize, windowTime, selectorOrScheduler, scheduler) {
      selectorOrScheduler && "function" !== typeof selectorOrScheduler && (scheduler = selectorOrScheduler);
      var selector = "function" === typeof selectorOrScheduler ? selectorOrScheduler : void 0;
      var subject = new ReplaySubject_1.ReplaySubject(bufferSize, windowTime, scheduler);
      return function(source) {
        return multicast_1.multicast(function() {
          return subject;
        }, selector)(source);
      };
    }
    exports.publishReplay = publishReplay;
  }, {
    "../ReplaySubject": 55,
    "./multicast": 142
  } ],
  152: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var isArray_1 = require("../util/isArray");
    var race_1 = require("../observable/race");
    function race() {
      var observables = [];
      for (var _i = 0; _i < arguments.length; _i++) observables[_i] = arguments[_i];
      return function raceOperatorFunction(source) {
        1 === observables.length && isArray_1.isArray(observables[0]) && (observables = observables[0]);
        return source.lift.call(race_1.race.apply(void 0, [ source ].concat(observables)));
      };
    }
    exports.race = race;
  }, {
    "../observable/race": 86,
    "../util/isArray": 222
  } ],
  153: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var scan_1 = require("./scan");
    var takeLast_1 = require("./takeLast");
    var defaultIfEmpty_1 = require("./defaultIfEmpty");
    var pipe_1 = require("../util/pipe");
    function reduce(accumulator, seed) {
      if (arguments.length >= 2) return function reduceOperatorFunctionWithSeed(source) {
        return pipe_1.pipe(scan_1.scan(accumulator, seed), takeLast_1.takeLast(1), defaultIfEmpty_1.defaultIfEmpty(seed))(source);
      };
      return function reduceOperatorFunction(source) {
        return pipe_1.pipe(scan_1.scan(function(acc, value, index) {
          return accumulator(acc, value, index + 1);
        }), takeLast_1.takeLast(1))(source);
      };
    }
    exports.reduce = reduce;
  }, {
    "../util/pipe": 235,
    "./defaultIfEmpty": 110,
    "./scan": 161,
    "./takeLast": 176
  } ],
  154: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function refCount() {
      return function refCountOperatorFunction(source) {
        return source.lift(new RefCountOperator(source));
      };
    }
    exports.refCount = refCount;
    var RefCountOperator = function() {
      function RefCountOperator(connectable) {
        this.connectable = connectable;
      }
      RefCountOperator.prototype.call = function(subscriber, source) {
        var connectable = this.connectable;
        connectable._refCount++;
        var refCounter = new RefCountSubscriber(subscriber, connectable);
        var subscription = source.subscribe(refCounter);
        refCounter.closed || (refCounter.connection = connectable.connect());
        return subscription;
      };
      return RefCountOperator;
    }();
    var RefCountSubscriber = function(_super) {
      __extends(RefCountSubscriber, _super);
      function RefCountSubscriber(destination, connectable) {
        var _this = _super.call(this, destination) || this;
        _this.connectable = connectable;
        return _this;
      }
      RefCountSubscriber.prototype._unsubscribe = function() {
        var connectable = this.connectable;
        if (!connectable) {
          this.connection = null;
          return;
        }
        this.connectable = null;
        var refCount = connectable._refCount;
        if (refCount <= 0) {
          this.connection = null;
          return;
        }
        connectable._refCount = refCount - 1;
        if (refCount > 1) {
          this.connection = null;
          return;
        }
        var connection = this.connection;
        var sharedConnection = connectable._connection;
        this.connection = null;
        !sharedConnection || connection && sharedConnection !== connection || sharedConnection.unsubscribe();
      };
      return RefCountSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59
  } ],
  155: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var empty_1 = require("../observable/empty");
    function repeat(count) {
      void 0 === count && (count = -1);
      return function(source) {
        return 0 === count ? empty_1.empty() : count < 0 ? source.lift(new RepeatOperator(-1, source)) : source.lift(new RepeatOperator(count - 1, source));
      };
    }
    exports.repeat = repeat;
    var RepeatOperator = function() {
      function RepeatOperator(count, source) {
        this.count = count;
        this.source = source;
      }
      RepeatOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new RepeatSubscriber(subscriber, this.count, this.source));
      };
      return RepeatOperator;
    }();
    var RepeatSubscriber = function(_super) {
      __extends(RepeatSubscriber, _super);
      function RepeatSubscriber(destination, count, source) {
        var _this = _super.call(this, destination) || this;
        _this.count = count;
        _this.source = source;
        return _this;
      }
      RepeatSubscriber.prototype.complete = function() {
        if (!this.isStopped) {
          var _a = this, source = _a.source, count = _a.count;
          if (0 === count) return _super.prototype.complete.call(this);
          count > -1 && (this.count = count - 1);
          source.subscribe(this._unsubscribeAndRecycle());
        }
      };
      return RepeatSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59,
    "../observable/empty": 69
  } ],
  156: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subject_1 = require("../Subject");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function repeatWhen(notifier) {
      return function(source) {
        return source.lift(new RepeatWhenOperator(notifier));
      };
    }
    exports.repeatWhen = repeatWhen;
    var RepeatWhenOperator = function() {
      function RepeatWhenOperator(notifier) {
        this.notifier = notifier;
      }
      RepeatWhenOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new RepeatWhenSubscriber(subscriber, this.notifier, source));
      };
      return RepeatWhenOperator;
    }();
    var RepeatWhenSubscriber = function(_super) {
      __extends(RepeatWhenSubscriber, _super);
      function RepeatWhenSubscriber(destination, notifier, source) {
        var _this = _super.call(this, destination) || this;
        _this.notifier = notifier;
        _this.source = source;
        _this.sourceIsBeingSubscribedTo = true;
        return _this;
      }
      RepeatWhenSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.sourceIsBeingSubscribedTo = true;
        this.source.subscribe(this);
      };
      RepeatWhenSubscriber.prototype.notifyComplete = function(innerSub) {
        if (false === this.sourceIsBeingSubscribedTo) return _super.prototype.complete.call(this);
      };
      RepeatWhenSubscriber.prototype.complete = function() {
        this.sourceIsBeingSubscribedTo = false;
        if (!this.isStopped) {
          this.retries || this.subscribeToRetries();
          if (!this.retriesSubscription || this.retriesSubscription.closed) return _super.prototype.complete.call(this);
          this._unsubscribeAndRecycle();
          this.notifications.next();
        }
      };
      RepeatWhenSubscriber.prototype._unsubscribe = function() {
        var _a = this, notifications = _a.notifications, retriesSubscription = _a.retriesSubscription;
        if (notifications) {
          notifications.unsubscribe();
          this.notifications = null;
        }
        if (retriesSubscription) {
          retriesSubscription.unsubscribe();
          this.retriesSubscription = null;
        }
        this.retries = null;
      };
      RepeatWhenSubscriber.prototype._unsubscribeAndRecycle = function() {
        var _unsubscribe = this._unsubscribe;
        this._unsubscribe = null;
        _super.prototype._unsubscribeAndRecycle.call(this);
        this._unsubscribe = _unsubscribe;
        return this;
      };
      RepeatWhenSubscriber.prototype.subscribeToRetries = function() {
        this.notifications = new Subject_1.Subject();
        var retries;
        try {
          var notifier = this.notifier;
          retries = notifier(this.notifications);
        } catch (e) {
          return _super.prototype.complete.call(this);
        }
        this.retries = retries;
        this.retriesSubscription = subscribeToResult_1.subscribeToResult(this, retries);
      };
      return RepeatWhenSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 54,
    "../Subject": 57,
    "../util/subscribeToResult": 241
  } ],
  157: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function retry(count) {
      void 0 === count && (count = -1);
      return function(source) {
        return source.lift(new RetryOperator(count, source));
      };
    }
    exports.retry = retry;
    var RetryOperator = function() {
      function RetryOperator(count, source) {
        this.count = count;
        this.source = source;
      }
      RetryOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new RetrySubscriber(subscriber, this.count, this.source));
      };
      return RetryOperator;
    }();
    var RetrySubscriber = function(_super) {
      __extends(RetrySubscriber, _super);
      function RetrySubscriber(destination, count, source) {
        var _this = _super.call(this, destination) || this;
        _this.count = count;
        _this.source = source;
        return _this;
      }
      RetrySubscriber.prototype.error = function(err) {
        if (!this.isStopped) {
          var _a = this, source = _a.source, count = _a.count;
          if (0 === count) return _super.prototype.error.call(this, err);
          count > -1 && (this.count = count - 1);
          source.subscribe(this._unsubscribeAndRecycle());
        }
      };
      return RetrySubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59
  } ],
  158: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subject_1 = require("../Subject");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function retryWhen(notifier) {
      return function(source) {
        return source.lift(new RetryWhenOperator(notifier, source));
      };
    }
    exports.retryWhen = retryWhen;
    var RetryWhenOperator = function() {
      function RetryWhenOperator(notifier, source) {
        this.notifier = notifier;
        this.source = source;
      }
      RetryWhenOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new RetryWhenSubscriber(subscriber, this.notifier, this.source));
      };
      return RetryWhenOperator;
    }();
    var RetryWhenSubscriber = function(_super) {
      __extends(RetryWhenSubscriber, _super);
      function RetryWhenSubscriber(destination, notifier, source) {
        var _this = _super.call(this, destination) || this;
        _this.notifier = notifier;
        _this.source = source;
        return _this;
      }
      RetryWhenSubscriber.prototype.error = function(err) {
        if (!this.isStopped) {
          var errors = this.errors;
          var retries = this.retries;
          var retriesSubscription = this.retriesSubscription;
          if (retries) {
            this.errors = null;
            this.retriesSubscription = null;
          } else {
            errors = new Subject_1.Subject();
            try {
              var notifier = this.notifier;
              retries = notifier(errors);
            } catch (e) {
              return _super.prototype.error.call(this, e);
            }
            retriesSubscription = subscribeToResult_1.subscribeToResult(this, retries);
          }
          this._unsubscribeAndRecycle();
          this.errors = errors;
          this.retries = retries;
          this.retriesSubscription = retriesSubscription;
          errors.next(err);
        }
      };
      RetryWhenSubscriber.prototype._unsubscribe = function() {
        var _a = this, errors = _a.errors, retriesSubscription = _a.retriesSubscription;
        if (errors) {
          errors.unsubscribe();
          this.errors = null;
        }
        if (retriesSubscription) {
          retriesSubscription.unsubscribe();
          this.retriesSubscription = null;
        }
        this.retries = null;
      };
      RetryWhenSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        var _unsubscribe = this._unsubscribe;
        this._unsubscribe = null;
        this._unsubscribeAndRecycle();
        this._unsubscribe = _unsubscribe;
        this.source.subscribe(this);
      };
      return RetryWhenSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 54,
    "../Subject": 57,
    "../util/subscribeToResult": 241
  } ],
  159: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function sample(notifier) {
      return function(source) {
        return source.lift(new SampleOperator(notifier));
      };
    }
    exports.sample = sample;
    var SampleOperator = function() {
      function SampleOperator(notifier) {
        this.notifier = notifier;
      }
      SampleOperator.prototype.call = function(subscriber, source) {
        var sampleSubscriber = new SampleSubscriber(subscriber);
        var subscription = source.subscribe(sampleSubscriber);
        subscription.add(subscribeToResult_1.subscribeToResult(sampleSubscriber, this.notifier));
        return subscription;
      };
      return SampleOperator;
    }();
    var SampleSubscriber = function(_super) {
      __extends(SampleSubscriber, _super);
      function SampleSubscriber() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.hasValue = false;
        return _this;
      }
      SampleSubscriber.prototype._next = function(value) {
        this.value = value;
        this.hasValue = true;
      };
      SampleSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.emitValue();
      };
      SampleSubscriber.prototype.notifyComplete = function() {
        this.emitValue();
      };
      SampleSubscriber.prototype.emitValue = function() {
        if (this.hasValue) {
          this.hasValue = false;
          this.destination.next(this.value);
        }
      };
      return SampleSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 54,
    "../util/subscribeToResult": 241
  } ],
  160: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var async_1 = require("../scheduler/async");
    function sampleTime(period, scheduler) {
      void 0 === scheduler && (scheduler = async_1.async);
      return function(source) {
        return source.lift(new SampleTimeOperator(period, scheduler));
      };
    }
    exports.sampleTime = sampleTime;
    var SampleTimeOperator = function() {
      function SampleTimeOperator(period, scheduler) {
        this.period = period;
        this.scheduler = scheduler;
      }
      SampleTimeOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new SampleTimeSubscriber(subscriber, this.period, this.scheduler));
      };
      return SampleTimeOperator;
    }();
    var SampleTimeSubscriber = function(_super) {
      __extends(SampleTimeSubscriber, _super);
      function SampleTimeSubscriber(destination, period, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.period = period;
        _this.scheduler = scheduler;
        _this.hasValue = false;
        _this.add(scheduler.schedule(dispatchNotification, period, {
          subscriber: _this,
          period: period
        }));
        return _this;
      }
      SampleTimeSubscriber.prototype._next = function(value) {
        this.lastValue = value;
        this.hasValue = true;
      };
      SampleTimeSubscriber.prototype.notifyNext = function() {
        if (this.hasValue) {
          this.hasValue = false;
          this.destination.next(this.lastValue);
        }
      };
      return SampleTimeSubscriber;
    }(Subscriber_1.Subscriber);
    function dispatchNotification(state) {
      var subscriber = state.subscriber, period = state.period;
      subscriber.notifyNext();
      this.schedule(state, period);
    }
  }, {
    "../Subscriber": 59,
    "../scheduler/async": 208
  } ],
  161: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function scan(accumulator, seed) {
      var hasSeed = false;
      arguments.length >= 2 && (hasSeed = true);
      return function scanOperatorFunction(source) {
        return source.lift(new ScanOperator(accumulator, seed, hasSeed));
      };
    }
    exports.scan = scan;
    var ScanOperator = function() {
      function ScanOperator(accumulator, seed, hasSeed) {
        void 0 === hasSeed && (hasSeed = false);
        this.accumulator = accumulator;
        this.seed = seed;
        this.hasSeed = hasSeed;
      }
      ScanOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new ScanSubscriber(subscriber, this.accumulator, this.seed, this.hasSeed));
      };
      return ScanOperator;
    }();
    var ScanSubscriber = function(_super) {
      __extends(ScanSubscriber, _super);
      function ScanSubscriber(destination, accumulator, _seed, hasSeed) {
        var _this = _super.call(this, destination) || this;
        _this.accumulator = accumulator;
        _this._seed = _seed;
        _this.hasSeed = hasSeed;
        _this.index = 0;
        return _this;
      }
      Object.defineProperty(ScanSubscriber.prototype, "seed", {
        get: function() {
          return this._seed;
        },
        set: function(value) {
          this.hasSeed = true;
          this._seed = value;
        },
        enumerable: true,
        configurable: true
      });
      ScanSubscriber.prototype._next = function(value) {
        if (this.hasSeed) return this._tryNext(value);
        this.seed = value;
        this.destination.next(value);
      };
      ScanSubscriber.prototype._tryNext = function(value) {
        var index = this.index++;
        var result;
        try {
          result = this.accumulator(this.seed, value, index);
        } catch (err) {
          this.destination.error(err);
        }
        this.seed = result;
        this.destination.next(result);
      };
      return ScanSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59
  } ],
  162: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function sequenceEqual(compareTo, comparator) {
      return function(source) {
        return source.lift(new SequenceEqualOperator(compareTo, comparator));
      };
    }
    exports.sequenceEqual = sequenceEqual;
    var SequenceEqualOperator = function() {
      function SequenceEqualOperator(compareTo, comparator) {
        this.compareTo = compareTo;
        this.comparator = comparator;
      }
      SequenceEqualOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new SequenceEqualSubscriber(subscriber, this.compareTo, this.comparator));
      };
      return SequenceEqualOperator;
    }();
    exports.SequenceEqualOperator = SequenceEqualOperator;
    var SequenceEqualSubscriber = function(_super) {
      __extends(SequenceEqualSubscriber, _super);
      function SequenceEqualSubscriber(destination, compareTo, comparator) {
        var _this = _super.call(this, destination) || this;
        _this.compareTo = compareTo;
        _this.comparator = comparator;
        _this._a = [];
        _this._b = [];
        _this._oneComplete = false;
        _this.destination.add(compareTo.subscribe(new SequenceEqualCompareToSubscriber(destination, _this)));
        return _this;
      }
      SequenceEqualSubscriber.prototype._next = function(value) {
        if (this._oneComplete && 0 === this._b.length) this.emit(false); else {
          this._a.push(value);
          this.checkValues();
        }
      };
      SequenceEqualSubscriber.prototype._complete = function() {
        this._oneComplete ? this.emit(0 === this._a.length && 0 === this._b.length) : this._oneComplete = true;
        this.unsubscribe();
      };
      SequenceEqualSubscriber.prototype.checkValues = function() {
        var _c = this, _a = _c._a, _b = _c._b, comparator = _c.comparator;
        while (_a.length > 0 && _b.length > 0) {
          var a = _a.shift();
          var b = _b.shift();
          var areEqual = false;
          try {
            areEqual = comparator ? comparator(a, b) : a === b;
          } catch (e) {
            this.destination.error(e);
          }
          areEqual || this.emit(false);
        }
      };
      SequenceEqualSubscriber.prototype.emit = function(value) {
        var destination = this.destination;
        destination.next(value);
        destination.complete();
      };
      SequenceEqualSubscriber.prototype.nextB = function(value) {
        if (this._oneComplete && 0 === this._a.length) this.emit(false); else {
          this._b.push(value);
          this.checkValues();
        }
      };
      SequenceEqualSubscriber.prototype.completeB = function() {
        this._oneComplete ? this.emit(0 === this._a.length && 0 === this._b.length) : this._oneComplete = true;
      };
      return SequenceEqualSubscriber;
    }(Subscriber_1.Subscriber);
    exports.SequenceEqualSubscriber = SequenceEqualSubscriber;
    var SequenceEqualCompareToSubscriber = function(_super) {
      __extends(SequenceEqualCompareToSubscriber, _super);
      function SequenceEqualCompareToSubscriber(destination, parent) {
        var _this = _super.call(this, destination) || this;
        _this.parent = parent;
        return _this;
      }
      SequenceEqualCompareToSubscriber.prototype._next = function(value) {
        this.parent.nextB(value);
      };
      SequenceEqualCompareToSubscriber.prototype._error = function(err) {
        this.parent.error(err);
        this.unsubscribe();
      };
      SequenceEqualCompareToSubscriber.prototype._complete = function() {
        this.parent.completeB();
        this.unsubscribe();
      };
      return SequenceEqualCompareToSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59
  } ],
  163: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var multicast_1 = require("./multicast");
    var refCount_1 = require("./refCount");
    var Subject_1 = require("../Subject");
    function shareSubjectFactory() {
      return new Subject_1.Subject();
    }
    function share() {
      return function(source) {
        return refCount_1.refCount()(multicast_1.multicast(shareSubjectFactory)(source));
      };
    }
    exports.share = share;
  }, {
    "../Subject": 57,
    "./multicast": 142,
    "./refCount": 154
  } ],
  164: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ReplaySubject_1 = require("../ReplaySubject");
    function shareReplay(configOrBufferSize, windowTime, scheduler) {
      var config;
      config = configOrBufferSize && "object" === typeof configOrBufferSize ? configOrBufferSize : {
        bufferSize: configOrBufferSize,
        windowTime: windowTime,
        refCount: false,
        scheduler: scheduler
      };
      return function(source) {
        return source.lift(shareReplayOperator(config));
      };
    }
    exports.shareReplay = shareReplay;
    function shareReplayOperator(_a) {
      var _b = _a.bufferSize, bufferSize = void 0 === _b ? Number.POSITIVE_INFINITY : _b, _c = _a.windowTime, windowTime = void 0 === _c ? Number.POSITIVE_INFINITY : _c, useRefCount = _a.refCount, scheduler = _a.scheduler;
      var subject;
      var refCount = 0;
      var subscription;
      var hasError = false;
      var isComplete = false;
      return function shareReplayOperation(source) {
        refCount++;
        if (!subject || hasError) {
          hasError = false;
          subject = new ReplaySubject_1.ReplaySubject(bufferSize, windowTime, scheduler);
          subscription = source.subscribe({
            next: function(value) {
              subject.next(value);
            },
            error: function(err) {
              hasError = true;
              subject.error(err);
            },
            complete: function() {
              isComplete = true;
              subject.complete();
            }
          });
        }
        var innerSub = subject.subscribe(this);
        this.add(function() {
          refCount--;
          innerSub.unsubscribe();
          if (subscription && !isComplete && useRefCount && 0 === refCount) {
            subscription.unsubscribe();
            subscription = void 0;
            subject = void 0;
          }
        });
      };
    }
  }, {
    "../ReplaySubject": 55
  } ],
  165: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var EmptyError_1 = require("../util/EmptyError");
    function single(predicate) {
      return function(source) {
        return source.lift(new SingleOperator(predicate, source));
      };
    }
    exports.single = single;
    var SingleOperator = function() {
      function SingleOperator(predicate, source) {
        this.predicate = predicate;
        this.source = source;
      }
      SingleOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new SingleSubscriber(subscriber, this.predicate, this.source));
      };
      return SingleOperator;
    }();
    var SingleSubscriber = function(_super) {
      __extends(SingleSubscriber, _super);
      function SingleSubscriber(destination, predicate, source) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.source = source;
        _this.seenValue = false;
        _this.index = 0;
        return _this;
      }
      SingleSubscriber.prototype.applySingleValue = function(value) {
        if (this.seenValue) this.destination.error("Sequence contains more than one element"); else {
          this.seenValue = true;
          this.singleValue = value;
        }
      };
      SingleSubscriber.prototype._next = function(value) {
        var index = this.index++;
        this.predicate ? this.tryNext(value, index) : this.applySingleValue(value);
      };
      SingleSubscriber.prototype.tryNext = function(value, index) {
        try {
          this.predicate(value, index, this.source) && this.applySingleValue(value);
        } catch (err) {
          this.destination.error(err);
        }
      };
      SingleSubscriber.prototype._complete = function() {
        var destination = this.destination;
        if (this.index > 0) {
          destination.next(this.seenValue ? this.singleValue : void 0);
          destination.complete();
        } else destination.error(new EmptyError_1.EmptyError());
      };
      return SingleSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59,
    "../util/EmptyError": 214
  } ],
  166: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function skip(count) {
      return function(source) {
        return source.lift(new SkipOperator(count));
      };
    }
    exports.skip = skip;
    var SkipOperator = function() {
      function SkipOperator(total) {
        this.total = total;
      }
      SkipOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new SkipSubscriber(subscriber, this.total));
      };
      return SkipOperator;
    }();
    var SkipSubscriber = function(_super) {
      __extends(SkipSubscriber, _super);
      function SkipSubscriber(destination, total) {
        var _this = _super.call(this, destination) || this;
        _this.total = total;
        _this.count = 0;
        return _this;
      }
      SkipSubscriber.prototype._next = function(x) {
        ++this.count > this.total && this.destination.next(x);
      };
      return SkipSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59
  } ],
  167: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var ArgumentOutOfRangeError_1 = require("../util/ArgumentOutOfRangeError");
    function skipLast(count) {
      return function(source) {
        return source.lift(new SkipLastOperator(count));
      };
    }
    exports.skipLast = skipLast;
    var SkipLastOperator = function() {
      function SkipLastOperator(_skipCount) {
        this._skipCount = _skipCount;
        if (this._skipCount < 0) throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError();
      }
      SkipLastOperator.prototype.call = function(subscriber, source) {
        return 0 === this._skipCount ? source.subscribe(new Subscriber_1.Subscriber(subscriber)) : source.subscribe(new SkipLastSubscriber(subscriber, this._skipCount));
      };
      return SkipLastOperator;
    }();
    var SkipLastSubscriber = function(_super) {
      __extends(SkipLastSubscriber, _super);
      function SkipLastSubscriber(destination, _skipCount) {
        var _this = _super.call(this, destination) || this;
        _this._skipCount = _skipCount;
        _this._count = 0;
        _this._ring = new Array(_skipCount);
        return _this;
      }
      SkipLastSubscriber.prototype._next = function(value) {
        var skipCount = this._skipCount;
        var count = this._count++;
        if (count < skipCount) this._ring[count] = value; else {
          var currentIndex = count % skipCount;
          var ring = this._ring;
          var oldValue = ring[currentIndex];
          ring[currentIndex] = value;
          this.destination.next(oldValue);
        }
      };
      return SkipLastSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59,
    "../util/ArgumentOutOfRangeError": 213
  } ],
  168: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var InnerSubscriber_1 = require("../InnerSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function skipUntil(notifier) {
      return function(source) {
        return source.lift(new SkipUntilOperator(notifier));
      };
    }
    exports.skipUntil = skipUntil;
    var SkipUntilOperator = function() {
      function SkipUntilOperator(notifier) {
        this.notifier = notifier;
      }
      SkipUntilOperator.prototype.call = function(destination, source) {
        return source.subscribe(new SkipUntilSubscriber(destination, this.notifier));
      };
      return SkipUntilOperator;
    }();
    var SkipUntilSubscriber = function(_super) {
      __extends(SkipUntilSubscriber, _super);
      function SkipUntilSubscriber(destination, notifier) {
        var _this = _super.call(this, destination) || this;
        _this.hasValue = false;
        var innerSubscriber = new InnerSubscriber_1.InnerSubscriber(_this, void 0, void 0);
        _this.add(innerSubscriber);
        _this.innerSubscription = innerSubscriber;
        subscribeToResult_1.subscribeToResult(_this, notifier, void 0, void 0, innerSubscriber);
        return _this;
      }
      SkipUntilSubscriber.prototype._next = function(value) {
        this.hasValue && _super.prototype._next.call(this, value);
      };
      SkipUntilSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.hasValue = true;
        this.innerSubscription && this.innerSubscription.unsubscribe();
      };
      SkipUntilSubscriber.prototype.notifyComplete = function() {};
      return SkipUntilSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../InnerSubscriber": 50,
    "../OuterSubscriber": 54,
    "../util/subscribeToResult": 241
  } ],
  169: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function skipWhile(predicate) {
      return function(source) {
        return source.lift(new SkipWhileOperator(predicate));
      };
    }
    exports.skipWhile = skipWhile;
    var SkipWhileOperator = function() {
      function SkipWhileOperator(predicate) {
        this.predicate = predicate;
      }
      SkipWhileOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new SkipWhileSubscriber(subscriber, this.predicate));
      };
      return SkipWhileOperator;
    }();
    var SkipWhileSubscriber = function(_super) {
      __extends(SkipWhileSubscriber, _super);
      function SkipWhileSubscriber(destination, predicate) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.skipping = true;
        _this.index = 0;
        return _this;
      }
      SkipWhileSubscriber.prototype._next = function(value) {
        var destination = this.destination;
        this.skipping && this.tryCallPredicate(value);
        this.skipping || destination.next(value);
      };
      SkipWhileSubscriber.prototype.tryCallPredicate = function(value) {
        try {
          var result = this.predicate(value, this.index++);
          this.skipping = Boolean(result);
        } catch (err) {
          this.destination.error(err);
        }
      };
      return SkipWhileSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59
  } ],
  170: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var fromArray_1 = require("../observable/fromArray");
    var scalar_1 = require("../observable/scalar");
    var empty_1 = require("../observable/empty");
    var concat_1 = require("../observable/concat");
    var isScheduler_1 = require("../util/isScheduler");
    function startWith() {
      var array = [];
      for (var _i = 0; _i < arguments.length; _i++) array[_i] = arguments[_i];
      return function(source) {
        var scheduler = array[array.length - 1];
        isScheduler_1.isScheduler(scheduler) ? array.pop() : scheduler = null;
        var len = array.length;
        return 1 !== len || scheduler ? len > 0 ? concat_1.concat(fromArray_1.fromArray(array, scheduler), source) : concat_1.concat(empty_1.empty(scheduler), source) : concat_1.concat(scalar_1.scalar(array[0]), source);
      };
    }
    exports.startWith = startWith;
  }, {
    "../observable/concat": 67,
    "../observable/empty": 69,
    "../observable/fromArray": 72,
    "../observable/scalar": 88,
    "../util/isScheduler": 232
  } ],
  171: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var SubscribeOnObservable_1 = require("../observable/SubscribeOnObservable");
    function subscribeOn(scheduler, delay) {
      void 0 === delay && (delay = 0);
      return function subscribeOnOperatorFunction(source) {
        return source.lift(new SubscribeOnOperator(scheduler, delay));
      };
    }
    exports.subscribeOn = subscribeOn;
    var SubscribeOnOperator = function() {
      function SubscribeOnOperator(scheduler, delay) {
        this.scheduler = scheduler;
        this.delay = delay;
      }
      SubscribeOnOperator.prototype.call = function(subscriber, source) {
        return new SubscribeOnObservable_1.SubscribeOnObservable(source, this.delay, this.scheduler).subscribe(subscriber);
      };
      return SubscribeOnOperator;
    }();
  }, {
    "../observable/SubscribeOnObservable": 63
  } ],
  172: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var switchMap_1 = require("./switchMap");
    var identity_1 = require("../util/identity");
    function switchAll() {
      return switchMap_1.switchMap(identity_1.identity);
    }
    exports.switchAll = switchAll;
  }, {
    "../util/identity": 221,
    "./switchMap": 173
  } ],
  173: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var InnerSubscriber_1 = require("../InnerSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    var map_1 = require("./map");
    var from_1 = require("../observable/from");
    function switchMap(project, resultSelector) {
      if ("function" === typeof resultSelector) return function(source) {
        return source.pipe(switchMap(function(a, i) {
          return from_1.from(project(a, i)).pipe(map_1.map(function(b, ii) {
            return resultSelector(a, b, i, ii);
          }));
        }));
      };
      return function(source) {
        return source.lift(new SwitchMapOperator(project));
      };
    }
    exports.switchMap = switchMap;
    var SwitchMapOperator = function() {
      function SwitchMapOperator(project) {
        this.project = project;
      }
      SwitchMapOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new SwitchMapSubscriber(subscriber, this.project));
      };
      return SwitchMapOperator;
    }();
    var SwitchMapSubscriber = function(_super) {
      __extends(SwitchMapSubscriber, _super);
      function SwitchMapSubscriber(destination, project) {
        var _this = _super.call(this, destination) || this;
        _this.project = project;
        _this.index = 0;
        return _this;
      }
      SwitchMapSubscriber.prototype._next = function(value) {
        var result;
        var index = this.index++;
        try {
          result = this.project(value, index);
        } catch (error) {
          this.destination.error(error);
          return;
        }
        this._innerSub(result, value, index);
      };
      SwitchMapSubscriber.prototype._innerSub = function(result, value, index) {
        var innerSubscription = this.innerSubscription;
        innerSubscription && innerSubscription.unsubscribe();
        var innerSubscriber = new InnerSubscriber_1.InnerSubscriber(this, void 0, void 0);
        var destination = this.destination;
        destination.add(innerSubscriber);
        this.innerSubscription = subscribeToResult_1.subscribeToResult(this, result, value, index, innerSubscriber);
      };
      SwitchMapSubscriber.prototype._complete = function() {
        var innerSubscription = this.innerSubscription;
        innerSubscription && !innerSubscription.closed || _super.prototype._complete.call(this);
        this.unsubscribe();
      };
      SwitchMapSubscriber.prototype._unsubscribe = function() {
        this.innerSubscription = null;
      };
      SwitchMapSubscriber.prototype.notifyComplete = function(innerSub) {
        var destination = this.destination;
        destination.remove(innerSub);
        this.innerSubscription = null;
        this.isStopped && _super.prototype._complete.call(this);
      };
      SwitchMapSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.destination.next(innerValue);
      };
      return SwitchMapSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../InnerSubscriber": 50,
    "../OuterSubscriber": 54,
    "../observable/from": 71,
    "../util/subscribeToResult": 241,
    "./map": 132
  } ],
  174: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var switchMap_1 = require("./switchMap");
    function switchMapTo(innerObservable, resultSelector) {
      return resultSelector ? switchMap_1.switchMap(function() {
        return innerObservable;
      }, resultSelector) : switchMap_1.switchMap(function() {
        return innerObservable;
      });
    }
    exports.switchMapTo = switchMapTo;
  }, {
    "./switchMap": 173
  } ],
  175: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var ArgumentOutOfRangeError_1 = require("../util/ArgumentOutOfRangeError");
    var empty_1 = require("../observable/empty");
    function take(count) {
      return function(source) {
        return 0 === count ? empty_1.empty() : source.lift(new TakeOperator(count));
      };
    }
    exports.take = take;
    var TakeOperator = function() {
      function TakeOperator(total) {
        this.total = total;
        if (this.total < 0) throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError();
      }
      TakeOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new TakeSubscriber(subscriber, this.total));
      };
      return TakeOperator;
    }();
    var TakeSubscriber = function(_super) {
      __extends(TakeSubscriber, _super);
      function TakeSubscriber(destination, total) {
        var _this = _super.call(this, destination) || this;
        _this.total = total;
        _this.count = 0;
        return _this;
      }
      TakeSubscriber.prototype._next = function(value) {
        var total = this.total;
        var count = ++this.count;
        if (count <= total) {
          this.destination.next(value);
          if (count === total) {
            this.destination.complete();
            this.unsubscribe();
          }
        }
      };
      return TakeSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59,
    "../observable/empty": 69,
    "../util/ArgumentOutOfRangeError": 213
  } ],
  176: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var ArgumentOutOfRangeError_1 = require("../util/ArgumentOutOfRangeError");
    var empty_1 = require("../observable/empty");
    function takeLast(count) {
      return function takeLastOperatorFunction(source) {
        return 0 === count ? empty_1.empty() : source.lift(new TakeLastOperator(count));
      };
    }
    exports.takeLast = takeLast;
    var TakeLastOperator = function() {
      function TakeLastOperator(total) {
        this.total = total;
        if (this.total < 0) throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError();
      }
      TakeLastOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new TakeLastSubscriber(subscriber, this.total));
      };
      return TakeLastOperator;
    }();
    var TakeLastSubscriber = function(_super) {
      __extends(TakeLastSubscriber, _super);
      function TakeLastSubscriber(destination, total) {
        var _this = _super.call(this, destination) || this;
        _this.total = total;
        _this.ring = new Array();
        _this.count = 0;
        return _this;
      }
      TakeLastSubscriber.prototype._next = function(value) {
        var ring = this.ring;
        var total = this.total;
        var count = this.count++;
        if (ring.length < total) ring.push(value); else {
          var index = count % total;
          ring[index] = value;
        }
      };
      TakeLastSubscriber.prototype._complete = function() {
        var destination = this.destination;
        var count = this.count;
        if (count > 0) {
          var total = this.count >= this.total ? this.total : this.count;
          var ring = this.ring;
          for (var i = 0; i < total; i++) {
            var idx = count++ % total;
            destination.next(ring[idx]);
          }
        }
        destination.complete();
      };
      return TakeLastSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59,
    "../observable/empty": 69,
    "../util/ArgumentOutOfRangeError": 213
  } ],
  177: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function takeUntil(notifier) {
      return function(source) {
        return source.lift(new TakeUntilOperator(notifier));
      };
    }
    exports.takeUntil = takeUntil;
    var TakeUntilOperator = function() {
      function TakeUntilOperator(notifier) {
        this.notifier = notifier;
      }
      TakeUntilOperator.prototype.call = function(subscriber, source) {
        var takeUntilSubscriber = new TakeUntilSubscriber(subscriber);
        var notifierSubscription = subscribeToResult_1.subscribeToResult(takeUntilSubscriber, this.notifier);
        if (notifierSubscription && !takeUntilSubscriber.seenValue) {
          takeUntilSubscriber.add(notifierSubscription);
          return source.subscribe(takeUntilSubscriber);
        }
        return takeUntilSubscriber;
      };
      return TakeUntilOperator;
    }();
    var TakeUntilSubscriber = function(_super) {
      __extends(TakeUntilSubscriber, _super);
      function TakeUntilSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.seenValue = false;
        return _this;
      }
      TakeUntilSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.seenValue = true;
        this.complete();
      };
      TakeUntilSubscriber.prototype.notifyComplete = function() {};
      return TakeUntilSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 54,
    "../util/subscribeToResult": 241
  } ],
  178: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function takeWhile(predicate, inclusive) {
      void 0 === inclusive && (inclusive = false);
      return function(source) {
        return source.lift(new TakeWhileOperator(predicate, inclusive));
      };
    }
    exports.takeWhile = takeWhile;
    var TakeWhileOperator = function() {
      function TakeWhileOperator(predicate, inclusive) {
        this.predicate = predicate;
        this.inclusive = inclusive;
      }
      TakeWhileOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new TakeWhileSubscriber(subscriber, this.predicate, this.inclusive));
      };
      return TakeWhileOperator;
    }();
    var TakeWhileSubscriber = function(_super) {
      __extends(TakeWhileSubscriber, _super);
      function TakeWhileSubscriber(destination, predicate, inclusive) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.inclusive = inclusive;
        _this.index = 0;
        return _this;
      }
      TakeWhileSubscriber.prototype._next = function(value) {
        var destination = this.destination;
        var result;
        try {
          result = this.predicate(value, this.index++);
        } catch (err) {
          destination.error(err);
          return;
        }
        this.nextOrComplete(value, result);
      };
      TakeWhileSubscriber.prototype.nextOrComplete = function(value, predicateResult) {
        var destination = this.destination;
        if (Boolean(predicateResult)) destination.next(value); else {
          this.inclusive && destination.next(value);
          destination.complete();
        }
      };
      return TakeWhileSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59
  } ],
  179: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var noop_1 = require("../util/noop");
    var isFunction_1 = require("../util/isFunction");
    function tap(nextOrObserver, error, complete) {
      return function tapOperatorFunction(source) {
        return source.lift(new DoOperator(nextOrObserver, error, complete));
      };
    }
    exports.tap = tap;
    var DoOperator = function() {
      function DoOperator(nextOrObserver, error, complete) {
        this.nextOrObserver = nextOrObserver;
        this.error = error;
        this.complete = complete;
      }
      DoOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new TapSubscriber(subscriber, this.nextOrObserver, this.error, this.complete));
      };
      return DoOperator;
    }();
    var TapSubscriber = function(_super) {
      __extends(TapSubscriber, _super);
      function TapSubscriber(destination, observerOrNext, error, complete) {
        var _this = _super.call(this, destination) || this;
        _this._tapNext = noop_1.noop;
        _this._tapError = noop_1.noop;
        _this._tapComplete = noop_1.noop;
        _this._tapError = error || noop_1.noop;
        _this._tapComplete = complete || noop_1.noop;
        if (isFunction_1.isFunction(observerOrNext)) {
          _this._context = _this;
          _this._tapNext = observerOrNext;
        } else if (observerOrNext) {
          _this._context = observerOrNext;
          _this._tapNext = observerOrNext.next || noop_1.noop;
          _this._tapError = observerOrNext.error || noop_1.noop;
          _this._tapComplete = observerOrNext.complete || noop_1.noop;
        }
        return _this;
      }
      TapSubscriber.prototype._next = function(value) {
        try {
          this._tapNext.call(this._context, value);
        } catch (err) {
          this.destination.error(err);
          return;
        }
        this.destination.next(value);
      };
      TapSubscriber.prototype._error = function(err) {
        try {
          this._tapError.call(this._context, err);
        } catch (err) {
          this.destination.error(err);
          return;
        }
        this.destination.error(err);
      };
      TapSubscriber.prototype._complete = function() {
        try {
          this._tapComplete.call(this._context);
        } catch (err) {
          this.destination.error(err);
          return;
        }
        return this.destination.complete();
      };
      return TapSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 59,
    "../util/isFunction": 225,
    "../util/noop": 233
  } ],
  180: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    exports.defaultThrottleConfig = {
      leading: true,
      trailing: false
    };
    function throttle(durationSelector, config) {
      void 0 === config && (config = exports.defaultThrottleConfig);
      return function(source) {
        return source.lift(new ThrottleOperator(durationSelector, config.leading, config.trailing));
      };
    }
    exports.throttle = throttle;
    var ThrottleOperator = function() {
      function ThrottleOperator(durationSelector, leading, trailing) {
        this.durationSelector = durationSelector;
        this.leading = leading;
        this.trailing = trailing;
      }
      ThrottleOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new ThrottleSubscriber(subscriber, this.durationSelector, this.leading, this.trailing));
      };
      return ThrottleOperator;
    }();
    var ThrottleSubscriber = function(_super) {
      __extends(ThrottleSubscriber, _super);
      function ThrottleSubscriber(destination, durationSelector, _leading, _trailing) {
        var _this = _super.call(this, destination) || this;
        _this.destination = destination;
        _this.durationSelector = durationSelector;
        _this._leading = _leading;
        _this._trailing = _trailing;
        _this._hasValue = false;
        return _this;
      }
      ThrottleSubscriber.prototype._next = function(value) {
        this._hasValue = true;
        this._sendValue = value;
        this._throttled || (this._leading ? this.send() : this.throttle(value));
      };
      ThrottleSubscriber.prototype.send = function() {
        var _a = this, _hasValue = _a._hasValue, _sendValue = _a._sendValue;
        if (_hasValue) {
          this.destination.next(_sendValue);
          this.throttle(_sendValue);
        }
        this._hasValue = false;
        this._sendValue = null;
      };
      ThrottleSubscriber.prototype.throttle = function(value) {
        var duration = this.tryDurationSelector(value);
        !duration || this.add(this._throttled = subscribeToResult_1.subscribeToResult(this, duration));
      };
      ThrottleSubscriber.prototype.tryDurationSelector = function(value) {
        try {
          return this.durationSelector(value);
        } catch (err) {
          this.destination.error(err);
          return null;
        }
      };
      ThrottleSubscriber.prototype.throttlingDone = function() {
        var _a = this, _throttled = _a._throttled, _trailing = _a._trailing;
        _throttled && _throttled.unsubscribe();
        this._throttled = null;
        _trailing && this.send();
      };
      ThrottleSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.throttlingDone();
      };
      ThrottleSubscriber.prototype.notifyComplete = function() {
        this.throttlingDone();
      };
      return ThrottleSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 54,
    "../util/subscribeToResult": 241
  } ],
  181: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var async_1 = require("../scheduler/async");
    var throttle_1 = require("./throttle");
    function throttleTime(duration, scheduler, config) {
      void 0 === scheduler && (scheduler = async_1.async);
      void 0 === config && (config = throttle_1.defaultThrottleConfig);
      return function(source) {
        return source.lift(new ThrottleTimeOperator(duration, scheduler, config.leading, config.trailing));
      };
    }
    exports.throttleTime = throttleTime;
    var ThrottleTimeOperator = function() {
      function ThrottleTimeOperator(duration, scheduler, leading, trailing) {
        this.duration = duration;
        this.scheduler = scheduler;
        this.leading = leading;
        this.trailing = trailing;
      }
      ThrottleTimeOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new ThrottleTimeSubscriber(subscriber, this.duration, this.scheduler, this.leading, this.trailing));
      };
      return ThrottleTimeOperator;
    }();
    var ThrottleTimeSubscriber = function(_super) {
      __extends(ThrottleTimeSubscriber, _super);
      function ThrottleTimeSubscriber(destination, duration, scheduler, leading, trailing) {
        var _this = _super.call(this, destination) || this;
        _this.duration = duration;
        _this.scheduler = scheduler;
        _this.leading = leading;
        _this.trailing = trailing;
        _this._hasTrailingValue = false;
        _this._trailingValue = null;
        return _this;
      }
      ThrottleTimeSubscriber.prototype._next = function(value) {
        if (this.throttled) {
          if (this.trailing) {
            this._trailingValue = value;
            this._hasTrailingValue = true;
          }
        } else {
          this.add(this.throttled = this.scheduler.schedule(dispatchNext, this.duration, {
            subscriber: this
          }));
          this.leading && this.destination.next(value);
        }
      };
      ThrottleTimeSubscriber.prototype._complete = function() {
        if (this._hasTrailingValue) {
          this.destination.next(this._trailingValue);
          this.destination.complete();
        } else this.destination.complete();
      };
      ThrottleTimeSubscriber.prototype.clearThrottle = function() {
        var throttled = this.throttled;
        if (throttled) {
          if (this.trailing && this._hasTrailingValue) {
            this.destination.next(this._trailingValue);
            this._trailingValue = null;
            this._hasTrailingValue = false;
          }
          throttled.unsubscribe();
          this.remove(throttled);
          this.throttled = null;
        }
      };
      return ThrottleTimeSubscriber;
    }(Subscriber_1.Subscriber);
    function dispatchNext(arg) {
      var subscriber = arg.subscriber;
      subscriber.clearThrottle();
    }
  }, {
    "../Subscriber": 59,
    "../scheduler/async": 208,
    "./throttle": 180
  } ],
  182: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var tap_1 = require("./tap");
    var EmptyError_1 = require("../util/EmptyError");
    exports.throwIfEmpty = function(errorFactory) {
      void 0 === errorFactory && (errorFactory = defaultErrorFactory);
      return tap_1.tap({
        hasValue: false,
        next: function() {
          this.hasValue = true;
        },
        complete: function() {
          if (!this.hasValue) throw errorFactory();
        }
      });
    };
    function defaultErrorFactory() {
      return new EmptyError_1.EmptyError();
    }
  }, {
    "../util/EmptyError": 214,
    "./tap": 179
  } ],
  183: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var async_1 = require("../scheduler/async");
    var scan_1 = require("./scan");
    var defer_1 = require("../observable/defer");
    var map_1 = require("./map");
    function timeInterval(scheduler) {
      void 0 === scheduler && (scheduler = async_1.async);
      return function(source) {
        return defer_1.defer(function() {
          return source.pipe(scan_1.scan(function(_a, value) {
            var current = _a.current;
            return {
              value: value,
              current: scheduler.now(),
              last: current
            };
          }, {
            current: scheduler.now(),
            value: void 0,
            last: void 0
          }), map_1.map(function(_a) {
            var current = _a.current, last = _a.last, value = _a.value;
            return new TimeInterval(value, current - last);
          }));
        });
      };
    }
    exports.timeInterval = timeInterval;
    var TimeInterval = function() {
      function TimeInterval(value, interval) {
        this.value = value;
        this.interval = interval;
      }
      return TimeInterval;
    }();
    exports.TimeInterval = TimeInterval;
  }, {
    "../observable/defer": 68,
    "../scheduler/async": 208,
    "./map": 132,
    "./scan": 161
  } ],
  184: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var async_1 = require("../scheduler/async");
    var TimeoutError_1 = require("../util/TimeoutError");
    var timeoutWith_1 = require("./timeoutWith");
    var throwError_1 = require("../observable/throwError");
    function timeout(due, scheduler) {
      void 0 === scheduler && (scheduler = async_1.async);
      return timeoutWith_1.timeoutWith(due, throwError_1.throwError(new TimeoutError_1.TimeoutError()), scheduler);
    }
    exports.timeout = timeout;
  }, {
    "../observable/throwError": 89,
    "../scheduler/async": 208,
    "../util/TimeoutError": 217,
    "./timeoutWith": 185
  } ],
  185: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var async_1 = require("../scheduler/async");
    var isDate_1 = require("../util/isDate");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function timeoutWith(due, withObservable, scheduler) {
      void 0 === scheduler && (scheduler = async_1.async);
      return function(source) {
        var absoluteTimeout = isDate_1.isDate(due);
        var waitFor = absoluteTimeout ? +due - scheduler.now() : Math.abs(due);
        return source.lift(new TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler));
      };
    }
    exports.timeoutWith = timeoutWith;
    var TimeoutWithOperator = function() {
      function TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler) {
        this.waitFor = waitFor;
        this.absoluteTimeout = absoluteTimeout;
        this.withObservable = withObservable;
        this.scheduler = scheduler;
      }
      TimeoutWithOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new TimeoutWithSubscriber(subscriber, this.absoluteTimeout, this.waitFor, this.withObservable, this.scheduler));
      };
      return TimeoutWithOperator;
    }();
    var TimeoutWithSubscriber = function(_super) {
      __extends(TimeoutWithSubscriber, _super);
      function TimeoutWithSubscriber(destination, absoluteTimeout, waitFor, withObservable, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.absoluteTimeout = absoluteTimeout;
        _this.waitFor = waitFor;
        _this.withObservable = withObservable;
        _this.scheduler = scheduler;
        _this.action = null;
        _this.scheduleTimeout();
        return _this;
      }
      TimeoutWithSubscriber.dispatchTimeout = function(subscriber) {
        var withObservable = subscriber.withObservable;
        subscriber._unsubscribeAndRecycle();
        subscriber.add(subscribeToResult_1.subscribeToResult(subscriber, withObservable));
      };
      TimeoutWithSubscriber.prototype.scheduleTimeout = function() {
        var action = this.action;
        action ? this.action = action.schedule(this, this.waitFor) : this.add(this.action = this.scheduler.schedule(TimeoutWithSubscriber.dispatchTimeout, this.waitFor, this));
      };
      TimeoutWithSubscriber.prototype._next = function(value) {
        this.absoluteTimeout || this.scheduleTimeout();
        _super.prototype._next.call(this, value);
      };
      TimeoutWithSubscriber.prototype._unsubscribe = function() {
        this.action = null;
        this.scheduler = null;
        this.withObservable = null;
      };
      return TimeoutWithSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 54,
    "../scheduler/async": 208,
    "../util/isDate": 224,
    "../util/subscribeToResult": 241
  } ],
  186: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var async_1 = require("../scheduler/async");
    var map_1 = require("./map");
    function timestamp(scheduler) {
      void 0 === scheduler && (scheduler = async_1.async);
      return map_1.map(function(value) {
        return new Timestamp(value, scheduler.now());
      });
    }
    exports.timestamp = timestamp;
    var Timestamp = function() {
      function Timestamp(value, timestamp) {
        this.value = value;
        this.timestamp = timestamp;
      }
      return Timestamp;
    }();
    exports.Timestamp = Timestamp;
  }, {
    "../scheduler/async": 208,
    "./map": 132
  } ],
  187: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var reduce_1 = require("./reduce");
    function toArrayReducer(arr, item, index) {
      if (0 === index) return [ item ];
      arr.push(item);
      return arr;
    }
    function toArray() {
      return reduce_1.reduce(toArrayReducer, []);
    }
    exports.toArray = toArray;
  }, {
    "./reduce": 153
  } ],
  188: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subject_1 = require("../Subject");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function window(windowBoundaries) {
      return function windowOperatorFunction(source) {
        return source.lift(new WindowOperator(windowBoundaries));
      };
    }
    exports.window = window;
    var WindowOperator = function() {
      function WindowOperator(windowBoundaries) {
        this.windowBoundaries = windowBoundaries;
      }
      WindowOperator.prototype.call = function(subscriber, source) {
        var windowSubscriber = new WindowSubscriber(subscriber);
        var sourceSubscription = source.subscribe(windowSubscriber);
        sourceSubscription.closed || windowSubscriber.add(subscribeToResult_1.subscribeToResult(windowSubscriber, this.windowBoundaries));
        return sourceSubscription;
      };
      return WindowOperator;
    }();
    var WindowSubscriber = function(_super) {
      __extends(WindowSubscriber, _super);
      function WindowSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.window = new Subject_1.Subject();
        destination.next(_this.window);
        return _this;
      }
      WindowSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.openWindow();
      };
      WindowSubscriber.prototype.notifyError = function(error, innerSub) {
        this._error(error);
      };
      WindowSubscriber.prototype.notifyComplete = function(innerSub) {
        this._complete();
      };
      WindowSubscriber.prototype._next = function(value) {
        this.window.next(value);
      };
      WindowSubscriber.prototype._error = function(err) {
        this.window.error(err);
        this.destination.error(err);
      };
      WindowSubscriber.prototype._complete = function() {
        this.window.complete();
        this.destination.complete();
      };
      WindowSubscriber.prototype._unsubscribe = function() {
        this.window = null;
      };
      WindowSubscriber.prototype.openWindow = function() {
        var prevWindow = this.window;
        prevWindow && prevWindow.complete();
        var destination = this.destination;
        var newWindow = this.window = new Subject_1.Subject();
        destination.next(newWindow);
      };
      return WindowSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 54,
    "../Subject": 57,
    "../util/subscribeToResult": 241
  } ],
  189: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var Subject_1 = require("../Subject");
    function windowCount(windowSize, startWindowEvery) {
      void 0 === startWindowEvery && (startWindowEvery = 0);
      return function windowCountOperatorFunction(source) {
        return source.lift(new WindowCountOperator(windowSize, startWindowEvery));
      };
    }
    exports.windowCount = windowCount;
    var WindowCountOperator = function() {
      function WindowCountOperator(windowSize, startWindowEvery) {
        this.windowSize = windowSize;
        this.startWindowEvery = startWindowEvery;
      }
      WindowCountOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new WindowCountSubscriber(subscriber, this.windowSize, this.startWindowEvery));
      };
      return WindowCountOperator;
    }();
    var WindowCountSubscriber = function(_super) {
      __extends(WindowCountSubscriber, _super);
      function WindowCountSubscriber(destination, windowSize, startWindowEvery) {
        var _this = _super.call(this, destination) || this;
        _this.destination = destination;
        _this.windowSize = windowSize;
        _this.startWindowEvery = startWindowEvery;
        _this.windows = [ new Subject_1.Subject() ];
        _this.count = 0;
        destination.next(_this.windows[0]);
        return _this;
      }
      WindowCountSubscriber.prototype._next = function(value) {
        var startWindowEvery = this.startWindowEvery > 0 ? this.startWindowEvery : this.windowSize;
        var destination = this.destination;
        var windowSize = this.windowSize;
        var windows = this.windows;
        var len = windows.length;
        for (var i = 0; i < len && !this.closed; i++) windows[i].next(value);
        var c = this.count - windowSize + 1;
        c >= 0 && c % startWindowEvery === 0 && !this.closed && windows.shift().complete();
        if (++this.count % startWindowEvery === 0 && !this.closed) {
          var window_1 = new Subject_1.Subject();
          windows.push(window_1);
          destination.next(window_1);
        }
      };
      WindowCountSubscriber.prototype._error = function(err) {
        var windows = this.windows;
        if (windows) while (windows.length > 0 && !this.closed) windows.shift().error(err);
        this.destination.error(err);
      };
      WindowCountSubscriber.prototype._complete = function() {
        var windows = this.windows;
        if (windows) while (windows.length > 0 && !this.closed) windows.shift().complete();
        this.destination.complete();
      };
      WindowCountSubscriber.prototype._unsubscribe = function() {
        this.count = 0;
        this.windows = null;
      };
      return WindowCountSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subject": 57,
    "../Subscriber": 59
  } ],
  190: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subject_1 = require("../Subject");
    var async_1 = require("../scheduler/async");
    var Subscriber_1 = require("../Subscriber");
    var isNumeric_1 = require("../util/isNumeric");
    var isScheduler_1 = require("../util/isScheduler");
    function windowTime(windowTimeSpan) {
      var scheduler = async_1.async;
      var windowCreationInterval = null;
      var maxWindowSize = Number.POSITIVE_INFINITY;
      isScheduler_1.isScheduler(arguments[3]) && (scheduler = arguments[3]);
      isScheduler_1.isScheduler(arguments[2]) ? scheduler = arguments[2] : isNumeric_1.isNumeric(arguments[2]) && (maxWindowSize = arguments[2]);
      isScheduler_1.isScheduler(arguments[1]) ? scheduler = arguments[1] : isNumeric_1.isNumeric(arguments[1]) && (windowCreationInterval = arguments[1]);
      return function windowTimeOperatorFunction(source) {
        return source.lift(new WindowTimeOperator(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler));
      };
    }
    exports.windowTime = windowTime;
    var WindowTimeOperator = function() {
      function WindowTimeOperator(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler) {
        this.windowTimeSpan = windowTimeSpan;
        this.windowCreationInterval = windowCreationInterval;
        this.maxWindowSize = maxWindowSize;
        this.scheduler = scheduler;
      }
      WindowTimeOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new WindowTimeSubscriber(subscriber, this.windowTimeSpan, this.windowCreationInterval, this.maxWindowSize, this.scheduler));
      };
      return WindowTimeOperator;
    }();
    var CountedSubject = function(_super) {
      __extends(CountedSubject, _super);
      function CountedSubject() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._numberOfNextedValues = 0;
        return _this;
      }
      CountedSubject.prototype.next = function(value) {
        this._numberOfNextedValues++;
        _super.prototype.next.call(this, value);
      };
      Object.defineProperty(CountedSubject.prototype, "numberOfNextedValues", {
        get: function() {
          return this._numberOfNextedValues;
        },
        enumerable: true,
        configurable: true
      });
      return CountedSubject;
    }(Subject_1.Subject);
    var WindowTimeSubscriber = function(_super) {
      __extends(WindowTimeSubscriber, _super);
      function WindowTimeSubscriber(destination, windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.destination = destination;
        _this.windowTimeSpan = windowTimeSpan;
        _this.windowCreationInterval = windowCreationInterval;
        _this.maxWindowSize = maxWindowSize;
        _this.scheduler = scheduler;
        _this.windows = [];
        var window = _this.openWindow();
        if (null !== windowCreationInterval && windowCreationInterval >= 0) {
          var closeState = {
            subscriber: _this,
            window: window,
            context: null
          };
          var creationState = {
            windowTimeSpan: windowTimeSpan,
            windowCreationInterval: windowCreationInterval,
            subscriber: _this,
            scheduler: scheduler
          };
          _this.add(scheduler.schedule(dispatchWindowClose, windowTimeSpan, closeState));
          _this.add(scheduler.schedule(dispatchWindowCreation, windowCreationInterval, creationState));
        } else {
          var timeSpanOnlyState = {
            subscriber: _this,
            window: window,
            windowTimeSpan: windowTimeSpan
          };
          _this.add(scheduler.schedule(dispatchWindowTimeSpanOnly, windowTimeSpan, timeSpanOnlyState));
        }
        return _this;
      }
      WindowTimeSubscriber.prototype._next = function(value) {
        var windows = this.windows;
        var len = windows.length;
        for (var i = 0; i < len; i++) {
          var window_1 = windows[i];
          if (!window_1.closed) {
            window_1.next(value);
            window_1.numberOfNextedValues >= this.maxWindowSize && this.closeWindow(window_1);
          }
        }
      };
      WindowTimeSubscriber.prototype._error = function(err) {
        var windows = this.windows;
        while (windows.length > 0) windows.shift().error(err);
        this.destination.error(err);
      };
      WindowTimeSubscriber.prototype._complete = function() {
        var windows = this.windows;
        while (windows.length > 0) {
          var window_2 = windows.shift();
          window_2.closed || window_2.complete();
        }
        this.destination.complete();
      };
      WindowTimeSubscriber.prototype.openWindow = function() {
        var window = new CountedSubject();
        this.windows.push(window);
        var destination = this.destination;
        destination.next(window);
        return window;
      };
      WindowTimeSubscriber.prototype.closeWindow = function(window) {
        window.complete();
        var windows = this.windows;
        windows.splice(windows.indexOf(window), 1);
      };
      return WindowTimeSubscriber;
    }(Subscriber_1.Subscriber);
    function dispatchWindowTimeSpanOnly(state) {
      var subscriber = state.subscriber, windowTimeSpan = state.windowTimeSpan, window = state.window;
      window && subscriber.closeWindow(window);
      state.window = subscriber.openWindow();
      this.schedule(state, windowTimeSpan);
    }
    function dispatchWindowCreation(state) {
      var windowTimeSpan = state.windowTimeSpan, subscriber = state.subscriber, scheduler = state.scheduler, windowCreationInterval = state.windowCreationInterval;
      var window = subscriber.openWindow();
      var action = this;
      var context = {
        action: action,
        subscription: null
      };
      var timeSpanState = {
        subscriber: subscriber,
        window: window,
        context: context
      };
      context.subscription = scheduler.schedule(dispatchWindowClose, windowTimeSpan, timeSpanState);
      action.add(context.subscription);
      action.schedule(state, windowCreationInterval);
    }
    function dispatchWindowClose(state) {
      var subscriber = state.subscriber, window = state.window, context = state.context;
      context && context.action && context.subscription && context.action.remove(context.subscription);
      subscriber.closeWindow(window);
    }
  }, {
    "../Subject": 57,
    "../Subscriber": 59,
    "../scheduler/async": 208,
    "../util/isNumeric": 228,
    "../util/isScheduler": 232
  } ],
  191: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subject_1 = require("../Subject");
    var Subscription_1 = require("../Subscription");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function windowToggle(openings, closingSelector) {
      return function(source) {
        return source.lift(new WindowToggleOperator(openings, closingSelector));
      };
    }
    exports.windowToggle = windowToggle;
    var WindowToggleOperator = function() {
      function WindowToggleOperator(openings, closingSelector) {
        this.openings = openings;
        this.closingSelector = closingSelector;
      }
      WindowToggleOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new WindowToggleSubscriber(subscriber, this.openings, this.closingSelector));
      };
      return WindowToggleOperator;
    }();
    var WindowToggleSubscriber = function(_super) {
      __extends(WindowToggleSubscriber, _super);
      function WindowToggleSubscriber(destination, openings, closingSelector) {
        var _this = _super.call(this, destination) || this;
        _this.openings = openings;
        _this.closingSelector = closingSelector;
        _this.contexts = [];
        _this.add(_this.openSubscription = subscribeToResult_1.subscribeToResult(_this, openings, openings));
        return _this;
      }
      WindowToggleSubscriber.prototype._next = function(value) {
        var contexts = this.contexts;
        if (contexts) {
          var len = contexts.length;
          for (var i = 0; i < len; i++) contexts[i].window.next(value);
        }
      };
      WindowToggleSubscriber.prototype._error = function(err) {
        var contexts = this.contexts;
        this.contexts = null;
        if (contexts) {
          var len = contexts.length;
          var index = -1;
          while (++index < len) {
            var context_1 = contexts[index];
            context_1.window.error(err);
            context_1.subscription.unsubscribe();
          }
        }
        _super.prototype._error.call(this, err);
      };
      WindowToggleSubscriber.prototype._complete = function() {
        var contexts = this.contexts;
        this.contexts = null;
        if (contexts) {
          var len = contexts.length;
          var index = -1;
          while (++index < len) {
            var context_2 = contexts[index];
            context_2.window.complete();
            context_2.subscription.unsubscribe();
          }
        }
        _super.prototype._complete.call(this);
      };
      WindowToggleSubscriber.prototype._unsubscribe = function() {
        var contexts = this.contexts;
        this.contexts = null;
        if (contexts) {
          var len = contexts.length;
          var index = -1;
          while (++index < len) {
            var context_3 = contexts[index];
            context_3.window.unsubscribe();
            context_3.subscription.unsubscribe();
          }
        }
      };
      WindowToggleSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        if (outerValue === this.openings) {
          var closingNotifier = void 0;
          try {
            var closingSelector = this.closingSelector;
            closingNotifier = closingSelector(innerValue);
          } catch (e) {
            return this.error(e);
          }
          var window_1 = new Subject_1.Subject();
          var subscription = new Subscription_1.Subscription();
          var context_4 = {
            window: window_1,
            subscription: subscription
          };
          this.contexts.push(context_4);
          var innerSubscription = subscribeToResult_1.subscribeToResult(this, closingNotifier, context_4);
          if (innerSubscription.closed) this.closeWindow(this.contexts.length - 1); else {
            innerSubscription.context = context_4;
            subscription.add(innerSubscription);
          }
          this.destination.next(window_1);
        } else this.closeWindow(this.contexts.indexOf(outerValue));
      };
      WindowToggleSubscriber.prototype.notifyError = function(err) {
        this.error(err);
      };
      WindowToggleSubscriber.prototype.notifyComplete = function(inner) {
        inner !== this.openSubscription && this.closeWindow(this.contexts.indexOf(inner.context));
      };
      WindowToggleSubscriber.prototype.closeWindow = function(index) {
        if (-1 === index) return;
        var contexts = this.contexts;
        var context = contexts[index];
        var window = context.window, subscription = context.subscription;
        contexts.splice(index, 1);
        window.complete();
        subscription.unsubscribe();
      };
      return WindowToggleSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 54,
    "../Subject": 57,
    "../Subscription": 60,
    "../util/subscribeToResult": 241
  } ],
  192: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subject_1 = require("../Subject");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function windowWhen(closingSelector) {
      return function windowWhenOperatorFunction(source) {
        return source.lift(new WindowOperator(closingSelector));
      };
    }
    exports.windowWhen = windowWhen;
    var WindowOperator = function() {
      function WindowOperator(closingSelector) {
        this.closingSelector = closingSelector;
      }
      WindowOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new WindowSubscriber(subscriber, this.closingSelector));
      };
      return WindowOperator;
    }();
    var WindowSubscriber = function(_super) {
      __extends(WindowSubscriber, _super);
      function WindowSubscriber(destination, closingSelector) {
        var _this = _super.call(this, destination) || this;
        _this.destination = destination;
        _this.closingSelector = closingSelector;
        _this.openWindow();
        return _this;
      }
      WindowSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.openWindow(innerSub);
      };
      WindowSubscriber.prototype.notifyError = function(error, innerSub) {
        this._error(error);
      };
      WindowSubscriber.prototype.notifyComplete = function(innerSub) {
        this.openWindow(innerSub);
      };
      WindowSubscriber.prototype._next = function(value) {
        this.window.next(value);
      };
      WindowSubscriber.prototype._error = function(err) {
        this.window.error(err);
        this.destination.error(err);
        this.unsubscribeClosingNotification();
      };
      WindowSubscriber.prototype._complete = function() {
        this.window.complete();
        this.destination.complete();
        this.unsubscribeClosingNotification();
      };
      WindowSubscriber.prototype.unsubscribeClosingNotification = function() {
        this.closingNotification && this.closingNotification.unsubscribe();
      };
      WindowSubscriber.prototype.openWindow = function(innerSub) {
        void 0 === innerSub && (innerSub = null);
        if (innerSub) {
          this.remove(innerSub);
          innerSub.unsubscribe();
        }
        var prevWindow = this.window;
        prevWindow && prevWindow.complete();
        var window = this.window = new Subject_1.Subject();
        this.destination.next(window);
        var closingNotifier;
        try {
          var closingSelector = this.closingSelector;
          closingNotifier = closingSelector();
        } catch (e) {
          this.destination.error(e);
          this.window.error(e);
          return;
        }
        this.add(this.closingNotification = subscribeToResult_1.subscribeToResult(this, closingNotifier));
      };
      return WindowSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 54,
    "../Subject": 57,
    "../util/subscribeToResult": 241
  } ],
  193: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function withLatestFrom() {
      var args = [];
      for (var _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
      return function(source) {
        var project;
        "function" === typeof args[args.length - 1] && (project = args.pop());
        var observables = args;
        return source.lift(new WithLatestFromOperator(observables, project));
      };
    }
    exports.withLatestFrom = withLatestFrom;
    var WithLatestFromOperator = function() {
      function WithLatestFromOperator(observables, project) {
        this.observables = observables;
        this.project = project;
      }
      WithLatestFromOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new WithLatestFromSubscriber(subscriber, this.observables, this.project));
      };
      return WithLatestFromOperator;
    }();
    var WithLatestFromSubscriber = function(_super) {
      __extends(WithLatestFromSubscriber, _super);
      function WithLatestFromSubscriber(destination, observables, project) {
        var _this = _super.call(this, destination) || this;
        _this.observables = observables;
        _this.project = project;
        _this.toRespond = [];
        var len = observables.length;
        _this.values = new Array(len);
        for (var i = 0; i < len; i++) _this.toRespond.push(i);
        for (var i = 0; i < len; i++) {
          var observable = observables[i];
          _this.add(subscribeToResult_1.subscribeToResult(_this, observable, observable, i));
        }
        return _this;
      }
      WithLatestFromSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.values[outerIndex] = innerValue;
        var toRespond = this.toRespond;
        if (toRespond.length > 0) {
          var found = toRespond.indexOf(outerIndex);
          -1 !== found && toRespond.splice(found, 1);
        }
      };
      WithLatestFromSubscriber.prototype.notifyComplete = function() {};
      WithLatestFromSubscriber.prototype._next = function(value) {
        if (0 === this.toRespond.length) {
          var args = [ value ].concat(this.values);
          this.project ? this._tryProject(args) : this.destination.next(args);
        }
      };
      WithLatestFromSubscriber.prototype._tryProject = function(args) {
        var result;
        try {
          result = this.project.apply(this, args);
        } catch (err) {
          this.destination.error(err);
          return;
        }
        this.destination.next(result);
      };
      return WithLatestFromSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 54,
    "../util/subscribeToResult": 241
  } ],
  194: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var zip_1 = require("../observable/zip");
    function zip() {
      var observables = [];
      for (var _i = 0; _i < arguments.length; _i++) observables[_i] = arguments[_i];
      return function zipOperatorFunction(source) {
        return source.lift.call(zip_1.zip.apply(void 0, [ source ].concat(observables)));
      };
    }
    exports.zip = zip;
  }, {
    "../observable/zip": 92
  } ],
  195: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var zip_1 = require("../observable/zip");
    function zipAll(project) {
      return function(source) {
        return source.lift(new zip_1.ZipOperator(project));
      };
    }
    exports.zipAll = zipAll;
  }, {
    "../observable/zip": 92
  } ],
  196: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscription_1 = require("../Subscription");
    var Action = function(_super) {
      __extends(Action, _super);
      function Action(scheduler, work) {
        return _super.call(this) || this;
      }
      Action.prototype.schedule = function(state, delay) {
        void 0 === delay && (delay = 0);
        return this;
      };
      return Action;
    }(Subscription_1.Subscription);
    exports.Action = Action;
  }, {
    "../Subscription": 60
  } ],
  197: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AsyncAction_1 = require("./AsyncAction");
    var AnimationFrameAction = function(_super) {
      __extends(AnimationFrameAction, _super);
      function AnimationFrameAction(scheduler, work) {
        var _this = _super.call(this, scheduler, work) || this;
        _this.scheduler = scheduler;
        _this.work = work;
        return _this;
      }
      AnimationFrameAction.prototype.requestAsyncId = function(scheduler, id, delay) {
        void 0 === delay && (delay = 0);
        if (null !== delay && delay > 0) return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);
        scheduler.actions.push(this);
        return scheduler.scheduled || (scheduler.scheduled = requestAnimationFrame(function() {
          return scheduler.flush(null);
        }));
      };
      AnimationFrameAction.prototype.recycleAsyncId = function(scheduler, id, delay) {
        void 0 === delay && (delay = 0);
        if (null !== delay && delay > 0 || null === delay && this.delay > 0) return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);
        if (0 === scheduler.actions.length) {
          cancelAnimationFrame(id);
          scheduler.scheduled = void 0;
        }
        return;
      };
      return AnimationFrameAction;
    }(AsyncAction_1.AsyncAction);
    exports.AnimationFrameAction = AnimationFrameAction;
  }, {
    "./AsyncAction": 201
  } ],
  198: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AsyncScheduler_1 = require("./AsyncScheduler");
    var AnimationFrameScheduler = function(_super) {
      __extends(AnimationFrameScheduler, _super);
      function AnimationFrameScheduler() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      AnimationFrameScheduler.prototype.flush = function(action) {
        this.active = true;
        this.scheduled = void 0;
        var actions = this.actions;
        var error;
        var index = -1;
        var count = actions.length;
        action = action || actions.shift();
        do {
          if (error = action.execute(action.state, action.delay)) break;
        } while (++index < count && (action = actions.shift()));
        this.active = false;
        if (error) {
          while (++index < count && (action = actions.shift())) action.unsubscribe();
          throw error;
        }
      };
      return AnimationFrameScheduler;
    }(AsyncScheduler_1.AsyncScheduler);
    exports.AnimationFrameScheduler = AnimationFrameScheduler;
  }, {
    "./AsyncScheduler": 202
  } ],
  199: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Immediate_1 = require("../util/Immediate");
    var AsyncAction_1 = require("./AsyncAction");
    var AsapAction = function(_super) {
      __extends(AsapAction, _super);
      function AsapAction(scheduler, work) {
        var _this = _super.call(this, scheduler, work) || this;
        _this.scheduler = scheduler;
        _this.work = work;
        return _this;
      }
      AsapAction.prototype.requestAsyncId = function(scheduler, id, delay) {
        void 0 === delay && (delay = 0);
        if (null !== delay && delay > 0) return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);
        scheduler.actions.push(this);
        return scheduler.scheduled || (scheduler.scheduled = Immediate_1.Immediate.setImmediate(scheduler.flush.bind(scheduler, null)));
      };
      AsapAction.prototype.recycleAsyncId = function(scheduler, id, delay) {
        void 0 === delay && (delay = 0);
        if (null !== delay && delay > 0 || null === delay && this.delay > 0) return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);
        if (0 === scheduler.actions.length) {
          Immediate_1.Immediate.clearImmediate(id);
          scheduler.scheduled = void 0;
        }
        return;
      };
      return AsapAction;
    }(AsyncAction_1.AsyncAction);
    exports.AsapAction = AsapAction;
  }, {
    "../util/Immediate": 215,
    "./AsyncAction": 201
  } ],
  200: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AsyncScheduler_1 = require("./AsyncScheduler");
    var AsapScheduler = function(_super) {
      __extends(AsapScheduler, _super);
      function AsapScheduler() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      AsapScheduler.prototype.flush = function(action) {
        this.active = true;
        this.scheduled = void 0;
        var actions = this.actions;
        var error;
        var index = -1;
        var count = actions.length;
        action = action || actions.shift();
        do {
          if (error = action.execute(action.state, action.delay)) break;
        } while (++index < count && (action = actions.shift()));
        this.active = false;
        if (error) {
          while (++index < count && (action = actions.shift())) action.unsubscribe();
          throw error;
        }
      };
      return AsapScheduler;
    }(AsyncScheduler_1.AsyncScheduler);
    exports.AsapScheduler = AsapScheduler;
  }, {
    "./AsyncScheduler": 202
  } ],
  201: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Action_1 = require("./Action");
    var AsyncAction = function(_super) {
      __extends(AsyncAction, _super);
      function AsyncAction(scheduler, work) {
        var _this = _super.call(this, scheduler, work) || this;
        _this.scheduler = scheduler;
        _this.work = work;
        _this.pending = false;
        return _this;
      }
      AsyncAction.prototype.schedule = function(state, delay) {
        void 0 === delay && (delay = 0);
        if (this.closed) return this;
        this.state = state;
        var id = this.id;
        var scheduler = this.scheduler;
        null != id && (this.id = this.recycleAsyncId(scheduler, id, delay));
        this.pending = true;
        this.delay = delay;
        this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);
        return this;
      };
      AsyncAction.prototype.requestAsyncId = function(scheduler, id, delay) {
        void 0 === delay && (delay = 0);
        return setInterval(scheduler.flush.bind(scheduler, this), delay);
      };
      AsyncAction.prototype.recycleAsyncId = function(scheduler, id, delay) {
        void 0 === delay && (delay = 0);
        if (null !== delay && this.delay === delay && false === this.pending) return id;
        clearInterval(id);
        return;
      };
      AsyncAction.prototype.execute = function(state, delay) {
        if (this.closed) return new Error("executing a cancelled action");
        this.pending = false;
        var error = this._execute(state, delay);
        if (error) return error;
        false === this.pending && null != this.id && (this.id = this.recycleAsyncId(this.scheduler, this.id, null));
      };
      AsyncAction.prototype._execute = function(state, delay) {
        var errored = false;
        var errorValue = void 0;
        try {
          this.work(state);
        } catch (e) {
          errored = true;
          errorValue = !!e && e || new Error(e);
        }
        if (errored) {
          this.unsubscribe();
          return errorValue;
        }
      };
      AsyncAction.prototype._unsubscribe = function() {
        var id = this.id;
        var scheduler = this.scheduler;
        var actions = scheduler.actions;
        var index = actions.indexOf(this);
        this.work = null;
        this.state = null;
        this.pending = false;
        this.scheduler = null;
        -1 !== index && actions.splice(index, 1);
        null != id && (this.id = this.recycleAsyncId(scheduler, id, null));
        this.delay = null;
      };
      return AsyncAction;
    }(Action_1.Action);
    exports.AsyncAction = AsyncAction;
  }, {
    "./Action": 196
  } ],
  202: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Scheduler_1 = require("../Scheduler");
    var AsyncScheduler = function(_super) {
      __extends(AsyncScheduler, _super);
      function AsyncScheduler(SchedulerAction, now) {
        void 0 === now && (now = Scheduler_1.Scheduler.now);
        var _this = _super.call(this, SchedulerAction, function() {
          return AsyncScheduler.delegate && AsyncScheduler.delegate !== _this ? AsyncScheduler.delegate.now() : now();
        }) || this;
        _this.actions = [];
        _this.active = false;
        _this.scheduled = void 0;
        return _this;
      }
      AsyncScheduler.prototype.schedule = function(work, delay, state) {
        void 0 === delay && (delay = 0);
        return AsyncScheduler.delegate && AsyncScheduler.delegate !== this ? AsyncScheduler.delegate.schedule(work, delay, state) : _super.prototype.schedule.call(this, work, delay, state);
      };
      AsyncScheduler.prototype.flush = function(action) {
        var actions = this.actions;
        if (this.active) {
          actions.push(action);
          return;
        }
        var error;
        this.active = true;
        do {
          if (error = action.execute(action.state, action.delay)) break;
        } while (action = actions.shift());
        this.active = false;
        if (error) {
          while (action = actions.shift()) action.unsubscribe();
          throw error;
        }
      };
      return AsyncScheduler;
    }(Scheduler_1.Scheduler);
    exports.AsyncScheduler = AsyncScheduler;
  }, {
    "../Scheduler": 56
  } ],
  203: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AsyncAction_1 = require("./AsyncAction");
    var QueueAction = function(_super) {
      __extends(QueueAction, _super);
      function QueueAction(scheduler, work) {
        var _this = _super.call(this, scheduler, work) || this;
        _this.scheduler = scheduler;
        _this.work = work;
        return _this;
      }
      QueueAction.prototype.schedule = function(state, delay) {
        void 0 === delay && (delay = 0);
        if (delay > 0) return _super.prototype.schedule.call(this, state, delay);
        this.delay = delay;
        this.state = state;
        this.scheduler.flush(this);
        return this;
      };
      QueueAction.prototype.execute = function(state, delay) {
        return delay > 0 || this.closed ? _super.prototype.execute.call(this, state, delay) : this._execute(state, delay);
      };
      QueueAction.prototype.requestAsyncId = function(scheduler, id, delay) {
        void 0 === delay && (delay = 0);
        if (null !== delay && delay > 0 || null === delay && this.delay > 0) return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);
        return scheduler.flush(this);
      };
      return QueueAction;
    }(AsyncAction_1.AsyncAction);
    exports.QueueAction = QueueAction;
  }, {
    "./AsyncAction": 201
  } ],
  204: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AsyncScheduler_1 = require("./AsyncScheduler");
    var QueueScheduler = function(_super) {
      __extends(QueueScheduler, _super);
      function QueueScheduler() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      return QueueScheduler;
    }(AsyncScheduler_1.AsyncScheduler);
    exports.QueueScheduler = QueueScheduler;
  }, {
    "./AsyncScheduler": 202
  } ],
  205: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AsyncAction_1 = require("./AsyncAction");
    var AsyncScheduler_1 = require("./AsyncScheduler");
    var VirtualTimeScheduler = function(_super) {
      __extends(VirtualTimeScheduler, _super);
      function VirtualTimeScheduler(SchedulerAction, maxFrames) {
        void 0 === SchedulerAction && (SchedulerAction = VirtualAction);
        void 0 === maxFrames && (maxFrames = Number.POSITIVE_INFINITY);
        var _this = _super.call(this, SchedulerAction, function() {
          return _this.frame;
        }) || this;
        _this.maxFrames = maxFrames;
        _this.frame = 0;
        _this.index = -1;
        return _this;
      }
      VirtualTimeScheduler.prototype.flush = function() {
        var _a = this, actions = _a.actions, maxFrames = _a.maxFrames;
        var error, action;
        while ((action = actions[0]) && action.delay <= maxFrames) {
          actions.shift();
          this.frame = action.delay;
          if (error = action.execute(action.state, action.delay)) break;
        }
        if (error) {
          while (action = actions.shift()) action.unsubscribe();
          throw error;
        }
      };
      VirtualTimeScheduler.frameTimeFactor = 10;
      return VirtualTimeScheduler;
    }(AsyncScheduler_1.AsyncScheduler);
    exports.VirtualTimeScheduler = VirtualTimeScheduler;
    var VirtualAction = function(_super) {
      __extends(VirtualAction, _super);
      function VirtualAction(scheduler, work, index) {
        void 0 === index && (index = scheduler.index += 1);
        var _this = _super.call(this, scheduler, work) || this;
        _this.scheduler = scheduler;
        _this.work = work;
        _this.index = index;
        _this.active = true;
        _this.index = scheduler.index = index;
        return _this;
      }
      VirtualAction.prototype.schedule = function(state, delay) {
        void 0 === delay && (delay = 0);
        if (!this.id) return _super.prototype.schedule.call(this, state, delay);
        this.active = false;
        var action = new VirtualAction(this.scheduler, this.work);
        this.add(action);
        return action.schedule(state, delay);
      };
      VirtualAction.prototype.requestAsyncId = function(scheduler, id, delay) {
        void 0 === delay && (delay = 0);
        this.delay = scheduler.frame + delay;
        var actions = scheduler.actions;
        actions.push(this);
        actions.sort(VirtualAction.sortActions);
        return true;
      };
      VirtualAction.prototype.recycleAsyncId = function(scheduler, id, delay) {
        void 0 === delay && (delay = 0);
        return;
      };
      VirtualAction.prototype._execute = function(state, delay) {
        if (true === this.active) return _super.prototype._execute.call(this, state, delay);
      };
      VirtualAction.sortActions = function(a, b) {
        return a.delay === b.delay ? a.index === b.index ? 0 : a.index > b.index ? 1 : -1 : a.delay > b.delay ? 1 : -1;
      };
      return VirtualAction;
    }(AsyncAction_1.AsyncAction);
    exports.VirtualAction = VirtualAction;
  }, {
    "./AsyncAction": 201,
    "./AsyncScheduler": 202
  } ],
  206: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AnimationFrameAction_1 = require("./AnimationFrameAction");
    var AnimationFrameScheduler_1 = require("./AnimationFrameScheduler");
    exports.animationFrame = new AnimationFrameScheduler_1.AnimationFrameScheduler(AnimationFrameAction_1.AnimationFrameAction);
  }, {
    "./AnimationFrameAction": 197,
    "./AnimationFrameScheduler": 198
  } ],
  207: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AsapAction_1 = require("./AsapAction");
    var AsapScheduler_1 = require("./AsapScheduler");
    exports.asap = new AsapScheduler_1.AsapScheduler(AsapAction_1.AsapAction);
  }, {
    "./AsapAction": 199,
    "./AsapScheduler": 200
  } ],
  208: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AsyncAction_1 = require("./AsyncAction");
    var AsyncScheduler_1 = require("./AsyncScheduler");
    exports.async = new AsyncScheduler_1.AsyncScheduler(AsyncAction_1.AsyncAction);
  }, {
    "./AsyncAction": 201,
    "./AsyncScheduler": 202
  } ],
  209: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var QueueAction_1 = require("./QueueAction");
    var QueueScheduler_1 = require("./QueueScheduler");
    exports.queue = new QueueScheduler_1.QueueScheduler(QueueAction_1.QueueAction);
  }, {
    "./QueueAction": 203,
    "./QueueScheduler": 204
  } ],
  210: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function getSymbolIterator() {
      if ("function" !== typeof Symbol || !Symbol.iterator) return "@@iterator";
      return Symbol.iterator;
    }
    exports.getSymbolIterator = getSymbolIterator;
    exports.iterator = getSymbolIterator();
    exports.$$iterator = exports.iterator;
  }, {} ],
  211: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.observable = "function" === typeof Symbol && Symbol.observable || "@@observable";
  }, {} ],
  212: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.rxSubscriber = "function" === typeof Symbol ? Symbol("rxSubscriber") : "@@rxSubscriber_" + Math.random();
    exports.$$rxSubscriber = exports.rxSubscriber;
  }, {} ],
  213: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function ArgumentOutOfRangeErrorImpl() {
      Error.call(this);
      this.message = "argument out of range";
      this.name = "ArgumentOutOfRangeError";
      return this;
    }
    ArgumentOutOfRangeErrorImpl.prototype = Object.create(Error.prototype);
    exports.ArgumentOutOfRangeError = ArgumentOutOfRangeErrorImpl;
  }, {} ],
  214: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function EmptyErrorImpl() {
      Error.call(this);
      this.message = "no elements in sequence";
      this.name = "EmptyError";
      return this;
    }
    EmptyErrorImpl.prototype = Object.create(Error.prototype);
    exports.EmptyError = EmptyErrorImpl;
  }, {} ],
  215: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var nextHandle = 1;
    var tasksByHandle = {};
    function runIfPresent(handle) {
      var cb = tasksByHandle[handle];
      cb && cb();
    }
    exports.Immediate = {
      setImmediate: function(cb) {
        var handle = nextHandle++;
        tasksByHandle[handle] = cb;
        Promise.resolve().then(function() {
          return runIfPresent(handle);
        });
        return handle;
      },
      clearImmediate: function(handle) {
        delete tasksByHandle[handle];
      }
    };
  }, {} ],
  216: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function ObjectUnsubscribedErrorImpl() {
      Error.call(this);
      this.message = "object unsubscribed";
      this.name = "ObjectUnsubscribedError";
      return this;
    }
    ObjectUnsubscribedErrorImpl.prototype = Object.create(Error.prototype);
    exports.ObjectUnsubscribedError = ObjectUnsubscribedErrorImpl;
  }, {} ],
  217: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function TimeoutErrorImpl() {
      Error.call(this);
      this.message = "Timeout has occurred";
      this.name = "TimeoutError";
      return this;
    }
    TimeoutErrorImpl.prototype = Object.create(Error.prototype);
    exports.TimeoutError = TimeoutErrorImpl;
  }, {} ],
  218: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function UnsubscriptionErrorImpl(errors) {
      Error.call(this);
      this.message = errors ? errors.length + " errors occurred during unsubscription:\n" + errors.map(function(err, i) {
        return i + 1 + ") " + err.toString();
      }).join("\n  ") : "";
      this.name = "UnsubscriptionError";
      this.errors = errors;
      return this;
    }
    UnsubscriptionErrorImpl.prototype = Object.create(Error.prototype);
    exports.UnsubscriptionError = UnsubscriptionErrorImpl;
  }, {} ],
  219: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function canReportError(observer) {
      while (observer) {
        var _a = observer, closed_1 = _a.closed, destination = _a.destination, isStopped = _a.isStopped;
        if (closed_1 || isStopped) return false;
        observer = destination && destination instanceof Subscriber_1.Subscriber ? destination : null;
      }
      return true;
    }
    exports.canReportError = canReportError;
  }, {
    "../Subscriber": 59
  } ],
  220: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function hostReportError(err) {
      setTimeout(function() {
        throw err;
      });
    }
    exports.hostReportError = hostReportError;
  }, {} ],
  221: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function identity(x) {
      return x;
    }
    exports.identity = identity;
  }, {} ],
  222: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.isArray = Array.isArray || function(x) {
      return x && "number" === typeof x.length;
    };
  }, {} ],
  223: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.isArrayLike = function(x) {
      return x && "number" === typeof x.length && "function" !== typeof x;
    };
  }, {} ],
  224: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function isDate(value) {
      return value instanceof Date && !isNaN(+value);
    }
    exports.isDate = isDate;
  }, {} ],
  225: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function isFunction(x) {
      return "function" === typeof x;
    }
    exports.isFunction = isFunction;
  }, {} ],
  226: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var observable_1 = require("../symbol/observable");
    function isInteropObservable(input) {
      return input && "function" === typeof input[observable_1.observable];
    }
    exports.isInteropObservable = isInteropObservable;
  }, {
    "../symbol/observable": 211
  } ],
  227: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var iterator_1 = require("../symbol/iterator");
    function isIterable(input) {
      return input && "function" === typeof input[iterator_1.iterator];
    }
    exports.isIterable = isIterable;
  }, {
    "../symbol/iterator": 210
  } ],
  228: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var isArray_1 = require("./isArray");
    function isNumeric(val) {
      return !isArray_1.isArray(val) && val - parseFloat(val) + 1 >= 0;
    }
    exports.isNumeric = isNumeric;
  }, {
    "./isArray": 222
  } ],
  229: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function isObject(x) {
      return null !== x && "object" === typeof x;
    }
    exports.isObject = isObject;
  }, {} ],
  230: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    function isObservable(obj) {
      return !!obj && (obj instanceof Observable_1.Observable || "function" === typeof obj.lift && "function" === typeof obj.subscribe);
    }
    exports.isObservable = isObservable;
  }, {
    "../Observable": 52
  } ],
  231: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function isPromise(value) {
      return !!value && "function" !== typeof value.subscribe && "function" === typeof value.then;
    }
    exports.isPromise = isPromise;
  }, {} ],
  232: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function isScheduler(value) {
      return value && "function" === typeof value.schedule;
    }
    exports.isScheduler = isScheduler;
  }, {} ],
  233: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function noop() {}
    exports.noop = noop;
  }, {} ],
  234: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function not(pred, thisArg) {
      function notPred() {
        return !notPred.pred.apply(notPred.thisArg, arguments);
      }
      notPred.pred = pred;
      notPred.thisArg = thisArg;
      return notPred;
    }
    exports.not = not;
  }, {} ],
  235: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var noop_1 = require("./noop");
    function pipe() {
      var fns = [];
      for (var _i = 0; _i < arguments.length; _i++) fns[_i] = arguments[_i];
      return pipeFromArray(fns);
    }
    exports.pipe = pipe;
    function pipeFromArray(fns) {
      if (!fns) return noop_1.noop;
      if (1 === fns.length) return fns[0];
      return function piped(input) {
        return fns.reduce(function(prev, fn) {
          return fn(prev);
        }, input);
      };
    }
    exports.pipeFromArray = pipeFromArray;
  }, {
    "./noop": 233
  } ],
  236: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var subscribeToArray_1 = require("./subscribeToArray");
    var subscribeToPromise_1 = require("./subscribeToPromise");
    var subscribeToIterable_1 = require("./subscribeToIterable");
    var subscribeToObservable_1 = require("./subscribeToObservable");
    var isArrayLike_1 = require("./isArrayLike");
    var isPromise_1 = require("./isPromise");
    var isObject_1 = require("./isObject");
    var iterator_1 = require("../symbol/iterator");
    var observable_1 = require("../symbol/observable");
    exports.subscribeTo = function(result) {
      if (result instanceof Observable_1.Observable) return function(subscriber) {
        if (result._isScalar) {
          subscriber.next(result.value);
          subscriber.complete();
          return;
        }
        return result.subscribe(subscriber);
      };
      if (!result || "function" !== typeof result[observable_1.observable]) {
        if (isArrayLike_1.isArrayLike(result)) return subscribeToArray_1.subscribeToArray(result);
        if (isPromise_1.isPromise(result)) return subscribeToPromise_1.subscribeToPromise(result);
        if (!result || "function" !== typeof result[iterator_1.iterator]) {
          var value = isObject_1.isObject(result) ? "an invalid object" : "'" + result + "'";
          var msg = "You provided " + value + " where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";
          throw new TypeError(msg);
        }
        return subscribeToIterable_1.subscribeToIterable(result);
      }
      return subscribeToObservable_1.subscribeToObservable(result);
    };
  }, {
    "../Observable": 52,
    "../symbol/iterator": 210,
    "../symbol/observable": 211,
    "./isArrayLike": 223,
    "./isObject": 229,
    "./isPromise": 231,
    "./subscribeToArray": 237,
    "./subscribeToIterable": 238,
    "./subscribeToObservable": 239,
    "./subscribeToPromise": 240
  } ],
  237: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.subscribeToArray = function(array) {
      return function(subscriber) {
        for (var i = 0, len = array.length; i < len && !subscriber.closed; i++) subscriber.next(array[i]);
        subscriber.closed || subscriber.complete();
      };
    };
  }, {} ],
  238: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var iterator_1 = require("../symbol/iterator");
    exports.subscribeToIterable = function(iterable) {
      return function(subscriber) {
        var iterator = iterable[iterator_1.iterator]();
        do {
          var item = iterator.next();
          if (item.done) {
            subscriber.complete();
            break;
          }
          subscriber.next(item.value);
          if (subscriber.closed) break;
        } while (true);
        "function" === typeof iterator.return && subscriber.add(function() {
          iterator.return && iterator.return();
        });
        return subscriber;
      };
    };
  }, {
    "../symbol/iterator": 210
  } ],
  239: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var observable_1 = require("../symbol/observable");
    exports.subscribeToObservable = function(obj) {
      return function(subscriber) {
        var obs = obj[observable_1.observable]();
        if ("function" !== typeof obs.subscribe) throw new TypeError("Provided object does not correctly implement Symbol.observable");
        return obs.subscribe(subscriber);
      };
    };
  }, {
    "../symbol/observable": 211
  } ],
  240: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var hostReportError_1 = require("./hostReportError");
    exports.subscribeToPromise = function(promise) {
      return function(subscriber) {
        promise.then(function(value) {
          if (!subscriber.closed) {
            subscriber.next(value);
            subscriber.complete();
          }
        }, function(err) {
          return subscriber.error(err);
        }).then(null, hostReportError_1.hostReportError);
        return subscriber;
      };
    };
  }, {
    "./hostReportError": 220
  } ],
  241: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var InnerSubscriber_1 = require("../InnerSubscriber");
    var subscribeTo_1 = require("./subscribeTo");
    function subscribeToResult(outerSubscriber, result, outerValue, outerIndex, destination) {
      void 0 === destination && (destination = new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex));
      if (destination.closed) return;
      return subscribeTo_1.subscribeTo(result)(destination);
    }
    exports.subscribeToResult = subscribeToResult;
  }, {
    "../InnerSubscriber": 50,
    "./subscribeTo": 236
  } ],
  242: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var rxSubscriber_1 = require("../symbol/rxSubscriber");
    var Observer_1 = require("../Observer");
    function toSubscriber(nextOrObserver, error, complete) {
      if (nextOrObserver) {
        if (nextOrObserver instanceof Subscriber_1.Subscriber) return nextOrObserver;
        if (nextOrObserver[rxSubscriber_1.rxSubscriber]) return nextOrObserver[rxSubscriber_1.rxSubscriber]();
      }
      if (!nextOrObserver && !error && !complete) return new Subscriber_1.Subscriber(Observer_1.empty);
      return new Subscriber_1.Subscriber(nextOrObserver, error, complete);
    }
    exports.toSubscriber = toSubscriber;
  }, {
    "../Observer": 53,
    "../Subscriber": 59,
    "../symbol/rxSubscriber": 212
  } ],
  243: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var audit_1 = require("../internal/operators/audit");
    exports.audit = audit_1.audit;
    var auditTime_1 = require("../internal/operators/auditTime");
    exports.auditTime = auditTime_1.auditTime;
    var buffer_1 = require("../internal/operators/buffer");
    exports.buffer = buffer_1.buffer;
    var bufferCount_1 = require("../internal/operators/bufferCount");
    exports.bufferCount = bufferCount_1.bufferCount;
    var bufferTime_1 = require("../internal/operators/bufferTime");
    exports.bufferTime = bufferTime_1.bufferTime;
    var bufferToggle_1 = require("../internal/operators/bufferToggle");
    exports.bufferToggle = bufferToggle_1.bufferToggle;
    var bufferWhen_1 = require("../internal/operators/bufferWhen");
    exports.bufferWhen = bufferWhen_1.bufferWhen;
    var catchError_1 = require("../internal/operators/catchError");
    exports.catchError = catchError_1.catchError;
    var combineAll_1 = require("../internal/operators/combineAll");
    exports.combineAll = combineAll_1.combineAll;
    var combineLatest_1 = require("../internal/operators/combineLatest");
    exports.combineLatest = combineLatest_1.combineLatest;
    var concat_1 = require("../internal/operators/concat");
    exports.concat = concat_1.concat;
    var concatAll_1 = require("../internal/operators/concatAll");
    exports.concatAll = concatAll_1.concatAll;
    var concatMap_1 = require("../internal/operators/concatMap");
    exports.concatMap = concatMap_1.concatMap;
    var concatMapTo_1 = require("../internal/operators/concatMapTo");
    exports.concatMapTo = concatMapTo_1.concatMapTo;
    var count_1 = require("../internal/operators/count");
    exports.count = count_1.count;
    var debounce_1 = require("../internal/operators/debounce");
    exports.debounce = debounce_1.debounce;
    var debounceTime_1 = require("../internal/operators/debounceTime");
    exports.debounceTime = debounceTime_1.debounceTime;
    var defaultIfEmpty_1 = require("../internal/operators/defaultIfEmpty");
    exports.defaultIfEmpty = defaultIfEmpty_1.defaultIfEmpty;
    var delay_1 = require("../internal/operators/delay");
    exports.delay = delay_1.delay;
    var delayWhen_1 = require("../internal/operators/delayWhen");
    exports.delayWhen = delayWhen_1.delayWhen;
    var dematerialize_1 = require("../internal/operators/dematerialize");
    exports.dematerialize = dematerialize_1.dematerialize;
    var distinct_1 = require("../internal/operators/distinct");
    exports.distinct = distinct_1.distinct;
    var distinctUntilChanged_1 = require("../internal/operators/distinctUntilChanged");
    exports.distinctUntilChanged = distinctUntilChanged_1.distinctUntilChanged;
    var distinctUntilKeyChanged_1 = require("../internal/operators/distinctUntilKeyChanged");
    exports.distinctUntilKeyChanged = distinctUntilKeyChanged_1.distinctUntilKeyChanged;
    var elementAt_1 = require("../internal/operators/elementAt");
    exports.elementAt = elementAt_1.elementAt;
    var endWith_1 = require("../internal/operators/endWith");
    exports.endWith = endWith_1.endWith;
    var every_1 = require("../internal/operators/every");
    exports.every = every_1.every;
    var exhaust_1 = require("../internal/operators/exhaust");
    exports.exhaust = exhaust_1.exhaust;
    var exhaustMap_1 = require("../internal/operators/exhaustMap");
    exports.exhaustMap = exhaustMap_1.exhaustMap;
    var expand_1 = require("../internal/operators/expand");
    exports.expand = expand_1.expand;
    var filter_1 = require("../internal/operators/filter");
    exports.filter = filter_1.filter;
    var finalize_1 = require("../internal/operators/finalize");
    exports.finalize = finalize_1.finalize;
    var find_1 = require("../internal/operators/find");
    exports.find = find_1.find;
    var findIndex_1 = require("../internal/operators/findIndex");
    exports.findIndex = findIndex_1.findIndex;
    var first_1 = require("../internal/operators/first");
    exports.first = first_1.first;
    var groupBy_1 = require("../internal/operators/groupBy");
    exports.groupBy = groupBy_1.groupBy;
    var ignoreElements_1 = require("../internal/operators/ignoreElements");
    exports.ignoreElements = ignoreElements_1.ignoreElements;
    var isEmpty_1 = require("../internal/operators/isEmpty");
    exports.isEmpty = isEmpty_1.isEmpty;
    var last_1 = require("../internal/operators/last");
    exports.last = last_1.last;
    var map_1 = require("../internal/operators/map");
    exports.map = map_1.map;
    var mapTo_1 = require("../internal/operators/mapTo");
    exports.mapTo = mapTo_1.mapTo;
    var materialize_1 = require("../internal/operators/materialize");
    exports.materialize = materialize_1.materialize;
    var max_1 = require("../internal/operators/max");
    exports.max = max_1.max;
    var merge_1 = require("../internal/operators/merge");
    exports.merge = merge_1.merge;
    var mergeAll_1 = require("../internal/operators/mergeAll");
    exports.mergeAll = mergeAll_1.mergeAll;
    var mergeMap_1 = require("../internal/operators/mergeMap");
    exports.mergeMap = mergeMap_1.mergeMap;
    var mergeMap_2 = require("../internal/operators/mergeMap");
    exports.flatMap = mergeMap_2.mergeMap;
    var mergeMapTo_1 = require("../internal/operators/mergeMapTo");
    exports.mergeMapTo = mergeMapTo_1.mergeMapTo;
    var mergeScan_1 = require("../internal/operators/mergeScan");
    exports.mergeScan = mergeScan_1.mergeScan;
    var min_1 = require("../internal/operators/min");
    exports.min = min_1.min;
    var multicast_1 = require("../internal/operators/multicast");
    exports.multicast = multicast_1.multicast;
    var observeOn_1 = require("../internal/operators/observeOn");
    exports.observeOn = observeOn_1.observeOn;
    var onErrorResumeNext_1 = require("../internal/operators/onErrorResumeNext");
    exports.onErrorResumeNext = onErrorResumeNext_1.onErrorResumeNext;
    var pairwise_1 = require("../internal/operators/pairwise");
    exports.pairwise = pairwise_1.pairwise;
    var partition_1 = require("../internal/operators/partition");
    exports.partition = partition_1.partition;
    var pluck_1 = require("../internal/operators/pluck");
    exports.pluck = pluck_1.pluck;
    var publish_1 = require("../internal/operators/publish");
    exports.publish = publish_1.publish;
    var publishBehavior_1 = require("../internal/operators/publishBehavior");
    exports.publishBehavior = publishBehavior_1.publishBehavior;
    var publishLast_1 = require("../internal/operators/publishLast");
    exports.publishLast = publishLast_1.publishLast;
    var publishReplay_1 = require("../internal/operators/publishReplay");
    exports.publishReplay = publishReplay_1.publishReplay;
    var race_1 = require("../internal/operators/race");
    exports.race = race_1.race;
    var reduce_1 = require("../internal/operators/reduce");
    exports.reduce = reduce_1.reduce;
    var repeat_1 = require("../internal/operators/repeat");
    exports.repeat = repeat_1.repeat;
    var repeatWhen_1 = require("../internal/operators/repeatWhen");
    exports.repeatWhen = repeatWhen_1.repeatWhen;
    var retry_1 = require("../internal/operators/retry");
    exports.retry = retry_1.retry;
    var retryWhen_1 = require("../internal/operators/retryWhen");
    exports.retryWhen = retryWhen_1.retryWhen;
    var refCount_1 = require("../internal/operators/refCount");
    exports.refCount = refCount_1.refCount;
    var sample_1 = require("../internal/operators/sample");
    exports.sample = sample_1.sample;
    var sampleTime_1 = require("../internal/operators/sampleTime");
    exports.sampleTime = sampleTime_1.sampleTime;
    var scan_1 = require("../internal/operators/scan");
    exports.scan = scan_1.scan;
    var sequenceEqual_1 = require("../internal/operators/sequenceEqual");
    exports.sequenceEqual = sequenceEqual_1.sequenceEqual;
    var share_1 = require("../internal/operators/share");
    exports.share = share_1.share;
    var shareReplay_1 = require("../internal/operators/shareReplay");
    exports.shareReplay = shareReplay_1.shareReplay;
    var single_1 = require("../internal/operators/single");
    exports.single = single_1.single;
    var skip_1 = require("../internal/operators/skip");
    exports.skip = skip_1.skip;
    var skipLast_1 = require("../internal/operators/skipLast");
    exports.skipLast = skipLast_1.skipLast;
    var skipUntil_1 = require("../internal/operators/skipUntil");
    exports.skipUntil = skipUntil_1.skipUntil;
    var skipWhile_1 = require("../internal/operators/skipWhile");
    exports.skipWhile = skipWhile_1.skipWhile;
    var startWith_1 = require("../internal/operators/startWith");
    exports.startWith = startWith_1.startWith;
    var subscribeOn_1 = require("../internal/operators/subscribeOn");
    exports.subscribeOn = subscribeOn_1.subscribeOn;
    var switchAll_1 = require("../internal/operators/switchAll");
    exports.switchAll = switchAll_1.switchAll;
    var switchMap_1 = require("../internal/operators/switchMap");
    exports.switchMap = switchMap_1.switchMap;
    var switchMapTo_1 = require("../internal/operators/switchMapTo");
    exports.switchMapTo = switchMapTo_1.switchMapTo;
    var take_1 = require("../internal/operators/take");
    exports.take = take_1.take;
    var takeLast_1 = require("../internal/operators/takeLast");
    exports.takeLast = takeLast_1.takeLast;
    var takeUntil_1 = require("../internal/operators/takeUntil");
    exports.takeUntil = takeUntil_1.takeUntil;
    var takeWhile_1 = require("../internal/operators/takeWhile");
    exports.takeWhile = takeWhile_1.takeWhile;
    var tap_1 = require("../internal/operators/tap");
    exports.tap = tap_1.tap;
    var throttle_1 = require("../internal/operators/throttle");
    exports.throttle = throttle_1.throttle;
    var throttleTime_1 = require("../internal/operators/throttleTime");
    exports.throttleTime = throttleTime_1.throttleTime;
    var throwIfEmpty_1 = require("../internal/operators/throwIfEmpty");
    exports.throwIfEmpty = throwIfEmpty_1.throwIfEmpty;
    var timeInterval_1 = require("../internal/operators/timeInterval");
    exports.timeInterval = timeInterval_1.timeInterval;
    var timeout_1 = require("../internal/operators/timeout");
    exports.timeout = timeout_1.timeout;
    var timeoutWith_1 = require("../internal/operators/timeoutWith");
    exports.timeoutWith = timeoutWith_1.timeoutWith;
    var timestamp_1 = require("../internal/operators/timestamp");
    exports.timestamp = timestamp_1.timestamp;
    var toArray_1 = require("../internal/operators/toArray");
    exports.toArray = toArray_1.toArray;
    var window_1 = require("../internal/operators/window");
    exports.window = window_1.window;
    var windowCount_1 = require("../internal/operators/windowCount");
    exports.windowCount = windowCount_1.windowCount;
    var windowTime_1 = require("../internal/operators/windowTime");
    exports.windowTime = windowTime_1.windowTime;
    var windowToggle_1 = require("../internal/operators/windowToggle");
    exports.windowToggle = windowToggle_1.windowToggle;
    var windowWhen_1 = require("../internal/operators/windowWhen");
    exports.windowWhen = windowWhen_1.windowWhen;
    var withLatestFrom_1 = require("../internal/operators/withLatestFrom");
    exports.withLatestFrom = withLatestFrom_1.withLatestFrom;
    var zip_1 = require("../internal/operators/zip");
    exports.zip = zip_1.zip;
    var zipAll_1 = require("../internal/operators/zipAll");
    exports.zipAll = zipAll_1.zipAll;
  }, {
    "../internal/operators/audit": 93,
    "../internal/operators/auditTime": 94,
    "../internal/operators/buffer": 95,
    "../internal/operators/bufferCount": 96,
    "../internal/operators/bufferTime": 97,
    "../internal/operators/bufferToggle": 98,
    "../internal/operators/bufferWhen": 99,
    "../internal/operators/catchError": 100,
    "../internal/operators/combineAll": 101,
    "../internal/operators/combineLatest": 102,
    "../internal/operators/concat": 103,
    "../internal/operators/concatAll": 104,
    "../internal/operators/concatMap": 105,
    "../internal/operators/concatMapTo": 106,
    "../internal/operators/count": 107,
    "../internal/operators/debounce": 108,
    "../internal/operators/debounceTime": 109,
    "../internal/operators/defaultIfEmpty": 110,
    "../internal/operators/delay": 111,
    "../internal/operators/delayWhen": 112,
    "../internal/operators/dematerialize": 113,
    "../internal/operators/distinct": 114,
    "../internal/operators/distinctUntilChanged": 115,
    "../internal/operators/distinctUntilKeyChanged": 116,
    "../internal/operators/elementAt": 117,
    "../internal/operators/endWith": 118,
    "../internal/operators/every": 119,
    "../internal/operators/exhaust": 120,
    "../internal/operators/exhaustMap": 121,
    "../internal/operators/expand": 122,
    "../internal/operators/filter": 123,
    "../internal/operators/finalize": 124,
    "../internal/operators/find": 125,
    "../internal/operators/findIndex": 126,
    "../internal/operators/first": 127,
    "../internal/operators/groupBy": 128,
    "../internal/operators/ignoreElements": 129,
    "../internal/operators/isEmpty": 130,
    "../internal/operators/last": 131,
    "../internal/operators/map": 132,
    "../internal/operators/mapTo": 133,
    "../internal/operators/materialize": 134,
    "../internal/operators/max": 135,
    "../internal/operators/merge": 136,
    "../internal/operators/mergeAll": 137,
    "../internal/operators/mergeMap": 138,
    "../internal/operators/mergeMapTo": 139,
    "../internal/operators/mergeScan": 140,
    "../internal/operators/min": 141,
    "../internal/operators/multicast": 142,
    "../internal/operators/observeOn": 143,
    "../internal/operators/onErrorResumeNext": 144,
    "../internal/operators/pairwise": 145,
    "../internal/operators/partition": 146,
    "../internal/operators/pluck": 147,
    "../internal/operators/publish": 148,
    "../internal/operators/publishBehavior": 149,
    "../internal/operators/publishLast": 150,
    "../internal/operators/publishReplay": 151,
    "../internal/operators/race": 152,
    "../internal/operators/reduce": 153,
    "../internal/operators/refCount": 154,
    "../internal/operators/repeat": 155,
    "../internal/operators/repeatWhen": 156,
    "../internal/operators/retry": 157,
    "../internal/operators/retryWhen": 158,
    "../internal/operators/sample": 159,
    "../internal/operators/sampleTime": 160,
    "../internal/operators/scan": 161,
    "../internal/operators/sequenceEqual": 162,
    "../internal/operators/share": 163,
    "../internal/operators/shareReplay": 164,
    "../internal/operators/single": 165,
    "../internal/operators/skip": 166,
    "../internal/operators/skipLast": 167,
    "../internal/operators/skipUntil": 168,
    "../internal/operators/skipWhile": 169,
    "../internal/operators/startWith": 170,
    "../internal/operators/subscribeOn": 171,
    "../internal/operators/switchAll": 172,
    "../internal/operators/switchMap": 173,
    "../internal/operators/switchMapTo": 174,
    "../internal/operators/take": 175,
    "../internal/operators/takeLast": 176,
    "../internal/operators/takeUntil": 177,
    "../internal/operators/takeWhile": 178,
    "../internal/operators/tap": 179,
    "../internal/operators/throttle": 180,
    "../internal/operators/throttleTime": 181,
    "../internal/operators/throwIfEmpty": 182,
    "../internal/operators/timeInterval": 183,
    "../internal/operators/timeout": 184,
    "../internal/operators/timeoutWith": 185,
    "../internal/operators/timestamp": 186,
    "../internal/operators/toArray": 187,
    "../internal/operators/window": 188,
    "../internal/operators/windowCount": 189,
    "../internal/operators/windowTime": 190,
    "../internal/operators/windowToggle": 191,
    "../internal/operators/windowWhen": 192,
    "../internal/operators/withLatestFrom": 193,
    "../internal/operators/zip": 194,
    "../internal/operators/zipAll": 195
  } ],
  244: [ function(require, module, exports) {
    "use strict";
    var GetIntrinsic = require("get-intrinsic");
    var define = require("define-data-property");
    var hasDescriptors = require("has-property-descriptors")();
    var gOPD = require("gopd");
    var $TypeError = require("es-errors/type");
    var $floor = GetIntrinsic("%Math.floor%");
    module.exports = function setFunctionLength(fn, length) {
      if ("function" !== typeof fn) throw new $TypeError("`fn` is not a function");
      if ("number" !== typeof length || length < 0 || length > 4294967295 || $floor(length) !== length) throw new $TypeError("`length` must be a positive 32-bit integer");
      var loose = arguments.length > 2 && !!arguments[2];
      var functionLengthIsConfigurable = true;
      var functionLengthIsWritable = true;
      if ("length" in fn && gOPD) {
        var desc = gOPD(fn, "length");
        desc && !desc.configurable && (functionLengthIsConfigurable = false);
        desc && !desc.writable && (functionLengthIsWritable = false);
      }
      (functionLengthIsConfigurable || functionLengthIsWritable || !loose) && (hasDescriptors ? define(fn, "length", length, true, true) : define(fn, "length", length));
      return fn;
    };
  }, {
    "define-data-property": 11,
    "es-errors/type": 22,
    "get-intrinsic": 32,
    gopd: 35,
    "has-property-descriptors": 36
  } ],
  245: [ function(require, module, exports) {
    "use strict";
    var RequireObjectCoercible = require("es-abstract/2023/RequireObjectCoercible");
    var ToString = require("es-abstract/2023/ToString");
    var callBound = require("call-bind/callBound");
    var $replace = callBound("String.prototype.replace");
    var mvsIsWS = /^\s$/.test("\u180e");
    var leftWhitespace = mvsIsWS ? /^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/ : /^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/;
    var rightWhitespace = mvsIsWS ? /[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/ : /[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;
    module.exports = function trim() {
      var S = ToString(RequireObjectCoercible(this));
      return $replace($replace(S, leftWhitespace, ""), rightWhitespace, "");
    };
  }, {
    "call-bind/callBound": 9,
    "es-abstract/2023/RequireObjectCoercible": 13,
    "es-abstract/2023/ToString": 14
  } ],
  246: [ function(require, module, exports) {
    "use strict";
    var callBind = require("call-bind");
    var define = require("define-properties");
    var RequireObjectCoercible = require("es-abstract/2023/RequireObjectCoercible");
    var implementation = require("./implementation");
    var getPolyfill = require("./polyfill");
    var shim = require("./shim");
    var bound = callBind(getPolyfill());
    var boundMethod = function trim(receiver) {
      RequireObjectCoercible(receiver);
      return bound(receiver);
    };
    define(boundMethod, {
      getPolyfill: getPolyfill,
      implementation: implementation,
      shim: shim
    });
    module.exports = boundMethod;
  }, {
    "./implementation": 245,
    "./polyfill": 247,
    "./shim": 248,
    "call-bind": 10,
    "define-properties": 12,
    "es-abstract/2023/RequireObjectCoercible": 13
  } ],
  247: [ function(require, module, exports) {
    "use strict";
    var implementation = require("./implementation");
    var zeroWidthSpace = "\u200b";
    var mongolianVowelSeparator = "\u180e";
    module.exports = function getPolyfill() {
      if (String.prototype.trim && zeroWidthSpace.trim() === zeroWidthSpace && mongolianVowelSeparator.trim() === mongolianVowelSeparator && ("_" + mongolianVowelSeparator).trim() === "_" + mongolianVowelSeparator && (mongolianVowelSeparator + "_").trim() === mongolianVowelSeparator + "_") return String.prototype.trim;
      return implementation;
    };
  }, {
    "./implementation": 245
  } ],
  248: [ function(require, module, exports) {
    "use strict";
    var define = require("define-properties");
    var getPolyfill = require("./polyfill");
    module.exports = function shimStringTrim() {
      var polyfill = getPolyfill();
      define(String.prototype, {
        trim: polyfill
      }, {
        trim: function testTrim() {
          return String.prototype.trim !== polyfill;
        }
      });
      return polyfill;
    };
  }, {
    "./polyfill": 247,
    "define-properties": 12
  } ],
  249: [ function(require, module, exports) {
    (function(process) {
      "use strict";
      var __DEV__ = "production" !== process.env.NODE_ENV;
      var warning = function() {};
      if (__DEV__) {
        var printWarning = function printWarning(format, args) {
          var len = arguments.length;
          args = new Array(len > 1 ? len - 1 : 0);
          for (var key = 1; key < len; key++) args[key - 1] = arguments[key];
          var argIndex = 0;
          var message = "Warning: " + format.replace(/%s/g, function() {
            return args[argIndex++];
          });
          "undefined" !== typeof console && console.error(message);
          try {
            throw new Error(message);
          } catch (x) {}
        };
        warning = function(condition, format, args) {
          var len = arguments.length;
          args = new Array(len > 2 ? len - 2 : 0);
          for (var key = 2; key < len; key++) args[key - 2] = arguments[key];
          if (void 0 === format) throw new Error("`warning(condition, format, ...args)` requires a warning message argument");
          condition || printWarning.apply(null, [ format ].concat(args));
        };
      }
      module.exports = warning;
    }).call(this, require("_process"));
  }, {
    _process: 5
  } ],
  Alert: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "d1dd29noFZGbYq/4pG1Zwmb", "Alert");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.SUPPER_PRIORITY = exports.AlertClickType = exports.gameAlertTick = exports.gameAlertRefresh = exports.gameAlert = void 0;
    var ColFade_1 = require("../data/ColFade");
    var I18nGlobal_1 = require("../I18nGlobal");
    var IframeGlobal_1 = require("../IframeGlobal");
    var Utils_1 = require("../utils/Utils");
    var CommonButton_1 = require("./CommonButton");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var al = null;
    function gameAlert(messageOrMessages, title, priority, callback) {
      void 0 === title && (title = DEFAULT_TITLE);
      void 0 === priority && (priority = DEFAULT_PRIORITY);
      void 0 === callback && (callback = DEFAULT_CALLBACK);
      if (!al || !al.isValid) return;
      var msgs = Array.isArray(messageOrMessages) ? messageOrMessages : [ messageOrMessages ];
      al.show({
        msgs: msgs,
        title: title,
        priority: priority,
        callback: callback
      });
    }
    exports.gameAlert = gameAlert;
    function gameAlertRefresh(message, refreshAble, priority) {
      void 0 === refreshAble && (refreshAble = true);
      void 0 === priority && (priority = DEFAULT_PRIORITY);
      if (!al || !al.isValid) return;
      al.alertRefresh(message, refreshAble, priority);
    }
    exports.gameAlertRefresh = gameAlertRefresh;
    function gameAlertTick(message, callback, tick) {
      void 0 === callback && (callback = DEFAULT_CALLBACK);
      if (!al || !al.isValid) return;
      al.alertTick(message, callback, tick);
    }
    exports.gameAlertTick = gameAlertTick;
    var AlertClickType;
    (function(AlertClickType) {
      AlertClickType[AlertClickType["CONFIRM"] = 0] = "CONFIRM";
      AlertClickType[AlertClickType["CANCEL"] = 1] = "CANCEL";
      AlertClickType[AlertClickType["CLOSE"] = 2] = "CLOSE";
    })(AlertClickType = exports.AlertClickType || (exports.AlertClickType = {}));
    function sort(a, b) {
      return b.priority - a.priority;
    }
    var DEFAULT_TITLE = "";
    var DEFAULT_PRIORITY = 0;
    var DEFAULT_CALLBACK = null;
    exports.SUPPER_PRIORITY = 1e3;
    var Alert = function(_super) {
      __extends(Alert, _super);
      function Alert() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.winAlertNode = null;
        _this.canvasWidget = [];
        _this.colFade = null;
        _this.labelTitle = null;
        _this.labelMessage = null;
        _this.tickNode = null;
        _this.labelTick = null;
        _this.callbackNodes = [];
        _this.reloadNodes = [];
        _this.dialogNodes = [];
        _this.defaultMat = null;
        _this.grayMat = null;
        _this.loaded = false;
        _this.index = -1;
        _this.queue = [];
        _this.delta = 0;
        _this.updateMessageIndex = 0;
        _this.needUpdateMessage = false;
        return _this;
      }
      Alert.prototype.onLoad = function() {
        this.pre();
        al = this;
      };
      Alert.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.node.zIndex = 10;
        this.toggleActive(false);
        this.labelTitle.node.active = true;
        this.node.height = 500;
        this.node.color = cc.Color.WHITE;
        this.node.opacity = 240;
        this.queue.length && this.doAlert(0);
      };
      Alert.prototype.update = function(dt) {
        if (!this.needUpdateMessage) return;
        this.delta += dt;
        if (this.delta >= 1) {
          var data = this.queue[this.index];
          var txt = I18nGlobal_1.translate(data.msgs[this.updateMessageIndex]);
          this.labelMessage.string = txt;
          this.updateMessageIndex = this.updateMessageIndex + 1 >= data.msgs.length ? 0 : this.updateMessageIndex + 1;
          this.delta -= 1;
        }
      };
      Alert.prototype.createAlertData = function(data) {
        return Object.assign({
          msgs: [],
          title: DEFAULT_TITLE,
          priority: DEFAULT_PRIORITY,
          callback: DEFAULT_CALLBACK,
          tick: ""
        }, data);
      };
      Alert.prototype.show = function(data) {
        if (!data.msgs || !data.msgs.length) return;
        var txt = data.msgs.join("###");
        var arr = this.queue.filter(function(el) {
          return el.msgs.join("###") === txt && el.tick === data.tick;
        });
        arr.length || this.queue.push(this.createAlertData(data));
        this.queue.sort(sort);
        this.doAlert(0);
      };
      Alert.prototype.alert = function(messageOrMessages, title, priority, callback, tick) {
        void 0 === title && (title = DEFAULT_TITLE);
        void 0 === priority && (priority = DEFAULT_PRIORITY);
        void 0 === callback && (callback = DEFAULT_CALLBACK);
        void 0 === tick && (tick = "");
        var msgs = Array.isArray(messageOrMessages) ? messageOrMessages : [ messageOrMessages ];
        this.show({
          msgs: msgs,
          title: title,
          priority: priority,
          callback: callback,
          tick: tick
        });
      };
      Alert.prototype.alertRefresh = function(message, refreshAble, priority) {
        var _this = this;
        void 0 === refreshAble && (refreshAble = true);
        void 0 === priority && (priority = DEFAULT_PRIORITY);
        this.queue.length = 0;
        var next = function() {
          _this.reloadNodes.forEach(function(node) {
            _this.nodeGray(node, refreshAble);
            _this.btnEnable(node, refreshAble);
          });
          IframeGlobal_1.reload();
        };
        this.alert(message, DEFAULT_TITLE, priority, refreshAble ? next : null);
        this.queue.push(this.createAlertData({
          msgs: [ message ]
        }));
        this.callbackNodes.forEach(Utils_1.nodeActive(false));
        this.dialogNodes.forEach(Utils_1.nodeActive(false));
        this.reloadNodes.forEach(Utils_1.nodeActive(refreshAble));
        this.toggleTickNode(false);
      };
      Alert.prototype.dialog = function(message, next) {
        this.alertDialog(message, next);
      };
      Alert.prototype.alertDialog = function(message, next) {
        this.queue.length = 0;
        this.alert(message, DEFAULT_TITLE, DEFAULT_PRIORITY, next);
        this.callbackNodes.forEach(Utils_1.nodeActive(false));
        this.reloadNodes.forEach(Utils_1.nodeActive(false));
        this.dialogNodes.forEach(Utils_1.nodeActive(true));
        this.toggleTickNode(false);
      };
      Alert.prototype.alertTick = function(message, next, tick) {
        this.queue.length = 0;
        this.alert(message, DEFAULT_TITLE, DEFAULT_PRIORITY, next, tick);
        this.callbackNodes.forEach(Utils_1.nodeActive(false));
        this.dialogNodes.forEach(Utils_1.nodeActive(false));
        this.reloadNodes.forEach(Utils_1.nodeActive(false));
        this.toggleTickNode(true, Boolean(next));
      };
      Alert.prototype.doAlert = function(index) {
        this.pre();
        this.index = index;
        var data = this.queue[index];
        this.labelTitle.string = data.title;
        var txt = I18nGlobal_1.translate(data.msgs[0]);
        this.labelMessage.string = txt;
        this.labelTick && (this.labelTick.string = I18nGlobal_1.translate(data.tick));
        this.needUpdateMessage = data.msgs.length > 1;
        this.updateMessageIndex = 1;
        this.callbackNodes.forEach(Utils_1.nodeActive(Boolean(data.callback)));
        this.toggleTickNode(data.tick && Boolean(data.callback), Boolean(data.callback));
        this.toggleActive(true);
      };
      Alert.prototype.onConfirmClick = function() {
        this.close(AlertClickType.CONFIRM);
      };
      Alert.prototype.onCloseClick = function() {
        this.close(AlertClickType.CLOSE);
      };
      Alert.prototype.onCancelClick = function() {
        this.close(AlertClickType.CANCEL);
      };
      Alert.prototype.close = function(clickType) {
        if (-1 !== this.index) {
          var data = this.queue[this.index];
          data && data.callback && data.callback(clickType);
          this.remove(this.index);
        }
        this.queue.length > 0 ? this.doAlert(0) : this.toggleActive(false);
      };
      Alert.prototype.remove = function(index) {
        this.queue.splice(index, 1);
      };
      Alert.prototype.only1 = function() {
        this.queue = [ this.queue[0] ];
      };
      Alert.prototype.filter = function(priority) {
        var _this = this;
        var tag = false;
        this.queue = this.queue.filter(function(d, index) {
          var keep = d.priority !== priority;
          _this.index !== index || keep || (tag = true);
          return keep;
        });
        if (tag) {
          this.index = -1;
          this.close(AlertClickType.CLOSE);
        }
      };
      Alert.prototype.toggleActive = function(able) {
        void 0 === able && (able = !this.node.active);
        this.winAlertNode.active = able;
        able || (this.needUpdateMessage = false);
        this.colFade && this.colFade.reset("", able);
      };
      Alert.prototype.toggleTickNode = function(value, hasCallback) {
        void 0 === hasCallback && (hasCallback = false);
        if (!this.tickNode) return;
        if (value) {
          this.tickNode.active = true;
          this.nodeGray(this.tickNode, hasCallback);
          this.btnEnable(this.tickNode, hasCallback);
        } else this.tickNode.active = false;
      };
      Alert.prototype.nodeGray = function(node, isNormal) {
        void 0 === isNormal && (isNormal = true);
        var s = node.getComponent(cc.Sprite);
        s && s.setMaterial(0, isNormal ? this.defaultMat : this.grayMat);
      };
      Alert.prototype.btnEnable = function(node, isNormal) {
        void 0 === isNormal && (isNormal = true);
        var b = node.getComponent(CommonButton_1.default);
        b && (b.enabled = !!isNormal);
        var b2 = node.getComponent(cc.Button);
        b2 && (b2.enabled = !!isNormal);
      };
      __decorate([ property(cc.Node) ], Alert.prototype, "winAlertNode", void 0);
      __decorate([ property([ cc.Widget ]) ], Alert.prototype, "canvasWidget", void 0);
      __decorate([ property(ColFade_1.ColFade) ], Alert.prototype, "colFade", void 0);
      __decorate([ property(cc.Label) ], Alert.prototype, "labelTitle", void 0);
      __decorate([ property(cc.Label) ], Alert.prototype, "labelMessage", void 0);
      __decorate([ property(cc.Node) ], Alert.prototype, "tickNode", void 0);
      __decorate([ property(cc.Label) ], Alert.prototype, "labelTick", void 0);
      __decorate([ property([ cc.Node ]) ], Alert.prototype, "callbackNodes", void 0);
      __decorate([ property([ cc.Node ]) ], Alert.prototype, "reloadNodes", void 0);
      __decorate([ property([ cc.Node ]) ], Alert.prototype, "dialogNodes", void 0);
      __decorate([ property(cc.Material) ], Alert.prototype, "defaultMat", void 0);
      __decorate([ property(cc.Material) ], Alert.prototype, "grayMat", void 0);
      Alert = __decorate([ ccclass ], Alert);
      return Alert;
    }(cc.Component);
    exports.default = Alert;
    cc._RF.pop();
  }, {
    "../I18nGlobal": "I18nGlobal",
    "../IframeGlobal": "IframeGlobal",
    "../data/ColFade": "ColFade",
    "../utils/Utils": "Utils",
    "./CommonButton": "CommonButton"
  } ],
  AndroidHack: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b8c7bk7rhxHgIcsz3Lxb0SS", "AndroidHack");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.androidHack = void 0;
    function androidHack() {
      isAndroid() && (cc.sys.isMobile = true);
    }
    exports.androidHack = androidHack;
    function isAndroid() {
      if (/Android|SamsungBrowser/i.test(navigator.userAgent)) return true;
      return false;
    }
    cc._RF.pop();
  }, {} ],
  AnimatableProperty: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "41a17rG70hFXa2t3SJNA/w7", "AnimatableProperty");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ColBase_1 = require("../data/ColBase");
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AnimatableProperty = function(_super) {
      __extends(AnimatableProperty, _super);
      function AnimatableProperty() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.p1 = 0;
        _this.p2 = 0;
        _this.p3 = 0;
        _this.p4 = 0;
        _this.p5 = 0;
        _this.p6 = 0;
        _this.cols = [];
        return _this;
      }
      AnimatableProperty.prototype.update = function() {
        var ary = [ this.p1, this.p2, this.p3, this.p4, this.p5, this.p6 ];
        this.cols.length && Utils_1.loop2ArrayWithMaxLength(ary, this.cols, apply);
      };
      __decorate([ property ], AnimatableProperty.prototype, "p1", void 0);
      __decorate([ property ], AnimatableProperty.prototype, "p2", void 0);
      __decorate([ property ], AnimatableProperty.prototype, "p3", void 0);
      __decorate([ property ], AnimatableProperty.prototype, "p4", void 0);
      __decorate([ property ], AnimatableProperty.prototype, "p5", void 0);
      __decorate([ property ], AnimatableProperty.prototype, "p6", void 0);
      __decorate([ property([ ColBase_1.default ]) ], AnimatableProperty.prototype, "cols", void 0);
      AnimatableProperty = __decorate([ ccclass ], AnimatableProperty);
      return AnimatableProperty;
    }(cc.Component);
    exports.default = AnimatableProperty;
    function apply(p, col) {
      col && col.reset(null, p, "");
    }
    cc._RF.pop();
  }, {
    "../data/ColBase": "ColBase",
    "../utils/Utils": "Utils"
  } ],
  AnimationConfig: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "01d96TO225ARZEqNbngh/PT", "AnimationConfig");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AnimationConfig = function(_super) {
      __extends(AnimationConfig, _super);
      function AnimationConfig() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.animation = null;
        _this.index = 0;
        _this.enactive = false;
        _this.loaded = false;
        return _this;
      }
      AnimationConfig.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.animation = this.animation || this.node.getComponent(cc.Animation);
      };
      AnimationConfig.prototype.onLoad = function() {
        this.pre();
      };
      __decorate([ property(cc.Animation) ], AnimationConfig.prototype, "animation", void 0);
      __decorate([ property(cc.Integer) ], AnimationConfig.prototype, "index", void 0);
      __decorate([ property(cc.Boolean) ], AnimationConfig.prototype, "enactive", void 0);
      AnimationConfig = __decorate([ ccclass ], AnimationConfig);
      return AnimationConfig;
    }(cc.Component);
    exports.default = AnimationConfig;
    cc._RF.pop();
  }, {} ],
  AnimationDelayPlay: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0056e9MMqdPG42csqQ/dvpP", "AnimationDelayPlay");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AnimationDelayPlay = function(_super) {
      __extends(AnimationDelayPlay, _super);
      function AnimationDelayPlay() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.delaySec = 0;
        _this.animation = null;
        return _this;
      }
      AnimationDelayPlay.prototype.start = function() {
        var anim = this.animation || this.node.getComponent(cc.Animation);
        var isPlaying = anim._animator && anim._animator.isPlaying;
        if (!isPlaying) {
          var state_1 = anim.getAnimationState(anim._defaultClip.name);
          var next = function() {
            anim._animator.playState(state_1);
          };
          anim.scheduleOnce(next, this.delaySec);
        }
      };
      __decorate([ property(cc.Integer) ], AnimationDelayPlay.prototype, "delaySec", void 0);
      __decorate([ property(cc.Animation) ], AnimationDelayPlay.prototype, "animation", void 0);
      AnimationDelayPlay = __decorate([ ccclass ], AnimationDelayPlay);
      return AnimationDelayPlay;
    }(cc.Component);
    exports.default = AnimationDelayPlay;
    cc._RF.pop();
  }, {} ],
  AnimationWithAnimatableProperty: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9fb5f0kL71HNYV5FOL5ZEgf", "AnimationWithAnimatableProperty");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var AnimatableProperty_1 = require("./AnimatableProperty");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AnimationWithAnimatableProperty = function(_super) {
      __extends(AnimationWithAnimatableProperty, _super);
      function AnimationWithAnimatableProperty() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.animatablePropertys = [];
        return _this;
      }
      AnimationWithAnimatableProperty.prototype.onLoad = function() {
        this.animatablePropertys = this.getComponentsInChildren(AnimatableProperty_1.default);
      };
      AnimationWithAnimatableProperty.prototype.play = function(name, startTime) {
        true;
        this.animatablePropertys.forEach(Utils_1.nodeProperty("enabled", true));
        return _super.prototype.play.call(this, name, startTime);
      };
      AnimationWithAnimatableProperty.prototype.stop = function(name) {
        true;
        try {
          this.isValid && this.animatablePropertys.filter(function(r) {
            return r.isValid && r.node;
          }).forEach(Utils_1.nodeProperty("enabled", false));
        } catch (e) {
          Utils_1.log("node already destory", e);
        }
        return _super.prototype.stop.call(this, name);
      };
      AnimationWithAnimatableProperty = __decorate([ ccclass ], AnimationWithAnimatableProperty);
      return AnimationWithAnimatableProperty;
    }(cc.Animation);
    exports.default = AnimationWithAnimatableProperty;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./AnimatableProperty": "AnimatableProperty"
  } ],
  ArtLabelEditor: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "95edex35QNOtZXfEEf7ecPa", "ArtLabelEditor");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ArtLabel_1 = require("../submodule/game-client-lib/component/ArtLabel");
    var ArtLabelStyle_1 = require("../submodule/game-client-lib/component/ArtLabelStyle");
    var GradientAssembler2D_1 = require("../submodule/game-client-lib/component/GradientAssembler2D");
    var KeyDownBinder_1 = require("../submodule/game-client-lib/component/KeyDownBinder");
    var PromiseManager_1 = require("../submodule/game-client-lib/script/PromiseManager");
    var Utils_1 = require("../submodule/game-client-lib/utils/Utils");
    var ArtLabelProperty_1 = require("./ArtLabelProperty");
    var BackgroundProperty_1 = require("./BackgroundProperty");
    var Drag_1 = require("./Drag");
    var Template_1 = require("./Template");
    var TreeItem_1 = require("./TreeItem");
    var Version_1 = require("./Version");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ArtLabelEditor = function(_super) {
      __extends(ArtLabelEditor, _super);
      function ArtLabelEditor() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.scaleLabel = null;
        _this.backgroundProperty = null;
        _this.listContent = null;
        _this.treeContent = null;
        _this.listTpl = null;
        _this.treeTpl1 = null;
        _this.treeTpl2 = null;
        _this.backgroundSprite = null;
        _this.backgroundLabel = null;
        _this.viewArtLabel = null;
        _this.artLabelEditBox = null;
        _this.artLabelStyleEditBox = null;
        _this.drag = null;
        _this.artLabels = [];
        _this.obj = null;
        _this.messageNode = null;
        return _this;
      }
      ArtLabelEditor.prototype.doKeyDown = function(event) {
        var node = this.viewArtLabel.node;
        var bgParent = this.backgroundSprite.node.parent;
        switch (event.keyCode) {
         case cc.macro.KEY.a:
         case cc.macro.KEY.left:
          bgParent.x -= 1;
          break;

         case cc.macro.KEY.d:
         case cc.macro.KEY.right:
          bgParent.x += 1;
          break;

         case cc.macro.KEY.w:
         case cc.macro.KEY.up:
          bgParent.y += 1;
          break;

         case cc.macro.KEY.s:
         case cc.macro.KEY.down:
          bgParent.y -= 1;
          break;

         case cc.macro.KEY.q:
         case cc.macro.KEY["+"]:
         case cc.macro.KEY["="]:
          node.scale += .1;
          break;

         case cc.macro.KEY.e:
         case cc.macro.KEY["-"]:
         case cc.macro.KEY.dash:
          node.scale -= .1;
          break;

         case cc.macro.KEY.space:
          node.scale = 1;
          bgParent.x = 0;
          bgParent.y = 0;
        }
      };
      ArtLabelEditor.prototype.update = function(dt) {
        this.refreshLabel();
      };
      ArtLabelEditor.prototype.refreshLabel = function() {
        var node = this.viewArtLabel.node;
        var bgParent = this.backgroundSprite.node.parent;
        this.scaleLabel.string = [ Version_1.VERSION, "scale: " + Math.round(1e3 * node.scale) / 1e3, "x:" + -bgParent.x + ", y:" + -bgParent.y ].join("\n");
      };
      ArtLabelEditor.prototype.onLoad = function() {
        var _this = this;
        _super.prototype.onLoad.call(this);
        var tpl = this.listContent.children[0];
        var tpl1 = this.treeContent.children[0];
        var tpl2 = this.treeContent.children[1];
        tpl.removeFromParent();
        tpl1.removeFromParent();
        tpl2.removeFromParent();
        this.listTpl = tpl;
        this.treeTpl1 = tpl1;
        this.treeTpl2 = tpl2;
        this.drag.editor = this;
        this.scheduleOnce(function() {
          _this.onArtLabelCreateClick();
        });
      };
      ArtLabelEditor.prototype.refreshProperty = function(obj) {
        var _this = this;
        this.listContent.removeAllChildren();
        this.obj = obj;
        var keyMap = {
          string: "\u6587\u5b57",
          fontSize: "\u6587\u5b57\u5c3a\u5bf8",
          lineHeight: "\u6587\u5b57\u884c\u9ad8",
          enableBold: "\u7c97\u9ad4",
          enableItalic: "\u659c\u9ad4",
          labelColor: "\u6587\u5b57\u984f\u8272",
          useOutlineColor: "\u7b46\u756b\u4e0a\u8272",
          outlineWidth: "\u7b46\u756b\u5c3a\u5bf8",
          outlineColor: "\u7b46\u756b\u984f\u8272",
          shadow: "\u9670\u5f71",
          shadowColor: "\u9670\u5f71\u984f\u8272",
          "shadowOffset.x": "\u9670\u5f71 x",
          "shadowOffset.y": "\u9670\u5f71 y",
          gradient: "\u6f38\u5c64",
          gradColorLB: "\u6f38\u5c64LB",
          gradColorRB: "\u6f38\u5c64RB",
          gradColorLT: "\u6f38\u5c64LT",
          gradColorRT: "\u6f38\u5c64RT"
        };
        var gen = function(key, val, slider) {
          void 0 === slider && (slider = false);
          var keyStr = keyMap[key] || key;
          var node = cc.instantiate(_this.listTpl);
          var t = node.getComponent(Template_1.default);
          if ("string" == key) {
            t.editBox.node.active = false;
            t.editBox.enabled = false;
            var eb = t.getComponentsInChildren(cc.EditBox)[1];
            eb.node.active = true;
            t.editBox = eb;
            node.height = 160;
          }
          t.label.string = keyStr;
          t.editBox.string = "" + val;
          var h = new cc.Component.EventHandler();
          h.component = "ArtLabelEditor";
          h.handler = "onEditingDidEnded";
          h.target = _this.node;
          h.customEventData = key;
          t.editBox.editingDidEnded.push(h);
          t.editBox.editingReturn.push(h);
          t.slider.node.active = slider;
          if ("boolean" == typeof val) {
            t.editBox.node.active = false;
            t.toggle.node.active = true;
            var h_1 = new cc.Component.EventHandler();
            h_1.component = "ArtLabelEditor";
            h_1.handler = "onCheckEvents";
            h_1.target = _this.node;
            h_1.customEventData = key;
            t.toggle.checkEvents.push(h_1);
            t.toggle.isChecked = val;
          }
          if (slider) {
            t.label.string = keyStr;
            node.height = 90;
            var h_2 = new cc.Component.EventHandler();
            h_2.component = "ArtLabelEditor";
            h_2.handler = "onSlideEvents";
            h_2.target = _this.node;
            h_2.customEventData = key;
            t.slider.slideEvents.push(h_2);
            t.slider.updateHandlePosition(val / 255);
          }
          _this.listContent.addChild(node);
        };
        for (var k in obj) if (obj.hasOwnProperty(k)) {
          var visibles = {
            useOutlineColor: function() {
              return this.outlineWidth > 0;
            },
            outlineColor: function() {
              return this.outlineWidth > 0 && this.useOutlineColor;
            },
            shadowColor: function() {
              return this.shadow;
            },
            shadowOffset: function() {
              return this.shadow;
            },
            gradColorLB: function() {
              return this.gradient;
            },
            gradColorRB: function() {
              return this.gradient;
            },
            gradColorLT: function() {
              return this.gradient;
            },
            gradColorRT: function() {
              return this.gradient;
            }
          };
          var visible = visibles[k];
          if (visible && !visible.call(obj)) continue;
          if (k.startsWith("_")) continue;
          var prop = obj[k];
          if ("boolean" === typeof prop) gen(k, prop); else if ("string" === typeof prop) gen(k, prop); else if ("number" === typeof prop) gen(k, prop); else if (prop instanceof cc.Vec2) {
            gen(k + ".x", prop.x);
            gen(k + ".y", prop.y);
          } else prop instanceof cc.Color && gen(k, prop.toHEX("#rrggbbaa"));
        }
      };
      ArtLabelEditor.prototype.applyProperty = function(key, val) {
        var _this = this;
        this.obj == this.backgroundProperty && this.backgroundProperty.clearBoolean();
        var ks = key.split(".");
        key = ks[0];
        var op = ks[1];
        switch (op) {
         case "x":
         case "y":
          this.obj[key][op] = Number(val);
          break;

         case "r":
         case "g":
         case "b":
         case "a":
          this.obj[key]["set" + op.toUpperCase()](Number(val));
          var k_1 = key.split(".")[0];
          var node = this.listContent.children.find(function(node) {
            var t = node.getComponent(Template_1.default);
            return t.label.string == k_1;
          });
          node.getComponent(Template_1.default).editBox.string = this.obj[key].toHEX("#rrggbbaa");
          break;

         default:
          if ("number" == typeof this.obj[key]) this.obj[key] = Number(val); else if ("boolean" == typeof this.obj[key]) this.obj[key] = Boolean(val); else if (this.obj[key] instanceof cc.Color) {
            cc.Color.fromHEX(this.obj[key], val);
            this.listContent.children.find(function(node) {
              var t = node.getComponent(Template_1.default);
              var str = t.label.string;
              if (str.startsWith(key + ".")) {
                var op_1 = str.split(".")[1];
                var val_1 = _this.obj[key]["get" + op_1.toUpperCase()]();
                t.editBox.string = "" + val_1;
                t.slider.updateHandlePosition(val_1 / 255);
              }
            });
          } else this.obj[key] = val;
        }
        this.refreshProperty(this.obj);
        this.backgroundProperty.refresh();
        var obj = this.obj;
        if (obj instanceof ArtLabelStyle_1.default) {
          this.viewArtLabel.styleRefNode = obj.node.parent;
          obj.node.parent.getComponent(ArtLabelProperty_1.default).refresh(this.viewArtLabel);
          this.viewArtLabel.refresh();
        } else if (obj instanceof ArtLabelProperty_1.default) {
          obj.refresh(this.viewArtLabel);
          this.viewArtLabel.styleRefNode = obj.node;
          this.viewArtLabel.refresh();
        }
        this.refreshTree();
      };
      ArtLabelEditor.prototype.refreshString = function() {
        var str1 = "";
        var str2 = "";
        var obj = this.obj;
        if (obj instanceof ArtLabelStyle_1.default) {
          str1 = JSON.stringify(obj.node.parent.getComponent(ArtLabel_1.default).toJson());
          str2 = JSON.stringify(obj.toJson());
        } else obj instanceof ArtLabelProperty_1.default && (str1 = JSON.stringify(obj.artLabel.toJson()));
        this.artLabelEditBox.string = str1;
        this.artLabelStyleEditBox.string = str2;
      };
      ArtLabelEditor.prototype.onEditingDidEnded = function(editBox, key) {
        editBox.blur();
        this.applyProperty(key, editBox.string);
      };
      ArtLabelEditor.prototype.onCheckEvents = function(toggle, key) {
        this.applyProperty(key, toggle.isChecked ? "1" : "");
      };
      ArtLabelEditor.prototype.onSlideEvents = function(slider, key) {
        var val = Number((255 * Number(slider.progress)).toFixed(0));
        slider.node.parent.children[1].getComponent(cc.EditBox).string = "" + val;
        this.applyProperty(key, "" + val);
      };
      ArtLabelEditor.prototype.onFileDrop = function(files) {
        files.sort(function(a, b) {
          return a.type.localeCompare(b.type) || a.name.localeCompare(b.name);
        });
        var arr = files.filter(function(f) {
          return -1 !== [ "image/png", "image/jpg", "image/jpeg" ].indexOf(f.type);
        });
        if (arr.length) {
          this.imageDrop(arr);
          return;
        }
        arr = files.filter(function(f) {
          return -1 !== [ "font/ttf" ].indexOf(f.type) || f.name.endsWith(".ttf");
        });
        if (arr.length) {
          this.ttfDrop(arr);
          return;
        }
      };
      ArtLabelEditor.prototype.imageDrop = function(arr) {
        var _this = this;
        this.backgroundProperty.clearBoolean();
        arr.forEach(function(imgFile, i) {
          var key = imgFile.name.split(".")[0];
          BackgroundProperty_1.backgroundSpriteFrameMap[key] = imgFileToSpriteFrame(imgFile);
          _this.backgroundProperty[key] = i == arr.length - 1;
          _this.message("load background images");
        });
        this.backgroundProperty.refresh();
        this.refreshProperty(this.backgroundProperty);
        this.refreshTree();
      };
      ArtLabelEditor.prototype.ttfDrop = function(arr) {
        var ff = arr[0].result;
        var fontFamily = ff.family;
        if (this.obj instanceof ArtLabelProperty_1.default) this.obj.fontFamily = fontFamily; else if (this.obj instanceof ArtLabelStyle_1.default) {
          var p = this.obj.node.parent.getComponent(ArtLabelProperty_1.default);
          p instanceof ArtLabelProperty_1.default && (p.fontFamily = fontFamily);
        }
        this.refreshTree();
      };
      ArtLabelEditor.prototype.refreshTree = function() {
        var _this = this;
        this.backgroundLabel.enableUnderline = this.obj == this.backgroundProperty;
        this.treeContent.removeAllChildren();
        this.artLabels.forEach(function(artLabel) {
          var tpl = cc.instantiate(_this.treeTpl1);
          var label = tpl.getComponentInChildren(cc.Label);
          var artLabelProperty = artLabel.getComponent(ArtLabelProperty_1.default);
          label.string = artLabelProperty.string;
          label.fontFamily = artLabelProperty.fontFamily;
          _this.treeContent.addChild(tpl);
          label.enableUnderline = _this.obj == artLabelProperty;
          tpl.getComponent(TreeItem_1.default).ref = artLabelProperty;
          artLabel.node.children.forEach(function(node, idx) {
            var style = node.getComponent(ArtLabelStyle_1.default);
            if (style) {
              var tpl_1 = cc.instantiate(_this.treeTpl2);
              tpl_1.getComponent(TreeItem_1.default).ref = style;
              _this.treeContent.addChild(tpl_1);
              var label_1 = tpl_1.getComponentInChildren(cc.Label);
              label_1.fontFamily = artLabelProperty.fontFamily;
              label_1.node.color = style.labelColor;
              label_1.node.opacity = style.labelColor.a;
              if (style.outlineWidth > 0) {
                var lo = label_1.addComponent(cc.LabelOutline);
                lo.color = style.useOutlineColor ? style.outlineColor : style.labelColor;
                lo.width = style.outlineWidth;
              }
              if (style.shadow) {
                var sn = cc.instantiate(label_1.node);
                sn.setPosition(style.shadowOffset.add(label_1.node.position));
                var sl = sn.getComponent(cc.Label);
                sl.node.color = cc.color(style.shadowColor.r, style.shadowColor.g, style.shadowColor.b);
                sl.node.opacity = style.shadowColor.a;
                var so = sl.getComponent(cc.LabelOutline);
                if (so) {
                  so.color = cc.color(style.shadowColor.r, style.shadowColor.g, style.shadowColor.b);
                  so.color.a = style.shadowColor.a;
                }
                tpl_1.addChild(sn);
                sn.setSiblingIndex(0);
              }
              style == _this.obj && (label_1.enableUnderline = true);
              if (style.gradient) {
                var g = label_1.addComponent(GradientAssembler2D_1.default);
                g.colors = [ style.gradColorLB, style.gradColorRB, style.gradColorLT, style.gradColorRT ];
              }
              0 == idx && tpl_1.getChildByName("\u2b06").destroy();
            }
          });
        });
        this.refreshString();
      };
      ArtLabelEditor.prototype.onUpClick = function(evt) {
        var node = evt.currentTarget.parent;
        var t = node.getComponent(TreeItem_1.default);
        if (t.ref instanceof ArtLabelStyle_1.default) {
          var si = t.ref.node.getSiblingIndex();
          t.ref.node.setSiblingIndex(si - 1);
          var p = t.ref.node.parent.getComponent(ArtLabelProperty_1.default);
          p.refresh(this.viewArtLabel);
          this.viewArtLabel.styleRefNode = p.node;
          this.viewArtLabel.refresh();
          if (this.obj instanceof ArtLabelStyle_1.default) {
            var op = this.obj.node.parent.getComponent(ArtLabelProperty_1.default);
            op != p && this.refreshProperty(p);
          } else this.obj instanceof ArtLabelProperty_1.default ? this.obj != p && this.refreshProperty(p) : this.refreshProperty(p);
          this.refreshTree();
        }
      };
      ArtLabelEditor.prototype.onBackgroundUpdateClick = function() {
        this.refreshProperty(this.backgroundProperty);
        this.refreshTree();
      };
      ArtLabelEditor.prototype.onUpdateClick = function(evt) {
        var node = evt.currentTarget.parent;
        var t = node.getComponent(TreeItem_1.default);
        var refNode;
        if (t.ref instanceof ArtLabelProperty_1.default) {
          this.refreshProperty(t.ref);
          refNode = t.ref.node;
        } else if (t.ref instanceof ArtLabelStyle_1.default) {
          this.refreshProperty(t.ref);
          refNode = t.ref.node.parent;
        }
        refNode.getComponent(ArtLabelProperty_1.default).refresh(this.viewArtLabel);
        this.viewArtLabel.styleRefNode = refNode;
        this.viewArtLabel.refresh();
        this.refreshTree();
      };
      ArtLabelEditor.prototype.onDeleteClick = function(evt) {
        var node = evt.currentTarget.parent;
        var t = node.getComponent(TreeItem_1.default);
        if (t.ref instanceof ArtLabelProperty_1.default) {
          Utils_1.arraySplice(this.artLabels, t.ref.artLabel);
          this.obj == t.ref && this.refreshProperty(this.backgroundProperty);
        } else if (t.ref instanceof ArtLabelStyle_1.default) {
          var p = t.ref.node.parent.getComponent(ArtLabelProperty_1.default);
          t.ref.node.removeFromParent();
          this.obj == t.ref && this.refreshProperty(p);
          p.refresh(this.viewArtLabel);
          this.viewArtLabel.styleRefNode = p.node;
          this.viewArtLabel.refresh();
        }
        this.refreshTree();
      };
      ArtLabelEditor.prototype.onCreateClick = function(evt) {
        var node = evt.currentTarget.parent;
        var t = node.getComponent(TreeItem_1.default);
        var p = t.ref;
        var styleNode = new cc.Node();
        var style = styleNode.addComponent(ArtLabelStyle_1.default);
        p.node.addChild(styleNode);
        p.refresh(this.viewArtLabel);
        this.viewArtLabel.styleRefNode = p.node;
        this.viewArtLabel.refresh();
        this.refreshProperty(style);
        this.refreshTree();
      };
      ArtLabelEditor.prototype.onArtLabelCreateClick = function() {
        var node = new cc.Node();
        var l = node.addComponent(ArtLabel_1.default);
        var p = node.addComponent(ArtLabelProperty_1.default);
        p.artLabel = l;
        p.string = "Hello World";
        var styleNode = new cc.Node();
        styleNode.addComponent(ArtLabelStyle_1.default);
        node.addChild(styleNode);
        this.artLabels.push(l);
        p.refresh(this.viewArtLabel);
        this.viewArtLabel.styleRefNode = node;
        this.viewArtLabel.refresh();
        this.refreshProperty(p);
        this.refreshTree();
      };
      ArtLabelEditor.prototype.onJsonEditingDidEnded = function(editBox, key) {
        if (!editBox.string) return;
        if ("0" == key) {
          var o = void 0;
          try {
            o = JSON.parse(editBox.string);
          } catch (error) {
            this.message("Parse fail" + editBox.string);
          }
          var obj = void 0;
          if (this.obj instanceof ArtLabelProperty_1.default) obj = this.obj; else {
            if (!(this.obj instanceof ArtLabelStyle_1.default)) {
              this.message("NG");
              return;
            }
            obj = this.obj.node.parent.getComponent(ArtLabelProperty_1.default);
          }
          obj.fontSize = o.fs;
          obj.lineHeight = o.lh;
          obj.enableBold = Boolean(o.eb);
          obj.enableItalic = Boolean(o.ei);
          var artLabel_1 = obj.artLabel;
          artLabel_1.node.removeAllChildren();
          o.ss.forEach(function(s) {
            var node = new cc.Node();
            var style = node.addComponent(ArtLabelStyle_1.default);
            style.loadJson(s);
            artLabel_1.node.addChild(node);
          });
          this.refreshProperty(obj);
          this.refreshTree();
        } else if (this.obj instanceof ArtLabelStyle_1.default && "1" == key) {
          var o = void 0;
          try {
            o = JSON.parse(editBox.string);
          } catch (error) {
            this.message("Parse fail" + editBox.string);
          }
          this.obj.loadJson(o);
          this.viewArtLabel.styleRefNode = this.obj.node;
          this.viewArtLabel.refresh();
          this.refreshProperty(this.obj);
          this.refreshTree();
        } else this.message("NG");
      };
      ArtLabelEditor.prototype.onCopyClick = function(target, name) {
        var str = "0" == name ? this.artLabelEditBox.string : this.artLabelStyleEditBox.string;
        ctrlC(str);
        this.message("Copied: " + str);
      };
      ArtLabelEditor.prototype.message = function(text) {
        var node = this.messageNode;
        var label = node.getComponentInChildren(cc.Label);
        label.string = text;
        PromiseManager_1.animationPlay(node.getComponent(cc.Animation), 0);
      };
      __decorate([ property(cc.Label) ], ArtLabelEditor.prototype, "scaleLabel", void 0);
      __decorate([ property(BackgroundProperty_1.default) ], ArtLabelEditor.prototype, "backgroundProperty", void 0);
      __decorate([ property(cc.Node) ], ArtLabelEditor.prototype, "listContent", void 0);
      __decorate([ property(cc.Node) ], ArtLabelEditor.prototype, "treeContent", void 0);
      __decorate([ property(cc.Sprite) ], ArtLabelEditor.prototype, "backgroundSprite", void 0);
      __decorate([ property(cc.Label) ], ArtLabelEditor.prototype, "backgroundLabel", void 0);
      __decorate([ property(ArtLabel_1.default) ], ArtLabelEditor.prototype, "viewArtLabel", void 0);
      __decorate([ property(cc.EditBox) ], ArtLabelEditor.prototype, "artLabelEditBox", void 0);
      __decorate([ property(cc.EditBox) ], ArtLabelEditor.prototype, "artLabelStyleEditBox", void 0);
      __decorate([ property(Drag_1.default) ], ArtLabelEditor.prototype, "drag", void 0);
      __decorate([ property(cc.Node) ], ArtLabelEditor.prototype, "messageNode", void 0);
      ArtLabelEditor = __decorate([ ccclass ], ArtLabelEditor);
      return ArtLabelEditor;
    }(KeyDownBinder_1.default);
    exports.default = ArtLabelEditor;
    function imgFileToSpriteFrame(f) {
      var img = f.result;
      var tex = new cc.Texture2D();
      tex.initWithElement(img);
      tex.name = f.name;
      tex._name = "";
      tex._native = ".png";
      tex._nativeUrl = img.src;
      var frame = new cc.SpriteFrame();
      frame.name = f.name;
      frame.setTexture(tex);
      return frame;
    }
    function ctrlC(text) {
      navigator.clipboard.writeText(text);
    }
    cc._RF.pop();
  }, {
    "../submodule/game-client-lib/component/ArtLabel": "ArtLabel",
    "../submodule/game-client-lib/component/ArtLabelStyle": "ArtLabelStyle",
    "../submodule/game-client-lib/component/GradientAssembler2D": "GradientAssembler2D",
    "../submodule/game-client-lib/component/KeyDownBinder": "KeyDownBinder",
    "../submodule/game-client-lib/script/PromiseManager": "PromiseManager",
    "../submodule/game-client-lib/utils/Utils": "Utils",
    "./ArtLabelProperty": "ArtLabelProperty",
    "./BackgroundProperty": "BackgroundProperty",
    "./Drag": "Drag",
    "./Template": "Template",
    "./TreeItem": "TreeItem",
    "./Version": "Version"
  } ],
  ArtLabelProperty: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b4f3dzOLYtIrryQHMwZia2T", "ArtLabelProperty");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ArtLabel_1 = require("../submodule/game-client-lib/component/ArtLabel");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ArtLabelProperty = function(_super) {
      __extends(ArtLabelProperty, _super);
      function ArtLabelProperty() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.artLabel = null;
        _this.string = "";
        _this.fontSize = 40;
        _this.lineHeight = 48;
        _this.enableBold = false;
        _this.enableItalic = false;
        _this.fontFamily = "Microsoft JhengHei";
        return _this;
      }
      ArtLabelProperty.prototype.refresh = function(artLabel) {
        this.artLabel.string = this.string;
        this.artLabel.fontSize = this.fontSize;
        this.artLabel.lineHeight = this.lineHeight;
        this.artLabel.enableBold = this.enableBold;
        this.artLabel.enableItalic = this.enableItalic;
        this.artLabel.fontFamily = this.fontFamily;
        artLabel.string = this.string;
        artLabel.fontSize = this.fontSize;
        artLabel.lineHeight = this.lineHeight;
        artLabel.enableBold = this.enableBold;
        artLabel.enableItalic = this.enableItalic;
        artLabel.fontFamily = this.fontFamily;
      };
      __decorate([ property(ArtLabel_1.default) ], ArtLabelProperty.prototype, "artLabel", void 0);
      __decorate([ property(cc.String) ], ArtLabelProperty.prototype, "string", void 0);
      __decorate([ property(cc.Float) ], ArtLabelProperty.prototype, "fontSize", void 0);
      __decorate([ property(cc.Float) ], ArtLabelProperty.prototype, "lineHeight", void 0);
      __decorate([ property(cc.Boolean) ], ArtLabelProperty.prototype, "enableBold", void 0);
      __decorate([ property(cc.Boolean) ], ArtLabelProperty.prototype, "enableItalic", void 0);
      __decorate([ property(cc.String) ], ArtLabelProperty.prototype, "fontFamily", void 0);
      ArtLabelProperty = __decorate([ ccclass ], ArtLabelProperty);
      return ArtLabelProperty;
    }(cc.Component);
    exports.default = ArtLabelProperty;
    cc._RF.pop();
  }, {
    "../submodule/game-client-lib/component/ArtLabel": "ArtLabel"
  } ],
  ArtLabelStyleString: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "97ef9JwZDFJbbBQtJU/i3LO", "ArtLabelStyleString");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ArtLabelStyleString = function(_super) {
      __extends(ArtLabelStyleString, _super);
      function ArtLabelStyleString() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.string = "";
        _this.full = false;
        return _this;
      }
      __decorate([ property(cc.String) ], ArtLabelStyleString.prototype, "string", void 0);
      __decorate([ property(cc.Boolean) ], ArtLabelStyleString.prototype, "full", void 0);
      ArtLabelStyleString = __decorate([ ccclass ], ArtLabelStyleString);
      return ArtLabelStyleString;
    }(cc.Component);
    exports.default = ArtLabelStyleString;
    cc._RF.pop();
  }, {} ],
  ArtLabelStyle: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "78cf1XUuG5OAKT9/XRUj5/y", "ArtLabelStyle");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ArtLabelStyle = function(_super) {
      __extends(ArtLabelStyle, _super);
      function ArtLabelStyle() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.position = cc.v2();
        _this.labelColor = cc.color(255, 255, 255);
        _this.useOutlineColor = false;
        _this.outlineColor = cc.color(255, 255, 255);
        _this.outlineWidth = 0;
        _this.shadow = false;
        _this.shadowColor = cc.color(255, 255, 255);
        _this.shadowOffset = cc.v2();
        _this.gradient = false;
        _this.gradColorLB = cc.color(255, 255, 255);
        _this.gradColorRB = cc.color(255, 255, 255);
        _this.gradColorLT = cc.color(255, 255, 255);
        _this.gradColorRT = cc.color(255, 255, 255);
        return _this;
      }
      ArtLabelStyle.prototype.toJson = function() {
        return {
          p: [ this.position.x, this.position.y ],
          lc: this.labelColor.toHEX("#rrggbbaa"),
          uoc: Number(this.useOutlineColor),
          oc: this.outlineColor.toHEX("#rrggbbaa"),
          ow: this.outlineWidth,
          s: Number(this.shadow),
          sc: this.shadowColor.toHEX("#rrggbbaa"),
          so: [ this.shadowOffset.x, this.shadowOffset.y ]
        };
      };
      ArtLabelStyle.prototype.loadJson = function(o) {
        this.position = cc.v2(o.p[0], o.p[1]);
        cc.Color.fromHEX(this.labelColor, o.lc);
        this.useOutlineColor = Boolean(o.uoc);
        cc.Color.fromHEX(this.outlineColor, o.oc);
        this.outlineWidth = o.ow;
        this.shadow = Boolean(o.s);
        cc.Color.fromHEX(this.shadowColor, o.sc);
        this.shadowOffset = cc.v2(o.so[0], o.so[1]);
      };
      __decorate([ property(cc.Vec2) ], ArtLabelStyle.prototype, "position", void 0);
      __decorate([ property(cc.Color) ], ArtLabelStyle.prototype, "labelColor", void 0);
      __decorate([ property({
        visible: function() {
          return this.outlineWidth > 0;
        }
      }) ], ArtLabelStyle.prototype, "useOutlineColor", void 0);
      __decorate([ property({
        visible: function() {
          return this.outlineWidth > 0 && this.useOutlineColor;
        }
      }) ], ArtLabelStyle.prototype, "outlineColor", void 0);
      __decorate([ property({
        min: 0
      }) ], ArtLabelStyle.prototype, "outlineWidth", void 0);
      __decorate([ property(cc.Boolean) ], ArtLabelStyle.prototype, "shadow", void 0);
      __decorate([ property({
        min: 0,
        visible: function() {
          return this.shadow;
        }
      }) ], ArtLabelStyle.prototype, "shadowColor", void 0);
      __decorate([ property({
        visible: function() {
          return this.shadow;
        }
      }) ], ArtLabelStyle.prototype, "shadowOffset", void 0);
      __decorate([ property(cc.Boolean) ], ArtLabelStyle.prototype, "gradient", void 0);
      __decorate([ property({
        visible: function() {
          return this.gradient;
        }
      }) ], ArtLabelStyle.prototype, "gradColorLB", void 0);
      __decorate([ property({
        visible: function() {
          return this.gradient;
        }
      }) ], ArtLabelStyle.prototype, "gradColorRB", void 0);
      __decorate([ property({
        visible: function() {
          return this.gradient;
        }
      }) ], ArtLabelStyle.prototype, "gradColorLT", void 0);
      __decorate([ property({
        visible: function() {
          return this.gradient;
        }
      }) ], ArtLabelStyle.prototype, "gradColorRT", void 0);
      ArtLabelStyle = __decorate([ ccclass ], ArtLabelStyle);
      return ArtLabelStyle;
    }(cc.Component);
    exports.default = ArtLabelStyle;
    cc._RF.pop();
  }, {} ],
  ArtLabel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7cc18bA+s1Neay4EKpgoHZm", "ArtLabel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.KH_LABEL = void 0;
    var Utils_1 = require("../utils/Utils");
    var ArtLabelStyle_1 = require("./ArtLabelStyle");
    var ArtLabelStyleString_1 = require("./ArtLabelStyleString");
    var GradientAssembler2D_1 = require("./GradientAssembler2D");
    var NodeShrink_1 = require("./NodeShrink");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executionOrder = _a.executionOrder, disallowMultiple = _a.disallowMultiple, executeInEditMode = _a.executeInEditMode;
    var KH_LABEL_PARENT = "KH_LABEL_PARENT";
    exports.KH_LABEL = "KH_LABEL";
    var t = .03;
    var ArtLabel = function(_super) {
      __extends(ArtLabel, _super);
      function ArtLabel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.preview = false;
        _this.trim = true;
        _this._string = "";
        _this.horizontalAlign = cc.Label.HorizontalAlign.CENTER;
        _this.verticalAlign = cc.Label.VerticalAlign.CENTER;
        _this.fontSize = 40;
        _this.lineHeight = 48;
        _this.fontFamily = "Microsoft JhengHei";
        _this.enableBold = false;
        _this.enableItalic = false;
        _this.srcBlendFactor = cc.macro.BlendFactor.SRC_ALPHA;
        _this.styleRefNode = null;
        _this.labelParent = null;
        _this.ccLabels = [];
        _this.nodeShrink = null;
        _this.initialized = false;
        _this.registered = false;
        _this.registeredNode = null;
        _this.firstSize = null;
        return _this;
      }
      ArtLabel_1 = ArtLabel;
      Object.defineProperty(ArtLabel.prototype, "string", {
        get: function() {
          return this._string;
        },
        set: function(str) {
          this._string = str;
          this.ccLabels.forEach(function(l) {
            return l.string = str;
          });
          this.scheduleAlign();
        },
        enumerable: false,
        configurable: true
      });
      ArtLabel.prototype.onLoad = function() {
        true;
        false;
        this.pre();
      };
      ArtLabel.prototype.onEnable = function() {
        this.scheduleAlign();
      };
      ArtLabel.prototype.pre = function() {
        var _this = this;
        this.firstSize || (this.firstSize = this.node.getContentSize());
        if (this.initialized) return;
        this.initialized = true;
        this.node.children.forEach(function(node) {
          if (node.name === KH_LABEL_PARENT) {
            node.removeFromParent();
            node.destroy();
          }
        });
        this.labelParent = null;
        var styleRefNode = this.styleRefNode || this.node;
        var isRef = this.node === styleRefNode;
        isRef || this.node.children.forEach(function(n) {
          return n.active = false;
        });
        var labelParent = new cc.Node(KH_LABEL_PARENT);
        var size = this.firstSize;
        labelParent.setContentSize(size);
        labelParent.opacity = 1;
        if (size.width || size.height) {
          var nodeShrink = labelParent.addComponent(NodeShrink_1.default);
          nodeShrink.wh = cc.v2(size.width, size.height);
          this.nodeShrink = nodeShrink;
        }
        this.labelParent = labelParent;
        var flag = false;
        var each = function(style) {
          if (!style) return;
          flag = true;
          var n = new cc.Node(exports.KH_LABEL);
          var l = n.addComponent(cc.Label);
          var slc = style.labelColor;
          n.color = cc.color(slc.r, slc.g, slc.b);
          n.opacity = slc.a;
          n.setPosition(style.position.mul(scale));
          l.horizontalAlign = _this.horizontalAlign;
          l.verticalAlign = _this.verticalAlign;
          l.fontFamily = _this.fontFamily;
          l.fontSize = fontSize;
          l.lineHeight = lineHeight;
          l.overflow = cc.Label.Overflow.NONE;
          l.enableWrapText = false;
          l.enableBold = _this.enableBold;
          l.enableItalic = _this.enableItalic;
          l.cacheMode = cc.Label.CacheMode.BITMAP;
          l.srcBlendFactor = _this.srcBlendFactor;
          _this.ccLabels.push(l);
          if (style.outlineWidth > 0) {
            var o = n.addComponent(cc.LabelOutline);
            o.color = style.useOutlineColor ? style.outlineColor : style.labelColor;
            o.width = style.outlineWidth * scale;
          }
          if (style.shadow) {
            var sn = cc.instantiate(n);
            sn.setPosition(style.shadowOffset.mul(scale));
            var sl = sn.getComponent(cc.Label);
            sl.node.color = cc.color(style.shadowColor.r, style.shadowColor.g, style.shadowColor.b);
            sl.node.opacity = style.shadowColor.a;
            var so = sl.getComponent(cc.LabelOutline);
            if (so) {
              so.color = cc.color(style.shadowColor.r, style.shadowColor.g, style.shadowColor.b);
              so.color.a = style.shadowColor.a;
            }
            sn.setParent(labelParent);
            _this.ccLabels.push(sl);
          }
          if (style.gradient) {
            var g = n.addComponent(GradientAssembler2D_1.default);
            g.colors = [ style.gradColorLB, style.gradColorRB, style.gradColorLT, style.gradColorRT ];
          }
          n.setParent(labelParent);
        };
        var refArtLabel = styleRefNode.getComponent(ArtLabel_1);
        var refArtString = styleRefNode.getComponent(ArtLabelStyleString_1.default);
        var fontSize = this.fontSize;
        var lineHeight = this.lineHeight;
        var scale = 1;
        if (refArtLabel && refArtLabel.node.childrenCount) {
          scale = fontSize / refArtLabel.fontSize;
          styleRefNode.children.forEach(function(node) {
            return each(node.getComponent(ArtLabelStyle_1.default));
          });
        } else {
          if (!refArtString) {
            Utils_1.warn("ArtLabel reference missing", Utils_1.nodePath(this.node));
            return;
          }
          var data = JSON.parse(refArtString.string);
          if (refArtString.full) {
            this.fontSize = data.fs;
            this.lineHeight = data.lh;
            this.enableBold = Boolean(data.eb);
            this.enableItalic = Boolean(data.ei);
            fontSize = data.fs;
            lineHeight = data.lh;
          }
          scale = fontSize / data.fs;
          data.ss.forEach(function(d) {
            var style = new ArtLabelStyle_1.default();
            style.loadJson(d);
            each(style);
          });
        }
        labelParent.setParent(this.node);
        flag || Utils_1.warn("ArtLabel no style", Utils_1.nodePath(this.node));
        this.string = this._string;
      };
      ArtLabel.prototype.registerChildSizeChanged = function() {
        var _this = this;
        if (this.registered) return;
        var l = this.ccLabels[0];
        if (!l || !l._isOnLoadCalled) return;
        this.registered = true;
        var tl;
        var los = this.ccLabels.filter(function(l) {
          return l.getComponent(cc.LabelOutline);
        });
        tl = los.length ? los.sort(function(a, b) {
          var aw = a.getComponent(cc.LabelOutline).width;
          var bw = b.getComponent(cc.LabelOutline).width;
          return bw - aw;
        })[0] : l;
        tl.node.on(cc.Node.EventType.SIZE_CHANGED, function() {
          var ps = _this.labelParent.getContentSize();
          var ls = tl.node.getContentSize();
          0 !== ps.width && ps.width !== ls.width && _this.resize(ls);
        });
        this.registeredNode = tl.node;
      };
      ArtLabel.prototype.scheduleAlign = function() {
        var _this = this;
        this.unscheduleAllCallbacks();
        this.registerChildSizeChanged();
        if (!this.ccLabels.length) return;
        if (!this.string) {
          this.labelParent.setContentSize(cc.size(0, 0));
          return;
        }
        this.schedule(function() {
          var size = _this.ccLabels.sort(function(a, b) {
            return b.node.width - a.node.width;
          })[0].node.getContentSize();
          0 !== size.width && _this.resize(size);
        }, t, cc.macro.REPEAT_FOREVER, t);
      };
      ArtLabel.prototype.resize = function(size) {
        var _a;
        this.unscheduleAllCallbacks();
        var p = this.labelParent;
        p.setContentSize(size);
        null === (_a = this.nodeShrink) || void 0 === _a ? void 0 : _a.resize();
        var ns = this.nodeShrink;
        if (ns) {
          ns.resize();
          this.trim ? this.node.setContentSize(p.width * p.scaleX, p.height * p.scaleY) : this.node.setContentSize(Math.max(ns.wh.x, p.width * p.scaleX), Math.max(ns.wh.y, p.height * p.scaleY));
        } else this.node.setContentSize(p.width * p.scaleX, p.height * p.scaleY);
        this.align();
        p.opacity = 255;
      };
      ArtLabel.prototype.align = function() {
        var dirX = 0;
        var dirY = 0;
        switch (this.horizontalAlign) {
         case cc.Label.HorizontalAlign.LEFT:
          dirX = -1;
          break;

         case cc.Label.HorizontalAlign.RIGHT:
          dirX = 1;
        }
        switch (this.verticalAlign) {
         case cc.Label.VerticalAlign.BOTTOM:
          dirY = -1;
          break;

         case cc.Label.VerticalAlign.TOP:
          dirY = 1;
        }
        var parent = this.labelParent;
        var node = this.node;
        var anchorX = node.anchorX;
        var anchorY = node.anchorY;
        var each = function(dir, anchor, a, b) {
          var z;
          z = -1 === dir ? 0 : 0 === dir ? .5 : 1;
          return a * (z - anchor) - b / 2 * dir;
        };
        var x = each(dirX, anchorX, node.width, parent.width * parent.scale);
        var y = each(dirY, anchorY, node.height, parent.height * parent.scale);
        parent.x = x;
        parent.y = y;
      };
      ArtLabel.prototype.update = function() {
        var size;
        var n;
        true, false;
      };
      ArtLabel.prototype.refresh = function() {
        this.unscheduleAllCallbacks();
        this.initialized = false;
        this.labelParent = null;
        this.ccLabels.length = 0;
        this.nodeShrink = null;
        this.initialized = false;
        this.registered && this.registeredNode.off(cc.Node.EventType.SIZE_CHANGED);
        this.registeredNode = null;
        this.registered = false;
        this.pre();
        this.scheduleAlign();
      };
      ArtLabel.prototype.toJson = function() {
        return {
          fs: this.fontSize,
          lh: this.lineHeight,
          eb: Number(this.enableBold),
          ei: Number(this.enableItalic),
          ss: (this.styleRefNode || this.node).children.map(function(node) {
            var s = node.getComponent(ArtLabelStyle_1.default);
            if (s) return s.toJson();
          }).filter(function(k) {
            return k;
          })
        };
      };
      var ArtLabel_1;
      __decorate([ property({
        editorOnly: true
      }) ], ArtLabel.prototype, "preview", void 0);
      __decorate([ property(cc.Boolean) ], ArtLabel.prototype, "trim", void 0);
      __decorate([ property({
        multiline: true
      }) ], ArtLabel.prototype, "string", null);
      __decorate([ property({
        serializable: true
      }) ], ArtLabel.prototype, "_string", void 0);
      __decorate([ property({
        type: cc.Label.HorizontalAlign
      }) ], ArtLabel.prototype, "horizontalAlign", void 0);
      __decorate([ property({
        type: cc.Label.VerticalAlign
      }) ], ArtLabel.prototype, "verticalAlign", void 0);
      __decorate([ property(cc.Float) ], ArtLabel.prototype, "fontSize", void 0);
      __decorate([ property(cc.Float) ], ArtLabel.prototype, "lineHeight", void 0);
      __decorate([ property(cc.String) ], ArtLabel.prototype, "fontFamily", void 0);
      __decorate([ property(cc.Boolean) ], ArtLabel.prototype, "enableBold", void 0);
      __decorate([ property(cc.Boolean) ], ArtLabel.prototype, "enableItalic", void 0);
      __decorate([ property({
        type: cc.macro.BlendFactor
      }) ], ArtLabel.prototype, "srcBlendFactor", void 0);
      __decorate([ property(cc.Node) ], ArtLabel.prototype, "styleRefNode", void 0);
      ArtLabel = ArtLabel_1 = __decorate([ ccclass, executionOrder(-1), disallowMultiple(), executeInEditMode() ], ArtLabel);
      return ArtLabel;
    }(cc.Component);
    exports.default = ArtLabel;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./ArtLabelStyle": "ArtLabelStyle",
    "./ArtLabelStyleString": "ArtLabelStyleString",
    "./GradientAssembler2D": "GradientAssembler2D",
    "./NodeShrink": "NodeShrink"
  } ],
  Audio: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b1108iXwMpK/5JmDxfWXrKY", "Audio");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.audioAppend = exports.audioGetBGMName = exports.audioSwitchBGM = exports.audioStop = exports.audioStopLoop = exports.audioSetCustomButtonAudioName = exports.audioGetCustomButtonAudioName = exports.audioDefaultButtonAudioName = exports.buttonAudioPlay = exports.CUSTOM_START_WITH = exports.audioEffectsPlayerVolume = exports.audioMusicPlayerVolume = exports.audioMusicFixVolume = exports.audioEnable = exports.audioEnabled = exports.audioPlay = exports.audioPreload = exports.getAudioComponent = exports.setAudioComponent = exports.audio = void 0;
    var LibGlobal_1 = require("../LibGlobal");
    var ResourcesLoader_1 = require("../script/ResourcesLoader");
    var Utils_1 = require("../utils/Utils");
    var PersistRootNode_1 = require("./PersistRootNode");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    exports.audio = null;
    function setAudioComponent(audioComponent) {
      exports.audio = audioComponent;
    }
    exports.setAudioComponent = setAudioComponent;
    function getAudioComponent() {
      return exports.audio;
    }
    exports.getAudioComponent = getAudioComponent;
    var type = "";
    var lang = "";
    var loaded = false;
    function audioNameToUrl(name) {
      if (!loaded) {
        var l = ResourcesLoader_1.getResourcesLoader();
        if (!l.varLoaded) return;
        lang = l.lang;
        type = l.audioType;
        loaded = true;
      }
      var urls = [ "audio/" + type + "/" + name + "_" + lang, "audio/" + type + "/" + name ];
      for (var i = 0; i < urls.length; i += 1) {
        var url = urls[i];
        var info = cc.resources.getInfoWithPath(url, cc.AudioClip);
        if (info) return url;
      }
      return "";
    }
    var urlPromiseMap = new Map();
    var urlCompletes = [];
    var unstartedLoopKeys = [];
    var unstartedKeys = [];
    var delayPrefix = "delay_";
    var DELAY_TIMEOUT = 250;
    var delayBGMName = "";
    var delayId = 0;
    function audioReady(name) {
      return __awaiter(this, void 0, void 0, function() {
        var now, url, p, lracp, audioClip;
        return __generator(this, function(_a) {
          switch (_a.label) {
           case 0:
            if (!name) return [ 2, 0 ];
            now = Date.now();
            url = audioNameToUrl(name);
            if (-1 !== urlCompletes.indexOf(url)) return [ 2, 0 ];
            p = urlPromiseMap.get(url);
            if (!p) return [ 3, 2 ];
            return [ 4, p ];

           case 1:
            _a.sent();
            return [ 2, Date.now() - now ];

           case 2:
            lracp = ResourcesLoader_1.loadResAudioClipPromise(url);
            urlPromiseMap.set(url, lracp);
            return [ 4, lracp ];

           case 3:
            audioClip = _a.sent();
            urlCompletes.push(url);
            exports.audio.registAudio([ {
              audioClip: audioClip,
              key: name
            } ]);
            return [ 2, Date.now() - now ];
          }
        });
      });
    }
    function audioPreload(name) {
      Array.isArray(name) ? name.forEach(function(n) {
        audioReady(n);
      }) : audioReady(name);
    }
    exports.audioPreload = audioPreload;
    function audioPlay(name, _a) {
      var _b = void 0 === _a ? {} : _a, _c = _b.loop, loop = void 0 !== _c && _c, _d = _b.loopIndex, loopIndex = void 0 === _d ? "" : _d, _e = _b.throttle, throttle = void 0 === _e ? 0 : _e, _f = _b.throttleGroup, throttleGroup = void 0 === _f ? "" : _f;
      if (!exports.audio) return;
      if (LibGlobal_1.getIsEnterBackground()) return "-1";
      if (!exports.audio.audioEnabled) return "-1";
      var has = exports.audio.hasAudio(name);
      if (has) return "" + exports.audio.play(name, {
        loop: loop,
        loopIndex: loopIndex,
        throttle: throttle
      });
      Utils_1.log("audioPlay delay", name);
      delayId += 1;
      var key = delayPrefix + delayId;
      if (loop) {
        var loopKey = [ name, loopIndex ].join("#");
        unstartedLoopKeys.push(loopKey);
      } else unstartedKeys.push(key);
      audioDelayPlay(key, name, {
        loop: loop,
        loopIndex: loopIndex,
        throttle: throttle,
        throttleGroup: throttleGroup
      });
      return key;
    }
    exports.audioPlay = audioPlay;
    function audioDelaySwitchBGM(name, fixVolume, fade) {
      void 0 === fade && (fade = false);
      return __awaiter(this, void 0, Promise, function() {
        var t;
        return __generator(this, function(_a) {
          switch (_a.label) {
           case 0:
            return [ 4, audioReady(name) ];

           case 1:
            t = _a.sent();
            if (name !== delayBGMName) return [ 2 ];
            exports.audio.switchBGM(name, fixVolume);
            if (fade) exports.audio.schedule(exports.audio.fadeInMusicFadeVolume, .1); else {
              exports.audio.musicFadeVolume = 1;
              exports.audio.refreshMusicVolume();
            }
            return [ 2 ];
          }
        });
      });
    }
    function audioDelayPlay(delayKey, name, _a) {
      var loop = _a.loop, loopIndex = _a.loopIndex, throttle = _a.throttle, throttleGroup = _a.throttleGroup;
      return __awaiter(this, void 0, Promise, function() {
        var t, loopKey, id;
        return __generator(this, function(_b) {
          switch (_b.label) {
           case 0:
            return [ 4, audioReady(name) ];

           case 1:
            t = _b.sent();
            if (loop) {
              loopKey = [ name, loopIndex ].join("#");
              if (-1 === unstartedLoopKeys.indexOf(loopKey)) return [ 2, "-2" ];
              Utils_1.arraySplice(unstartedLoopKeys, loopKey);
            } else {
              if (t >= DELAY_TIMEOUT) {
                Utils_1.arraySplice(unstartedKeys, delayKey);
                return [ 2, "-1" ];
              }
              if (-1 === unstartedKeys.indexOf(delayKey)) return [ 2, "-2" ];
              Utils_1.arraySplice(unstartedKeys, delayKey);
            }
            id = exports.audio.play(name, {
              loop: loop,
              loopIndex: loopIndex,
              throttle: throttle,
              throttleGroup: throttleGroup
            });
            return [ 2, "" + id ];
          }
        });
      });
    }
    function audioEnabled() {
      if (!exports.audio) return;
      return exports.audio.audioEnabled;
    }
    exports.audioEnabled = audioEnabled;
    function audioEnable(able) {
      if (!exports.audio) return;
      exports.audio.enable(able);
    }
    exports.audioEnable = audioEnable;
    function audioMusicFixVolume(volume) {
      if (!exports.audio) return;
      exports.audio.setMusicFixVolume(volume);
    }
    exports.audioMusicFixVolume = audioMusicFixVolume;
    function audioMusicPlayerVolume(volume) {
      if (!exports.audio) return;
      exports.audio.setMusicPlayerVolume(volume);
    }
    exports.audioMusicPlayerVolume = audioMusicPlayerVolume;
    function audioEffectsPlayerVolume(volume) {
      if (!exports.audio) return;
      exports.audio.setEffectsVolume(volume);
    }
    exports.audioEffectsPlayerVolume = audioEffectsPlayerVolume;
    exports.CUSTOM_START_WITH = "CUSTOM_";
    function buttonAudioPlay(audioName, playDefaultIfCustomIsEmpty) {
      void 0 === audioName && (audioName = "");
      void 0 === playDefaultIfCustomIsEmpty && (playDefaultIfCustomIsEmpty = false);
      var n = audioName;
      var str;
      if (n.startsWith(exports.CUSTOM_START_WITH)) {
        str = audioGetCustomButtonAudioName(n.replace(exports.CUSTOM_START_WITH, ""));
        playDefaultIfCustomIsEmpty && !str && (str = audioDefaultButtonAudioName());
      } else str = str || audioDefaultButtonAudioName();
      audioPlay(str, {
        throttle: 10
      });
    }
    exports.buttonAudioPlay = buttonAudioPlay;
    function audioDefaultButtonAudioName() {
      if (!exports.audio) return;
      return exports.audio.defaultButtonAudioName;
    }
    exports.audioDefaultButtonAudioName = audioDefaultButtonAudioName;
    var buttonAudioMap = {};
    function audioGetCustomButtonAudioName(key) {
      var val = buttonAudioMap[key] || "";
      val || Utils_1.warn("audioGetButtonAudioName is empty", key);
      return val;
    }
    exports.audioGetCustomButtonAudioName = audioGetCustomButtonAudioName;
    function audioSetCustomButtonAudioName(key, name) {
      buttonAudioMap[key] = name;
    }
    exports.audioSetCustomButtonAudioName = audioSetCustomButtonAudioName;
    function audioStopLoop(name, loopIndex) {
      void 0 === loopIndex && (loopIndex = "");
      if (!exports.audio) return;
      if (LibGlobal_1.getIsEnterBackground()) return;
      if (!exports.audio.audioEnabled) return;
      var has = exports.audio.hasAudio(name);
      if (has) exports.audio.stopLoop(name, loopIndex); else {
        var loopKey = [ name, loopIndex ].join("#");
        Utils_1.arraySplice(unstartedLoopKeys, loopKey);
      }
    }
    exports.audioStopLoop = audioStopLoop;
    function audioStop(id) {
      if (!exports.audio) return;
      "number" === typeof id ? exports.audio.stop(id) : id.startsWith(delayPrefix) ? Utils_1.arraySplice(unstartedKeys, id) : isNaN(Number(id)) || exports.audio.stop(Number(id));
    }
    exports.audioStop = audioStop;
    function audioSwitchBGM(name, fixVolume, fade) {
      void 0 === name && (name = "");
      void 0 === fade && (fade = false);
      if (!exports.audio) return;
      var has = exports.audio.hasAudio(name);
      var old = delayBGMName;
      delayBGMName = name;
      if (has) if (fade) {
        exports.audio.unscheduleAllCallbacks();
        var next = function() {
          if (name !== delayBGMName) return;
          exports.audio.switchBGM(name, fixVolume);
          exports.audio.schedule(exports.audio.fadeInMusicFadeVolume, .1);
        };
        old && old !== name ? exports.audio.schedule(exports.audio.fadeOutMusicFadeVolume.bind(exports.audio, next), .1) : next();
      } else {
        exports.audio.musicFadeVolume = 1;
        exports.audio.refreshMusicVolume();
        exports.audio.switchBGM(name, fixVolume);
      } else {
        Utils_1.log("audioSwitchBGM delay", name);
        var next = function() {
          audioDelaySwitchBGM(name, fixVolume, fade);
        };
        if (fade) {
          exports.audio.unscheduleAllCallbacks();
          if (old && old !== name) {
            audioReady(name);
            exports.audio.schedule(exports.audio.fadeOutMusicFadeVolume.bind(exports.audio, next), .1);
          } else next();
        } else next();
      }
    }
    exports.audioSwitchBGM = audioSwitchBGM;
    function audioPlayBGM(name, fixVolume) {
      void 0 === name && (name = "");
      if (!exports.audio) return;
      var has = exports.audio.hasAudio(name);
      delayBGMName = name;
      has ? exports.audio.playBGM(name, fixVolume) : audioDelaySwitchBGM(name, fixVolume);
    }
    function audioGetBGMName() {
      return delayBGMName;
    }
    exports.audioGetBGMName = audioGetBGMName;
    function audioAppend(keyAudioClip) {
      if (!exports.audio) return;
      return exports.audio.registAudio(keyAudioClip);
    }
    exports.audioAppend = audioAppend;
    var AudioPlayType;
    (function(AudioPlayType) {
      AudioPlayType[AudioPlayType["effect"] = 0] = "effect";
      AudioPlayType[AudioPlayType["music"] = 1] = "music";
    })(AudioPlayType || (AudioPlayType = {}));
    var Audio = function(_super) {
      __extends(Audio, _super);
      function Audio() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.mockMode = false;
        _this.debugMode = false;
        _this._audioEnabled = true;
        _this.audioMap = new Map();
        _this.audioClips = [];
        _this.defaultButtonAudioName = "";
        _this.musicPlayerVolume = 1;
        _this.musicFixVolume = 1;
        _this.musicFadeVolume = 1;
        _this.effectsPlayerVolume = .2;
        _this.bgmName = "";
        _this.throttleMap = {};
        _this.loopIdMap = {};
        _this.fadeMusic = .2;
        return _this;
      }
      Audio.prototype.registAudio = function(ary) {
        var _this = this;
        ary.forEach(function(a) {
          _this.audioMap.set(a.key, a.audioClip);
        });
      };
      Audio.prototype.hasAudio = function(name) {
        return this.audioMap.has(name);
      };
      Object.defineProperty(Audio.prototype, "audioEnabled", {
        get: function() {
          return this._audioEnabled;
        },
        enumerable: false,
        configurable: true
      });
      Audio.prototype.fadeInMusicFadeVolume = function() {
        var vol2 = this.musicFadeVolume + this.fadeMusic;
        vol2 >= 1 && (vol2 = 1);
        this.musicFadeVolume = vol2;
        this.refreshMusicVolume();
        1 === vol2 && this.unscheduleAllCallbacks();
      };
      Audio.prototype.fadeOutMusicFadeVolume = function(next) {
        return __awaiter(this, void 0, void 0, function() {
          var vol2;
          return __generator(this, function(_a) {
            vol2 = this.musicFadeVolume - this.fadeMusic;
            vol2 <= 0 && (vol2 = 0);
            this.musicFadeVolume = vol2;
            this.refreshMusicVolume();
            if (0 === vol2) {
              this.unscheduleAllCallbacks();
              next && next();
            }
            return [ 2 ];
          });
        });
      };
      Audio.prototype.setMusicPlayerVolume = function(playerVolume) {
        void 0 === playerVolume && (playerVolume = this.musicPlayerVolume);
        this.musicPlayerVolume = playerVolume;
        this.refreshMusicVolume();
      };
      Audio.prototype.setMusicFixVolume = function(fixVolume) {
        void 0 === fixVolume && (fixVolume = this.musicFixVolume);
        this.musicFixVolume = fixVolume;
        this.refreshMusicVolume();
      };
      Audio.prototype.refreshMusicVolume = function() {
        var vol = this.musicPlayerVolume * this.musicFixVolume * this.musicFadeVolume;
        this.debugMode && Utils_1.warn("Audio#musicVolume", vol, "by", this.musicPlayerVolume, this.musicFixVolume, this.musicFadeVolume);
        cc.audioEngine.setMusicVolume(this.musicPlayerVolume * this.musicFixVolume * this.musicFadeVolume);
      };
      Audio.prototype.setEffectsVolume = function(vol) {
        void 0 === vol && (vol = this.effectsPlayerVolume);
        if (this.mockMode) return;
        if (vol === this.effectsPlayerVolume) return;
        cc.audioEngine.setEffectsVolume(vol);
        this.effectsPlayerVolume = vol;
      };
      Audio.prototype.onLoad = function() {
        _super.prototype.onLoad.call(this);
        var l = ResourcesLoader_1.getResourcesLoader();
        setAudioComponent(this);
        var ary = this.audioClips.map(function(audioClip) {
          if (!audioClip) return null;
          return {
            audioClip: audioClip,
            key: audioClip.name
          };
        }).filter(Utils_1.identity);
        this.registAudio(ary);
        this.registAudio(l.keyAudioClips);
      };
      Audio.prototype.onDestroy = function() {
        setAudioComponent(null);
      };
      Audio.prototype.getBGMName = function() {
        return this.bgmName;
      };
      Audio.prototype.switchBGM = function(name, fixVolume) {
        void 0 === name && (name = "");
        void 0 === fixVolume && (fixVolume = this.musicFixVolume);
        if (this.bgmName === name) return;
        return this.playBGM(name, fixVolume);
      };
      Audio.prototype.playBGM = function(name, fixVolume) {
        void 0 === name && (name = "");
        void 0 === fixVolume && (fixVolume = this.musicFixVolume);
        if (this.mockMode) return;
        this.bgmName = name;
        var id = this.play2(name, true, AudioPlayType.music);
        this.musicFixVolume = fixVolume;
        this.refreshMusicVolume();
        this.debugMode && Utils_1.warn("Audio.ts#playBGM", name, id, fixVolume);
        return id;
      };
      Audio.prototype.play = function(name, _a) {
        var _b = void 0 === _a ? {} : _a, _c = _b.loop, loop = void 0 !== _c && _c, _d = _b.loopIndex, loopIndex = void 0 === _d ? "" : _d, _e = _b.throttle, throttle = void 0 === _e ? 0 : _e, _f = _b.throttleGroup, throttleGroup = void 0 === _f ? "" : _f;
        if (this.mockMode) return;
        if (0 === this.effectsPlayerVolume) return;
        if (throttle) {
          var group = throttleGroup || name;
          var now = Date.now();
          if (this.throttleMap[group] && now - this.throttleMap[group] < throttle) return;
          this.throttleMap[group] = now;
        }
        var loopKey = [ name, loopIndex ].join("#");
        var id;
        if (loop) {
          if (loop && !this.loopIdMap[loopKey]) {
            id = this.play2(name, loop, AudioPlayType.effect);
            this.loopIdMap[loopKey] = id;
          }
        } else id = this.play2(name, loop, AudioPlayType.effect);
        this.debugMode && Utils_1.warn("Audio.ts#play", name, loop, id);
        return id;
      };
      Audio.prototype.stopLoop = function(name, loopIndex) {
        void 0 === loopIndex && (loopIndex = "");
        if (this.mockMode) return;
        var loopKey = [ name, loopIndex ].join("#");
        this.debugMode && Utils_1.warn("Audio.ts#stopLoop", name, loopIndex, this.loopIdMap[loopKey]);
        cc.audioEngine.stop(this.loopIdMap[loopKey]);
        delete this.loopIdMap[loopKey];
      };
      Audio.prototype.stop = function(id) {
        if (this.mockMode) return;
        this.debugMode && Utils_1.warn("Audio.ts#stop", id);
        cc.audioEngine.stop(id);
      };
      Audio.prototype.play2 = function(name, loop, type) {
        void 0 === loop && (loop = false);
        if (!this._audioEnabled) return;
        var clip = this.audioMap.get(name);
        var id;
        switch (type) {
         case AudioPlayType.effect:
          if (!clip) return;
          id = cc.audioEngine.playEffect(clip, loop);
          break;

         case AudioPlayType.music:
          var playing = cc.audioEngine.isMusicPlaying();
          playing && cc.audioEngine.stopMusic();
          if (!clip) return;
          id = cc.audioEngine.playMusic(clip, loop);
        }
        return id;
      };
      Audio.prototype.enable = function(able) {
        if (this.mockMode) return;
        if (this._audioEnabled === able) return;
        this._audioEnabled = able;
        able ? audioPlayBGM(delayBGMName) : cc.audioEngine.stopAll();
      };
      __decorate([ property(cc.Boolean) ], Audio.prototype, "mockMode", void 0);
      __decorate([ property(cc.Boolean) ], Audio.prototype, "debugMode", void 0);
      __decorate([ property({
        type: cc.AudioClip
      }) ], Audio.prototype, "audioClips", void 0);
      __decorate([ property(cc.String) ], Audio.prototype, "defaultButtonAudioName", void 0);
      Audio = __decorate([ ccclass ], Audio);
      return Audio;
    }(PersistRootNode_1.default);
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../script/ResourcesLoader": "ResourcesLoader",
    "../utils/Utils": "Utils",
    "./PersistRootNode": "PersistRootNode"
  } ],
  AutoRotation: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b9191s5XyxETJAkkDsctegg", "AutoRotation");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AutoRotation = function(_super) {
      __extends(AutoRotation, _super);
      function AutoRotation() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.perUpdate = 0;
        _this.rot = 0;
        return _this;
      }
      AutoRotation.prototype.onLoad = function() {
        this.rot = this.node.angle;
      };
      AutoRotation.prototype.update = function() {
        if (!this.perUpdate) return;
        this.rot += this.perUpdate;
        this.rot >= 360 && (this.rot = 0);
        this.node.angle = this.rot;
      };
      __decorate([ property(cc.Integer) ], AutoRotation.prototype, "perUpdate", void 0);
      AutoRotation = __decorate([ ccclass ], AutoRotation);
      return AutoRotation;
    }(cc.Component);
    exports.default = AutoRotation;
    cc._RF.pop();
  }, {} ],
  AutoToggleFalseMenu: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "398b61pzcJNx7ww4eWgsGTa", "AutoToggleFalseMenu");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PromiseManager_1 = require("../script/PromiseManager");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AutoToggleFalseMenu = function(_super) {
      __extends(AutoToggleFalseMenu, _super);
      function AutoToggleFalseMenu() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.timeout = 0;
        _this.able = true;
        _this.toggleable = true;
        return _this;
      }
      AutoToggleFalseMenu.prototype.onLoad = function() {
        this.close = this.close.bind(this);
        this.scheduleOnce(this.close, this.timeout);
      };
      AutoToggleFalseMenu.prototype.getAble = function() {
        return this.able;
      };
      AutoToggleFalseMenu.prototype.toggle = function(able, toggleable) {
        void 0 === able && (able = !this.able);
        void 0 === toggleable && (toggleable = this.toggleable);
        this.toggleable = toggleable;
        if (!this.toggleable && !able) return;
        this.unscheduleAllCallbacks();
        able && toggleable && this.scheduleOnce(this.close, this.timeout);
        if (able === this.able) return;
        this.able = able;
        var anim = this.getComponent(cc.Animation);
        PromiseManager_1.animationPlay(anim, able ? 1 : 0);
      };
      AutoToggleFalseMenu.prototype.close = function() {
        this.able && this.toggle(false);
      };
      AutoToggleFalseMenu.prototype.onToggleClick = function() {
        this.toggle();
      };
      AutoToggleFalseMenu.prototype.scheduleToggleableTrue = function(able, delay) {
        var _this = this;
        var next = function() {
          _this.toggle(able, true);
        };
        this.unscheduleAllCallbacks();
        this.scheduleOnce(next, delay);
      };
      __decorate([ property(cc.Float) ], AutoToggleFalseMenu.prototype, "timeout", void 0);
      AutoToggleFalseMenu = __decorate([ ccclass ], AutoToggleFalseMenu);
      return AutoToggleFalseMenu;
    }(cc.Component);
    exports.default = AutoToggleFalseMenu;
    cc._RF.pop();
  }, {
    "../script/PromiseManager": "PromiseManager"
  } ],
  AutoToggleNode: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a6472DY5HRGmovRrf+8ttbP", "AutoToggleNode");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AutoToggleNode = function(_super) {
      __extends(AutoToggleNode, _super);
      function AutoToggleNode() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.perNode = 0;
        _this.nodes = [];
        _this.firstIndex = 0;
        _this.delta = 0;
        return _this;
      }
      AutoToggleNode.prototype.activeNode = function(index) {
        this.nodes.forEach(Utils_1.nodeActive(false));
        this.nodes[index].active = true;
      };
      AutoToggleNode.prototype.onLoad = function() {
        this.activeNode(this.firstIndex);
      };
      AutoToggleNode.prototype.update = function(dt) {
        if (!this.perNode) return;
        this.delta += dt;
        if (this.delta >= this.perNode) {
          this.delta -= this.perNode;
          this.firstIndex += 1;
          this.firstIndex >= this.nodes.length && (this.firstIndex = 0);
          this.activeNode(this.firstIndex);
        }
      };
      __decorate([ property(cc.Integer) ], AutoToggleNode.prototype, "perNode", void 0);
      __decorate([ property([ cc.Node ]) ], AutoToggleNode.prototype, "nodes", void 0);
      __decorate([ property(cc.Integer) ], AutoToggleNode.prototype, "firstIndex", void 0);
      AutoToggleNode = __decorate([ ccclass ], AutoToggleNode);
      return AutoToggleNode;
    }(cc.Component);
    exports.default = AutoToggleNode;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  BackgroundBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "82e49Y5WwVD9I9EGfcFxo4v", "BackgroundBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var NodeTween_1 = require("../data/NodeTween");
    var PromiseManager_1 = require("../script/PromiseManager");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var BackgroundBase = function(_super) {
      __extends(BackgroundBase, _super);
      function BackgroundBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.node1 = null;
        _this.node2 = null;
        _this.spriteFrames = [];
        _this.skeletonAnimations = [];
        _this.refBackground = null;
        return _this;
      }
      BackgroundBase_1 = BackgroundBase;
      BackgroundBase.prototype.reset = function(idx) {
        if (this.spriteFrames.length) {
          var backgroundSprite = this.node1.getComponent(cc.Sprite);
          var oldFrame = backgroundSprite.spriteFrame;
          backgroundSprite.spriteFrame = this.spriteFrames[idx];
          var bgSprite2 = this.node2.getComponent(cc.Sprite);
          bgSprite2.spriteFrame = oldFrame;
          this.node2.stopAllActions();
          this.node2.opacity = 255;
          NodeTween_1.applyNodeTween({
            node: this.node2,
            action: cc.fadeOut(.3)
          });
        } else if (this.skeletonAnimations) {
          var nextStr = this.skeletonAnimations[idx];
          var old = this.node1.getComponent(sp.Skeleton);
          var next = this.node2.getComponent(sp.Skeleton);
          this.node2 = old.node;
          this.node1 = next.node;
          next.node.setSiblingIndex(0);
          old.node.setSiblingIndex(1);
          if (nextStr) {
            PromiseManager_1.spSkeletonSetAnimation(next, nextStr, true);
            next.node.opacity = 255;
          } else {
            PromiseManager_1.spSkeletonEmpty(next);
            next.node.opacity = 0;
          }
          old.node.opacity = 255;
          NodeTween_1.applyNodeTween({
            node: old.node,
            action: cc.fadeOut(.3)
          });
        }
        this.refBackground && this.refBackground.reset(idx);
      };
      var BackgroundBase_1;
      __decorate([ property(cc.Node) ], BackgroundBase.prototype, "node1", void 0);
      __decorate([ property(cc.Node) ], BackgroundBase.prototype, "node2", void 0);
      __decorate([ property([ cc.SpriteFrame ]) ], BackgroundBase.prototype, "spriteFrames", void 0);
      __decorate([ property([ cc.String ]) ], BackgroundBase.prototype, "skeletonAnimations", void 0);
      __decorate([ property(BackgroundBase_1) ], BackgroundBase.prototype, "refBackground", void 0);
      BackgroundBase = BackgroundBase_1 = __decorate([ ccclass ], BackgroundBase);
      return BackgroundBase;
    }(cc.Component);
    exports.default = BackgroundBase;
    cc._RF.pop();
  }, {
    "../data/NodeTween": "NodeTween",
    "../script/PromiseManager": "PromiseManager"
  } ],
  BackgroundProperty: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "36a7030OmlJsK31P5Y7qx4Q", "BackgroundProperty");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.backgroundSpriteFrameMap = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    exports.backgroundSpriteFrameMap = {};
    var BackgroundProperty = function(_super) {
      __extends(BackgroundProperty, _super);
      function BackgroundProperty() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.backgroundSprite = null;
        _this.camera = null;
        _this.color = cc.color(255, 255, 255);
        return _this;
      }
      BackgroundProperty.prototype.refresh = function() {
        var frame = null;
        for (var k in this) {
          if (k.startsWith("_")) continue;
          if (this.hasOwnProperty(k) && true === this[k]) {
            frame = exports.backgroundSpriteFrameMap[k];
            break;
          }
        }
        this.backgroundSprite.spriteFrame = frame;
        this.camera.backgroundColor = this.color;
      };
      BackgroundProperty.prototype.clearBoolean = function() {
        for (var k in this) if (this.hasOwnProperty(k)) {
          if (k.startsWith("_")) continue;
          "boolean" === typeof this[k] && (this[k] = false);
        }
      };
      __decorate([ property(cc.Sprite) ], BackgroundProperty.prototype, "backgroundSprite", void 0);
      __decorate([ property(cc.Camera) ], BackgroundProperty.prototype, "camera", void 0);
      __decorate([ property(cc.Color) ], BackgroundProperty.prototype, "color", void 0);
      BackgroundProperty = __decorate([ ccclass ], BackgroundProperty);
      return BackgroundProperty;
    }(cc.Component);
    exports.default = BackgroundProperty;
    cc._RF.pop();
  }, {} ],
  BalanceData: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "705a8KqkThJF6eqTO1eAgXa", "BalanceData");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var BalanceData = function() {
      function BalanceData(serial, difference, lastBalance, finished, type, group, custom) {
        void 0 === finished && (finished = false);
        void 0 === type && (type = "");
        void 0 === group && (group = "");
        void 0 === custom && (custom = null);
        this.serial = serial;
        this.difference = difference;
        this.lastBalance = lastBalance;
        this.finished = finished;
        this.type = type;
        this.group = group;
        this.custom = custom;
      }
      BalanceData.prototype.finish = function() {
        this.finished = true;
      };
      BalanceData.prototype.isFinished = function() {
        return this.finished;
      };
      return BalanceData;
    }();
    exports.default = BalanceData;
    cc._RF.pop();
  }, {} ],
  BalanceManager: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e2afdZc+NVOPphtOQpJ7Rdy", "BalanceManager");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ParamsGlobal_1 = require("../ParamsGlobal");
    var Balance_1 = require("./Balance");
    var Utils_1 = require("./Utils");
    var BalanceManager = function() {
      function BalanceManager(sumDifference) {
        void 0 === sumDifference && (sumDifference = false);
        this.sumDifference = sumDifference;
        this.balance = null;
        this.balanceDatas = [];
        this.lastUpdateBalanceAt = 0;
        this.doUpdateBalanceData = null;
        this.doUpdateBalance = null;
      }
      BalanceManager.prototype.getBalance = function() {
        return this.balance;
      };
      BalanceManager.prototype.clearData = function() {
        this.balanceDatas.length = 0;
      };
      BalanceManager.prototype.updateBalance = function(balance) {
        var _a;
        this.balance = balance;
        null === (_a = this.doUpdateBalance) || void 0 === _a ? void 0 : _a.call(this, balance);
      };
      BalanceManager.prototype.isUpdateBalanceIdle = function() {
        return Date.now() - 3e3 >= this.lastUpdateBalanceAt;
      };
      BalanceManager.prototype.isBalanceIdle = function() {
        return -1 === this.balanceDatas.findIndex(function(b) {
          return !b.isFinished();
        });
      };
      BalanceManager.prototype.getLastBalance = function() {
        return this.balanceDatas[this.balanceDatas.length - 1];
      };
      BalanceManager.prototype.getBalanceData = function(serial) {
        return this.balanceDatas.find(function(bd) {
          return bd.serial === serial;
        });
      };
      BalanceManager.prototype.filter = function(filter) {
        return this.balanceDatas.filter(filter);
      };
      BalanceManager.prototype.remove = function(balanceData) {
        Utils_1.arraySplice(this.balanceDatas, balanceData);
      };
      BalanceManager.prototype.pushUpdateBalanceData = function(data) {
        this.balanceDatas.push(data);
        this.balanceDatas.sort(function(a, b) {
          return a.serial < b.serial ? -1 : 1;
        });
        this.lastUpdateBalanceAt = Date.now();
        data.isFinished() ? this.finishBalanceData(data) : this.refreshBalance();
      };
      BalanceManager.prototype.finishBalanceData = function(data) {
        var _a;
        data.finish();
        null === (_a = this.doUpdateBalanceData) || void 0 === _a ? void 0 : _a.call(this, data);
        var arr = this.balanceDatas;
        if (-1 === arr.indexOf(data)) return;
        if (true, ParamsGlobal_1.getDebugParams("keepbd")) {
          this.refreshBalance();
          return;
        }
        if (this.sumDifference) return this.refreshBalance();
        var unfinished = arr.filter(function(a) {
          return a.serial <= data.serial && !a.isFinished();
        });
        var i = arr.indexOf(data);
        0 === unfinished.length && i > 0 && arr.splice(0, i);
        this.refreshBalance();
      };
      BalanceManager.prototype.refreshBalance = function() {
        return this.sumDifference ? this.refreshDifference() : this.refreshBalance2();
      };
      BalanceManager.prototype.refreshDifference = function() {
        var arr = this.balanceDatas;
        var l = arr.length;
        var b = Balance_1.balance(0);
        while (l) {
          l -= 1;
          var x = arr[l];
          x.isFinished() || b.add(x.difference);
        }
        this.updateBalance(b);
      };
      BalanceManager.prototype.refreshBalance2 = function() {
        var arr = this.balanceDatas;
        if (0 === arr.length) {
          this.updateBalance(Balance_1.balance(0));
          return;
        }
        if (1 === arr.length) {
          this.updateBalance(Balance_1.balanceBiggerThen(Balance_1.balance(0), arr[0].lastBalance));
          return;
        }
        var l = arr.length;
        var lastBalance = arr[l - 1].lastBalance;
        var bal = Balance_1.balance(0);
        while (l) {
          l -= 1;
          var x = arr[l];
          x.isFinished() || bal.add(x.difference);
        }
        if (Balance_1.balanceLt(lastBalance, bal)) debugger;
        this.updateBalance(Balance_1.balanceBiggerThen(Balance_1.balance(0), Balance_1.balanceSub(lastBalance, bal)));
      };
      return BalanceManager;
    }();
    exports.default = BalanceManager;
    cc._RF.pop();
  }, {
    "../ParamsGlobal": "ParamsGlobal",
    "./Balance": "Balance",
    "./Utils": "Utils"
  } ],
  Balance: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b618fvHGmJLq4sa4bZ3mg2x", "Balance");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.roundDown = exports.fixK = exports.fixThousandthK = exports.fixThousandth = exports.fixThousandth2 = exports.fixThousandth3 = exports.fixAmountNumber = exports.safeDiv = exports.safeMul = exports.safeSub = exports.safeAdd = exports.balanceEq = exports.balanceBiggerThen = exports.balanceLowerThen = exports.balanceLt = exports.balanceGt = exports.balanceLte = exports.balanceGte = exports.balanceDiv = exports.balanceMul = exports.balanceSub = exports.balanceAdd = exports.balanceDivString = exports.balanceDivNumber = exports.balanceMulString = exports.balanceMulNumber = exports.balanceSubString = exports.balanceSubNumber = exports.balanceAddString = exports.balanceAddNumber = exports.chipThousandthK = exports.chipThousandth = exports.chipString = exports.amountThousandthK = exports.amountThousandth = exports.amountString = exports.balanceThousandthK = exports.balanceThousandth = exports.balanceString = exports.balanceNumber = exports.balance = exports.setReplaceByMK = exports.setTrimRightZero = exports.setBalanceDecimal = exports.maxSafeBalanceNumber = exports.Balance = void 0;
    var big_1 = require("big");
    var LibGlobal_1 = require("../LibGlobal");
    var Utils_1 = require("./Utils");
    var Balance = function() {
      function Balance(balance) {
        void 0 === balance && (balance = 0);
        this.raw = 0;
        this.big = big_1.default(balance);
        this.raw = this.rawNumber();
      }
      Balance.prototype.add = function(balance) {
        this.big = balance instanceof Balance ? this.big.add(balance.big) : this.big.add(balance);
        this.raw = this.rawNumber();
        return this;
      };
      Balance.prototype.sub = function(balance) {
        this.big = balance instanceof Balance ? this.big.sub(balance.big) : this.big.sub(balance);
        this.raw = this.rawNumber();
        return this;
      };
      Balance.prototype.mul = function(balance) {
        this.big = balance instanceof Balance ? this.big.mul(balance.big) : this.big.mul(balance);
        this.raw = this.rawNumber();
        return this;
      };
      Balance.prototype.div = function(balance) {
        this.big = balance instanceof Balance ? this.big.div(balance.big) : this.big.div(balance);
        this.raw = this.rawNumber();
        return this;
      };
      Balance.prototype.clone = function() {
        return new Balance(this.big);
      };
      Balance.prototype.fixed = function(decimal) {
        var big = big_1.default(this.big);
        big = big.times(BALANCE_DECIMAL2).div(BIG_10000);
        big = big.gt(0) ? big.round(0, big_1.default.roundDown) : big.round(0, big_1.default.roundUp);
        big = big.div(BALANCE_DECIMAL2);
        return TRIM_RIGHT_ZERO ? big.toString() : big.toFixed(decimal, big_1.default.roundDown);
      };
      Balance.prototype.toNumber = function(decimal) {
        void 0 === decimal && (decimal = BALANCE_DECIMAL);
        return Number(this.fixed(decimal));
      };
      Balance.prototype.toString = function(thousandth, mk, decimal) {
        void 0 === thousandth && (thousandth = false);
        void 0 === mk && (mk = false);
        void 0 === decimal && (decimal = BALANCE_DECIMAL);
        var str = this.fixed(decimal);
        return thousandth ? mk ? fixThousandthK(str) : fixThousandth(str) : mk ? fixK(str) : str;
      };
      Balance.prototype.rawString = function() {
        return this.big.toString();
      };
      Balance.prototype.rawNumber = function() {
        return this.big.toNumber();
      };
      return Balance;
    }();
    exports.Balance = Balance;
    var BALANCE_DECIMAL = 2;
    var BALANCE_DECIMAL2 = 100;
    var TRIM_RIGHT_ZERO = false;
    var REPLACE_BY_MK = true;
    var BIG_10000 = new big_1.default(1e4);
    var MAX_SAFE_BALANCE = balanceMul(Number.MAX_SAFE_INTEGER, 1e4);
    function maxSafeBalanceNumber(balance) {
      return balanceGt(balance, MAX_SAFE_BALANCE) ? Number.MAX_SAFE_INTEGER : balance.toNumber();
    }
    exports.maxSafeBalanceNumber = maxSafeBalanceNumber;
    function setBalanceDecimal(decimal) {
      BALANCE_DECIMAL = decimal;
      BALANCE_DECIMAL2 = 2 === decimal ? 100 : 1e3;
    }
    exports.setBalanceDecimal = setBalanceDecimal;
    function setTrimRightZero(able) {
      TRIM_RIGHT_ZERO = able;
    }
    exports.setTrimRightZero = setTrimRightZero;
    function setReplaceByMK(able) {
      REPLACE_BY_MK = able;
    }
    exports.setReplaceByMK = setReplaceByMK;
    function balance(balance) {
      return balanceAdd(balance);
    }
    exports.balance = balance;
    function balanceNumber(balance) {
      return balanceAddNumber(balance);
    }
    exports.balanceNumber = balanceNumber;
    function balanceString(balance) {
      return balanceAddString(balance);
    }
    exports.balanceString = balanceString;
    function balanceThousandth(balance) {
      return balanceAdd(balance).toString(true);
    }
    exports.balanceThousandth = balanceThousandth;
    function balanceThousandthK(balance) {
      return balanceAdd(balance).toString(true, true);
    }
    exports.balanceThousandthK = balanceThousandthK;
    function amountString(amount) {
      return balanceString(amount);
    }
    exports.amountString = amountString;
    function amountThousandth(amount) {
      return fixThousandth3("" + balance(amount).toNumber());
    }
    exports.amountThousandth = amountThousandth;
    function amountThousandthK(amount) {
      return fixThousandth3(fixK("" + balance(amount).toNumber()));
    }
    exports.amountThousandthK = amountThousandthK;
    function chipString(amount) {
      return balanceString(amount);
    }
    exports.chipString = chipString;
    function chipThousandth(amount) {
      return fixThousandth("" + balance(amount).toNumber());
    }
    exports.chipThousandth = chipThousandth;
    function chipThousandthK(amount) {
      return fixThousandth(fixK("" + balance(amount).toNumber()));
    }
    exports.chipThousandthK = chipThousandthK;
    function balanceAddNumber() {
      var balances = [];
      for (var _i = 0; _i < arguments.length; _i++) balances[_i] = arguments[_i];
      return balanceAdd.apply(void 0, balances).toNumber();
    }
    exports.balanceAddNumber = balanceAddNumber;
    function balanceAddString() {
      var balances = [];
      for (var _i = 0; _i < arguments.length; _i++) balances[_i] = arguments[_i];
      return balanceAdd.apply(void 0, balances).toString();
    }
    exports.balanceAddString = balanceAddString;
    function balanceSubNumber() {
      var balances = [];
      for (var _i = 0; _i < arguments.length; _i++) balances[_i] = arguments[_i];
      return balanceSub.apply(void 0, balances).toNumber();
    }
    exports.balanceSubNumber = balanceSubNumber;
    function balanceSubString() {
      var balances = [];
      for (var _i = 0; _i < arguments.length; _i++) balances[_i] = arguments[_i];
      return balanceSub.apply(void 0, balances).toString();
    }
    exports.balanceSubString = balanceSubString;
    function balanceMulNumber() {
      var balances = [];
      for (var _i = 0; _i < arguments.length; _i++) balances[_i] = arguments[_i];
      return balanceMul.apply(void 0, balances).toNumber();
    }
    exports.balanceMulNumber = balanceMulNumber;
    function balanceMulString() {
      var balances = [];
      for (var _i = 0; _i < arguments.length; _i++) balances[_i] = arguments[_i];
      return balanceMul.apply(void 0, balances).toString();
    }
    exports.balanceMulString = balanceMulString;
    function balanceDivNumber() {
      var balances = [];
      for (var _i = 0; _i < arguments.length; _i++) balances[_i] = arguments[_i];
      return balanceDiv.apply(void 0, balances).toNumber();
    }
    exports.balanceDivNumber = balanceDivNumber;
    function balanceDivString() {
      var balances = [];
      for (var _i = 0; _i < arguments.length; _i++) balances[_i] = arguments[_i];
      return balanceDiv.apply(void 0, balances).toString();
    }
    exports.balanceDivString = balanceDivString;
    function balanceOp(op, balances) {
      if (0 === balances.length) return new Balance(0);
      var balance;
      balance = balances[0] instanceof Balance ? balances[0].clone() : new Balance(balances[0]);
      for (var i = 1; i < balances.length; i += 1) {
        var b = balances[i];
        if (!b) continue;
        balance = balance[op](b);
      }
      return balance;
    }
    function balanceAdd() {
      var balances = [];
      for (var _i = 0; _i < arguments.length; _i++) balances[_i] = arguments[_i];
      return balanceOp("add", balances);
    }
    exports.balanceAdd = balanceAdd;
    function balanceSub() {
      var balances = [];
      for (var _i = 0; _i < arguments.length; _i++) balances[_i] = arguments[_i];
      return balanceOp("sub", balances);
    }
    exports.balanceSub = balanceSub;
    function balanceMul() {
      var balances = [];
      for (var _i = 0; _i < arguments.length; _i++) balances[_i] = arguments[_i];
      return balanceOp("mul", balances);
    }
    exports.balanceMul = balanceMul;
    function balanceDiv() {
      var balances = [];
      for (var _i = 0; _i < arguments.length; _i++) balances[_i] = arguments[_i];
      return balanceOp("div", balances);
    }
    exports.balanceDiv = balanceDiv;
    function balanceGte(balance, balance2) {
      return balanceAdd(balance).big.gte(balanceAdd(balance2).big);
    }
    exports.balanceGte = balanceGte;
    function balanceLte(balance, balance2) {
      return balanceAdd(balance).big.lte(balanceAdd(balance2).big);
    }
    exports.balanceLte = balanceLte;
    function balanceGt(balance, balance2) {
      return balanceAdd(balance).big.gt(balanceAdd(balance2).big);
    }
    exports.balanceGt = balanceGt;
    function balanceLt(balance, balance2) {
      return balanceAdd(balance).big.lt(balanceAdd(balance2).big);
    }
    exports.balanceLt = balanceLt;
    function balanceLowerThen(max, balance) {
      if (balance.big.lte(max.big)) return balance;
      return max;
    }
    exports.balanceLowerThen = balanceLowerThen;
    function balanceBiggerThen(min, balance) {
      if (balance.big.gte(min.big)) return balance;
      return min;
    }
    exports.balanceBiggerThen = balanceBiggerThen;
    function balanceEq(balance, balance2) {
      return balance.big.eq(balance2.big);
    }
    exports.balanceEq = balanceEq;
    function safeAdd() {
      var numbers = [];
      for (var _i = 0; _i < arguments.length; _i++) numbers[_i] = arguments[_i];
      return balanceAdd.apply(void 0, numbers).big.toNumber();
    }
    exports.safeAdd = safeAdd;
    function safeSub() {
      var numbers = [];
      for (var _i = 0; _i < arguments.length; _i++) numbers[_i] = arguments[_i];
      return balanceSub.apply(void 0, numbers).big.toNumber();
    }
    exports.safeSub = safeSub;
    function safeMul() {
      var numbers = [];
      for (var _i = 0; _i < arguments.length; _i++) numbers[_i] = arguments[_i];
      return balanceMul.apply(void 0, numbers).big.toNumber();
    }
    exports.safeMul = safeMul;
    function safeDiv() {
      var numbers = [];
      for (var _i = 0; _i < arguments.length; _i++) numbers[_i] = arguments[_i];
      return balanceDiv.apply(void 0, numbers).big.toNumber();
    }
    exports.safeDiv = safeDiv;
    function fixAmountNumber(num) {
      return new big_1.default(num).times(BIG_10000).toNumber();
    }
    exports.fixAmountNumber = fixAmountNumber;
    function fixThousandth3(str) {
      if (TRIM_RIGHT_ZERO) return fixThousandth2(str, 0);
      return fixThousandth2(str);
    }
    exports.fixThousandth3 = fixThousandth3;
    function fixThousandth2(str, decimal) {
      void 0 === decimal && (decimal = BALANCE_DECIMAL);
      var ss = str.split(".");
      var ss1 = ss[1] || "";
      if (0 === decimal) return fixThousandth(ss[0]);
      0 === decimal && TRIM_RIGHT_ZERO ? ss1 = "" : ss1.length < decimal ? ss1 = TRIM_RIGHT_ZERO ? trimRightZero(ss1) : Utils_1.padEnd(ss1, decimal, "0") : ss1.length > decimal && (ss1 = ss1.substr(0, decimal));
      return fixThousandth(ss[0] + (ss1 ? "." + ss1 : ""));
    }
    exports.fixThousandth2 = fixThousandth2;
    function fixThousandth(str) {
      var parts = str.split(".");
      parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ",");
      return parts.join(".");
    }
    exports.fixThousandth = fixThousandth;
    function fixThousandthK(str) {
      return fixThousandth(fixK(str));
    }
    exports.fixThousandthK = fixThousandthK;
    function shiftDot(i, d, l) {
      var il = i.length;
      if (l <= 0 || il < l + 1) return [ i, d ];
      d = i.substr(il - l) + d;
      d = d.replace(/0+$/, "");
      i = i.substr(0, il - l);
      return [ i, d ];
    }
    var K = 3;
    var M = 6;
    function fixMK(str, million) {
      var _a, _b;
      void 0 === million && (million = false);
      if (!REPLACE_BY_MK) return str;
      var strs = str.split(".");
      var i = strs[0] || "0";
      var d = strs[1] || "0";
      var _c = [ "", "" ], iOut = _c[0], dOut = _c[1];
      var il = i.length;
      if (million && il >= M + 1) {
        _a = shiftDot(i, d, M), iOut = _a[0], dOut = _a[1];
        var dl = dOut.length;
        if (dl < 3) return iOut + (dOut ? "." + dOut : "") + "M";
      }
      if (il >= K + 2) {
        _b = shiftDot(i, d, K), iOut = _b[0], dOut = _b[1];
        var dl = dOut.length;
        if (dl < 3) return iOut + (dOut ? "." + dOut : "") + "K";
      }
      return str;
    }
    function fixK(str) {
      return fixMK(str, true);
    }
    exports.fixK = fixK;
    function roundDown(num, dp) {
      var big = big_1.default(num);
      big = big.gt(0) ? big.round(dp, big_1.default.roundDown) : big.round(dp, big_1.default.roundUp);
      return big.toNumber();
    }
    exports.roundDown = roundDown;
    function trimRightZero(str) {
      return str.replace(/0+$/, "");
    }
    LibGlobal_1.globalDebugNNN(Balance, "Balance", false);
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "./Utils": "Utils",
    big: 8
  } ],
  BezierPosition: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "4588bYapwRHA4BaA4+drg/g", "BezierPosition");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var BezierPosition = function(_super) {
      __extends(BezierPosition, _super);
      function BezierPosition() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.points = [];
        _this.targetNode = null;
        _this.playOnStart = false;
        _this.loop = false;
        _this.sec = 0;
        _this.delay = 0;
        _this.delta = -1;
        _this.calculatedPoints = [];
        _this.resolve = null;
        _this.graphics = null;
        return _this;
      }
      BezierPosition.prototype.start = function() {
        var _this = this;
        var next = function() {
          _this.play().then(next);
        };
        this.playOnStart && next();
      };
      BezierPosition.prototype.play = function(points, sec, delay, targetNode) {
        var _this = this;
        void 0 === points && (points = []);
        void 0 === sec && (sec = .5);
        void 0 === delay && (delay = .5);
        void 0 === targetNode && (targetNode = null);
        var node = targetNode || this.targetNode || this.node;
        var pts = points.length ? points : this.points;
        if (!node) return;
        if (pts.length < 3) {
          true;
          Utils_1.warn("points less then 3");
          return;
        }
        node.active = true;
        this.targetNode = node;
        this.sec = sec;
        this.delta = 0;
        this.delay = delay;
        this.calculatedPoints = Utils_1.calculateControlPoints(pts);
        var p = new Promise(function(resolve, reject) {
          _this.resolve = resolve;
        });
        return p;
      };
      BezierPosition.prototype.update = function(dt) {
        if (-1 === this.delta) return;
        var delta = this.delta + dt;
        var node = this.targetNode;
        var total = this.sec;
        var delay = this.delay;
        if (delta >= total) if (delta >= total + delay) {
          this.delta = -1;
          node.active = false;
          this.resolve && this.resolve();
          this.resolve = null;
        } else {
          this.delta = delta;
          node.setPosition(this.calculatedPoints[this.calculatedPoints.length - 1]);
        } else {
          this.delta = delta;
          var pts = this.calculatedPoints;
          var l = (this.calculatedPoints.length - 1) / 3;
          var i = 3 * Math.floor(delta / total * l);
          var t = delta / total * l % 1;
          var pos = Utils_1.pointOnCubicBezier(t, pts[i], pts[i + 1], pts[i + 2], pts[i + 3]);
          node.setPosition(pos);
        }
      };
      BezierPosition.prototype.playCCBezier = function(time, firstPos, secondPos, endPos, drawTrack, enactive) {
        var _this = this;
        void 0 === drawTrack && (drawTrack = false);
        void 0 === enactive && (enactive = true);
        (true, drawTrack) && this.drawBezierCurve(firstPos, secondPos, endPos);
        var promise = new Promise(function(resolve) {
          var node = _this.targetNode || _this.node;
          var endCallback = cc.callFunc(function() {
            enactive && (node.active = false);
            resolve(1);
          });
          node.active = true;
          node.setPosition(firstPos);
          var bezierPos = [ firstPos, secondPos, endPos ];
          var bez = cc.bezierTo(time, bezierPos);
          var sequence = cc.sequence(bez, endCallback);
          cc.tween(node).then(sequence).start();
        });
        return promise;
      };
      BezierPosition.prototype.drawBezierCurve = function(firstPos, secondPos, endPos) {
        this.graphics || (this.graphics = this.node.addComponent(cc.Graphics));
        this.graphics.clear();
        this.graphics.lineWidth = 5;
        this.graphics.strokeColor = cc.Color.BLUE;
        this.graphics.moveTo(firstPos.x, firstPos.y);
        this.graphics.bezierCurveTo(firstPos.x, firstPos.y, secondPos.x, secondPos.y, endPos.x, endPos.y);
        this.graphics.stroke();
      };
      __decorate([ property([ cc.Vec2 ]) ], BezierPosition.prototype, "points", void 0);
      __decorate([ property(cc.Node) ], BezierPosition.prototype, "targetNode", void 0);
      __decorate([ property(cc.Boolean) ], BezierPosition.prototype, "playOnStart", void 0);
      __decorate([ property(cc.Boolean) ], BezierPosition.prototype, "loop", void 0);
      BezierPosition = __decorate([ ccclass ], BezierPosition);
      return BezierPosition;
    }(cc.Component);
    exports.default = BezierPosition;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  BigWin2: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "5dfd5/cZOhN15YSTCWsaqMP", "BigWin2");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Audio_1 = require("../component/Audio");
    var SpSkeletonHack_1 = require("../component/SpSkeletonHack");
    var KeyStr_1 = require("../data/KeyStr");
    var Mark_1 = require("../data/Mark");
    var NodeTween_1 = require("../data/NodeTween");
    var LibGlobal_1 = require("../LibGlobal");
    var ParticleSystemBase_1 = require("../particle/ParticleSystemBase");
    var BigWinBase_1 = require("../ui/BigWinBase");
    var Balance_1 = require("../utils/Balance");
    var Utils_1 = require("../utils/Utils");
    var PromiseManager_1 = require("./PromiseManager");
    var ResourcesLoader_1 = require("./ResourcesLoader");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var BigWin2 = function(_super) {
      __extends(BigWin2, _super);
      function BigWin2() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.particleSystem = null;
        _this.xWinBgSkeleton = null;
        _this.xWinSkeleton = null;
        _this.levelIndex = -1;
        _this.updateWins = false;
        _this.winsLabel = null;
        _this.tweenNode = null;
        _this.spineNode = null;
        _this.spineUniformNode = null;
        _this.closeMaskButton = null;
        _this.data = null;
        _this.maxScaleXWin = 0;
        _this.totalSec = 0;
        _this.delta = 0;
        return _this;
      }
      BigWin2.prototype.preload = function() {
        var _this = this;
        var l = ResourcesLoader_1.getResourcesLoader();
        var lp = l.loadUrls([ "bundle/game/bigwin2" ]);
        var p = lp.then(function(assets) {
          var marks = _this.getComponentsInChildren(Mark_1.default);
          marks.forEach(function(mark) {
            var node = mark.node;
            var data = mark.data;
            if (data.startsWith("sp")) {
              var skeletonData = assets.find(function(d) {
                return d instanceof sp.SkeletonData;
              });
              var skeleton = SpSkeletonHack_1.genSkeleton(skeletonData, sp.Skeleton.AnimationCacheMode.REALTIME, void 0, node);
              skeleton.loop = true;
              skeleton.timeScale = 1;
              skeleton.premultipliedAlpha = false;
              "sp1" === data ? _this.xWinSkeleton = skeleton : "sp2" === data && (_this.xWinBgSkeleton = skeleton);
            } else if ("fnt" === data) {
              var f = KeyStr_1.findBitmapFont([ {
                key: "3000_win_word_num",
                str: ""
              } ], l.keyBitmapFonts);
              var label = node.getComponent(cc.Label);
              label.font = f.bitmapFont;
              -1 !== label._bmFontOriginalSize && (label.lineHeight = label._bmFontOriginalSize);
            } else if ("anim" === data) {
              var frames = Utils_1.range2(1, 8).map(function(i) {
                return KeyStr_1.findFrame([ {
                  key: "3000_win_money",
                  str: "money_" + i
                } ], l.keyAtlass).frame;
              });
              var clip = cc.AnimationClip.createWithSpriteFrames(frames, 30);
              clip.wrapMode = cc.WrapMode.Loop;
              clip.name = "coin";
              var anim = node.getComponent(cc.Animation);
              anim.addClip(clip);
              anim.defaultClip = clip;
              anim.playOnLoad = true;
            } else {
              var _a = data.split("."), key = _a[0], str = _a[1];
              var f = KeyStr_1.findFrame([ {
                key: key,
                str: str
              } ], l.keyAtlass);
              var sprite = node.getComponent(cc.Sprite);
              sprite.spriteFrame = f.frame;
            }
          });
        });
        return p;
      };
      BigWin2.prototype.onLoad = function() {
        LibGlobal_1.globalDebugNNN(this);
        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);
        this.particleSystem.loadJson([ {
          key: "spriteFrameTime",
          value: 0
        }, {
          key: "frezzeMode",
          value: 0
        }, {
          key: "particleCount",
          value: 139
        }, {
          key: "playOnLoad",
          value: false
        }, {
          key: "autoRemoveOnFinish",
          value: false
        }, {
          key: "delayTime",
          value: 0
        }, {
          key: "totalParticles",
          value: 200
        }, {
          key: "duration",
          value: -1
        }, {
          key: "emissionRate",
          value: 30
        }, {
          key: "life",
          value: 6
        }, {
          key: "lifeVar",
          value: 0
        }, {
          key: "startColor",
          value: {
            r: 255,
            g: 255,
            b: 255,
            a: 255
          }
        }, {
          key: "startColorVar",
          value: {
            r: 0,
            g: 0,
            b: 0,
            a: 0
          }
        }, {
          key: "endColor",
          value: {
            r: 255,
            g: 255,
            b: 255,
            a: 255
          }
        }, {
          key: "endColorVar",
          value: {
            r: 0,
            g: 0,
            b: 0,
            a: 0
          }
        }, {
          key: "angle",
          value: 50
        }, {
          key: "angleVar",
          value: 360
        }, {
          key: "startSize",
          value: .2
        }, {
          key: "startSizeVar",
          value: .1
        }, {
          key: "endSize",
          value: 1.2
        }, {
          key: "endSizeVar",
          value: 1
        }, {
          key: "startSpin",
          value: 0
        }, {
          key: "startSpinVar",
          value: 0
        }, {
          key: "endSpin",
          value: 1e3
        }, {
          key: "endSpinVar",
          value: 0
        }, {
          key: "sourcePos",
          value: {
            x: 0,
            y: 0
          }
        }, {
          key: "posVar",
          value: {
            x: 0,
            y: 0
          }
        }, {
          key: "emitterMode",
          value: 0
        }, {
          key: "gravity",
          value: {
            x: 0,
            y: 0
          }
        }, {
          key: "speed",
          value: 380
        }, {
          key: "speedVar",
          value: 0
        }, {
          key: "tangentialAccel",
          value: 0
        }, {
          key: "tangentialAccelVar",
          value: 0
        }, {
          key: "radialAccel",
          value: 0
        }, {
          key: "radialAccelVar",
          value: 0
        }, {
          key: "rotationIsDir",
          value: false
        }, {
          key: "startRadius",
          value: 0
        }, {
          key: "startRadiusVar",
          value: 0
        }, {
          key: "endRadius",
          value: 0
        }, {
          key: "endRadiusVar",
          value: 0
        }, {
          key: "rotatePerS",
          value: 0
        }, {
          key: "rotatePerSVar",
          value: 0
        } ]);
      };
      BigWin2.prototype.onKeyDown = function(event) {
        if (event.keyCode === cc.macro.KEY.space || event.keyCode === cc.macro.KEY.enter) {
          Utils_1.log("space");
          this.resolve && this.closeMaskButton.node.active && this.onCloseClick();
        }
      };
      BigWin2.prototype.done = function() {
        var _this = this;
        this.node.opacity = 255;
        this.tweenNode.stopAllActions();
        this.updateWins = false;
        this.winsLabel.string = Balance_1.balanceThousandth(this.data.totalWins);
        this.spineNode.scale = this.maxScaleXWin;
        this.closeMaskButton.interactable = false;
        this.closeMaskButton.node.active = false;
        var level = BigWinBase_1.getBigWinLevel(this.data.totalBet, this.data.totalWins);
        var levelIndex = BigWinBase_1.getBigWinLevelIndex(level);
        this.levelIndex !== levelIndex && this.levelUp(level);
        Audio_1.audioStopLoop("S300001_award_count");
        Audio_1.audioPlay("S300008_award_finish");
        return NodeTween_1.applyNodeTween({
          node: this.node,
          action: cc.sequence(cc.delayTime(2), cc.fadeOut(2), cc.callFunc(function() {
            _this.resolve && _this.resolve();
            _this.reset();
            Audio_1.audioSwitchBGM("");
            _this.node.active = false;
            _this.doneHandler && _this.doneHandler.emit([]);
          }))
        });
      };
      BigWin2.prototype.reset = function(all) {
        void 0 === all && (all = false);
        this.closeMaskButton.node.active = true;
        all && (this.closeMaskButton.interactable = true);
        this.particleSystem.clear();
        this.maxScaleXWin = 0;
        this.resolve = null;
        this.tweenNode.stopAllActions();
        this.updateWins = false;
        this.winsLabel.node.scale = 1;
      };
      BigWin2.prototype.onCloseClick = function() {
        this.done();
      };
      BigWin2.prototype.play = function(data) {
        var _this = this;
        this.reset(true);
        this.data = data;
        var p = new Promise(function(resolve) {
          _this.resolve = resolve;
        });
        NodeTween_1.applyNodeTween({
          node: this.node,
          action: cc.fadeIn(1)
        });
        this.particleSystem.shoot();
        this.delta = 0;
        this.levelIndex = -1;
        this.spineNode.scale = 0;
        var d = this.calculate(data.totalBet, data.totalWins);
        this.totalSec = d.totalSec;
        this.maxScaleXWin = d.maxScaleXWin;
        var arr = [];
        arr.push([ cc.place(0, 0), cc.callFunc(function() {
          _this.updateWins = true;
        }) ]);
        d.arr.forEach(function(x, i) {
          x.levelUp && arr.push([ cc.callFunc(_this.levelUp.bind(_this, "")) ]);
          arr.push([ cc.moveTo(x.sec, x.wins, 0) ]);
        });
        arr.push([ cc.callFunc(this.done, this) ]);
        Audio_1.audioSwitchBGM("M300002_award_bgm", 1);
        Audio_1.audioPlay("S300001_award_count", {
          loop: true
        });
        NodeTween_1.nodeTweenToPromise({
          node: this.tweenNode,
          action: cc.sequence(Utils_1.flattenDeep(arr))
        });
        return p;
      };
      BigWin2.prototype.levelUp = function(nextLevel) {
        return __awaiter(this, void 0, void 0, function() {
          var levelIndex, level, nextLevelIndex, scales, sn;
          var _a;
          return __generator(this, function(_b) {
            switch (_b.label) {
             case 0:
              levelIndex = this.levelIndex;
              level = BigWinBase_1.BIG_WIN_LEVELS[this.levelIndex] || BigWinBase_1.BIG_WIN_LEVEL.NONE;
              nextLevel = nextLevel || BigWinBase_1.BIG_WIN_LEVELS[this.levelIndex + 1];
              nextLevelIndex = BigWinBase_1.getBigWinLevelIndex(nextLevel);
              if (!nextLevel) return [ 2 ];
              this.levelIndex = nextLevelIndex;
              return [ 4, NodeTween_1.nodeTweenToPromise({
                node: this.spineUniformNode,
                action: cc.scaleTo(.2, 0, 0)
              }) ];

             case 1:
              _b.sent();
              scales = [ 1.85, 1.65, 1.15 + .2, 1 ];
              this.spineUniformNode.scale = 1.4 * scales[nextLevelIndex];
              PromiseManager_1.spSkeletonSetAnimation(this.xWinBgSkeleton, [ "ani_" + nextLevel + "_star_1", "ani_" + nextLevel + "_star_2" ], true);
              PromiseManager_1.spSkeletonSetAnimation(this.xWinSkeleton, [ "ani_" + nextLevel, "pic_" + nextLevel ], true);
              sn = (_a = {}, _a[BigWinBase_1.BIG_WIN_LEVEL.BIG] = "S300002_award_BIG", _a[BigWinBase_1.BIG_WIN_LEVEL.SUPER] = "S300003_award_SUPER", 
              _a[BigWinBase_1.BIG_WIN_LEVEL.EPIC] = "S300004_award_EPIC", _a[BigWinBase_1.BIG_WIN_LEVEL.MEGA] = "S300005_award_MEGA", 
              _a)[nextLevel];
              Audio_1.audioPlay(sn);
              return [ 2 ];
            }
          });
        });
      };
      BigWin2.prototype.update = function(dt) {
        if (this.updateWins) {
          this.delta += dt;
          var wins = this.tweenNode.x;
          this.winsLabel.string = Balance_1.fixThousandth3("" + wins);
          this.spineNode.scale = cc.misc.lerp(BigWinBase_1.xWinMinScale, this.maxScaleXWin, cc.misc.clampf(this.delta / this.totalSec, 0, 1));
        }
      };
      __decorate([ property(ParticleSystemBase_1.default) ], BigWin2.prototype, "particleSystem", void 0);
      __decorate([ property(sp.Skeleton) ], BigWin2.prototype, "xWinBgSkeleton", void 0);
      __decorate([ property(sp.Skeleton) ], BigWin2.prototype, "xWinSkeleton", void 0);
      __decorate([ property(cc.Label) ], BigWin2.prototype, "winsLabel", void 0);
      __decorate([ property(cc.Node) ], BigWin2.prototype, "tweenNode", void 0);
      __decorate([ property(cc.Node) ], BigWin2.prototype, "spineNode", void 0);
      __decorate([ property(cc.Node) ], BigWin2.prototype, "spineUniformNode", void 0);
      __decorate([ property(cc.Button) ], BigWin2.prototype, "closeMaskButton", void 0);
      BigWin2 = __decorate([ ccclass ], BigWin2);
      return BigWin2;
    }(BigWinBase_1.default);
    exports.default = BigWin2;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../component/Audio": "Audio",
    "../component/SpSkeletonHack": "SpSkeletonHack",
    "../data/KeyStr": "KeyStr",
    "../data/Mark": "Mark",
    "../data/NodeTween": "NodeTween",
    "../particle/ParticleSystemBase": "ParticleSystemBase",
    "../ui/BigWinBase": "BigWinBase",
    "../utils/Balance": "Balance",
    "../utils/Utils": "Utils",
    "./PromiseManager": "PromiseManager",
    "./ResourcesLoader": "ResourcesLoader"
  } ],
  BigWin3: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "13f5awlBIxKMZSiPBKb92J3", "BigWin3");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Audio_1 = require("../component/Audio");
    var SpSkeletonHack_1 = require("../component/SpSkeletonHack");
    var KeyStr_1 = require("../data/KeyStr");
    var Mark_1 = require("../data/Mark");
    var NodeTween_1 = require("../data/NodeTween");
    var LibGlobal_1 = require("../LibGlobal");
    var ParticleSystemBase_1 = require("../particle/ParticleSystemBase");
    var BigWinBase_1 = require("../ui/BigWinBase");
    var Balance_1 = require("../utils/Balance");
    var Utils_1 = require("../utils/Utils");
    var PromiseManager_1 = require("./PromiseManager");
    var ResourcesLoader_1 = require("./ResourcesLoader");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var BigWin3 = function(_super) {
      __extends(BigWin3, _super);
      function BigWin3() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.particleSystem = null;
        _this.xWinBgSkeleton = null;
        _this.xWinSkeleton = null;
        _this.levelIndex = -1;
        _this.updateWins = false;
        _this.winsLabel = null;
        _this.tweenNode = null;
        _this.spineNode = null;
        _this.spineUniformNode = null;
        _this.closeMaskButton = null;
        _this.data = null;
        _this.maxScaleXWin = 0;
        _this.totalSec = 0;
        _this.delta = 0;
        return _this;
      }
      BigWin3.prototype.preload = function() {
        var _this = this;
        var l = ResourcesLoader_1.getResourcesLoader();
        var lp = l.loadUrls([ "bundle/game/bigwin3" ]);
        var p = lp.then(function(assets) {
          var marks = _this.getComponentsInChildren(Mark_1.default);
          marks.forEach(function(mark) {
            var node = mark.node;
            var data = mark.data;
            if (data.startsWith("sp")) {
              var skeletonData = assets.find(function(d) {
                return d instanceof sp.SkeletonData;
              });
              var skeleton = SpSkeletonHack_1.genSkeleton(skeletonData, sp.Skeleton.AnimationCacheMode.REALTIME, void 0, node);
              skeleton.loop = true;
              skeleton.timeScale = 1;
              skeleton.premultipliedAlpha = false;
              "sp1" === data ? _this.xWinSkeleton = skeleton : "sp2" === data && (_this.xWinBgSkeleton = skeleton);
            } else if ("fnt" === data) {
              var f = KeyStr_1.findBitmapFont([ {
                key: "3000_win_word_num_3",
                str: ""
              } ], l.keyBitmapFonts);
              var label = node.getComponent(cc.Label);
              label.font = f.bitmapFont;
              -1 !== label._bmFontOriginalSize && (label.lineHeight = label._bmFontOriginalSize);
            } else if ("anim" === data) {
              var frames = Utils_1.range2(1, 8).map(function(i) {
                return KeyStr_1.findFrame([ {
                  key: "3000_win_money",
                  str: "money_" + i
                } ], l.keyAtlass).frame;
              });
              var clip = cc.AnimationClip.createWithSpriteFrames(frames, 30);
              clip.wrapMode = cc.WrapMode.Loop;
              clip.name = "coin";
              var anim = node.getComponent(cc.Animation);
              anim.addClip(clip);
              anim.defaultClip = clip;
              anim.playOnLoad = true;
            } else {
              var _a = data.split("."), key = _a[0], str = _a[1];
              var f = KeyStr_1.findFrame([ {
                key: key,
                str: str
              } ], l.keyAtlass);
              var sprite = node.getComponent(cc.Sprite);
              sprite.spriteFrame = f.frame;
            }
          });
        });
        return p;
      };
      BigWin3.prototype.onLoad = function() {
        LibGlobal_1.globalDebugNNN(this);
        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);
        this.particleSystem.loadJson([ {
          key: "spriteFrameTime",
          value: 0
        }, {
          key: "frezzeMode",
          value: 0
        }, {
          key: "particleCount",
          value: 139
        }, {
          key: "playOnLoad",
          value: false
        }, {
          key: "autoRemoveOnFinish",
          value: false
        }, {
          key: "delayTime",
          value: 0
        }, {
          key: "totalParticles",
          value: 200
        }, {
          key: "duration",
          value: -1
        }, {
          key: "emissionRate",
          value: 30
        }, {
          key: "life",
          value: 6
        }, {
          key: "lifeVar",
          value: 0
        }, {
          key: "startColor",
          value: {
            r: 255,
            g: 255,
            b: 255,
            a: 255
          }
        }, {
          key: "startColorVar",
          value: {
            r: 0,
            g: 0,
            b: 0,
            a: 0
          }
        }, {
          key: "endColor",
          value: {
            r: 255,
            g: 255,
            b: 255,
            a: 255
          }
        }, {
          key: "endColorVar",
          value: {
            r: 0,
            g: 0,
            b: 0,
            a: 0
          }
        }, {
          key: "angle",
          value: 50
        }, {
          key: "angleVar",
          value: 360
        }, {
          key: "startSize",
          value: .2
        }, {
          key: "startSizeVar",
          value: .1
        }, {
          key: "endSize",
          value: 1.2
        }, {
          key: "endSizeVar",
          value: 1
        }, {
          key: "startSpin",
          value: 0
        }, {
          key: "startSpinVar",
          value: 0
        }, {
          key: "endSpin",
          value: 1e3
        }, {
          key: "endSpinVar",
          value: 0
        }, {
          key: "sourcePos",
          value: {
            x: 0,
            y: 0
          }
        }, {
          key: "posVar",
          value: {
            x: 0,
            y: 0
          }
        }, {
          key: "emitterMode",
          value: 0
        }, {
          key: "gravity",
          value: {
            x: 0,
            y: 0
          }
        }, {
          key: "speed",
          value: 380
        }, {
          key: "speedVar",
          value: 0
        }, {
          key: "tangentialAccel",
          value: 0
        }, {
          key: "tangentialAccelVar",
          value: 0
        }, {
          key: "radialAccel",
          value: 0
        }, {
          key: "radialAccelVar",
          value: 0
        }, {
          key: "rotationIsDir",
          value: false
        }, {
          key: "startRadius",
          value: 0
        }, {
          key: "startRadiusVar",
          value: 0
        }, {
          key: "endRadius",
          value: 0
        }, {
          key: "endRadiusVar",
          value: 0
        }, {
          key: "rotatePerS",
          value: 0
        }, {
          key: "rotatePerSVar",
          value: 0
        } ]);
      };
      BigWin3.prototype.onKeyDown = function(event) {
        if (event.keyCode === cc.macro.KEY.space || event.keyCode === cc.macro.KEY.enter) {
          Utils_1.log("space");
          this.resolve && this.closeMaskButton.node.active && this.onCloseClick();
        }
      };
      BigWin3.prototype.done = function() {
        var _this = this;
        this.node.opacity = 255;
        this.tweenNode.stopAllActions();
        this.updateWins = false;
        this.winsLabel.string = Balance_1.balanceThousandth(this.data.totalWins);
        this.spineNode.scale = this.maxScaleXWin;
        this.closeMaskButton.interactable = false;
        this.closeMaskButton.node.active = false;
        var level = BigWinBase_1.getBigWinLevel(this.data.totalBet, this.data.totalWins);
        var levelIndex = BigWinBase_1.getBigWinLevelIndex(level);
        this.levelIndex !== levelIndex && this.levelUp(level);
        Audio_1.audioStopLoop("S300001_award_count");
        Audio_1.audioPlay("S300008_award_finish");
        return NodeTween_1.applyNodeTween({
          node: this.node,
          action: cc.sequence(cc.delayTime(2), cc.fadeOut(2), cc.callFunc(function() {
            _this.resolve && _this.resolve();
            _this.reset();
            Audio_1.audioSwitchBGM("");
            _this.node.active = false;
            _this.doneHandler && _this.doneHandler.emit([]);
          }))
        });
      };
      BigWin3.prototype.reset = function(all) {
        void 0 === all && (all = false);
        this.closeMaskButton.node.active = true;
        all && (this.closeMaskButton.interactable = true);
        this.particleSystem.clear();
        this.maxScaleXWin = 0;
        this.resolve = null;
        this.tweenNode.stopAllActions();
        this.updateWins = false;
        this.winsLabel.node.scale = 1;
      };
      BigWin3.prototype.onCloseClick = function() {
        this.done();
      };
      BigWin3.prototype.play = function(data) {
        var _this = this;
        this.reset(true);
        this.data = data;
        var p = new Promise(function(resolve) {
          _this.resolve = resolve;
        });
        NodeTween_1.applyNodeTween({
          node: this.node,
          action: cc.fadeIn(1)
        });
        this.particleSystem.shoot();
        this.delta = 0;
        this.levelIndex = -1;
        this.spineNode.scale = 0;
        var d = this.calculate(data.totalBet, data.totalWins);
        this.totalSec = d.totalSec;
        this.maxScaleXWin = d.maxScaleXWin;
        var arr = [];
        arr.push([ cc.place(0, 0), cc.callFunc(function() {
          _this.updateWins = true;
        }) ]);
        d.arr.forEach(function(x, i) {
          x.levelUp && arr.push([ cc.callFunc(_this.levelUp.bind(_this, "")) ]);
          arr.push([ cc.moveTo(x.sec, x.wins, 0) ]);
        });
        arr.push([ cc.callFunc(this.done, this) ]);
        Audio_1.audioSwitchBGM("M300002_award_bgm", 1);
        Audio_1.audioPlay("S300001_award_count", {
          loop: true
        });
        NodeTween_1.nodeTweenToPromise({
          node: this.tweenNode,
          action: cc.sequence(Utils_1.flattenDeep(arr))
        });
        return p;
      };
      BigWin3.prototype.levelUp = function(nextLevel) {
        return __awaiter(this, void 0, void 0, function() {
          var levelIndex, level, nextLevelIndex, scales, sn;
          var _a;
          return __generator(this, function(_b) {
            switch (_b.label) {
             case 0:
              levelIndex = this.levelIndex;
              level = BigWinBase_1.BIG_WIN_LEVELS[this.levelIndex] || BigWinBase_1.BIG_WIN_LEVEL.NONE;
              nextLevel = nextLevel || BigWinBase_1.BIG_WIN_LEVELS[this.levelIndex + 1];
              nextLevelIndex = BigWinBase_1.getBigWinLevelIndex(nextLevel);
              if (!nextLevel) return [ 2 ];
              this.levelIndex = nextLevelIndex;
              return [ 4, NodeTween_1.nodeTweenToPromise({
                node: this.spineUniformNode,
                action: cc.scaleTo(.2, 0, 0)
              }) ];

             case 1:
              _b.sent();
              scales = [ 1.85, 1.65, 1.15 + .2, 1 ];
              this.spineUniformNode.scale = 1.4 * scales[nextLevelIndex];
              PromiseManager_1.spSkeletonSetAnimation(this.xWinBgSkeleton, [ "ani_" + nextLevel + "_star_1", "ani_" + nextLevel + "_star_2" ], true);
              PromiseManager_1.spSkeletonSetAnimation(this.xWinSkeleton, [ "ani_" + nextLevel, "pic_" + nextLevel ], true);
              sn = (_a = {}, _a[BigWinBase_1.BIG_WIN_LEVEL.BIG] = "S300002_award_BIG", _a[BigWinBase_1.BIG_WIN_LEVEL.SUPER] = "S300003_award_SUPER", 
              _a[BigWinBase_1.BIG_WIN_LEVEL.EPIC] = "S300004_award_EPIC", _a[BigWinBase_1.BIG_WIN_LEVEL.MEGA] = "S300005_award_MEGA", 
              _a)[nextLevel];
              Audio_1.audioPlay(sn);
              return [ 2 ];
            }
          });
        });
      };
      BigWin3.prototype.update = function(dt) {
        if (this.updateWins) {
          this.delta += dt;
          var wins = this.tweenNode.x;
          this.winsLabel.string = Balance_1.fixThousandth3("" + wins);
          this.spineNode.scale = cc.misc.lerp(BigWinBase_1.xWinMinScale, this.maxScaleXWin, cc.misc.clampf(this.delta / this.totalSec, 0, 1));
        }
      };
      __decorate([ property(ParticleSystemBase_1.default) ], BigWin3.prototype, "particleSystem", void 0);
      __decorate([ property(sp.Skeleton) ], BigWin3.prototype, "xWinBgSkeleton", void 0);
      __decorate([ property(sp.Skeleton) ], BigWin3.prototype, "xWinSkeleton", void 0);
      __decorate([ property(cc.Label) ], BigWin3.prototype, "winsLabel", void 0);
      __decorate([ property(cc.Node) ], BigWin3.prototype, "tweenNode", void 0);
      __decorate([ property(cc.Node) ], BigWin3.prototype, "spineNode", void 0);
      __decorate([ property(cc.Node) ], BigWin3.prototype, "spineUniformNode", void 0);
      __decorate([ property(cc.Button) ], BigWin3.prototype, "closeMaskButton", void 0);
      BigWin3 = __decorate([ ccclass ], BigWin3);
      return BigWin3;
    }(BigWinBase_1.default);
    exports.default = BigWin3;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../component/Audio": "Audio",
    "../component/SpSkeletonHack": "SpSkeletonHack",
    "../data/KeyStr": "KeyStr",
    "../data/Mark": "Mark",
    "../data/NodeTween": "NodeTween",
    "../particle/ParticleSystemBase": "ParticleSystemBase",
    "../ui/BigWinBase": "BigWinBase",
    "../utils/Balance": "Balance",
    "../utils/Utils": "Utils",
    "./PromiseManager": "PromiseManager",
    "./ResourcesLoader": "ResourcesLoader"
  } ],
  BigWinBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "bd8eaioyOtBGYaZ78DbzmWX", "BigWinBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var _a;
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.BigWinData = exports.getBigWinLevel = exports.getBigWinLevelIndex = exports.getTotalSec = exports.setBigWinConfig = exports.bigWinConfig = exports.xWinMinScale = exports.BIG_WIN_LEVELS = exports.BigWinConfig = exports.BIG_WIN_LEVEL = exports.bigWinAudioPreload = void 0;
    var Audio_1 = require("../component/Audio");
    var Balance_1 = require("../utils/Balance");
    var Utils_1 = require("../utils/Utils");
    var _b = cc._decorator, ccclass = _b.ccclass, property = _b.property;
    function bigWinAudioPreload() {
      Audio_1.audioPreload("M300001_award_bgm");
      Audio_1.audioPreload("S300001_award_count");
      Audio_1.audioPreload("S300002_award_BIG");
      Audio_1.audioPreload("S300003_award_SUPER");
      Audio_1.audioPreload("S300004_award_EPIC");
      Audio_1.audioPreload("S300005_award_MEGA");
      Audio_1.audioPreload("S300006_firework_epic2");
      Audio_1.audioPreload("S300007_firework_mega2");
      Audio_1.audioPreload("S300008_award_finish");
    }
    exports.bigWinAudioPreload = bigWinAudioPreload;
    var BIG_WIN_LEVEL;
    (function(BIG_WIN_LEVEL) {
      BIG_WIN_LEVEL["BIG"] = "bigwin";
      BIG_WIN_LEVEL["SUPER"] = "superwin";
      BIG_WIN_LEVEL["EPIC"] = "epicwin";
      BIG_WIN_LEVEL["MEGA"] = "megawin";
      BIG_WIN_LEVEL["NONE"] = "";
    })(BIG_WIN_LEVEL = exports.BIG_WIN_LEVEL || (exports.BIG_WIN_LEVEL = {}));
    var BigWinConfig = function() {
      function BigWinConfig(sec, times, scaleXWin, coinsPerDt, coinSpeed) {
        this.sec = sec;
        this.times = times;
        this.scaleXWin = scaleXWin;
        this.coinsPerDt = coinsPerDt;
        this.coinSpeed = coinSpeed;
      }
      return BigWinConfig;
    }();
    exports.BigWinConfig = BigWinConfig;
    exports.BIG_WIN_LEVELS = [ BIG_WIN_LEVEL.BIG, BIG_WIN_LEVEL.SUPER, BIG_WIN_LEVEL.EPIC, BIG_WIN_LEVEL.MEGA ];
    var coinSpeedBase = 250;
    exports.xWinMinScale = .5;
    exports.bigWinConfig = (_a = {}, _a[BIG_WIN_LEVEL.BIG] = {
      times: 10,
      sec: 3,
      scaleXWin: .55,
      coinsPerDt: 10,
      coinSpeed: 1 * coinSpeedBase
    }, _a[BIG_WIN_LEVEL.SUPER] = {
      times: 20,
      sec: 3,
      scaleXWin: .62,
      coinsPerDt: 20,
      coinSpeed: 1.2 * coinSpeedBase
    }, _a[BIG_WIN_LEVEL.EPIC] = {
      times: 50,
      sec: 3,
      scaleXWin: .8,
      coinsPerDt: 40,
      coinSpeed: 2.5 * coinSpeedBase
    }, _a[BIG_WIN_LEVEL.MEGA] = {
      times: 100,
      sec: 5,
      scaleXWin: 1,
      coinsPerDt: 80,
      coinSpeed: 4.2 * coinSpeedBase
    }, _a);
    function setBigWinConfig(config) {
      exports.bigWinConfig = config;
    }
    exports.setBigWinConfig = setBigWinConfig;
    function getTotalSec(lv) {
      return [ 3, 3, 3, 5 ].slice(0, exports.BIG_WIN_LEVELS.indexOf(lv) + 1).reduce(Utils_1.sumReducer, 0);
    }
    exports.getTotalSec = getTotalSec;
    function getBigWinLevelIndex(lv) {
      return exports.BIG_WIN_LEVELS.indexOf(lv);
    }
    exports.getBigWinLevelIndex = getBigWinLevelIndex;
    function getBigWinLevel(totalBet, totalWin) {
      var ary = exports.BIG_WIN_LEVELS.slice().reverse();
      var times = totalWin / totalBet;
      for (var i = 0; i < ary.length; i += 1) {
        var lv = ary[i];
        var config = exports.bigWinConfig[lv];
        if (times >= config.times) return lv;
      }
      return BIG_WIN_LEVEL.NONE;
    }
    exports.getBigWinLevel = getBigWinLevel;
    var BigWinData = function() {
      function BigWinData(totalBet, totalWins) {
        void 0 === totalBet && (totalBet = 1);
        void 0 === totalWins && (totalWins = 1);
        this.totalBet = totalBet;
        this.totalWins = totalWins;
      }
      return BigWinData;
    }();
    exports.BigWinData = BigWinData;
    var BigWinBase = function(_super) {
      __extends(BigWinBase, _super);
      function BigWinBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.canvasWidget = [];
        _this.doneHandler = null;
        _this.data = null;
        return _this;
      }
      BigWinBase.prototype.setCanvasWidgetTarget = function(target) {
        this.canvasWidget.forEach(Utils_1.nodeProperty("target", target));
      };
      BigWinBase.prototype.calculate = function(totalBet, totalWins) {
        var level = getBigWinLevel(totalBet, totalWins);
        var totalBetReal = Balance_1.balanceNumber(totalBet);
        var times = totalWins / totalBet;
        var totalSec = getTotalSec(level);
        var weights = [ 1.5 ];
        var winss = [ totalBetReal * exports.bigWinConfig[BIG_WIN_LEVEL.BIG].times ];
        var maxScaleXWin = 0;
        for (var i = 1; i <= exports.BIG_WIN_LEVELS.length; i += 1) {
          var lv = exports.BIG_WIN_LEVELS[i];
          var config = exports.bigWinConfig[lv] || exports.bigWinConfig[BIG_WIN_LEVEL.MEGA];
          if (!(i !== exports.BIG_WIN_LEVELS.length && times >= config.times)) {
            maxScaleXWin = config.scaleXWin;
            var prevConfig = exports.bigWinConfig[exports.BIG_WIN_LEVELS[i - 1]];
            var w = Utils_1.lowerThen(5, Utils_1.biggerThen(.1, (times - prevConfig.times) / prevConfig.times * prevConfig.sec));
            weights.push(w);
            winss.push(Balance_1.balanceNumber(totalWins));
            break;
          }
          weights.push(config.sec);
          winss.push(totalBetReal * config.times);
        }
        var totalWeight = weights.reduce(Utils_1.sumReducer, 0);
        var arr = Utils_1.loop2ArrayWithMinLength(winss, weights, function(wins, weight, idx) {
          var levelUp = 1 !== idx;
          var sec = weight / totalWeight * totalSec;
          Utils_1.log(sec, wins);
          return {
            weight: weight,
            levelUp: levelUp,
            sec: sec,
            wins: wins
          };
        });
        return {
          totalSec: totalSec,
          totalWeight: totalWeight,
          maxScaleXWin: maxScaleXWin,
          arr: arr
        };
      };
      __decorate([ property([ cc.Widget ]) ], BigWinBase.prototype, "canvasWidget", void 0);
      __decorate([ property(cc.Component.EventHandler) ], BigWinBase.prototype, "doneHandler", void 0);
      BigWinBase = __decorate([ ccclass ], BigWinBase);
      return BigWinBase;
    }(cc.Component);
    exports.default = BigWinBase;
    cc._RF.pop();
  }, {
    "../component/Audio": "Audio",
    "../utils/Balance": "Balance",
    "../utils/Utils": "Utils"
  } ],
  BigWin: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7fe8dc7SuBOrLzGHgj4YkLp", "BigWin");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Audio_1 = require("../component/Audio");
    var SpSkeletonHack_1 = require("../component/SpSkeletonHack");
    var KeyStr_1 = require("../data/KeyStr");
    var Mark_1 = require("../data/Mark");
    var NodeTween_1 = require("../data/NodeTween");
    var LibGlobal_1 = require("../LibGlobal");
    var BigWinBase_1 = require("../ui/BigWinBase");
    var Balance_1 = require("../utils/Balance");
    var Utils_1 = require("../utils/Utils");
    var PromiseManager_1 = require("./PromiseManager");
    var ResourcesLoader_1 = require("./ResourcesLoader");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var BigWin = function(_super) {
      __extends(BigWin, _super);
      function BigWin() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.coinTemplate = null;
        _this.layerCoin = null;
        _this.coinNodes = [];
        _this.fireworkSkeleton = null;
        _this.skeleton = null;
        _this.levelNodes = [];
        _this.levelIndex = -1;
        _this.updateWins = false;
        _this.winsLabel = null;
        _this.fakeNode = null;
        _this.levelTextAnimation = null;
        _this.xwin = null;
        _this.closeMaskButton = null;
        _this.data = null;
        _this.maxScaleXWin = 0;
        _this.totalSec = 0;
        _this.delta = 0;
        _this.coinsDelta = 0;
        _this.coinTemplateSize = null;
        _this.nodePool = new cc.NodePool();
        return _this;
      }
      BigWin.prototype.preload = function() {
        var _this = this;
        var l = ResourcesLoader_1.getResourcesLoader();
        var lp = l.loadUrls([ "bundle/game/bigwin" ]);
        var p = lp.then(function(assets) {
          var marks = _this.getComponentsInChildren(Mark_1.default);
          marks.forEach(function(mark) {
            var node = mark.node;
            var data = mark.data;
            if (data.startsWith("sp")) {
              var skeletonData = assets.find(function(d) {
                return d instanceof sp.SkeletonData;
              });
              var skeleton = SpSkeletonHack_1.genSkeleton(skeletonData, sp.Skeleton.AnimationCacheMode.REALTIME, void 0, node);
              skeleton.loop = true;
              skeleton.timeScale = 1;
              "sp1" === data ? _this.fireworkSkeleton = skeleton : "sp2" === data && (_this.skeleton = skeleton);
            } else if ("fnt" === data) {
              var f = KeyStr_1.findBitmapFont([ {
                key: "3000_BW_EFFECT2",
                str: ""
              } ], l.keyBitmapFonts);
              var label = node.getComponent(cc.Label);
              label.font = f.bitmapFont;
              -1 !== label._bmFontOriginalSize && (label.lineHeight = label._bmFontOriginalSize);
            } else if ("anim" === data) {
              var frames = Utils_1.range2(0, 15).map(function(i) {
                return KeyStr_1.findFrame([ {
                  key: "3000_BW_EFFECT1",
                  str: "COIN_000" + LibGlobal_1.pad2(i)
                } ], l.keyAtlass).frame;
              });
              var clip = cc.AnimationClip.createWithSpriteFrames(frames, 30);
              clip.wrapMode = cc.WrapMode.Loop;
              clip.name = "coin";
              var anim = node.getComponent(cc.Animation);
              anim.addClip(clip);
              anim.defaultClip = clip;
              anim.playOnLoad = true;
            } else {
              var _a = data.split("."), key = _a[0], str = _a[1];
              var f = KeyStr_1.findFrame([ {
                key: key,
                str: str
              } ], l.keyAtlass);
              var sprite = node.getComponent(cc.Sprite);
              sprite.spriteFrame = f.frame;
            }
          });
        });
        return p;
      };
      BigWin.prototype.onLoad = function() {
        LibGlobal_1.globalDebugNNN(this);
        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);
      };
      BigWin.prototype.onKeyDown = function(event) {
        if (event.keyCode === cc.macro.KEY.space || event.keyCode === cc.macro.KEY.enter) {
          Utils_1.log("space");
          this.resolve && this.closeMaskButton.node.active && this.onCloseClick();
        }
      };
      BigWin.prototype.getCoinNode = function() {
        this.nodePool.size() || this.nodePool.put(cc.instantiate(this.coinTemplate));
        var node = this.nodePool.get();
        return node;
      };
      BigWin.prototype.recycleCoinNode = function(node) {
        Utils_1.arraySplice(this.coinNodes, node);
        this.nodePool.put(node);
      };
      BigWin.prototype.done = function() {
        var _this = this;
        this.node.opacity = 255;
        this.fakeNode.stopAllActions();
        this.setUpdateWins(false);
        this.winsLabel.string = Balance_1.balanceThousandth(this.data.totalWins);
        this.xwin.scale = this.maxScaleXWin;
        this.closeMaskButton.interactable = false;
        this.closeMaskButton.node.active = false;
        var level = BigWinBase_1.getBigWinLevel(this.data.totalBet, this.data.totalWins);
        var levelIndex = BigWinBase_1.getBigWinLevelIndex(level);
        this.levelIndex !== levelIndex && this.levelUp(level);
        Audio_1.audioStopLoop("S300001_award_count");
        Audio_1.audioPlay("S300008_award_finish");
        return NodeTween_1.applyNodeTween({
          node: this.node,
          action: cc.sequence(cc.delayTime(2), cc.fadeOut(2), cc.callFunc(function() {
            _this.resolve && _this.resolve();
            _this.reset();
            Audio_1.audioStopLoop("S300006_firework_epic2");
            Audio_1.audioStopLoop("S300007_firework_mega2");
            Audio_1.audioSwitchBGM("");
            _this.node.active = false;
            _this.doneHandler && _this.doneHandler.emit([]);
          }))
        });
      };
      BigWin.prototype.reset = function(all) {
        void 0 === all && (all = false);
        this.closeMaskButton.node.active = true;
        this.coinTemplateSize = this.coinTemplate.getContentSize();
        all && (this.closeMaskButton.interactable = true);
        this.maxScaleXWin = 0;
        this.coinsDelta = 0;
        this.resolve = null;
        while (this.layerCoin.childrenCount) this.recycleCoinNode(this.layerCoin.children[0]);
        this.coinNodes.length = 0;
        this.delta = 0;
        this.fakeNode.stopAllActions();
        this.setUpdateWins(false);
        this.winsLabel.node.scale = 1;
        this.levelNodes.forEach(Utils_1.nodeProperty("scale", 1));
      };
      BigWin.prototype.onCloseClick = function() {
        this.done();
      };
      BigWin.prototype.play = function(data) {
        var _this = this;
        this.reset(true);
        var p = new Promise(function(resolve) {
          _this.resolve = resolve;
        });
        NodeTween_1.applyNodeTween({
          node: this.node,
          action: cc.fadeIn(1)
        });
        this.data = data;
        this.levelIndex = -1;
        var d = this.calculate(data.totalBet, data.totalWins);
        this.totalSec = d.totalSec;
        this.maxScaleXWin = d.maxScaleXWin;
        var ary = [];
        ary.push([ cc.place(0, 0), cc.callFunc(this.setUpdateWins.bind(this, true)) ]);
        d.arr.forEach(function(x) {
          x.levelUp && ary.push([ cc.callFunc(_this.levelUp.bind(_this, "")) ]);
          ary.push([ cc.moveTo(x.sec, x.wins, 0) ]);
        });
        ary.push([ cc.callFunc(this.done, this) ]);
        Audio_1.audioSwitchBGM("M300001_award_bgm", 1);
        Audio_1.audioPlay("S300001_award_count", {
          loop: true
        });
        NodeTween_1.nodeTweenToPromise({
          node: this.fakeNode,
          action: cc.sequence(Utils_1.flattenDeep(ary))
        });
        return p;
      };
      BigWin.prototype.onLevelUpZoomInDone = function() {
        this.levelNodes.forEach(Utils_1.nodeActive(false));
        this.levelNodes[this.levelIndex].active = true;
      };
      BigWin.prototype.onLevelUpZoomOutDone = function() {};
      BigWin.prototype.levelUp = function(level) {
        var _a;
        var prevLevel = BigWinBase_1.BIG_WIN_LEVELS[this.levelIndex] || BigWinBase_1.BIG_WIN_LEVEL.NONE;
        var prevLevelIndex = this.levelIndex;
        level = level || BigWinBase_1.BIG_WIN_LEVELS[this.levelIndex + 1];
        var levelIndex = BigWinBase_1.getBigWinLevelIndex(level);
        if (!level) return;
        var key = [ level, "glow" ].join("_");
        var keyLoop = [ level, "glow", "loop" ].join("_");
        this.levelIndex = levelIndex;
        this.levelTextAnimation.play();
        this.levelNodes.forEach(Utils_1.nodeActive(false));
        !isNaN(prevLevelIndex) && prevLevelIndex >= 0 && (this.levelNodes[prevLevelIndex].active = true);
        Utils_1.log(key, keyLoop);
        this.skeleton.setAnimation(0, key, false);
        PromiseManager_1.spSkeletonApply(this.skeleton);
        this.skeleton.addAnimation(0, keyLoop, true);
        this.fireworkSkeleton.setMix("epicwin_fireworks_loop", "megawin_fireworks_loop", .1);
        this.fireworkSkeleton.setMix("megawin_fireworks_loop", "epicwin_fireworks_loop", .1);
        if (level === BigWinBase_1.BIG_WIN_LEVEL.EPIC || level === BigWinBase_1.BIG_WIN_LEVEL.MEGA) {
          var key2 = [ level, "fireworks", "loop" ].join("_");
          this.fireworkSkeleton.node.opacity = 255;
          this.fireworkSkeleton.setAnimation(0, key2, true);
          PromiseManager_1.spSkeletonApply(this.fireworkSkeleton);
          level === BigWinBase_1.BIG_WIN_LEVEL.EPIC ? Audio_1.audioPlay("S300006_firework_epic2", {
            loop: true
          }) : level === BigWinBase_1.BIG_WIN_LEVEL.MEGA && Audio_1.audioPlay("S300007_firework_mega2", {
            loop: true
          });
        } else {
          Audio_1.audioStopLoop("S300006_firework_epic2");
          Audio_1.audioStopLoop("S300007_firework_mega2");
          this.fireworkSkeleton.node.opacity = 0;
        }
        this.updateCoinNodesVXY();
        var sn = (_a = {}, _a[BigWinBase_1.BIG_WIN_LEVEL.BIG] = "S300002_award_BIG", _a[BigWinBase_1.BIG_WIN_LEVEL.EPIC] = "S300004_award_EPIC", 
        _a[BigWinBase_1.BIG_WIN_LEVEL.MEGA] = "S300005_award_MEGA", _a[BigWinBase_1.BIG_WIN_LEVEL.SUPER] = "S300003_award_SUPER", 
        _a)[level];
        Audio_1.audioPlay(sn);
      };
      BigWin.prototype.setUpdateWins = function(able) {
        this.updateWins = able;
      };
      BigWin.prototype.update = function(dt) {
        if (this.updateWins) {
          this.delta += dt;
          var wins = this.fakeNode.x;
          this.winsLabel.string = Balance_1.fixThousandth3("" + wins);
          this.xwin.scale = cc.misc.lerp(BigWinBase_1.xWinMinScale, this.maxScaleXWin, cc.misc.clampf(this.delta / this.totalSec, 0, 1));
        }
      };
      BigWin.prototype.updateCoinNodesVXY = function() {
        var config = BigWinBase_1.bigWinConfig[BigWinBase_1.BIG_WIN_LEVELS[this.levelIndex]];
        var speed = config.coinSpeed;
        this.coinNodes.forEach(function(node) {
          var randomRadians = node.randomRadians;
          var vec2 = new cc.Vec2(speed).rotate(randomRadians);
          node.vx = vec2.x;
          node.vy = vec2.y;
        });
      };
      BigWin.prototype.resetCoinNode = function(node, speed) {
        var randomRadians = cc.misc.degreesToRadians(Utils_1.random(360));
        var vec2 = new cc.Vec2(speed).rotate(randomRadians);
        node.active = true;
        node.randomRadians = randomRadians;
        node.scale = .2;
        node.x = 0;
        node.vx = vec2.x;
        node.y = 0;
        node.vy = vec2.y;
        node.angle = Utils_1.random(360);
        node.vrotation = Utils_1.random(90, 180);
      };
      BigWin.prototype.runCoinNode = function(node, dt) {
        var max = Math.max(Math.abs(node.x), Math.abs(node.y));
        var scale = cc.misc.lerp(.2, 1, cc.misc.clampf(max / 860, 0, 1));
        node.scale = scale;
        node.x += node.vx * dt;
        node.y += node.vy * dt;
        node.angle += node.vrotation * dt;
      };
      BigWin.prototype.lateUpdate = function(dt) {
        var _this = this;
        if (!this.resolve) return;
        var box = this.canvasWidget[0].node.getBoundingBox();
        box.width += this.coinTemplateSize.width;
        box.height += this.coinTemplateSize.height;
        this.coinNodes.forEach(function(node) {
          var p = node.getPosition();
          box.contains(p) ? _this.runCoinNode(node, dt) : _this.recycleCoinNode(node);
        });
        var config = BigWinBase_1.bigWinConfig[BigWinBase_1.BIG_WIN_LEVELS[this.levelIndex]];
        if (config) {
          var speed_1 = config.coinSpeed;
          var perDt = config.coinsPerDt;
          this.coinsDelta += dt * perDt;
          if (this.coinsDelta >= 1) {
            var count = Math.floor(this.coinsDelta);
            this.coinsDelta %= 1;
            Utils_1.range(count).forEach(function() {
              var node = _this.getCoinNode();
              var anim = node.getComponent(cc.Animation);
              anim.play("coin");
              _this.resetCoinNode(node, speed_1);
              _this.layerCoin.addChild(node);
              _this.coinNodes.push(node);
            });
          }
        }
      };
      __decorate([ property(cc.Node) ], BigWin.prototype, "coinTemplate", void 0);
      __decorate([ property(cc.Node) ], BigWin.prototype, "layerCoin", void 0);
      __decorate([ property(sp.Skeleton) ], BigWin.prototype, "fireworkSkeleton", void 0);
      __decorate([ property(sp.Skeleton) ], BigWin.prototype, "skeleton", void 0);
      __decorate([ property([ cc.Node ]) ], BigWin.prototype, "levelNodes", void 0);
      __decorate([ property(cc.Label) ], BigWin.prototype, "winsLabel", void 0);
      __decorate([ property(cc.Node) ], BigWin.prototype, "fakeNode", void 0);
      __decorate([ property(cc.Animation) ], BigWin.prototype, "levelTextAnimation", void 0);
      __decorate([ property(cc.Node) ], BigWin.prototype, "xwin", void 0);
      __decorate([ property(cc.Button) ], BigWin.prototype, "closeMaskButton", void 0);
      BigWin = __decorate([ ccclass ], BigWin);
      return BigWin;
    }(BigWinBase_1.default);
    exports.default = BigWin;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../component/Audio": "Audio",
    "../component/SpSkeletonHack": "SpSkeletonHack",
    "../data/KeyStr": "KeyStr",
    "../data/Mark": "Mark",
    "../data/NodeTween": "NodeTween",
    "../ui/BigWinBase": "BigWinBase",
    "../utils/Balance": "Balance",
    "../utils/Utils": "Utils",
    "./PromiseManager": "PromiseManager",
    "./ResourcesLoader": "ResourcesLoader"
  } ],
  BonusEventConfig: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "90248/cPotOCqzyUJODKqpG", "BonusEventConfig");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var BonusEventUI_1 = require("./BonusEventUI");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var BonusEventConfig = function(_super) {
      __extends(BonusEventConfig, _super);
      function BonusEventConfig() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.bonusNode = null;
        _this.bonusScale = 1;
        _this.infoPos = cc.v2(120, 0);
        return _this;
      }
      BonusEventConfig.prototype.start = function() {
        this.bonusEventUI = this.bonusNode.getComponent(BonusEventUI_1.default);
        this.bonusNode.scale = this.bonusScale;
        this.bonusEventUI.updateInfoBtnPos(this.infoPos.x, this.infoPos.y);
      };
      __decorate([ property(cc.Node) ], BonusEventConfig.prototype, "bonusNode", void 0);
      __decorate([ property(cc.Float) ], BonusEventConfig.prototype, "bonusScale", void 0);
      __decorate([ property(cc.Vec2) ], BonusEventConfig.prototype, "infoPos", void 0);
      BonusEventConfig = __decorate([ ccclass ], BonusEventConfig);
      return BonusEventConfig;
    }(cc.Component);
    exports.default = BonusEventConfig;
    cc._RF.pop();
  }, {
    "./BonusEventUI": "BonusEventUI"
  } ],
  BonusEventGlobal: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "3e775RBWt9EjLJxBs6qLxsK", "BonusEventGlobal");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.BonusIdleMessage = exports.GameIdleMessage = exports.bonusInfoOpen = exports.getBonusEventInfoCount = exports.getBonusEventCount = exports.getBonusSending = exports.setBonusSending = exports.getBonusChecking = exports.setBonusChecking = exports.getBonusIdle = exports.setBonusIdle = exports.getGameIdle = exports.setGameIdle = exports.getHasBonusEvent = exports.getBonusIsOpen = exports.setBonusIsOpen = exports.bonusFirstSendFinish = exports.bonusIsFirstSend = exports.bonusReqBetBonus = exports.bonusReqCheckBonus = exports.getCommBase = exports.unregisterBonusMessage = exports.registerBonusMessage = exports.BONUS_ENUM = void 0;
    var base_pb_1 = require("@circusmonkey/utilities-protobuf/ts/base/base_pb");
    var bonus_pb_1 = require("game-protobuf/ts/extension/bonus_pb");
    var LoginState_1 = require("./data/LoginState");
    var I18nGlobal_1 = require("./I18nGlobal");
    var IframeGlobal_1 = require("./IframeGlobal");
    var MemberServiceBase_1 = require("./protobuf/MemberServiceBase");
    var CommunicationBase_1 = require("./script/CommunicationBase");
    var WebViewGlobal_1 = require("./script/WebViewGlobal");
    var HandleError_1 = require("./utils/HandleError");
    var Utils_1 = require("./utils/Utils");
    var listenTo = [ MemberServiceBase_1.MemberServiceBaseKey.CheckBonusRes, MemberServiceBase_1.MemberServiceBaseKey.BetBonusRes ];
    exports.BONUS_ENUM = {
      BONUS_EVENT_PAGE_LOAD: "bonusEventPageLoad",
      BONUS_EVENT_FINISH: "bonusEventFinish",
      BONUS_EVENT_NEXT: "bonusEventNext",
      BONUS_EVENT_PAGE_CLOSE: "bonusEventPageClose",
      BONUS_EVENT_INFO_PAGE_LOAD: "bonusEventInfoPageLoad",
      BONUS_EVENT_INFO_PAGE_CLOSE: "bonusEventInfoPageClose"
    };
    function windowOnMessage(e) {
      if (!IframeGlobal_1.hasWindowParent()) return;
      try {
        var param = JSON.parse(e.data);
        var wm = new WebViewGlobal_1.WebViewMessage(param.method, param.data);
        obj.onMessage(wm);
      } catch (e) {
        Utils_1.error(e);
      }
    }
    var obj = {
      onMessage: function(obj) {
        if (obj instanceof bonus_pb_1.CheckBonusRes) {
          var code = obj.getResult().getCode();
          if (code !== base_pb_1.MsgCode.SUCCESS) {
            Utils_1.log("CheckBonusRes", code);
            setBonusChecking(false);
            return;
          }
        } else if (obj instanceof bonus_pb_1.BetBonusRes) {
          var code = obj.getResult().getCode();
          if (code !== base_pb_1.MsgCode.SUCCESS) {
            var key = HandleError_1.commonMsgCodeToMsgKey(code);
            if (bonusIsOpen) {
              var msg = I18nGlobal_1.translate(key);
              IframeGlobal_1.postBonusEventAlert({
                msg: msg,
                code: code
              });
            } else {
              var main = getMain();
              var msg = I18nGlobal_1.translateError(key, code);
              main.getToast().show(msg);
            }
            setBonusSending(false);
            setBonusIdle(true);
            getLoading().toggle(false);
            emitBonusMessage(obj);
            return;
          }
        }
        if (obj instanceof bonus_pb_1.CheckBonusRes) {
          eventInfoList = obj.getEventsList();
          hasBonusEvent = eventInfoList.length > 0;
          bonusEventCount = obj.getCount();
          setBonusChecking(false);
          emitBonusMessage(obj);
        } else if (obj instanceof bonus_pb_1.BetBonusRes) {
          var bonusEvent = obj.getBonus();
          bonusEventsList.set(bonusEvent.getId(), bonusEvent);
          bonusEventCount = obj.getLastCount();
          setBonusSending(false);
          if (!getBonusIsOpen()) {
            setBonusIsOpen(true);
            IframeGlobal_1.postBonusEventOpen();
            emitBonusMessage(obj);
            return;
          }
          var data_1 = {
            count: bonusEventCount,
            bonusEvents: []
          };
          bonusEventsList.forEach(function(value, key) {
            data_1.bonusEvents.push(value.toObject());
          });
          IframeGlobal_1.postBonusEventInfo(data_1);
          emitBonusMessage(obj);
        } else if (obj instanceof WebViewGlobal_1.WebViewMessage) {
          if (obj.method === exports.BONUS_ENUM.BONUS_EVENT_PAGE_LOAD) {
            Utils_1.log("@@@bonus", exports.BONUS_ENUM.BONUS_EVENT_PAGE_LOAD);
            var data_2 = {
              count: bonusEventCount,
              bonusEvents: []
            };
            bonusEventsList.forEach(function(value, key) {
              data_2.bonusEvents.push(value.toObject());
            });
            IframeGlobal_1.postBonusEventInfo(data_2);
          } else if (obj.method === exports.BONUS_ENUM.BONUS_EVENT_INFO_PAGE_LOAD) {
            Utils_1.log("@@@bonus", exports.BONUS_ENUM.BONUS_EVENT_INFO_PAGE_LOAD);
            var data = eventInfoList.map(function(value) {
              return value.toObject();
            });
            IframeGlobal_1.postBonusEventInfo(data);
          } else if (obj.method === exports.BONUS_ENUM.BONUS_EVENT_FINISH) {
            Utils_1.log("@@@bonus", exports.BONUS_ENUM.BONUS_EVENT_FINISH);
            var id = obj.data.id;
            bonusEventsList.delete(id);
          } else if (obj.method === exports.BONUS_ENUM.BONUS_EVENT_NEXT) {
            Utils_1.log("@@@bonus", exports.BONUS_ENUM.BONUS_EVENT_NEXT);
            setBonusSending(true);
            setBonusIdle(false);
            bonusReqBetBonus();
          } else if (obj.method === exports.BONUS_ENUM.BONUS_EVENT_PAGE_CLOSE) {
            Utils_1.log("@@@bonus", exports.BONUS_ENUM.BONUS_EVENT_PAGE_CLOSE);
            setBonusIsOpen(false);
            getLoading().toggle(false);
          } else if (obj.method === exports.BONUS_ENUM.BONUS_EVENT_INFO_PAGE_CLOSE) {
            Utils_1.log("@@@bonus", exports.BONUS_ENUM.BONUS_EVENT_INFO_PAGE_CLOSE);
            setBonusIsOpen(false);
            getLoading().toggle(false);
          }
          emitBonusMessage(obj);
        }
      }
    };
    var loaded = false;
    window.addEventListener("message", windowOnMessage, false);
    var bonusListeners = [];
    function registerBonusMessage(listener) {
      if (!loaded) {
        var comm = getCommBase();
        comm.registListener(listenTo, obj);
        loaded = true;
      }
      bonusListeners.push(listener);
    }
    exports.registerBonusMessage = registerBonusMessage;
    function unregisterBonusMessage(listener) {
      Utils_1.arraySplice(bonusListeners, listener);
    }
    exports.unregisterBonusMessage = unregisterBonusMessage;
    function emitBonusMessage(obj) {
      var l = bonusListeners.length;
      try {
        for (var i = 0; i < l; i += 1) {
          var listener = bonusListeners[i];
          listener && listener.isValid && listener.onBonusMessage(obj);
        }
      } catch (e) {
        Utils_1.error(e);
      }
    }
    function getCommBase() {
      var node = cc.find("Game");
      if (!node) {
        Utils_1.error("Node not found");
        return;
      }
      var comm = node.getComponent(CommunicationBase_1.default);
      if (!comm) {
        Utils_1.error("CommBase not found");
        return;
      }
      return comm;
    }
    exports.getCommBase = getCommBase;
    function bonusReqCheckBonus() {
      if (getCommBase().loginState !== LoginState_1.LoginState.LOGIN) return;
      setBonusChecking(true);
      bonusFirstSendFinish();
      getCommBase().requestCheckBonus().subscribe();
    }
    exports.bonusReqCheckBonus = bonusReqCheckBonus;
    function bonusReqBetBonus() {
      if (getCommBase().loginState !== LoginState_1.LoginState.LOGIN) return;
      getCommBase().requestBetBonus().subscribe();
    }
    exports.bonusReqBetBonus = bonusReqBetBonus;
    function getMain() {
      var node = cc.find("Game");
      if (!node) {
        Utils_1.error("Node not found");
        return;
      }
      var main = node.getComponent("MainBase");
      if (!main) {
        Utils_1.error("MainBase not found");
        return;
      }
      return main;
    }
    function getLoading() {
      var main = getMain();
      return main.getLoading();
    }
    var bonusIsOpen = false;
    var bonusFirstSend = true;
    var eventInfoList = [];
    var gameIdle = true;
    var bonusIdle = true;
    var bonusChecking = false;
    var bonusSending = false;
    var hasBonusEvent = false;
    var bonusEventCount = 0;
    var bonusEventsList = new Map();
    function bonusIsFirstSend() {
      return bonusFirstSend;
    }
    exports.bonusIsFirstSend = bonusIsFirstSend;
    function bonusFirstSendFinish() {
      bonusFirstSend = false;
    }
    exports.bonusFirstSendFinish = bonusFirstSendFinish;
    function setBonusIsOpen(value) {
      bonusIsOpen = value;
    }
    exports.setBonusIsOpen = setBonusIsOpen;
    function getBonusIsOpen() {
      return bonusIsOpen;
    }
    exports.getBonusIsOpen = getBonusIsOpen;
    function getHasBonusEvent() {
      return hasBonusEvent;
    }
    exports.getHasBonusEvent = getHasBonusEvent;
    function setGameIdle(idle) {
      if (gameIdle === idle) return;
      gameIdle = idle;
      emitBonusMessage(new GameIdleMessage(idle));
    }
    exports.setGameIdle = setGameIdle;
    function getGameIdle() {
      return gameIdle;
    }
    exports.getGameIdle = getGameIdle;
    function setBonusIdle(idle) {
      if (bonusIdle === idle) return;
      bonusIdle = idle;
      emitBonusMessage(new BonusIdleMessage(idle));
    }
    exports.setBonusIdle = setBonusIdle;
    function getBonusIdle() {
      return bonusIdle;
    }
    exports.getBonusIdle = getBonusIdle;
    function setBonusChecking(value) {
      bonusChecking = value;
    }
    exports.setBonusChecking = setBonusChecking;
    function getBonusChecking() {
      return bonusChecking;
    }
    exports.getBonusChecking = getBonusChecking;
    function setBonusSending(able) {
      bonusSending = able;
    }
    exports.setBonusSending = setBonusSending;
    function getBonusSending() {
      return bonusSending;
    }
    exports.getBonusSending = getBonusSending;
    function getBonusEventCount() {
      return bonusEventCount + bonusEventsList.size;
    }
    exports.getBonusEventCount = getBonusEventCount;
    function getBonusEventInfoCount() {
      return eventInfoList.length;
    }
    exports.getBonusEventInfoCount = getBonusEventInfoCount;
    function bonusInfoOpen() {
      IframeGlobal_1.postBonusEventInfoOpen();
    }
    exports.bonusInfoOpen = bonusInfoOpen;
    var GameIdleMessage = function() {
      function GameIdleMessage(isIdle) {
        this.isIdle = isIdle;
      }
      return GameIdleMessage;
    }();
    exports.GameIdleMessage = GameIdleMessage;
    var BonusIdleMessage = function() {
      function BonusIdleMessage(isIdle) {
        this.isIdle = isIdle;
      }
      return BonusIdleMessage;
    }();
    exports.BonusIdleMessage = BonusIdleMessage;
    cc._RF.pop();
  }, {
    "./I18nGlobal": "I18nGlobal",
    "./IframeGlobal": "IframeGlobal",
    "./data/LoginState": "LoginState",
    "./protobuf/MemberServiceBase": "MemberServiceBase",
    "./script/CommunicationBase": "CommunicationBase",
    "./script/WebViewGlobal": "WebViewGlobal",
    "./utils/HandleError": "HandleError",
    "./utils/Utils": "Utils",
    "@circusmonkey/utilities-protobuf/ts/base/base_pb": 6,
    "game-protobuf/ts/extension/bonus_pb": 29
  } ],
  BonusEventUI: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ec0c3oTUVFANIWHcPoAX0Wp", "BonusEventUI");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.BONUS_PARENT = void 0;
    var bonus_pb_1 = require("game-protobuf/ts/extension/bonus_pb");
    var BonusEventGlobal_1 = require("../BonusEventGlobal");
    var CommonButton_1 = require("../component/CommonButton");
    var LoginState_1 = require("../data/LoginState");
    var NodeTween_1 = require("../data/NodeTween");
    var PromiseManager_1 = require("./PromiseManager");
    var WebViewGlobal_1 = require("./WebViewGlobal");
    var BONUS_PARENT;
    (function(BONUS_PARENT) {
      BONUS_PARENT[BONUS_PARENT["BOTTOM_BACK"] = 0] = "BOTTOM_BACK";
      BONUS_PARENT[BONUS_PARENT["BOTTOM_FRONT"] = 1] = "BOTTOM_FRONT";
    })(BONUS_PARENT = exports.BONUS_PARENT || (exports.BONUS_PARENT = {}));
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var BonusEventUI = function(_super) {
      __extends(BonusEventUI, _super);
      function BonusEventUI() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.countLabel = null;
        _this.button = null;
        _this.infoButton = null;
        _this.bonusSpine = null;
        _this.bottomBack = null;
        _this.bottomFront = null;
        _this.widget = null;
        _this.comm = null;
        _this.loaded = false;
        _this.delta = 0;
        return _this;
      }
      BonusEventUI.prototype.onBonusMessage = function(obj) {
        if (obj instanceof bonus_pb_1.CheckBonusRes) this.updateButtonEnable(); else if (obj instanceof bonus_pb_1.BetBonusRes) this.updateButtonEnable(); else if (obj instanceof WebViewGlobal_1.WebViewMessage) {
          if (obj.method === BonusEventGlobal_1.BONUS_ENUM.BONUS_EVENT_NEXT) this.updateButtonEnable(); else if (obj.method === BonusEventGlobal_1.BONUS_ENUM.BONUS_EVENT_FINISH) this.updateButtonEnable(); else if (obj.method === BonusEventGlobal_1.BONUS_ENUM.BONUS_EVENT_PAGE_CLOSE) {
            BonusEventGlobal_1.setBonusIdle(true);
            this.updateButtonEnable();
          } else if (obj.method === BonusEventGlobal_1.BONUS_ENUM.BONUS_EVENT_INFO_PAGE_CLOSE) {
            BonusEventGlobal_1.setBonusIdle(true);
            this.updateButtonEnable();
          }
        } else obj instanceof BonusEventGlobal_1.GameIdleMessage && this.updateButtonEnable();
      };
      BonusEventUI.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        BonusEventGlobal_1.registerBonusMessage(this);
        this.widget = this.node.getComponent(cc.Widget) || this.node.addComponent(cc.Widget);
        this.labelOutLine = this.countLabel.node.getComponent(cc.LabelOutline);
        this.oriCountLabelColor = this.countLabel.node.color;
        this.oriLabelOutLineColor = this.labelOutLine.color;
        this.darkCountLabelColor = cc.color(.6 * this.oriCountLabelColor.r, .6 * this.oriCountLabelColor.g, .6 * this.oriCountLabelColor.b);
        this.darkLabelOutLineColor = cc.color(.6 * this.oriLabelOutLineColor.r, .6 * this.oriLabelOutLineColor.g, .6 * this.oriLabelOutLineColor.b);
        this.updateButtonEnable(0);
      };
      BonusEventUI.prototype.checkComm = function() {
        this.comm || (this.comm = BonusEventGlobal_1.getCommBase());
        return this.comm.loginState === LoginState_1.LoginState.LOGIN;
      };
      BonusEventUI.prototype.start = function() {
        this.pre();
      };
      BonusEventUI.prototype.update = function(dt) {
        if (BonusEventGlobal_1.bonusIsFirstSend()) {
          this.checkBonus();
          return;
        }
        this.delta += dt;
        if (this.delta >= 5) {
          this.checkBonus();
          this.delta -= 5;
        }
      };
      BonusEventUI.prototype.checkBonus = function() {
        this.pre();
        var isConnect = this.checkComm();
        if (!isConnect) return;
        if (BonusEventGlobal_1.getBonusChecking()) return;
        if (BonusEventGlobal_1.getBonusSending()) return;
        BonusEventGlobal_1.bonusReqCheckBonus();
      };
      BonusEventUI.prototype.onBonusEventClick = function() {
        var isConnect = this.checkComm();
        if (!isConnect) return;
        if (!BonusEventGlobal_1.getGameIdle()) return;
        if (BonusEventGlobal_1.getBonusSending()) return;
        var count = BonusEventGlobal_1.getBonusEventCount();
        if (0 === count) return;
        BonusEventGlobal_1.setBonusSending(true);
        BonusEventGlobal_1.setBonusIdle(false);
        this.updateButtonEnable();
        BonusEventGlobal_1.bonusReqBetBonus();
      };
      BonusEventUI.prototype.onBonusEventInfoClick = function() {
        var isConnect = this.checkComm();
        if (!isConnect) return;
        if (!BonusEventGlobal_1.getGameIdle()) return;
        if (BonusEventGlobal_1.getBonusSending()) return;
        var count = BonusEventGlobal_1.getBonusEventInfoCount();
        if (0 === count) return;
        BonusEventGlobal_1.setBonusIdle(false);
        this.updateButtonEnable();
        BonusEventGlobal_1.bonusInfoOpen();
      };
      BonusEventUI.prototype.updateInfoBtnPos = function(xPos, yPos) {
        void 0 === xPos && (xPos = 0);
        void 0 === yPos && (yPos = -120);
        this.infoButton.node.setPosition(xPos, yPos);
      };
      BonusEventUI.prototype.updateParent = function(isBottom) {
        if (isBottom) {
          this.bottomFront && this.node.setParent(this.bottomFront);
          return;
        }
        this.bottomBack && this.node.setParent(this.bottomBack);
      };
      BonusEventUI.prototype.updateButtonEnable = function(count) {
        var _this = this;
        void 0 === count && (count = -1);
        this.pre();
        -1 === count && (count = BonusEventGlobal_1.getBonusEventCount());
        this.countLabel.string = count + "";
        this.button.node.stopAllActions();
        if (!BonusEventGlobal_1.getHasBonusEvent()) {
          this.button.node.opacity = 0;
          this.button.interactable = false;
          this.infoButton.node.active = false;
          return;
        }
        this.button.enabledInHierarchy ? 255 !== this.button.node.opacity && NodeTween_1.applyNodeTween({
          node: this.button.node,
          action: cc.sequence(cc.fadeIn(.2), cc.callFunc(function() {
            PromiseManager_1.spSkeletonSetAnimation(_this.bonusSpine, "redenvelope_btn_default", true);
          }))
        }) : this.button.node.opacity = 255;
        var isIdle = BonusEventGlobal_1.getBonusIdle() && BonusEventGlobal_1.getGameIdle();
        this.infoButton.node.active = true;
        this.infoButton.interactable = isIdle;
        var hasBonus = isIdle && count > 0;
        this.button.interactable = hasBonus;
        if (hasBonus) {
          this.bonusSpine.node.color = cc.color(255, 255, 255);
          this.countLabel.node.color = this.oriCountLabelColor;
          this.labelOutLine.color = this.oriLabelOutLineColor;
        } else {
          this.bonusSpine.node.color = cc.color(155, 155, 155);
          this.countLabel.node.color = this.darkCountLabelColor;
          this.labelOutLine.color = this.darkLabelOutLineColor;
        }
      };
      __decorate([ property(cc.Label) ], BonusEventUI.prototype, "countLabel", void 0);
      __decorate([ property(cc.Button) ], BonusEventUI.prototype, "button", void 0);
      __decorate([ property(CommonButton_1.default) ], BonusEventUI.prototype, "infoButton", void 0);
      __decorate([ property(sp.Skeleton) ], BonusEventUI.prototype, "bonusSpine", void 0);
      __decorate([ property(cc.Node) ], BonusEventUI.prototype, "bottomBack", void 0);
      __decorate([ property(cc.Node) ], BonusEventUI.prototype, "bottomFront", void 0);
      BonusEventUI = __decorate([ ccclass ], BonusEventUI);
      return BonusEventUI;
    }(cc.Component);
    exports.default = BonusEventUI;
    cc._RF.pop();
  }, {
    "../BonusEventGlobal": "BonusEventGlobal",
    "../component/CommonButton": "CommonButton",
    "../data/LoginState": "LoginState",
    "../data/NodeTween": "NodeTween",
    "./PromiseManager": "PromiseManager",
    "./WebViewGlobal": "WebViewGlobal",
    "game-protobuf/ts/extension/bonus_pb": 29
  } ],
  ButtonAudio: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "68a8acfe2JFUaznEvlPbJYL", "ButtonAudio");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Audio_1 = require("./Audio");
    var CommonButton_1 = require("./CommonButton");
    var CommonSpineButton_1 = require("./CommonSpineButton");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ButtonAudio = function(_super) {
      __extends(ButtonAudio, _super);
      function ButtonAudio() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.audioName = "";
        return _this;
      }
      ButtonAudio.prototype.play = function() {
        var csb = this.getComponent(CommonSpineButton_1.default);
        if (csb && false === csb.interactable) return;
        var cb = this.getComponent(CommonButton_1.default);
        if (cb && false === cb.interactable) return;
        var b = this.getComponent(cc.Button);
        if (b && false === b.interactable) return;
        var n = this.audioName;
        var str = n;
        str = n.startsWith(Audio_1.CUSTOM_START_WITH) ? Audio_1.audioGetCustomButtonAudioName(n.replace(Audio_1.CUSTOM_START_WITH, "")) : str || Audio_1.audioDefaultButtonAudioName();
        Audio_1.audioPlay(str);
      };
      ButtonAudio.prototype.onEnable = function() {
        this.node.on(cc.Node.EventType.TOUCH_START, this.play, this);
      };
      ButtonAudio.prototype.onDisable = function() {
        this.node.off(cc.Node.EventType.TOUCH_START, this.play, this);
      };
      __decorate([ property(cc.String) ], ButtonAudio.prototype, "audioName", void 0);
      ButtonAudio = __decorate([ ccclass, menu("Button/ButtonAudio") ], ButtonAudio);
      return ButtonAudio;
    }(cc.Component);
    exports.default = ButtonAudio;
    cc._RF.pop();
  }, {
    "./Audio": "Audio",
    "./CommonButton": "CommonButton",
    "./CommonSpineButton": "CommonSpineButton"
  } ],
  ButtonInteractable: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "94ddbBRaxVFbK9UOy1VDx/0", "ButtonInteractable");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var LibGlobal_1 = require("../LibGlobal");
    var Utils_1 = require("../utils/Utils");
    var CommonButton_1 = require("./CommonButton");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ButtonInteractable = function(_super) {
      __extends(ButtonInteractable, _super);
      function ButtonInteractable() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.zone = "";
        return _this;
      }
      ButtonInteractable.prototype.onLoad = function() {
        LibGlobal_1.bindExclusiveButtonInteractable(this.zone, this);
      };
      ButtonInteractable.prototype.onDestroy = function() {
        LibGlobal_1.unbindExclusiveButtonInteractable(this.zone, this);
      };
      ButtonInteractable.prototype.triggerExclusive = function(able) {
        able ? LibGlobal_1.activeButtonExclusive(this.zone, this) : LibGlobal_1.disableButtonExclusive(this.zone);
      };
      ButtonInteractable.prototype.interactable = function(able) {
        var buttons = this.node.getComponentsInChildren(CommonButton_1.default);
        buttons.forEach(Utils_1.nodeProperty("interactable", able));
      };
      __decorate([ property(cc.String) ], ButtonInteractable.prototype, "zone", void 0);
      ButtonInteractable = __decorate([ ccclass ], ButtonInteractable);
      return ButtonInteractable;
    }(cc.Component);
    exports.default = ButtonInteractable;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../utils/Utils": "Utils",
    "./CommonButton": "CommonButton"
  } ],
  CameraControl: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "bca79u3mcNMI44hE/iRt6Ft", "CameraControl");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var MOVE_LEFT = 1;
    var MOVE_RIGHT = 2;
    var MOVE_UP = 4;
    var MOVE_DOWN = 8;
    var ZOOM_IN = 16;
    var ZOOM_OUT = 32;
    var CameraControl = function(_super) {
      __extends(CameraControl, _super);
      function CameraControl() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.camera = null;
        _this.label = null;
        _this.flag = 0;
        _this.mouseWheelZoom = false;
        return _this;
      }
      CameraControl.prototype.onLoad = function() {
        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);
        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);
        this.node.on(cc.Node.EventType.MOUSE_WHEEL, this.onMouseWheel, this);
      };
      CameraControl.prototype.onMouseWheel = function(event) {
        this.mouseWheelZoom && (event.getScrollY() > 1 && this.camera.zoomRatio < 1 ? this.camera.zoomRatio += .01 : event.getScrollY() < -1 && this.camera.zoomRatio > .1 && (this.camera.zoomRatio -= .01));
      };
      CameraControl.prototype.onKeyDown = function(event) {
        switch (event.keyCode) {
         case cc.macro.KEY.a:
         case cc.macro.KEY.left:
          this.flag |= MOVE_LEFT;
          break;

         case cc.macro.KEY.d:
         case cc.macro.KEY.right:
          this.flag |= MOVE_RIGHT;
          break;

         case cc.macro.KEY.w:
         case cc.macro.KEY.up:
          this.flag |= MOVE_UP;
          break;

         case cc.macro.KEY.s:
         case cc.macro.KEY.down:
          this.flag |= MOVE_DOWN;
          break;

         case cc.macro.KEY.q:
         case cc.macro.KEY["+"]:
         case cc.macro.KEY["="]:
          this.flag |= ZOOM_IN;
          break;

         case cc.macro.KEY.e:
         case cc.macro.KEY["-"]:
         case cc.macro.KEY.dash:
          this.flag |= ZOOM_OUT;
          break;

         case cc.macro.KEY.z:
          this.mouseWheelZoom = true;
        }
      };
      CameraControl.prototype.onKeyUp = function(event) {
        switch (event.keyCode) {
         case cc.macro.KEY.a:
         case cc.macro.KEY.left:
          this.flag &= ~MOVE_LEFT;
          break;

         case cc.macro.KEY.d:
         case cc.macro.KEY.right:
          this.flag &= ~MOVE_RIGHT;
          break;

         case cc.macro.KEY.w:
         case cc.macro.KEY.up:
          this.flag &= ~MOVE_UP;
          break;

         case cc.macro.KEY.s:
         case cc.macro.KEY.down:
          this.flag &= ~MOVE_DOWN;
          break;

         case cc.macro.KEY.q:
         case cc.macro.KEY["+"]:
         case cc.macro.KEY["="]:
          this.flag &= ~ZOOM_IN;
          break;

         case cc.macro.KEY.e:
         case cc.macro.KEY["-"]:
         case cc.macro.KEY.dash:
          this.flag &= ~ZOOM_OUT;
          break;

         case cc.macro.KEY.space:
          this.camera.node.x = 0;
          this.camera.node.y = 0;
          this.camera.zoomRatio = 1;
          this.updateLabel();
          break;

         case cc.macro.KEY.z:
          this.mouseWheelZoom = false;
        }
      };
      CameraControl.prototype.update = function() {
        if (0 !== this.flag) {
          this.flag & MOVE_LEFT | 0 && (this.camera.node.x += 10);
          this.flag & MOVE_RIGHT | 0 && (this.camera.node.x -= 10);
          this.flag & MOVE_UP | 0 && (this.camera.node.y -= 10);
          this.flag & MOVE_DOWN | 0 && (this.camera.node.y += 10);
          this.flag & ZOOM_IN | 0 && this.camera.zoomRatio < 5 && (this.camera.zoomRatio += .01);
          this.flag & ZOOM_OUT | 0 && this.camera.zoomRatio > .1 && (this.camera.zoomRatio -= .01);
          this.updateLabel();
        }
      };
      CameraControl.prototype.updateCamera = function(camera) {
        this.camera = camera;
        this.updateLabel();
      };
      CameraControl.prototype.updateLabel = function() {
        if (this.label) {
          var str = [ Math.round(this.camera.node.x), Math.round(this.camera.node.y), Math.round(1e3 * this.camera.zoomRatio) / 1e3 ].join("/");
          this.label.string = str;
        }
      };
      __decorate([ property(cc.Camera) ], CameraControl.prototype, "camera", void 0);
      __decorate([ property(cc.Label) ], CameraControl.prototype, "label", void 0);
      CameraControl = __decorate([ ccclass ], CameraControl);
      return CameraControl;
    }(cc.Component);
    exports.default = CameraControl;
    cc._RF.pop();
  }, {} ],
  CardBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9b927DDrlhP1Lc13x6R0/YV", "CardBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CardBase = function(_super) {
      __extends(CardBase, _super);
      function CardBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.cardBGSprite = null;
        _this.cardNumSprite = null;
        _this.cardFlowerSprite = null;
        _this.cardFlowerSprite2 = null;
        return _this;
      }
      __decorate([ property(cc.Sprite) ], CardBase.prototype, "cardBGSprite", void 0);
      __decorate([ property(cc.Sprite) ], CardBase.prototype, "cardNumSprite", void 0);
      __decorate([ property(cc.Sprite) ], CardBase.prototype, "cardFlowerSprite", void 0);
      __decorate([ property(cc.Sprite) ], CardBase.prototype, "cardFlowerSprite2", void 0);
      CardBase = __decorate([ ccclass ], CardBase);
      return CardBase;
    }(cc.Component);
    exports.default = CardBase;
    cc._RF.pop();
  }, {} ],
  CardFlip2: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "4ef23V5CbBKwYgjXsj/sQ5m", "CardFlip2");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PromiseManager_1 = require("../script/PromiseManager");
    var ResLoader_1 = require("../script/ResLoader");
    var Utils_1 = require("../utils/Utils");
    var CardBase_1 = require("./CardBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CardFlip2 = function(_super) {
      __extends(CardFlip2, _super);
      function CardFlip2() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.anim = null;
        _this.card = null;
        return _this;
      }
      CardFlip2.prototype.onLoad = function() {
        var l = ResLoader_1.getResLoader();
        var anim = this.addComponent(cc.Animation);
        anim.addClip(l.animationClips.find(function(clip) {
          return "CardFlip1Anim" === clip.name;
        }));
        anim.addClip(l.animationClips.find(function(clip) {
          return "CardFlip2Anim" === clip.name;
        }));
        this.card = this.getComponent(CardBase_1.default);
        this.anim = anim;
      };
      CardFlip2.prototype.flip = function(result, delay, speed, start, middle) {
        void 0 === delay && (delay = 0);
        void 0 === speed && (speed = 1);
        void 0 === start && (start = Utils_1.noop);
        void 0 === middle && (middle = Utils_1.noop);
        return __awaiter(this, void 0, Promise, function() {
          var anim, s0, s1;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              anim = this.anim;
              s0 = PromiseManager_1.animationGetState(anim, 0);
              s1 = PromiseManager_1.animationGetState(anim, 1);
              s0.speed = speed;
              s1.speed = speed;
              return [ 4, this.schedulePromise(delay) ];

             case 1:
              _a.sent();
              start();
              return [ 4, PromiseManager_1.resolveWrapper(PromiseManager_1.animationPlayToPromise(this.anim, 0)) ];

             case 2:
              _a.sent();
              middle();
              result && this.card.setData(result);
              return [ 4, PromiseManager_1.resolveWrapper(PromiseManager_1.animationPlayToPromise(this.anim, 1)) ];

             case 3:
              _a.sent();
              return [ 2 ];
            }
          });
        });
      };
      CardFlip2.prototype.reset = function() {
        this.card.reset();
        this.node.eulerAngles.set(cc.v3(0, 0, 0));
        this.node.y = 0;
      };
      CardFlip2.prototype.finish = function(result) {
        this.card.setData(result);
        this.node.eulerAngles.set(cc.v3(0, 0, 0));
        this.node.y = 0;
      };
      CardFlip2.prototype.schedulePromise = function(delay) {
        var _this = this;
        return new Promise(function(resolve) {
          setTimeout(resolve, 1e3 * delay);
          _this.scheduleOnce(resolve, delay);
        });
      };
      CardFlip2 = __decorate([ ccclass ], CardFlip2);
      return CardFlip2;
    }(cc.Component);
    exports.default = CardFlip2;
    cc._RF.pop();
  }, {
    "../script/PromiseManager": "PromiseManager",
    "../script/ResLoader": "ResLoader",
    "../utils/Utils": "Utils",
    "./CardBase": "CardBase"
  } ],
  CardsFlip2: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "14267Rb4kpHmbrxVSaLHmWq", "CardsFlip2");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var CardFlip2_1 = require("./CardFlip2");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CardsFlip2 = function(_super) {
      __extends(CardsFlip2, _super);
      function CardsFlip2() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      CardsFlip2.prototype.flip = function(results, interval, speed, start, middle) {
        void 0 === interval && (interval = 0);
        void 0 === speed && (speed = 1);
        return __awaiter(this, void 0, Promise, function() {
          var cards, intervals;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              cards = this.node.getComponentsInChildren(CardFlip2_1.default);
              if (results.length !== cards.length) {
                Utils_1.warn("flip data length not match.");
                return [ 2 ];
              }
              intervals = interval;
              "number" === typeof interval && (intervals = cards.map(function(c, i) {
                return interval * i;
              }));
              return [ 4, Promise.all(cards.map(function(card, i) {
                return card.flip(results[i], intervals[i], speed, start, middle);
              })) ];

             case 1:
              _a.sent();
              cards.forEach(function(card, i) {
                card.finish(results[i]);
              });
              return [ 2 ];
            }
          });
        });
      };
      CardsFlip2.prototype.reset = function() {
        var cards = this.node.getComponentsInChildren(CardFlip2_1.default);
        cards.forEach(function(card) {
          return card.reset();
        });
      };
      CardsFlip2 = __decorate([ ccclass ], CardsFlip2);
      return CardsFlip2;
    }(cc.Component);
    exports.default = CardsFlip2;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./CardFlip2": "CardFlip2"
  } ],
  CiBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "d3019xgbdZPdYSY0GjEGgtZ", "CiBase");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.checkDisconnect = exports.ccfindGenerator2 = exports.ccfindGenerator = exports.CiCode = exports.ccfind = void 0;
    var LoginState_1 = require("../data/LoginState");
    var CommunicationBase_1 = require("../script/CommunicationBase");
    function ccfind(path, referenceNode) {
      try {
        var cc = window.document.getElementsByTagName("iframe")[0].contentWindow.cc;
        return cc.find(path, referenceNode);
      } catch (error) {
        return null;
      }
    }
    exports.ccfind = ccfind;
    var CiCode;
    (function(CiCode) {
      CiCode["SUCCESS"] = "ci_code_success";
      CiCode["RETRY"] = "ci_code_retry";
      CiCode["DISCONNECT"] = "ci_code_disconnect";
      CiCode["FAIL"] = "ci_code_fail";
    })(CiCode = exports.CiCode || (exports.CiCode = {}));
    function ccfindGenerator(path, handler, noNodeFail, handleCode) {
      void 0 === noNodeFail && (noNodeFail = true);
      void 0 === handleCode && (handleCode = false);
      return function() {
        var node = ccfind(path);
        if (!node) return noNodeFail ? CiCode.FAIL : CiCode.RETRY;
        if (!handler) return CiCode.SUCCESS;
        try {
          var res = handler(node);
          if (handleCode && res.startsWith && res.startsWith("ci_code_")) return res;
          return CiCode.SUCCESS;
        } catch (error) {
          return CiCode.FAIL;
        }
      };
    }
    exports.ccfindGenerator = ccfindGenerator;
    function ccfindGenerator2(path, handler, opt) {
      void 0 === opt && (opt = {
        noNodeFail: true,
        handleCode: false
      });
      return ccfindGenerator(path, handler, opt.noNodeFail, opt.handleCode);
    }
    exports.ccfindGenerator2 = ccfindGenerator2;
    exports.checkDisconnect = ccfindGenerator("Game", function(node) {
      var cb = node.getComponent(CommunicationBase_1.default);
      switch (cb.loginState) {
       case LoginState_1.LoginState.BEFORE_LOGIN:
        return CiCode.RETRY;

       case LoginState_1.LoginState.LOGIN:
        return CiCode.SUCCESS;

       case LoginState_1.LoginState.KICKOUT:
       case LoginState_1.LoginState.OFFLINE:
        return CiCode.DISCONNECT;

       default:
        return CiCode.FAIL;
      }
    }, false, true);
    cc._RF.pop();
  }, {
    "../data/LoginState": "LoginState",
    "../script/CommunicationBase": "CommunicationBase"
  } ],
  ColAnimationConfigIndex: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9af3dPgNOBHGrskGyfeWGdg", "ColAnimationConfigIndex");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ColAnimationConfigIndex = void 0;
    var AnimationConfig_1 = require("../component/AnimationConfig");
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu, requireComponent = _a.requireComponent;
    var ColAnimationConfigIndex = function(_super) {
      __extends(ColAnimationConfigIndex, _super);
      function ColAnimationConfigIndex() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.colKey = "";
        _this.passScan = false;
        return _this;
      }
      ColAnimationConfigIndex.prototype.reset = function(prev, value, col) {
        this.getComponent(AnimationConfig_1.default).index = value;
      };
      __decorate([ property({
        override: true,
        displayName: "Parameter Index"
      }) ], ColAnimationConfigIndex.prototype, "colKey", void 0);
      __decorate([ property({
        override: true,
        readonly: true,
        visible: false
      }) ], ColAnimationConfigIndex.prototype, "passScan", void 0);
      ColAnimationConfigIndex = __decorate([ ccclass, requireComponent(AnimationConfig_1.default), menu("Col/ColAnimationConfigIndex") ], ColAnimationConfigIndex);
      return ColAnimationConfigIndex;
    }(ColBase_1.default);
    exports.ColAnimationConfigIndex = ColAnimationConfigIndex;
    cc._RF.pop();
  }, {
    "../component/AnimationConfig": "AnimationConfig",
    "./ColBase": "ColBase"
  } ],
  ColAnimation: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7dd5faRnn5Lh6Y7IJYkGkXK", "ColAnimation");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ColAnimation = void 0;
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColAnimation = function(_super) {
      __extends(ColAnimation, _super);
      function ColAnimation() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.animation = null;
        _this.playAnimationAnyway = false;
        _this.state = null;
        _this.clips = [];
        _this.loaded = false;
        return _this;
      }
      ColAnimation.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.animation = this.animation || this.node.getComponent(cc.Animation);
        this.clips = this.animation.getClips();
      };
      ColAnimation.prototype.reset = function(prev, value) {
        this.pre();
        if (!this.playAnimationAnyway && this.prev === value) return;
        var bool = Boolean(value);
        var idx = bool ? 1 : 0;
        this.animation.stop();
        this.state = this.animation.play(this.clips[idx].name);
        this.prev = value;
      };
      __decorate([ property(cc.Animation) ], ColAnimation.prototype, "animation", void 0);
      __decorate([ property(cc.Boolean) ], ColAnimation.prototype, "playAnimationAnyway", void 0);
      ColAnimation = __decorate([ ccclass, menu("Col/ColAnimation") ], ColAnimation);
      return ColAnimation;
    }(ColBase_1.default);
    exports.ColAnimation = ColAnimation;
    cc._RF.pop();
  }, {
    "./ColBase": "ColBase"
  } ],
  ColBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "27b51JFlLBMaJIBRCOc1TcU", "ColBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ColBase = function(_super) {
      __extends(ColBase, _super);
      function ColBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.colKey = "";
        _this.passScan = false;
        _this.prev = null;
        return _this;
      }
      __decorate([ property(cc.String) ], ColBase.prototype, "colKey", void 0);
      __decorate([ property(cc.Boolean) ], ColBase.prototype, "passScan", void 0);
      ColBase = __decorate([ ccclass ], ColBase);
      return ColBase;
    }(cc.Component);
    exports.default = ColBase;
    cc._RF.pop();
  }, {} ],
  ColCallback: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "33abbNkknZDv7x3iOJ2D/qL", "ColCallback");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ColCallback = void 0;
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColCallback = function(_super) {
      __extends(ColCallback, _super);
      function ColCallback() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.component = "";
        _this.handler = null;
        _this.onlyPassFirstNode = false;
        _this.nodes = [];
        _this.loaded = false;
        return _this;
      }
      ColCallback.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.nodes.length || this.nodes.push(this.node);
      };
      ColCallback.prototype.reset = function(prev, value, col) {
        var _this = this;
        this.pre();
        var pass = this.component ? this.onlyPassFirstNode ? this.nodes[0].getComponent(this.component) : this.nodes.map(function(n) {
          return n.getComponent(_this.component);
        }) : this.onlyPassFirstNode ? this.nodes[0] : this.nodes;
        this.handler.emit([ value, pass, this.prev, col ]);
        this.prev = value;
      };
      __decorate([ property(cc.String) ], ColCallback.prototype, "component", void 0);
      __decorate([ property(cc.Component.EventHandler) ], ColCallback.prototype, "handler", void 0);
      __decorate([ property(cc.Boolean) ], ColCallback.prototype, "onlyPassFirstNode", void 0);
      __decorate([ property([ cc.Node ]) ], ColCallback.prototype, "nodes", void 0);
      ColCallback = __decorate([ ccclass, menu("Col/ColCallback") ], ColCallback);
      return ColCallback;
    }(ColBase_1.default);
    exports.ColCallback = ColCallback;
    cc._RF.pop();
  }, {
    "./ColBase": "ColBase"
  } ],
  ColColor: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "d25a61SxWpPgKZ7yaTsCDU8", "ColColor");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ColColor = void 0;
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColColor = function(_super) {
      __extends(ColColor, _super);
      function ColColor() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.nodes = [];
        _this.reverse = false;
        _this.trueColor = null;
        _this.falseColor = null;
        _this.loaded = false;
        return _this;
      }
      ColColor.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.nodes.length || this.nodes.push(this.node);
      };
      ColColor.prototype.reset = function(prev, value) {
        var _this = this;
        this.pre();
        var val = Boolean(value);
        this.reverse && (val = !value);
        this.nodes.forEach(function(node) {
          node.color = val ? _this.trueColor : _this.falseColor;
        });
      };
      __decorate([ property([ cc.Node ]) ], ColColor.prototype, "nodes", void 0);
      __decorate([ property(cc.Boolean) ], ColColor.prototype, "reverse", void 0);
      __decorate([ property(cc.Color) ], ColColor.prototype, "trueColor", void 0);
      __decorate([ property(cc.Color) ], ColColor.prototype, "falseColor", void 0);
      ColColor = __decorate([ ccclass, menu("Col/ColColor") ], ColColor);
      return ColColor;
    }(ColBase_1.default);
    exports.ColColor = ColColor;
    cc._RF.pop();
  }, {
    "./ColBase": "ColBase"
  } ],
  ColCommonUI: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "cb98excYjRH05XAlMsvy7fz", "ColCommonUI");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.UIDATABASE_PROPERTY = void 0;
    var ColFadeActive_1 = require("./ColFadeActive");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var UIDATABASE_PROPERTY;
    (function(UIDATABASE_PROPERTY) {
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["None"] = 0] = "None";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Horizontal"] = 1] = "Horizontal";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Vertical"] = 2] = "Vertical";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["PC Horizontal"] = 3] = "PC Horizontal";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Mobile"] = 4] = "Mobile";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Mobile Horizontal"] = 5] = "Mobile Horizontal";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Mobile Vertical"] = 6] = "Mobile Vertical";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Normal game"] = 91] = "Normal game";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Normal game And Horizontal"] = 92] = "Normal game And Horizontal";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Normal game And Vertical"] = 93] = "Normal game And Vertical";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Free game"] = 101] = "Free game";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Free game And Horizontal"] = 102] = "Free game And Horizontal";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Free game And Vertical"] = 103] = "Free game And Vertical";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Bonus game"] = 111] = "Bonus game";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Bonus game And Horizontal"] = 112] = "Bonus game And Horizontal";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Bonus game And Vertical"] = 113] = "Bonus game And Vertical";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Special mode 3"] = 121] = "Special mode 3";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Special mode 3 And Horizontal"] = 122] = "Special mode 3 And Horizontal";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Special mode 3 And Vertical"] = 123] = "Special mode 3 And Vertical";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Special mode 4"] = 131] = "Special mode 4";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Special mode 4 And Horizontal"] = 132] = "Special mode 4 And Horizontal";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Special mode 4 And Vertical"] = 133] = "Special mode 4 And Vertical";
    })(UIDATABASE_PROPERTY = exports.UIDATABASE_PROPERTY || (exports.UIDATABASE_PROPERTY = {}));
    var keyMap = {
      0: "",
      1: "isH",
      2: "isV",
      3: "isPCH",
      4: "isM",
      5: "isMH",
      6: "isMV",
      91: "inNG",
      92: "inNGAndH",
      93: "inNGAndV",
      101: "inFG",
      102: "inFGAndH",
      103: "inFGAndV",
      111: "inBonus",
      112: "inBonusAndH",
      113: "inBonusAndV",
      121: "inSpecialMode3",
      122: "inSpecialMode3AndH",
      123: "inSpecialMode3AndV",
      131: "inSpecialMode4",
      132: "inSpecialMode4AndH",
      133: "inSpecialMode4AndV"
    };
    var ColCommonUI = function(_super) {
      __extends(ColCommonUI, _super);
      function ColCommonUI() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.key = UIDATABASE_PROPERTY.None;
        _this.nodes = [];
        _this.colKey = "";
        return _this;
      }
      ColCommonUI.prototype.pre = function() {
        _super.prototype.pre.call(this);
        this.colKey = keyMap[this.key];
      };
      __decorate([ property({
        type: cc.Enum(UIDATABASE_PROPERTY)
      }) ], ColCommonUI.prototype, "key", void 0);
      __decorate([ property({
        override: true,
        readonly: true,
        visible: false
      }) ], ColCommonUI.prototype, "nodes", void 0);
      __decorate([ property({
        override: true,
        readonly: true,
        visible: false
      }) ], ColCommonUI.prototype, "colKey", void 0);
      ColCommonUI = __decorate([ ccclass, menu("Col/ColCommonUI") ], ColCommonUI);
      return ColCommonUI;
    }(ColFadeActive_1.default);
    exports.default = ColCommonUI;
    cc._RF.pop();
  }, {
    "./ColFadeActive": "ColFadeActive"
  } ],
  ColComponentProperty: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "15727kbbg9Ojrm9o8svpnCQ", "ColComponentProperty");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ColComponentProperty = void 0;
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColComponentProperty = function(_super) {
      __extends(ColComponentProperty, _super);
      function ColComponentProperty() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.component = "CommonButton";
        _this.property = "isChecked";
        _this.isMethod = false;
        _this.reverse = false;
        _this.nodes = [];
        _this.loaded = false;
        return _this;
      }
      ColComponentProperty.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.nodes.length || this.nodes.push(this.node);
      };
      ColComponentProperty.prototype.reset = function(prev, value) {
        var _this = this;
        this.pre();
        var comp = this.component;
        var prop = this.property;
        var val = value;
        this.reverse && (val = !value);
        this.nodes.forEach(function(node) {
          _this.isMethod ? node.getComponent(comp)[prop](val) : node.getComponent(comp)[prop] = val;
        });
      };
      __decorate([ property(cc.String) ], ColComponentProperty.prototype, "component", void 0);
      __decorate([ property(cc.String) ], ColComponentProperty.prototype, "property", void 0);
      __decorate([ property(cc.Boolean) ], ColComponentProperty.prototype, "isMethod", void 0);
      __decorate([ property(cc.Boolean) ], ColComponentProperty.prototype, "reverse", void 0);
      __decorate([ property([ cc.Node ]) ], ColComponentProperty.prototype, "nodes", void 0);
      ColComponentProperty = __decorate([ ccclass, menu("Col/ColComponentProperty") ], ColComponentProperty);
      return ColComponentProperty;
    }(ColBase_1.default);
    exports.ColComponentProperty = ColComponentProperty;
    cc._RF.pop();
  }, {
    "./ColBase": "ColBase"
  } ],
  ColDataBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e4ffa9AJOlAG6JJHgTRZulF", "ColDataBase");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var computedPrefix = "anonymous";
    var computedIndex = 0;
    var ColDataBase = function() {
      function ColDataBase() {
        this.dirty = [];
        this.item = null;
        this.pauseRefresh = false;
        this.refs = {};
        this.computeds = {};
        this.loaded = false;
      }
      ColDataBase.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.doPre && this.doPre();
      };
      ColDataBase.prototype.set = function(col, val, force) {
        var _this = this;
        void 0 === force && (force = false);
        this.pre();
        var old = this[col];
        (force || old !== val) && this.dirty.push(col);
        this[col] = val;
        this.item && !this.pauseRefresh && this.item.refresh();
        this.refs[col] && this.refs[col].forEach(function(refCol) {
          _this.set(refCol, _this.computeds[refCol].call(null, _this), force);
        });
      };
      ColDataBase.prototype.registComputed = function(col, refCols, fn) {
        var _this = this;
        var cols = [].concat(col);
        "" === col && (cols = [ computedPrefix + "_" + (computedIndex += 1) ]);
        [].concat(refCols).forEach(function(refCol) {
          _this.refs[refCol] || (_this.refs[refCol] = []);
          cols.forEach(function(c) {
            _this.refs[refCol].push(c);
          });
        });
        cols.forEach(function(c) {
          _this.computeds[c] = fn;
        });
      };
      ColDataBase.prototype.unregisterComputed = function(col) {
        var _this = this;
        var cols = [].concat(col);
        cols.forEach(function(c) {
          _this.computeds[c] = null;
        });
      };
      ColDataBase.prototype.bindItem = function(item) {
        if (this.item === item) return;
        this.item = item;
        this.item.bindData(this);
      };
      return ColDataBase;
    }();
    exports.default = ColDataBase;
    cc._RF.pop();
  }, {} ],
  ColEditBox: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f3bd2Y6B71LZo8YXmK+y+UX", "ColEditBox");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ColEditBox = void 0;
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColEditBox = function(_super) {
      __extends(ColEditBox, _super);
      function ColEditBox() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.box = null;
        _this.loaded = false;
        return _this;
      }
      ColEditBox.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.box = this.box || this.node.getComponent(cc.EditBox);
      };
      ColEditBox.prototype.reset = function(prev, value) {
        this.pre();
        this.box && (this.box.string = value);
        this.prev = value;
      };
      __decorate([ property(cc.EditBox) ], ColEditBox.prototype, "box", void 0);
      ColEditBox = __decorate([ ccclass, menu("Col/ColEditBox") ], ColEditBox);
      return ColEditBox;
    }(ColBase_1.default);
    exports.ColEditBox = ColEditBox;
    cc._RF.pop();
  }, {
    "./ColBase": "ColBase"
  } ],
  ColFadeActive: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "cda09aDx+tGDYD9vF0R2TUQ", "ColFadeActive");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColFadeActive = function(_super) {
      __extends(ColFadeActive, _super);
      function ColFadeActive() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.nodes = [];
        _this.reverse = false;
        _this.hasActive = true;
        _this.hasFade = false;
        _this.fadeTime = .2;
        _this.loaded = false;
        return _this;
      }
      ColFadeActive.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.nodes.length || this.nodes.push(this.node);
      };
      ColFadeActive.prototype.reset = function(prev, value) {
        var _this = this;
        this.pre();
        var able = value;
        this.reverse && (able = !value);
        var next = function() {
          _this.hasActive && _this.nodes.forEach(Utils_1.nodeActive(able));
        };
        if (this.hasFade) {
          var fadeTime = this.fadeTime;
          if (0 === fadeTime) {
            this.nodes.forEach(Utils_1.nodeOpacity(able ? 255 : 0));
            next();
          } else {
            var action_1;
            able && this.nodes.forEach(Utils_1.nodeActive(true));
            action_1 = cc.fadeTo(fadeTime, able ? 255 : 0);
            this.hasActive && (action_1 = cc.sequence(action_1, cc.callFunc(next)));
            this.nodes.forEach(function(node) {
              node.stopAllActions();
              cc.tween(node).then(action_1.clone()).start();
            });
          }
        } else next();
      };
      __decorate([ property([ cc.Node ]) ], ColFadeActive.prototype, "nodes", void 0);
      __decorate([ property(cc.Boolean) ], ColFadeActive.prototype, "reverse", void 0);
      __decorate([ property(cc.Boolean) ], ColFadeActive.prototype, "hasActive", void 0);
      __decorate([ property(cc.Boolean) ], ColFadeActive.prototype, "hasFade", void 0);
      __decorate([ property(cc.Float) ], ColFadeActive.prototype, "fadeTime", void 0);
      ColFadeActive = __decorate([ ccclass, menu("Col/ColFadeActive") ], ColFadeActive);
      return ColFadeActive;
    }(ColBase_1.default);
    exports.default = ColFadeActive;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./ColBase": "ColBase"
  } ],
  ColFade: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c5fb5+BO/ZPG71bEZlZrrBu", "ColFade");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ColFade = void 0;
    var Utils_1 = require("../utils/Utils");
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColFade = function(_super) {
      __extends(ColFade, _super);
      function ColFade() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.reverse = false;
        _this.slowStartSec = 0;
        _this.perSec = 360;
        _this.maxOpacity = 180;
        _this.minOpacity = 0;
        _this.handler = null;
        _this.nodes = [];
        _this.loaded = false;
        _this.targetOpacity = 0;
        _this.opacity = 0;
        _this.skip = 0;
        return _this;
      }
      ColFade.prototype.pre = function() {
        var _this = this;
        if (this.loaded) return;
        this.loaded = true;
        this.opacity = this.node.opacity;
        this.targetOpacity = this.opacity;
        this.nodes.length || this.nodes.push(this.node);
        this.handler && this.nodes.forEach(function(node) {
          node.on(cc.Node.EventType.TOUCH_START, function(event) {
            var clickable = _this.targetOpacity === _this.maxOpacity;
            clickable && _this.handler.emit([]);
            node._touchListener.setSwallowTouches(clickable);
          }, _this);
        });
      };
      ColFade.prototype.reset = function(prev, value) {
        this.pre();
        var bool = Boolean(value);
        this.reverse && (bool = !bool);
        this.targetOpacity = bool ? this.maxOpacity : this.minOpacity;
        this.skip = this.slowStartSec;
        var bie = this.getComponent(cc.BlockInputEvents);
        bie && (bie.enabled = bool);
      };
      ColFade.prototype.update = function(dt) {
        if (this.opacity === this.targetOpacity) return;
        if (this.skip > 0) {
          this.skip -= dt;
          return;
        }
        this.opacity > this.targetOpacity ? this.opacity = Utils_1.biggerThen(this.minOpacity, this.opacity - this.perSec * dt) : this.opacity = Utils_1.lowerThen(this.maxOpacity, this.opacity + this.perSec * dt);
        this.node.opacity = this.opacity;
      };
      __decorate([ property(cc.Boolean) ], ColFade.prototype, "reverse", void 0);
      __decorate([ property(cc.Integer) ], ColFade.prototype, "slowStartSec", void 0);
      __decorate([ property(cc.Integer) ], ColFade.prototype, "perSec", void 0);
      __decorate([ property({
        type: cc.Integer,
        slide: true,
        range: [ 0, 255 ]
      }) ], ColFade.prototype, "maxOpacity", void 0);
      __decorate([ property({
        type: cc.Integer,
        slide: true,
        range: [ 0, 255 ]
      }) ], ColFade.prototype, "minOpacity", void 0);
      __decorate([ property(cc.Component.EventHandler) ], ColFade.prototype, "handler", void 0);
      __decorate([ property([ cc.Node ]) ], ColFade.prototype, "nodes", void 0);
      ColFade = __decorate([ ccclass, menu("Col/ColFade") ], ColFade);
      return ColFade;
    }(ColBase_1.default);
    exports.ColFade = ColFade;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./ColBase": "ColBase"
  } ],
  ColItemBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "46a24r6c2pLd5uZnuTJoCHR", "ColItemBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var ColBase_1 = require("./ColBase");
    var KeyCol_1 = require("./KeyCol");
    var KeyNode_1 = require("./KeyNode");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ColItemBase = function(_super) {
      __extends(ColItemBase, _super);
      function ColItemBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.colScanNodes = [];
        _this.keyCol = [];
        _this.keyColNode = [];
        _this.mapCol = {};
        _this.loaded = false;
        return _this;
      }
      ColItemBase.prototype.pre = function() {
        var _this = this;
        if (this.loaded) return;
        this.loaded = true;
        [].push.apply(this.keyCol, this.keyColNode.map(function(kn) {
          var col = kn.node.getComponent(ColBase_1.default);
          col.pre && col.pre();
          return {
            key: kn.key || col.colKey,
            col: kn.node.getComponent(ColBase_1.default)
          };
        }));
        this.mapCol = this.keyCol.reduce(Utils_1.toObjectAccumulateReducer(function(obj) {
          return obj.key || obj.col.colKey;
        }, "col"), {});
        var each = function(colBase) {
          if (!cc.isValid(colBase, true)) return;
          colBase.pre && colBase.pre();
          if (!colBase.passScan && colBase.colKey) {
            _this.mapCol[colBase.colKey] || (_this.mapCol[colBase.colKey] = []);
            -1 === _this.mapCol[colBase.colKey].indexOf(colBase) && _this.mapCol[colBase.colKey].push(colBase);
          }
        };
        [ this.node ].concat(this.colScanNodes).forEach(function(node) {
          node.getComponents(ColBase_1.default).forEach(each);
          node.getComponentsInChildren(ColBase_1.default).forEach(each);
        });
      };
      ColItemBase.prototype.register = function(colBase, colKey) {
        void 0 === colKey && (colKey = "");
        colBase.pre && colBase.pre();
        var key = colKey || colBase.colKey;
        this.mapCol[key] || (this.mapCol[key] = []);
        -1 === this.mapCol[key].indexOf(colBase) && this.mapCol[key].push(colBase);
        colBase.reset(null, this.data[colKey], "");
      };
      ColItemBase.prototype.unregister = function(colBase, colKey) {
        void 0 === colKey && (colKey = "");
        if (!colBase) return;
        colBase.pre && colBase.pre();
        var key = colKey || colBase.colKey;
        this.mapCol[key] && Utils_1.arraySplice(this.mapCol[key], colBase);
      };
      ColItemBase.prototype.getCols = function(key) {
        var _this = this;
        void 0 === key && (key = "");
        return key ? this.mapCol[key] : Utils_1.flattenDeep(Object.keys(this.mapCol).map(function(k) {
          return _this.mapCol[k];
        }));
      };
      ColItemBase.prototype.refresh = function(force) {
        var _this = this;
        void 0 === force && (force = false);
        this.pre();
        var data = this.data;
        var arr = data.dirty;
        force && (arr = Utils_1.flattenDeep([ Object.keys(this.mapCol), data.dirty ]).filter(Utils_1.onlyUnique));
        arr.forEach(function(colKey) {
          var cols = _this.mapCol[colKey];
          if (cols) {
            var removeInvalid_1 = false;
            cols.forEach(function(col) {
              if (!col.isValid) {
                removeInvalid_1 = true;
                return;
              }
              col.reset(null, data[colKey], colKey);
            });
            removeInvalid_1 && (_this.mapCol[colKey] = _this.mapCol[colKey].filter(function(col) {
              return col.isValid;
            }));
          }
        });
        data.dirty.length = 0;
      };
      ColItemBase.prototype.reset = function(data, force) {
        void 0 === force && (force = false);
        this.pre();
        this.bindData(data);
        this.refresh(force);
      };
      ColItemBase.prototype.bindData = function(data) {
        if (this.data === data) return;
        this.data = data;
        this.data.bindItem(this);
      };
      ColItemBase.prototype.getData = function() {
        return this.data;
      };
      __decorate([ property([ cc.Node ]) ], ColItemBase.prototype, "colScanNodes", void 0);
      __decorate([ property([ KeyCol_1.KeyCol ]) ], ColItemBase.prototype, "keyCol", void 0);
      __decorate([ property([ KeyNode_1.KeyNode ]) ], ColItemBase.prototype, "keyColNode", void 0);
      ColItemBase = __decorate([ ccclass ], ColItemBase);
      return ColItemBase;
    }(cc.Component);
    exports.default = ColItemBase;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./ColBase": "ColBase",
    "./KeyCol": "KeyCol",
    "./KeyNode": "KeyNode"
  } ],
  ColLabel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7768bvrGu9BZ6UAALCl91ID", "ColLabel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ColLabel = void 0;
    var ArtLabel_1 = require("../component/ArtLabel");
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColLabel = function(_super) {
      __extends(ColLabel, _super);
      function ColLabel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.label = null;
        _this.richText = null;
        _this.artLabel = null;
        _this.loaded = false;
        return _this;
      }
      ColLabel.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.label = this.label || this.node.getComponent(cc.Label);
        this.richText = this.richText || this.node.getComponent(cc.RichText);
        this.artLabel = this.artLabel || this.node.getComponent(ArtLabel_1.default);
      };
      ColLabel.prototype.reset = function(prev, value) {
        this.pre();
        this.label && (this.label.string = value);
        this.richText && (this.richText.string = value);
        this.artLabel && (this.artLabel.string = value);
        this.prev = value;
      };
      __decorate([ property(cc.Label) ], ColLabel.prototype, "label", void 0);
      __decorate([ property(cc.RichText) ], ColLabel.prototype, "richText", void 0);
      ColLabel = __decorate([ ccclass, menu("Col/ColLabel") ], ColLabel);
      return ColLabel;
    }(ColBase_1.default);
    exports.ColLabel = ColLabel;
    cc._RF.pop();
  }, {
    "../component/ArtLabel": "ArtLabel",
    "./ColBase": "ColBase"
  } ],
  ColLayout: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "66725MmxlJC27w8qRq77Uba", "ColLayout");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var ColProperty_1 = require("./ColProperty");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColLayout = function(_super) {
      __extends(ColLayout, _super);
      function ColLayout() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.reverse = false;
        _this.property = "x";
        _this.nodes = [];
        _this.colKey = "layout";
        _this.positionPC = new cc.Vec2();
        _this.positionMH = new cc.Vec2();
        _this.positionMV = new cc.Vec2();
        _this.scalePC = 1;
        _this.scaleMH = 1;
        _this.scaleMV = 1;
        return _this;
      }
      ColLayout.prototype.reset = function(prev, value) {
        this.pre();
        var scales = [ this.scalePC, this.scaleMH, this.scaleMV, 1 ];
        var positions = [ this.positionPC, this.positionMH, this.positionMV, cc.v2() ];
        var scale = scales[value];
        var pos = positions[value];
        this.nodes.forEach(Utils_1.nodeProperty("scale", scale));
        this.nodes.forEach(Utils_1.nodeProperty("position", cc.v3(pos)));
      };
      __decorate([ property({
        override: true,
        readonly: true,
        visible: false
      }) ], ColLayout.prototype, "reverse", void 0);
      __decorate([ property({
        override: true,
        readonly: true,
        visible: false
      }) ], ColLayout.prototype, "property", void 0);
      __decorate([ property({
        override: true,
        readonly: true,
        visible: false
      }) ], ColLayout.prototype, "nodes", void 0);
      __decorate([ property({
        override: true,
        readonly: true,
        visible: false
      }) ], ColLayout.prototype, "colKey", void 0);
      __decorate([ property(cc.Vec2) ], ColLayout.prototype, "positionPC", void 0);
      __decorate([ property(cc.Vec2) ], ColLayout.prototype, "positionMH", void 0);
      __decorate([ property(cc.Vec2) ], ColLayout.prototype, "positionMV", void 0);
      __decorate([ property(cc.Float) ], ColLayout.prototype, "scalePC", void 0);
      __decorate([ property(cc.Float) ], ColLayout.prototype, "scaleMH", void 0);
      __decorate([ property(cc.Float) ], ColLayout.prototype, "scaleMV", void 0);
      ColLayout = __decorate([ ccclass, menu("Col/ColLayout") ], ColLayout);
      return ColLayout;
    }(ColProperty_1.ColProperty);
    exports.default = ColLayout;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./ColProperty": "ColProperty"
  } ],
  ColProperty: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "52243Lwo0xJ0q3PE8B57uie", "ColProperty");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ColProperty = void 0;
    var Utils_1 = require("../utils/Utils");
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColProperty = function(_super) {
      __extends(ColProperty, _super);
      function ColProperty() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.reverse = false;
        _this.property = "active";
        _this.nodes = [];
        _this.loaded = false;
        return _this;
      }
      ColProperty.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.nodes.length || this.nodes.push(this.node);
      };
      ColProperty.prototype.reset = function(prev, value) {
        this.pre();
        var val = value;
        this.reverse && (val = !value);
        this.nodes.forEach(Utils_1.nodeProperty(this.property, val));
      };
      __decorate([ property(cc.Boolean) ], ColProperty.prototype, "reverse", void 0);
      __decorate([ property(cc.String) ], ColProperty.prototype, "property", void 0);
      __decorate([ property([ cc.Node ]) ], ColProperty.prototype, "nodes", void 0);
      ColProperty = __decorate([ ccclass, menu("Col/ColProperty") ], ColProperty);
      return ColProperty;
    }(ColBase_1.default);
    exports.ColProperty = ColProperty;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./ColBase": "ColBase"
  } ],
  ColSpSkeleton2: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "001b3F4nRtB9Lmo1Ohr4P6R", "ColSpSkeleton2");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PromiseManager_1 = require("../script/PromiseManager");
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executionOrder = _a.executionOrder;
    var ColSpSkeleton2 = function(_super) {
      __extends(ColSpSkeleton2, _super);
      function ColSpSkeleton2() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.skeleton = null;
        _this.animation = "";
        _this.loop = false;
        _this.nodeActive = false;
        _this.playing = false;
        return _this;
      }
      ColSpSkeleton2.prototype.onLoad = function() {
        var _this = this;
        this.skeleton = this.skeleton || this.getComponent(sp.Skeleton);
        this.animation = this.animation || this.skeleton.animation;
        PromiseManager_1.spSkeletonSetAnimation(this.skeleton, "");
        this.skeleton.setCompleteListener(function() {
          _this.playing = false;
          _this.nodeActive && (_this.node.active = false);
        });
      };
      ColSpSkeleton2.prototype.reset = function(prev, value) {
        var ske = this.skeleton;
        var able = Boolean(value);
        if (able && !this.playing) {
          this.node.active = true;
          PromiseManager_1.spSkeletonSetAnimation(ske, this.animation, this.loop);
          this.playing = true;
        } else if (!able && this.playing) {
          PromiseManager_1.spSkeletonSetAnimation(ske, "");
          this.playing = false;
          this.nodeActive && (this.node.active = false);
        }
      };
      __decorate([ property(sp.Skeleton) ], ColSpSkeleton2.prototype, "skeleton", void 0);
      __decorate([ property(cc.String) ], ColSpSkeleton2.prototype, "animation", void 0);
      __decorate([ property(cc.Boolean) ], ColSpSkeleton2.prototype, "loop", void 0);
      __decorate([ property(cc.Boolean) ], ColSpSkeleton2.prototype, "nodeActive", void 0);
      ColSpSkeleton2 = __decorate([ ccclass, executionOrder(-1) ], ColSpSkeleton2);
      return ColSpSkeleton2;
    }(ColBase_1.default);
    exports.default = ColSpSkeleton2;
    cc._RF.pop();
  }, {
    "../script/PromiseManager": "PromiseManager",
    "./ColBase": "ColBase"
  } ],
  ColSpSkeletonConfigAnimation: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7b8f9OYRZNIZo8zSSinabCt", "ColSpSkeletonConfigAnimation");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ColSpSkeletonConfigAnimation = void 0;
    var SpSkeletonConfig_1 = require("../component/SpSkeletonConfig");
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu, requireComponent = _a.requireComponent;
    var ColSpSkeletonConfigAnimation = function(_super) {
      __extends(ColSpSkeletonConfigAnimation, _super);
      function ColSpSkeletonConfigAnimation() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.colKey = "";
        _this.passScan = false;
        return _this;
      }
      ColSpSkeletonConfigAnimation.prototype.reset = function(prev, value, col) {
        this.getComponent(SpSkeletonConfig_1.default).animation = value;
      };
      __decorate([ property({
        override: true,
        displayName: "Parameter Index"
      }) ], ColSpSkeletonConfigAnimation.prototype, "colKey", void 0);
      __decorate([ property({
        override: true,
        readonly: true,
        visible: false
      }) ], ColSpSkeletonConfigAnimation.prototype, "passScan", void 0);
      ColSpSkeletonConfigAnimation = __decorate([ ccclass, requireComponent(SpSkeletonConfig_1.default), menu("Col/ColSpSkeletonConfigAnimation") ], ColSpSkeletonConfigAnimation);
      return ColSpSkeletonConfigAnimation;
    }(ColBase_1.default);
    exports.ColSpSkeletonConfigAnimation = ColSpSkeletonConfigAnimation;
    cc._RF.pop();
  }, {
    "../component/SpSkeletonConfig": "SpSkeletonConfig",
    "./ColBase": "ColBase"
  } ],
  ColSpSkeleton: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "50b7bif+L9Azryz0Yu6o/ez", "ColSpSkeleton");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PromiseManager_1 = require("../script/PromiseManager");
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executionOrder = _a.executionOrder;
    var ColSpSkeleton = function(_super) {
      __extends(ColSpSkeleton, _super);
      function ColSpSkeleton() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.skeleton = null;
        _this.animations = [];
        _this.animationsLoop = [];
        _this.currentValue = 0;
        return _this;
      }
      ColSpSkeleton.prototype.onLoad = function() {
        var _this = this;
        this.skeleton = this.skeleton || this.getComponent(sp.Skeleton);
        this.animations.length || (this.animations = [ this.skeleton.animation ]);
        this.animationsLoop.length || (this.animationsLoop = [ this.skeleton.loop ]);
        this.skeleton.animation = "";
        PromiseManager_1.spSkeletonEmpty(this.skeleton);
        this.skeleton.setCompleteListener(function() {
          _this.currentValue = 0;
        });
      };
      ColSpSkeleton.prototype.reset = function(prev, value, col) {
        var skeleton = this.skeleton;
        var able = Boolean(value);
        if (able) {
          var temp = Math.ceil(value);
          if (temp && this.currentValue !== temp) {
            this.currentValue = temp;
            var animName = this.animations[this.currentValue - 1];
            var loop = this.animationsLoop[this.currentValue - 1];
            if (skeleton.animation === animName) return;
            PromiseManager_1.spSkeletonSetAnimation(skeleton, animName, loop);
          }
        } else if (!able && this.currentValue) {
          this.currentValue = 0;
          PromiseManager_1.spSkeletonEmpty(skeleton);
          PromiseManager_1.spSkeletonSetAnimation(skeleton, "");
        }
      };
      __decorate([ property(sp.Skeleton) ], ColSpSkeleton.prototype, "skeleton", void 0);
      __decorate([ property([ cc.String ]) ], ColSpSkeleton.prototype, "animations", void 0);
      __decorate([ property([ cc.Boolean ]) ], ColSpSkeleton.prototype, "animationsLoop", void 0);
      ColSpSkeleton = __decorate([ ccclass, executionOrder(-1) ], ColSpSkeleton);
      return ColSpSkeleton;
    }(ColBase_1.default);
    exports.default = ColSpSkeleton;
    cc._RF.pop();
  }, {
    "../script/PromiseManager": "PromiseManager",
    "./ColBase": "ColBase"
  } ],
  ColSprite: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "88b95tK2GJGHYtsR/cqPjnF", "ColSprite");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ColSprite = void 0;
    var ResSprite_1 = require("../script/ResSprite");
    var Utils_1 = require("../utils/Utils");
    var ColBase_1 = require("./ColBase");
    var KeyFrame_1 = require("./KeyFrame");
    var KeyNode_1 = require("./KeyNode");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColSprite = function(_super) {
      __extends(ColSprite, _super);
      function ColSprite() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.keyFrames = [];
        _this.keyNodes = [];
        _this.framesNodeRoot = null;
        _this.sprite = null;
        _this.shrink = null;
        _this.loaded = false;
        return _this;
      }
      ColSprite.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.sprite = this.sprite || this.node.getComponent(cc.Sprite);
        this.keyNodes.length && (this.keyFrames = this.keyFrames.concat(this.keyNodes.map(function(kn) {
          var las = kn.node.getComponent(ResSprite_1.default);
          las.saveFrame = true;
          las.pre();
          return {
            key: kn.key,
            frame: las.frame
          };
        })));
        this.framesNodeRoot && (this.keyFrames = this.keyFrames.concat(this.framesNodeRoot.getComponentsInChildren(cc.Sprite).map(function(sprite) {
          return {
            key: sprite.node.name,
            frame: sprite.spriteFrame
          };
        })));
      };
      ColSprite.prototype.onLoad = function() {
        this.pre();
      };
      ColSprite.prototype.reset = function(prev, value, col) {
        this.pre();
        var kf = this.keyFrames.find(function(kf) {
          return kf.key == value;
        });
        var frame;
        kf && (frame = kf.frame);
        (true, frame) || Utils_1.warn("No frame", this, value);
        if (this.shrink && frame) {
          var rect = frame.getRect();
          var sw = this.shrink.width;
          var sh = this.shrink.height;
          var rw = rect.width;
          var rh = rect.height;
          var arr = [ 1 ];
          sw && arr.push(sw / rw);
          sh && arr.push(sh / rh);
          this.sprite.node.scale = Utils_1.lowerThen(1, Math.min.apply(null, arr));
        }
        this.sprite.spriteFrame = frame || null;
        this.prev = value;
      };
      __decorate([ property([ KeyFrame_1.KeyFrame ]) ], ColSprite.prototype, "keyFrames", void 0);
      __decorate([ property([ KeyNode_1.KeyNode ]) ], ColSprite.prototype, "keyNodes", void 0);
      __decorate([ property(cc.Node) ], ColSprite.prototype, "framesNodeRoot", void 0);
      __decorate([ property(cc.Sprite) ], ColSprite.prototype, "sprite", void 0);
      __decorate([ property(cc.Size) ], ColSprite.prototype, "shrink", void 0);
      ColSprite = __decorate([ ccclass, menu("Col/ColSprite") ], ColSprite);
      return ColSprite;
    }(ColBase_1.default);
    exports.ColSprite = ColSprite;
    cc._RF.pop();
  }, {
    "../script/ResSprite": "ResSprite",
    "../utils/Utils": "Utils",
    "./ColBase": "ColBase",
    "./KeyFrame": "KeyFrame",
    "./KeyNode": "KeyNode"
  } ],
  ColTimeScale: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f1efcpysiZGzrVJftD/ntVb", "ColTimeScale");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ColTimeScale = void 0;
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColTimeScale = function(_super) {
      __extends(ColTimeScale, _super);
      function ColTimeScale() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.animation = null;
        _this.skeleton = null;
        _this.loaded = false;
        return _this;
      }
      ColTimeScale.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.skeleton = this.skeleton || this.node.getComponent(sp.Skeleton);
        this.animation = this.animation || this.node.getComponent(cc.Animation);
      };
      ColTimeScale.prototype.reset = function(prev, value) {
        this.pre();
        var animation = this.animation;
        animation && animation.getClips().forEach(function(clip) {
          var state = animation.getAnimationState(clip.name);
          state.speed = clip.speed * value;
        });
        this.skeleton && (this.skeleton.timeScale = value);
      };
      __decorate([ property(cc.Animation) ], ColTimeScale.prototype, "animation", void 0);
      __decorate([ property(sp.Skeleton) ], ColTimeScale.prototype, "skeleton", void 0);
      ColTimeScale = __decorate([ ccclass, menu("Col/ColTimeScale") ], ColTimeScale);
      return ColTimeScale;
    }(ColBase_1.default);
    exports.ColTimeScale = ColTimeScale;
    cc._RF.pop();
  }, {
    "./ColBase": "ColBase"
  } ],
  ColToggle: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c02aaSW1lVKha7mWRiaXQLZ", "ColToggle");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ColToggle = void 0;
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColToggle = function(_super) {
      __extends(ColToggle, _super);
      function ColToggle() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.nodes = [];
        _this.byNodeName = false;
        _this.loaded = false;
        return _this;
      }
      ColToggle.prototype.pre = function() {
        var _a;
        if (this.loaded) return;
        this.loaded = true;
        this.nodes.length || (_a = this.nodes).push.apply(_a, this.node.children);
      };
      ColToggle.prototype.reset = function(prev, value) {
        this.pre();
        var byNodeName = this.byNodeName;
        this.nodes.forEach(function(node, idx) {
          var able;
          able = byNodeName ? node.name === "" + value : idx === Number(value);
          node && (node.active = able);
        });
        this.prev = value;
      };
      __decorate([ property([ cc.Node ]) ], ColToggle.prototype, "nodes", void 0);
      __decorate([ property(cc.Boolean) ], ColToggle.prototype, "byNodeName", void 0);
      ColToggle = __decorate([ ccclass, menu("Col/ColToggle") ], ColToggle);
      return ColToggle;
    }(ColBase_1.default);
    exports.ColToggle = ColToggle;
    cc._RF.pop();
  }, {
    "./ColBase": "ColBase"
  } ],
  CommListener: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "d0a3auXOnBLm4JoR9jtCeTD", "CommListener");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    cc._RF.pop();
  }, {} ],
  CommonButton: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e8e60BdDTdLKboM5v6ANqtS", "CommonButton");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __spreadArrays = this && this.__spreadArrays || function() {
      for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
      for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, 
      k++) r[k] = a[j];
      return r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.applyBlendMode = exports.applyColor = void 0;
    var NodeTween_1 = require("../data/NodeTween");
    var ResSprite_1 = require("../script/ResSprite");
    var Utils_1 = require("../utils/Utils");
    var I18nSprite_1 = require("./I18nSprite");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var TYPE;
    (function(TYPE) {
      TYPE[TYPE["NORMAL"] = 0] = "NORMAL";
      TYPE[TYPE["DARK"] = 1] = "DARK";
      TYPE[TYPE["BRIGHT"] = 2] = "BRIGHT";
    })(TYPE || (TYPE = {}));
    var CommonButton = function(_super) {
      __extends(CommonButton, _super);
      function CommonButton() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.targetNode = null;
        _this.scaleNode = null;
        _this.hoverNode = null;
        _this.backgroundSpriteFrame = null;
        _this.textSpriteFrame = null;
        _this.label = null;
        _this.onClickHandler = null;
        _this.onClickHandlers = [];
        _this.cantClickWhenKeepBright = false;
        _this.enableAutoGrayEffect = false;
        _this.zoomScale = .9;
        _this.brightColor = new cc.Color(255, 255, 255, 80);
        _this.darkColor = new cc.Color(0, 0, 0, 180);
        _this.checkmarks = [];
        _this.notCheckmarks = [];
        _this.brightNodes = [];
        _this.fade = false;
        _this._keepBright = false;
        _this._interactable = true;
        _this._isChecked = false;
        _this.isHover = false;
        _this.loaded = false;
        _this.bright = false;
        _this.dark = false;
        _this.scaleButton = null;
        _this.darkNode = null;
        _this.brightNode = null;
        return _this;
      }
      CommonButton.prototype.onLoad = function() {
        this.pre();
      };
      CommonButton.prototype.pre = function() {
        var _a;
        if (this.loaded) return;
        this.loaded = true;
        this.targetNode = this.targetNode || this.node;
        this.scaleNode = this.scaleNode || this.node;
        this.hoverNode = this.hoverNode || this.targetNode || this.node;
        var backgroundSprite = this.targetNode.getComponent(cc.Sprite);
        if (backgroundSprite) {
          var las = this.getComponent(ResSprite_1.default);
          las && las.pre();
          var is = this.getComponent(I18nSprite_1.I18nSprite);
          is && is.load();
        } else {
          backgroundSprite = this.targetNode.addComponent(cc.Sprite);
          backgroundSprite.spriteFrame = this.backgroundSpriteFrame;
        }
        applyColor(this.targetNode, TYPE.NORMAL);
        !this.backgroundSpriteFrame && backgroundSprite && (this.backgroundSpriteFrame = backgroundSprite.spriteFrame);
        this.scaleButton = this.scaleNode.addComponent(cc.Button);
        try {
          this.scaleButton.target = this.scaleNode;
        } catch (_b) {}
        this.scaleButton.transition = cc.Button.Transition.SCALE;
        this.scaleButton.enableAutoGrayEffect = this.enableAutoGrayEffect;
        var handler = new cc.Component.EventHandler();
        handler.component = "CommonButton";
        handler.target = this.node;
        handler.handler = "toggleChecked";
        (_a = this.scaleButton.clickEvents).push.apply(_a, __spreadArrays([ handler, this.onClickHandler ], this.onClickHandlers));
        this.scaleButton.zoomScale = this.zoomScale;
        if (!this.targetNode.children.length && this.textSpriteFrame) {
          var textNode = new cc.Node();
          textNode.addComponent(cc.Sprite).spriteFrame = this.textSpriteFrame;
          this.targetNode.addChild(textNode);
        }
        this.darkNode = new cc.Node();
        var darkSprite = this.darkNode.addComponent(cc.Sprite);
        darkSprite.type = backgroundSprite.type;
        darkSprite.sizeMode = backgroundSprite.sizeMode;
        darkSprite.trim = backgroundSprite.trim;
        darkSprite.spriteFrame = this.backgroundSpriteFrame;
        this.darkNode.height = this.targetNode.height;
        this.darkNode.width = this.targetNode.width;
        applyBlendMode(darkSprite, TYPE.DARK);
        this.darkNode.color = this.darkColor.clone().setA(255);
        this.darkNode.opacity = this.darkColor.getA();
        this.targetNode.addChild(this.darkNode);
        this.brightNode = new cc.Node();
        var brightSprite = this.brightNode.addComponent(cc.Sprite);
        brightSprite.type = backgroundSprite.type;
        brightSprite.sizeMode = backgroundSprite.sizeMode;
        brightSprite.trim = backgroundSprite.trim;
        brightSprite.spriteFrame = this.backgroundSpriteFrame;
        this.brightNode.height = this.targetNode.height;
        this.brightNode.width = this.targetNode.width;
        applyBlendMode(brightSprite, TYPE.BRIGHT);
        this.brightNode.color = this.brightColor.clone().setA(255);
        this.brightNode.opacity = this.brightColor.getA();
        this.targetNode.addChild(this.brightNode);
        this.loopBrightNodes(false, true);
        this.loopDarkNodes(false, true);
        this.apply();
      };
      CommonButton.prototype.onClick = function() {
        this.toggleChecked();
        __spreadArrays([ this.onClickHandler ], this.onClickHandlers).forEach(function(h) {
          return h && h.emit([]);
        });
      };
      CommonButton.prototype.loopBrightNodes = function(able, force) {
        void 0 === force && (force = false);
        if (this.bright === able && !force) return;
        this.bright = able;
        var nodes = this.brightNodes.concat(this.brightNode);
        if (this.fade) {
          var to_1 = able ? this.brightColor.getA() : 0;
          nodes.forEach(function(node) {
            node.stopAllActions();
            NodeTween_1.applyNodeTween({
              node: node,
              action: cc.fadeTo(.1, to_1)
            });
          });
        } else {
          this.brightNode.active = able;
          this.brightNodes.forEach(function(node) {
            node.active = able;
          });
        }
      };
      CommonButton.prototype.loopDarkNodes = function(able, force) {
        void 0 === force && (force = false);
        if (this.dark === able && !force) return;
        this.dark = able;
        var to = able ? this.darkColor.getA() : 0;
        var node = this.darkNode;
        if (this.fade) {
          node.stopAllActions();
          NodeTween_1.applyNodeTween({
            node: node,
            action: cc.fadeTo(.1, to)
          });
        } else this.darkNode.active = able;
      };
      CommonButton.prototype.bindMouseEnter = function(fn) {
        this.mouseEnter = fn;
      };
      CommonButton.prototype.bindMouseLeave = function(fn) {
        this.mouseLeave = fn;
      };
      CommonButton.prototype.onMouseEnter = function() {
        this.mouseEnter && this.mouseEnter();
        this.isHover = true;
        this.interactable && this.loopBrightNodes(true);
      };
      CommonButton.prototype.onMouseLeave = function() {
        this.mouseLeave && this.mouseLeave();
        this.isHover = false;
        this.interactable && (this._keepBright || this.loopBrightNodes(false));
      };
      CommonButton.prototype.onEnable = function() {
        if (cc.sys.isMobile) {
          this.hoverNode.on(cc.Node.EventType.TOUCH_START, this.onMouseEnter, this);
          this.hoverNode.on(cc.Node.EventType.TOUCH_END, this.onMouseLeave, this);
          this.hoverNode.on(cc.Node.EventType.TOUCH_CANCEL, this.onMouseLeave, this);
        } else {
          this.hoverNode.on(cc.Node.EventType.MOUSE_ENTER, this.onMouseEnter, this);
          this.hoverNode.on(cc.Node.EventType.MOUSE_LEAVE, this.onMouseLeave, this);
        }
        this.apply();
      };
      CommonButton.prototype.onDisable = function() {
        if (cc.sys.isMobile) {
          this.hoverNode.off(cc.Node.EventType.TOUCH_START, this.onMouseEnter, this);
          this.hoverNode.off(cc.Node.EventType.TOUCH_END, this.onMouseLeave, this);
          this.hoverNode.off(cc.Node.EventType.TOUCH_CANCEL, this.onMouseLeave, this);
        } else {
          this.hoverNode.off(cc.Node.EventType.MOUSE_ENTER, this.onMouseEnter, this);
          this.hoverNode.off(cc.Node.EventType.MOUSE_LEAVE, this.onMouseLeave, this);
        }
        this.isHover = false;
      };
      Object.defineProperty(CommonButton.prototype, "keepBright", {
        get: function() {
          return this._keepBright;
        },
        set: function(value) {
          this._keepBright = value;
          this.apply();
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(CommonButton.prototype, "interactable", {
        get: function() {
          return this._interactable;
        },
        set: function(value) {
          this._interactable = value;
          this.apply();
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(CommonButton.prototype, "isChecked", {
        get: function() {
          return this._isChecked;
        },
        set: function(value) {
          this.checkmarks.forEach(Utils_1.nodeActive(value));
          this.notCheckmarks.forEach(Utils_1.nodeActive(!value));
          this._isChecked = value;
        },
        enumerable: false,
        configurable: true
      });
      CommonButton.prototype.isHovered = function() {
        return this.isHover;
      };
      CommonButton.prototype.toggleChecked = function() {
        this.isChecked = !this.isChecked;
      };
      CommonButton.prototype.apply = function() {
        this.pre();
        var keepBright = this.keepBright;
        var interactable = this.interactable;
        var bright = false;
        var dark = false;
        if (interactable) {
          (keepBright || this.isHover) && (bright = true);
          this.cantClickWhenKeepBright && keepBright ? this.scaleButton.interactable = false : this.scaleButton.interactable = true;
        } else {
          keepBright ? bright = true : dark = true;
          this.scaleButton.interactable = false;
        }
        this.loopBrightNodes(bright);
        this.loopDarkNodes(dark);
      };
      __decorate([ property({
        type: cc.Node,
        tooltip: "\u4eae\u6697\u6309\u9215"
      }) ], CommonButton.prototype, "targetNode", void 0);
      __decorate([ property({
        type: cc.Node,
        tooltip: "\u4e3b\u6309\u9215\uff0c\u6703\u88ab\u7e2e\u653e\u7684"
      }) ], CommonButton.prototype, "scaleNode", void 0);
      __decorate([ property({
        type: cc.Node,
        tooltip: ""
      }) ], CommonButton.prototype, "hoverNode", void 0);
      __decorate([ property(cc.SpriteFrame) ], CommonButton.prototype, "backgroundSpriteFrame", void 0);
      __decorate([ property(cc.SpriteFrame) ], CommonButton.prototype, "textSpriteFrame", void 0);
      __decorate([ property(cc.Label) ], CommonButton.prototype, "label", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonButton.prototype, "onClickHandler", void 0);
      __decorate([ property([ cc.Component.EventHandler ]) ], CommonButton.prototype, "onClickHandlers", void 0);
      __decorate([ property(cc.Boolean) ], CommonButton.prototype, "cantClickWhenKeepBright", void 0);
      __decorate([ property(cc.Boolean) ], CommonButton.prototype, "enableAutoGrayEffect", void 0);
      __decorate([ property(cc.Float) ], CommonButton.prototype, "zoomScale", void 0);
      __decorate([ property(cc.Color) ], CommonButton.prototype, "brightColor", void 0);
      __decorate([ property(cc.Color) ], CommonButton.prototype, "darkColor", void 0);
      __decorate([ property([ cc.Node ]) ], CommonButton.prototype, "checkmarks", void 0);
      __decorate([ property([ cc.Node ]) ], CommonButton.prototype, "notCheckmarks", void 0);
      __decorate([ property([ cc.Node ]) ], CommonButton.prototype, "brightNodes", void 0);
      __decorate([ property(cc.Boolean) ], CommonButton.prototype, "fade", void 0);
      CommonButton = __decorate([ ccclass, menu("Button/CommonButton") ], CommonButton);
      return CommonButton;
    }(cc.Component);
    exports.default = CommonButton;
    function applyColor(node, type) {
      if (type === TYPE.NORMAL) {
        node.color = cc.color(255, 255, 255);
        node.opacity = 255;
      } else if (type === TYPE.BRIGHT) {
        node.color = cc.color(255, 255, 255);
        node.opacity = 80;
      } else if (type === TYPE.DARK) {
        node.color = cc.color(0, 0, 0);
        node.opacity = 180;
      }
    }
    exports.applyColor = applyColor;
    function applyBlendMode(sprite, type) {
      if (type === TYPE.NORMAL) {
        sprite.srcBlendFactor = cc.macro.BlendFactor.SRC_ALPHA;
        sprite.dstBlendFactor = cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA;
      } else if (type === TYPE.BRIGHT) {
        sprite.srcBlendFactor = cc.macro.BlendFactor.SRC_ALPHA;
        sprite.dstBlendFactor = cc.macro.BlendFactor.ONE;
      } else if (type === TYPE.DARK) {
        sprite.srcBlendFactor = cc.macro.BlendFactor.ONE;
        sprite.dstBlendFactor = cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA;
      }
    }
    exports.applyBlendMode = applyBlendMode;
    cc._RF.pop();
  }, {
    "../data/NodeTween": "NodeTween",
    "../script/ResSprite": "ResSprite",
    "../utils/Utils": "Utils",
    "./I18nSprite": "I18nSprite"
  } ],
  CommonSpineButton: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "8fb38FkFYhCL40VXIaQzD8K", "CommonSpineButton");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __spreadArrays = this && this.__spreadArrays || function() {
      for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
      for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, 
      k++) r[k] = a[j];
      return r;
    };
    var _a;
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var LibGlobal_1 = require("../LibGlobal");
    var PromiseManager_1 = require("../script/PromiseManager");
    var Utils_1 = require("../utils/Utils");
    var _b = cc._decorator, ccclass = _b.ccclass, property = _b.property, menu = _b.menu;
    var SPINE_BUTTON_STATE;
    (function(SPINE_BUTTON_STATE) {
      SPINE_BUTTON_STATE[SPINE_BUTTON_STATE["NONE"] = 0] = "NONE";
      SPINE_BUTTON_STATE[SPINE_BUTTON_STATE["NORMAL"] = 10] = "NORMAL";
      SPINE_BUTTON_STATE[SPINE_BUTTON_STATE["DOWN"] = 21] = "DOWN";
      SPINE_BUTTON_STATE[SPINE_BUTTON_STATE["PRESS"] = 22] = "PRESS";
      SPINE_BUTTON_STATE[SPINE_BUTTON_STATE["UP"] = 23] = "UP";
      SPINE_BUTTON_STATE[SPINE_BUTTON_STATE["BRIGHT"] = 31] = "BRIGHT";
      SPINE_BUTTON_STATE[SPINE_BUTTON_STATE["DARK"] = 32] = "DARK";
    })(SPINE_BUTTON_STATE || (SPINE_BUTTON_STATE = {}));
    var STATE_STR_MAP = (_a = {}, _a[SPINE_BUTTON_STATE.BRIGHT] = "bright", _a[SPINE_BUTTON_STATE.DARK] = "dark", 
    _a[SPINE_BUTTON_STATE.NORMAL] = "normal", _a[SPINE_BUTTON_STATE.DOWN] = "down", 
    _a[SPINE_BUTTON_STATE.PRESS] = "press", _a[SPINE_BUTTON_STATE.UP] = "up", _a);
    function getButtonAnimationType(prefix, strs) {
      return -1 !== strs.indexOf(getAnimationName(prefix, SPINE_BUTTON_STATE.PRESS)) ? 1 : 2;
    }
    function getAnimationName(prefix, state) {
      if (state === SPINE_BUTTON_STATE.NONE) return "empty";
      return prefix + "_" + STATE_STR_MAP[state];
    }
    var CommonSpineButton = function(_super) {
      __extends(CommonSpineButton, _super);
      function CommonSpineButton() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.skeleton = null;
        _this.prefix = "";
        _this.darkColor = new cc.Color(0, 0, 0, 180);
        _this.checkmarks = [];
        _this.notCheckmarks = [];
        _this.onClickHandler = null;
        _this.onClickHandlers = [];
        _this.brightNode = null;
        _this.darkNode = null;
        _this.button = null;
        _this._interactable = true;
        _this._isChecked = false;
        _this.isHover = false;
        _this.isPress = false;
        _this.type = 0;
        return _this;
      }
      Object.defineProperty(CommonSpineButton.prototype, "interactable", {
        get: function() {
          return this._interactable;
        },
        set: function(able) {
          this._interactable = able;
          this.button.interactable = able;
          this.apply();
          if (this.isPress) {
            this.isPress = false;
            this.refreshPress(false);
          }
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(CommonSpineButton.prototype, "isChecked", {
        get: function() {
          return this._isChecked;
        },
        set: function(value) {
          this.checkmarks.forEach(Utils_1.nodeActive(value));
          this.notCheckmarks.forEach(Utils_1.nodeActive(!value));
          this._isChecked = value;
        },
        enumerable: false,
        configurable: true
      });
      CommonSpineButton.prototype.onLoad = function() {
        var _a;
        var _this = this;
        LibGlobal_1.globalDebugNNN(this, "csb");
        this.button = this.node.addComponent(cc.Button);
        this.button.transition = cc.Button.Transition.NONE;
        try {
          this.button.target = this.node;
        } catch (_b) {}
        (_a = this.button.clickEvents).push.apply(_a, __spreadArrays([ this.onClickHandler ], this.onClickHandlers));
        var mode = this.skeleton._cacheMode;
        var skeletonData = this.skeleton.skeletonData;
        var scale = this.skeleton.node.scale;
        var size = this.node.getContentSize();
        var skeletonSize = cc.size(size.width / scale, size.height / scale);
        var brightNode = new cc.Node("brightNode");
        brightNode.setContentSize(skeletonSize);
        brightNode.scale = scale;
        brightNode.setParent(this.node);
        brightNode.opacity = 0;
        this.brightNode = brightNode;
        var brightSkeleton = brightNode.addComponent(sp.Skeleton);
        brightSkeleton.skeletonData = skeletonData;
        brightSkeleton.setAnimationCacheMode(mode);
        PromiseManager_1.spSkeletonSetAnimation(brightSkeleton, getAnimationName(this.prefix, SPINE_BUTTON_STATE.BRIGHT), false);
        PromiseManager_1.spSkeletonSetAnimation(this.skeleton, getAnimationName(this.prefix, SPINE_BUTTON_STATE.NORMAL), true);
        var strs = Object.keys(skeletonData.skeletonJson.animations).filter(function(s) {
          return s.startsWith(_this.prefix);
        });
        this.type = getButtonAnimationType(this.prefix, strs);
        var darkNode = new cc.Node("darkNode");
        this.darkNode = darkNode;
        darkNode.scale = scale;
        darkNode.setParent(this.node);
        darkNode.opacity = this.darkColor.getA();
        var darkSkeleton = darkNode.addComponent(sp.Skeleton);
        darkSkeleton.setAnimationCacheMode(mode);
        darkSkeleton.skeletonData = skeletonData;
        PromiseManager_1.spSkeletonSetAnimation(darkSkeleton, getAnimationName(this.prefix, SPINE_BUTTON_STATE.DARK), false);
        this.apply();
      };
      CommonSpineButton.prototype.onMouseEnter = function() {
        this.isHover = true;
        this.interactable && this.refreshBright(true);
      };
      CommonSpineButton.prototype.onMouseLeave = function() {
        this.isHover = false;
        if (this.interactable) {
          this.refreshBright(false);
          if (this.isPress) {
            this.isPress = false;
            this.refreshPress(false);
          }
        }
      };
      CommonSpineButton.prototype.apply = function() {
        this.refreshBright(this.isHover);
        this.refreshDark(this.interactable);
      };
      CommonSpineButton.prototype.refreshBright = function(able) {
        this.brightNode.opacity = able ? 255 : 0;
      };
      CommonSpineButton.prototype.refreshDark = function(able) {
        this.darkNode.opacity = able ? 0 : 255;
      };
      CommonSpineButton.prototype.press = function() {
        var _this = this;
        if (this.isPress) return;
        var arr = [];
        1 === this.type ? arr = [ SPINE_BUTTON_STATE.DOWN, SPINE_BUTTON_STATE.UP, SPINE_BUTTON_STATE.NORMAL ] : 2 === this.type && (arr = [ SPINE_BUTTON_STATE.DOWN, SPINE_BUTTON_STATE.NORMAL ]);
        if (arr.length) {
          var strs = arr.map(function(s) {
            return getAnimationName(_this.prefix, s);
          });
          PromiseManager_1.spSkeletonSetAnimation(this.skeleton, strs, true);
        }
      };
      CommonSpineButton.prototype.refreshPress = function(press) {
        var _this = this;
        var arr = [];
        var loop = false;
        if (press) if (1 === this.type) {
          arr = [ SPINE_BUTTON_STATE.DOWN, SPINE_BUTTON_STATE.PRESS ];
          loop = false;
        } else if (2 === this.type) {
          arr = [ SPINE_BUTTON_STATE.DOWN, SPINE_BUTTON_STATE.NORMAL ];
          loop = true;
        } else debugger; else if (1 === this.type) {
          arr = [ SPINE_BUTTON_STATE.UP, SPINE_BUTTON_STATE.NORMAL ];
          loop = true;
        }
        if (arr.length) {
          var strs = arr.map(function(s) {
            return getAnimationName(_this.prefix, s);
          });
          PromiseManager_1.spSkeletonSetAnimation(this.skeleton, strs, loop);
        }
      };
      CommonSpineButton.prototype.onMouseDown = function() {
        if (this.interactable) {
          this.isPress = true;
          this.refreshPress(true);
        }
      };
      CommonSpineButton.prototype.onMouseUp = function() {
        if (this.interactable && this.isPress) {
          this.isPress = false;
          this.refreshPress(false);
        }
      };
      CommonSpineButton.prototype.onEnable = function() {
        if (cc.sys.isMobile) {
          this.node.on(cc.Node.EventType.TOUCH_START, this.onMouseDown, this);
          this.node.on(cc.Node.EventType.TOUCH_END, this.onMouseUp, this);
        } else {
          this.brightNode.on(cc.Node.EventType.MOUSE_ENTER, this.onMouseEnter, this);
          this.brightNode.on(cc.Node.EventType.MOUSE_LEAVE, this.onMouseLeave, this);
          this.node.on(cc.Node.EventType.MOUSE_DOWN, this.onMouseDown, this);
          this.node.on(cc.Node.EventType.MOUSE_UP, this.onMouseUp, this);
        }
      };
      CommonSpineButton.prototype.onDisable = function() {
        if (cc.sys.isMobile) {
          this.node.off(cc.Node.EventType.TOUCH_START, this.onMouseDown, this);
          this.node.off(cc.Node.EventType.TOUCH_END, this.onMouseUp, this);
        } else {
          this.brightNode.off(cc.Node.EventType.MOUSE_ENTER, this.onMouseEnter, this);
          this.brightNode.off(cc.Node.EventType.MOUSE_LEAVE, this.onMouseLeave, this);
          this.node.off(cc.Node.EventType.MOUSE_DOWN, this.onMouseDown, this);
          this.node.off(cc.Node.EventType.MOUSE_UP, this.onMouseUp, this);
        }
      };
      __decorate([ property(sp.Skeleton) ], CommonSpineButton.prototype, "skeleton", void 0);
      __decorate([ property(cc.String) ], CommonSpineButton.prototype, "prefix", void 0);
      __decorate([ property(cc.Color) ], CommonSpineButton.prototype, "darkColor", void 0);
      __decorate([ property([ cc.Node ]) ], CommonSpineButton.prototype, "checkmarks", void 0);
      __decorate([ property([ cc.Node ]) ], CommonSpineButton.prototype, "notCheckmarks", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonSpineButton.prototype, "onClickHandler", void 0);
      __decorate([ property([ cc.Component.EventHandler ]) ], CommonSpineButton.prototype, "onClickHandlers", void 0);
      CommonSpineButton = __decorate([ ccclass, menu("Button/CommonSpineButton") ], CommonSpineButton);
      return CommonSpineButton;
    }(cc.Component);
    exports.default = CommonSpineButton;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../script/PromiseManager": "PromiseManager",
    "../utils/Utils": "Utils"
  } ],
  CommonUIAutoConfig: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "cefcaDvEdJFp55DZrK+gkeF", "CommonUIAutoConfig");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CommonUIManager_1 = require("./CommonUIManager");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CommonUIAutoConfig = function(_super) {
      __extends(CommonUIAutoConfig, _super);
      function CommonUIAutoConfig() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.templates = [];
        _this.templateNodes = [];
        return _this;
      }
      CommonUIAutoConfig.prototype.onLoad = function() {
        var _this = this;
        if (!this.templates.length) return;
        var commonUIManager = this.getComponent(CommonUIManager_1.default);
        var slotAutos = commonUIManager.getLayoutAutos();
        slotAutos.forEach(function(slotAuto, index) {
          var temp = _this.templates[index];
          temp && (slotAuto.template = temp);
          var tempNode = _this.templateNodes[index];
          tempNode && (slotAuto.templateNode = tempNode);
        });
      };
      __decorate([ property({
        type: [ cc.Prefab ],
        tooltip: "H\nMH\nMV\n\u4e00\u5b9a\u8981\u4e09\u500b"
      }) ], CommonUIAutoConfig.prototype, "templates", void 0);
      __decorate([ property({
        type: [ cc.Node ],
        tooltip: "H\nMH\nMV\n\u4e00\u5b9a\u8981\u4e09\u500b"
      }) ], CommonUIAutoConfig.prototype, "templateNodes", void 0);
      CommonUIAutoConfig = __decorate([ ccclass ], CommonUIAutoConfig);
      return CommonUIAutoConfig;
    }(cc.Component);
    exports.default = CommonUIAutoConfig;
    cc._RF.pop();
  }, {
    "./CommonUIManager": "CommonUIManager"
  } ],
  CommonUIAutoContent: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "46673Q5hfVHTqPvgyP1uiWF", "CommonUIAutoContent");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CommonButton_1 = require("../component/CommonButton");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CommonUIAutoContent = function(_super) {
      __extends(CommonUIAutoContent, _super);
      function CommonUIAutoContent() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.content = null;
        _this.panelClose = null;
        return _this;
      }
      __decorate([ property(cc.Node) ], CommonUIAutoContent.prototype, "content", void 0);
      __decorate([ property(CommonButton_1.default) ], CommonUIAutoContent.prototype, "panelClose", void 0);
      CommonUIAutoContent = __decorate([ ccclass ], CommonUIAutoContent);
      return CommonUIAutoContent;
    }(cc.Component);
    exports.default = CommonUIAutoContent;
    cc._RF.pop();
  }, {
    "../component/CommonButton": "CommonButton"
  } ],
  CommonUIAuto: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "22f75XQPSxI7ocm372Noc2/", "CommonUIAuto");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var KeyNode_1 = require("../data/KeyNode");
    var ResizeGlobal_1 = require("../ResizeGlobal");
    var ResourcesCol_1 = require("../script/ResourcesCol");
    var Utils_1 = require("../utils/Utils");
    var CommonUIAutoContent_1 = require("./CommonUIAutoContent");
    var CommonUIManager_1 = require("./CommonUIManager");
    var CommonUIStyle_1 = require("./CommonUIStyle");
    var CommonUIStyleCopy_1 = require("./CommonUIStyleCopy");
    var OptionPanel_1 = require("./OptionPanel");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CommonUIAuto = function(_super) {
      __extends(CommonUIAuto, _super);
      function CommonUIAuto() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.size1280x720 = false;
        _this.defaultPrefab = null;
        _this.template = null;
        _this.templateNode = null;
        _this.content = null;
        _this.clickHandler = null;
        _this.cancelClickHandler = null;
        _this.replace = function(ks) {};
        return _this;
      }
      CommonUIAuto.prototype.onLoad = function() {
        var _this = this;
        var template = this.template || this.defaultPrefab;
        var node = cc.instantiate(template);
        var sac = node.getComponent(CommonUIAutoContent_1.default);
        this.size1280x720 && ResizeGlobal_1.resizeNode(ResizeGlobal_1.RESIZE_SCALE, node);
        node.parent = this.content;
        node.getComponentsInChildren(ResourcesCol_1.default).forEach(function(col) {
          col.keyStrs.map(_this.replace);
        });
        var opt = node.getComponent(OptionPanel_1.default);
        opt.clickHandler = this.clickHandler;
        sac.panelClose.onClickHandler = this.cancelClickHandler;
        sac.content && (this.templateNode.parent = sac.content);
        var culs = this.getComponentsInChildren(CommonUIStyle_1.default);
        var arr = [];
        culs.forEach(function(cul) {
          var ks = Utils_1.flattenDeep([ cul.keys, cul.key ]).filter(Utils_1.identity);
          var tn = cul.node;
          ks.forEach(function(k) {
            var sns = KeyNode_1.getNodesByKey(_this.labelKeyNodes, k);
            sns.forEach(function(sn) {
              if (!sn) {
                arr.push(k);
                return;
              }
              var copy = sn.getComponent(CommonUIStyleCopy_1.default);
              copy ? copy.copyTo(tn) : CommonUIManager_1.copyLabelProperty(sn, tn);
            });
          });
        });
      };
      __decorate([ property(cc.Prefab) ], CommonUIAuto.prototype, "defaultPrefab", void 0);
      __decorate([ property(cc.Prefab) ], CommonUIAuto.prototype, "template", void 0);
      __decorate([ property(cc.Node) ], CommonUIAuto.prototype, "templateNode", void 0);
      __decorate([ property(cc.Node) ], CommonUIAuto.prototype, "content", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonUIAuto.prototype, "clickHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonUIAuto.prototype, "cancelClickHandler", void 0);
      CommonUIAuto = __decorate([ ccclass ], CommonUIAuto);
      return CommonUIAuto;
    }(cc.Component);
    exports.default = CommonUIAuto;
    cc._RF.pop();
  }, {
    "../ResizeGlobal": "ResizeGlobal",
    "../data/KeyNode": "KeyNode",
    "../script/ResourcesCol": "ResourcesCol",
    "../utils/Utils": "Utils",
    "./CommonUIAutoContent": "CommonUIAutoContent",
    "./CommonUIManager": "CommonUIManager",
    "./CommonUIStyle": "CommonUIStyle",
    "./CommonUIStyleCopy": "CommonUIStyleCopy",
    "./OptionPanel": "OptionPanel"
  } ],
  CommonUIData: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f72cfPwPklFr66BuVMSMDY1", "CommonUIData");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.featureBuyNextLevel = void 0;
    var CurrencyGlobal_1 = require("../CurrencyGlobal");
    var ColDataBase_1 = require("../data/ColDataBase");
    var I18nGlobal_1 = require("../I18nGlobal");
    var ResizeGlobal_1 = require("../ResizeGlobal");
    var Balance_1 = require("../utils/Balance");
    var OptionPanel_1 = require("./OptionPanel");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CommonUIData = function(_super) {
      __extends(CommonUIData, _super);
      function CommonUIData() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.layout = ResizeGlobal_1.UI_LAYOUT.UNKNOWN;
        _this.currencyCode = "";
        _this.currencySymbol = "";
        _this.currencySymbol2 = "";
        _this.currencyTail = "";
        _this.betable = true;
        _this.animation = false;
        _this.isSpecialMode = false;
        _this.isSpin = false;
        _this.isStop = false;
        _this.skippable = false;
        _this.autoRound = 0;
        _this.autoRoundView = "0";
        _this.stopWhenWins = false;
        _this.stopWins = 0;
        _this.stopWhenSpecialMode = false;
        _this.stopWhenBalanceIncrease = false;
        _this.stopBalanceIncrease = 0;
        _this.stopWhenBalanceLose = false;
        _this.stopBalacneLose = 0;
        _this.displaySettingOption = true;
        _this.displaySettingCurrencySymbol = true;
        _this.displayStartPage = true;
        _this.displaySpaceSpin = true;
        _this.displayStopWhenSpecialMode = true;
        _this.speedUp = true;
        _this.displaySpin = true;
        _this.displaySpinAuto = false;
        _this.displayStop = false;
        _this.displayStopAuto = false;
        _this.displayAuto = true;
        _this.displayLevel = true;
        _this.displaySpeedUp = true;
        _this.displayCtrl = true;
        _this.displayLevelCtrl = true;
        _this.customCtrl = false;
        _this.customLevel = false;
        _this.customBoolean0 = false;
        _this.customBoolean1 = false;
        _this.customBoolean2 = false;
        _this.customBoolean3 = false;
        _this.customBoolean4 = false;
        _this.customBoolean5 = false;
        _this.customBoolean6 = false;
        _this.customBoolean7 = false;
        _this.customBoolean8 = false;
        _this.customBoolean9 = false;
        _this.customString0 = "";
        _this.customString1 = "";
        _this.customString2 = "";
        _this.customString3 = "";
        _this.customString4 = "";
        _this.customString5 = "";
        _this.displayDemo = false;
        _this.displayTotalBet = true;
        _this.displayBack = true;
        _this.displayRecord = true;
        _this.displaySetting = true;
        _this.displayInfo = true;
        _this.allowSpin = true;
        _this.allowSpinAuto = false;
        _this.allowStop = true;
        _this.allowStopAuto = true;
        _this.allowSpinStopSpinAuto = true;
        _this.allowAutoStopAuto = true;
        _this.allowAuto = true;
        _this.allowLevel = true;
        _this.allowLessLevel = true;
        _this.allowMoreLevel = true;
        _this.displayAutoPanel = false;
        _this.autoPanelAutos = [];
        _this.autoPanelAuto = "";
        _this.displayLevelPanel = false;
        _this.levelPanelLevels = [];
        _this.levelPanelLevel = "";
        _this.allowMenu = true;
        _this.displayMenu = false;
        _this.displayInfoPanel = false;
        _this.featureBuyLevels = [];
        _this.displayFeatureBuy = false;
        _this.displayFeatureBuyPanel = false;
        _this.displaySettingPanel = false;
        _this.spinSpeed = 1;
        _this.startPage = true;
        _this.displayCurrencySymbol = false;
        _this.spaceSpin = false;
        _this.playEffect = false;
        _this.playMusic = false;
        _this.playSound = false;
        _this.soundRatio = .4;
        _this.rawBalance = "0";
        _this.balance = "0.00";
        _this.balanceView = "0.00";
        _this.wins = "0.00";
        _this.winsView = "0.00";
        _this.level = "";
        _this.totalBet = "0.00";
        _this.totalBetView = "0.00";
        _this.line = "0";
        _this.now = "00:00";
        _this.message = "";
        _this.version = "v0";
        _this.currencyRatio = "";
        _this.singleWinAtLeast = "";
        _this.balIncreased = "";
        _this.balLosed = "";
        return _this;
      }
      CommonUIData.prototype.set = function(key, val, force) {
        void 0 === force && (force = false);
        return _super.prototype.set.call(this, "" + key, val, force);
      };
      CommonUIData.prototype.registComputed = function(col, refCols, fn) {
        return _super.prototype.registComputed.call(this, col, refCols, fn);
      };
      CommonUIData.prototype.registCallback = function(refCols, fn) {
        return _super.prototype.registComputed.call(this, "", refCols, fn);
      };
      CommonUIData.prototype.doPre = function() {
        var _this = this;
        this.registComputed("displayCtrl", [ "customCtrl", "betable", "layout", "displayInfoPanel", "animation", "displayAutoPanel", "displayLevelPanel", "displaySettingPanel", "displayFeatureBuyPanel" ], function() {
          if (_this.customCtrl) return false;
          if (_this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL || _this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_HORIZONTAL) {
            if (_this.displayInfoPanel) return false;
            if (_this.animation && !(_this.displayAutoPanel || _this.displayLevelPanel || _this.displaySettingPanel)) return false;
          }
          return true;
        });
        this.registComputed("displaySpin", [ "betable", "autoRound" ], function() {
          return _this.betable;
        });
        this.registComputed("displaySpinAuto", [ "betable", "autoRound" ], function() {
          return !_this.betable && 0 !== _this.autoRound;
        });
        this.registComputed("displayStop", [ "betable", "autoRound", "isSpecialMode" ], function() {
          return !_this.betable && 0 === _this.autoRound;
        });
        this.registComputed("displayAuto", [ "betable", "autoRound", "isSpecialMode" ], function() {
          return 0 === _this.autoRound;
        });
        this.registComputed([ "displayStopAuto", "allowStopAuto" ], [ "betable", "autoRound", "isSpecialMode" ], function() {
          return 0 !== _this.autoRound;
        });
        this.registComputed("allowSpinStopSpinAuto", [ "allowSpin", "allowAuto", "allowSpinAuto" ], function() {
          return _this.allowSpin || _this.allowAuto || _this.allowSpinAuto;
        });
        this.registComputed("allowAutoStopAuto", [ "allowAuto", "allowStopAuto" ], function() {
          return _this.allowAuto || _this.allowStopAuto;
        });
        this.registComputed([ "allowStop", "allowSpinAuto" ], [ "isSpin", "isStop", "autoRound", "skippable", "isSpecialMode" ], function() {
          if (_this.isSpecialMode) return false;
          return _this.isSpin && !_this.isStop || _this.skippable;
        });
        if (!this.customLevel) {
          this.registComputed([ "allowLevel", "allowAuto", "allowMenu" ], [ "betable" ], function() {
            return _this.betable;
          });
          this.registComputed("allowLessLevel", [ "allowLevel", "level", "displayFeatureBuyPanel", "featureBuyLevels" ], function() {
            if (!_this.allowLevel) return false;
            if (_this.displayFeatureBuyPanel) return featureBuyNextLevel(_this, -1);
            return true;
          });
          this.registComputed("allowMoreLevel", [ "allowLevel", "level", "displayFeatureBuyPanel", "featureBuyLevels" ], function() {
            if (!_this.allowLevel) return false;
            if (_this.displayFeatureBuyPanel) return featureBuyNextLevel(_this, 1);
            return true;
          });
        }
        this.registComputed("balance", [ "rawBalance" ], function() {
          return Balance_1.balanceThousandth(_this.rawBalance);
        });
        this.registComputed("autoRoundView", [ "autoRound" ], function() {
          if (Infinity === _this.autoRound) return OptionPanel_1.INFINITY_MARK;
          return "" + _this.autoRound;
        });
        this.registComputed("balanceView", [ "balance", "displayCurrencySymbol", "currencySymbol" ], function() {
          if (_this.displayCurrencySymbol) return CurrencyGlobal_1.getCurrencyPrefix() + _this.balance + CurrencyGlobal_1.getCurrencySuffix();
          return _this.balance;
        });
        this.registComputed("winsView", [ "wins", "displayCurrencySymbol", "currencySymbol" ], function() {
          if (_this.displayCurrencySymbol) return CurrencyGlobal_1.getCurrencyPrefix() + _this.wins + CurrencyGlobal_1.getCurrencySuffix();
          return _this.wins;
        });
        this.registComputed("totalBetView", [ "totalBet", "displayCurrencySymbol", "currencySymbol" ], function() {
          if (_this.displayCurrencySymbol) return CurrencyGlobal_1.getCurrencyPrefix() + _this.totalBet + CurrencyGlobal_1.getCurrencySuffix();
          return _this.totalBet;
        });
        this.registComputed("singleWinAtLeast", [ "currencyCode", "currencySymbol2", "currencyTail" ], function() {
          return I18nGlobal_1.translate("COMMONUI.single_win_at_least") + " " + _this.currencySymbol2 + _this.currencyTail;
        });
        this.registComputed("balIncreased", [ "currencyCode", "currencySymbol2", "currencyTail" ], function() {
          return I18nGlobal_1.translate("COMMONUI.bal_increased") + " " + _this.currencySymbol2 + _this.currencyTail;
        });
        this.registComputed("balLosed", [ "currencyCode", "currencySymbol2", "currencyTail" ], function() {
          return I18nGlobal_1.translate("COMMONUI.bal_losed") + " " + _this.currencySymbol2 + _this.currencyTail;
        });
        this.registComputed("displayFeatureBuy", [ "featureBuyLevels" ], function() {
          if (!_this.featureBuyLevels.length) return false;
          return featureBuyNextLevel(_this, 0);
        });
        this.registComputed("displaySettingOption", [ "displaySettingCurrencySymbol", "displaySpaceSpin" ], function() {
          return _this.displaySettingCurrencySymbol || _this.displaySpaceSpin;
        });
      };
      CommonUIData = __decorate([ ccclass ], CommonUIData);
      return CommonUIData;
    }(ColDataBase_1.default);
    exports.default = CommonUIData;
    function featureBuyNextLevel(commonUIData, offset, betBase) {
      void 0 === betBase && (betBase = 0);
      var idx = commonUIData.levelPanelLevels.indexOf(commonUIData.level);
      var nextLevel = commonUIData.levelPanelLevels[idx + offset];
      if (!nextLevel) return false;
      var fls = commonUIData.featureBuyLevels;
      if (fls.length) return fls.some(function(f) {
        var fd = f.clone();
        fd.updateLevel(Number(nextLevel));
        betBase && fd.updateBetBase(betBase);
        return !fd.overFeatureBuyMax();
      });
      return true;
    }
    exports.featureBuyNextLevel = featureBuyNextLevel;
    cc._RF.pop();
  }, {
    "../CurrencyGlobal": "CurrencyGlobal",
    "../I18nGlobal": "I18nGlobal",
    "../ResizeGlobal": "ResizeGlobal",
    "../data/ColDataBase": "ColDataBase",
    "../utils/Balance": "Balance",
    "./OptionPanel": "OptionPanel"
  } ],
  CommonUIInfoConfig: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c8befSg9oNNiKV7R2A4IWYK", "CommonUIInfoConfig");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var I18nLabel_1 = require("../component/I18nLabel");
    var I18nMeta_1 = require("../component/I18nMeta");
    var I18nSprite_1 = require("../component/I18nSprite");
    var Repeat_1 = require("../component/Repeat");
    var KeyAtlas_1 = require("../data/KeyAtlas");
    var I18nGlobal_1 = require("../I18nGlobal");
    var ResizeGlobal_1 = require("../ResizeGlobal");
    var ResourcesCol_1 = require("../script/ResourcesCol");
    var CommonUIInfoReplace_1 = require("../ui/CommonUIInfoReplace");
    var CommonUIManager_1 = require("../ui/CommonUIManager");
    var InfoPage_1 = require("../ui/InfoPage");
    var CommonUIInfo_1 = require("./CommonUIInfo");
    var InfoConfigBase_1 = require("./InfoConfigBase");
    var InfoLabel_1 = require("./InfoLabel");
    var PrefabManager_1 = require("./PrefabManager");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CommonUIInfoConfig = function(_super) {
      __extends(CommonUIInfoConfig, _super);
      function CommonUIInfoConfig() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.size1280x720 = false;
        _this.infoNode = null;
        _this.jsonAsset = null;
        _this.keyAtlass = [];
        _this.prefabManager = [];
        _this.needStartPageAssets = false;
        _this.commonUIInfos = [];
        _this.infoReplacerNode = null;
        return _this;
      }
      CommonUIInfoConfig.prototype.onLoad = function() {
        var _this = this;
        if (!this.prefabManager.length) return;
        var commonUIManager = this.getComponent(CommonUIManager_1.default);
        var slotInfos = commonUIManager.getLayoutInfos();
        var gidks = commonUIManager.keyStr.find(function(ks) {
          return "gid" === ks.key;
        });
        var gid = gidks.str;
        var replace = function(ks) {
          ks.key = ks.key.replace("{gid}", gid);
          ks.str = ks.str.replace("{gid}", gid);
        };
        var each = function(slotInfo, layout) {
          if (!slotInfo) return;
          slotInfo.needStartPageAssets = _this.needStartPageAssets;
          slotInfo.bindLoadInfoFail(commonUIManager.loadResourceFail.bind(commonUIManager));
          var jsonAsset = new cc.JsonAsset();
          var prefabManager = _this.prefabManager[layout];
          var layoutStr = 0 === layout ? "pch" : 1 === layout ? "mh" : "mv";
          prefabManager.keyPrefabs.forEach(function(kp, index) {
            var px = "p" + (index + 1);
            kp.key = px;
            var node = cc.instantiate(kp.prefab);
            _this.size1280x720 && ResizeGlobal_1.resizeNode(ResizeGlobal_1.RESIZE_SCALE, node);
            kp.node = node;
            "InfoHRepeat" === node.name ? _this.applyRepeatMeta(node, gid, px, "h") : "InfoVRepeat" === node.name && _this.applyRepeatMeta(node, gid, px, "v");
            var each = function(x) {
              x.dataID = x.dataID.replace("{page}", px);
              (x instanceof I18nLabel_1.I18nLabel || x instanceof I18nMeta_1.I18nMeta || x instanceof I18nSprite_1.I18nSprite) && (x.layout = layoutStr);
            };
            node.getComponentsInChildren(I18nMeta_1.I18nMeta).forEach(each);
            node.getComponentsInChildren(I18nLabel_1.I18nLabel).forEach(each);
            node.getComponentsInChildren(I18nSprite_1.I18nSprite).forEach(each);
            node.getComponentsInChildren(InfoLabel_1.default).forEach(function(il) {
              il.layout = layoutStr;
            });
            node.getComponentsInChildren(InfoPage_1.default).forEach(function(ip) {
              ip.page = px;
            });
            node.getComponentsInChildren(ResourcesCol_1.default).forEach(function(col) {
              col.keyStrs.map(replace);
            });
            node.getComponentsInChildren(Repeat_1.default).forEach(function(re) {
              re.prefix = re.prefix.replace("{gid}", gid);
              re.postfix = re.postfix.replace("{gid}", gid);
            });
          });
          jsonAsset.json = {
            info: prefabManager.keyPrefabs.map(function(kp) {
              return kp.key;
            })
          };
          slotInfo.jsonAsset = jsonAsset;
          slotInfo.prefabManager = prefabManager;
          _this.copyInfoReplace(slotInfo, layout);
        };
        slotInfos.forEach(each);
        this.commonUIInfos.forEach(each);
      };
      CommonUIInfoConfig.prototype.applyRepeatMeta = function(node, gid, px, prefix) {
        var layout = node.getComponentInChildren(cc.Layout);
        var repeat = node.getComponentInChildren(Repeat_1.default);
        repeat.prefix = gid + "_info_page.pic_paylines_form";
        var tNode = repeat.templateNode;
        var label = tNode.getComponentInChildren(cc.Label);
        var sprite = tNode.getComponentInChildren(cc.Sprite);
        var k = "INFO." + px + ".range";
        var t = I18nGlobal_1.translate(k);
        k !== t && (repeat.ranges[0] = t);
        k = "INFO." + px + ".template";
        t = I18nGlobal_1.translate(k);
        k !== t && handleWHScale(tNode, t);
        k = "INFO." + px + ".label";
        t = I18nGlobal_1.translate(k);
        k !== t && handleXYScale(label.node, t);
        k = "INFO." + px + ".sprite";
        t = I18nGlobal_1.translate(k);
        k !== t && handleXYScale(sprite.node, t);
        k = "INFO." + px + "." + prefix + "_template";
        t = I18nGlobal_1.translate(k);
        k !== t && handleWHScale(tNode, t);
        k = "INFO." + px + "." + prefix + "_label";
        t = I18nGlobal_1.translate(k);
        k !== t && handleXYScale(label.node, t);
        k = "INFO." + px + "." + prefix + "_sprite";
        t = I18nGlobal_1.translate(k);
        k !== t && handleXYScale(sprite.node, t);
        k = "INFO." + px + "." + prefix + "_layout";
        t = I18nGlobal_1.translate(k);
        if (k !== t) {
          var _a = t.split(";"), len = _a[0], scale = _a[1];
          layout.node.width = tNode.width * Number(len || 1);
          scale && (layout.node.scale = Number(scale));
        } else layout.node.width = tNode.width;
      };
      CommonUIInfoConfig.prototype.copyInfoReplace = function(commonUIInfo, layout) {
        var _a, _b;
        if (!this.infoReplacerNode || !this.infoReplacerNode.children.length) return;
        var rs = this.infoReplacerNode.children.map(function(n) {
          return n.getComponent(CommonUIInfoReplace_1.default);
        });
        0 === layout || 1 === layout ? (_a = commonUIInfo.infoReplaces).push.apply(_a, rs.filter(function(c) {
          return c.pcHorizontal || c.mobileHorizontal;
        })) : 2 === layout && (_b = commonUIInfo.infoReplaces).push.apply(_b, rs.filter(function(c) {
          return c.mobileVertical;
        }));
      };
      __decorate([ property(cc.Boolean) ], CommonUIInfoConfig.prototype, "size1280x720", void 0);
      __decorate([ property({
        type: cc.Node,
        override: true,
        readonly: true,
        visible: false
      }) ], CommonUIInfoConfig.prototype, "infoNode", void 0);
      __decorate([ property({
        type: cc.JsonAsset,
        override: true,
        readonly: true,
        visible: false
      }) ], CommonUIInfoConfig.prototype, "jsonAsset", void 0);
      __decorate([ property({
        type: [ KeyAtlas_1.KeyAtlas ],
        override: true,
        readonly: true,
        visible: false
      }) ], CommonUIInfoConfig.prototype, "keyAtlass", void 0);
      __decorate([ property({
        type: [ PrefabManager_1.default ],
        tooltip: "H\nMH\nMV\n\u4e00\u5b9a\u8981\u4e09\u500b"
      }) ], CommonUIInfoConfig.prototype, "prefabManager", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIInfoConfig.prototype, "needStartPageAssets", void 0);
      __decorate([ property({
        type: [ CommonUIInfo_1.default ],
        tooltip: "H\nMH\nMV"
      }) ], CommonUIInfoConfig.prototype, "commonUIInfos", void 0);
      __decorate([ property(cc.Node) ], CommonUIInfoConfig.prototype, "infoReplacerNode", void 0);
      CommonUIInfoConfig = __decorate([ ccclass ], CommonUIInfoConfig);
      return CommonUIInfoConfig;
    }(InfoConfigBase_1.default);
    exports.default = CommonUIInfoConfig;
    function handleXYScale(node, str) {
      var _a = str.split(";"), x = _a[0], y = _a[1], scale = _a[2];
      x && (node.x = Number(x));
      y && (node.y = Number(y));
      scale && (node.scale = Number(scale));
    }
    function handleWHScale(node, str) {
      var _a = str.split(";"), w = _a[0], h = _a[1], scale = _a[2];
      w && (node.width = Number(w));
      h && (node.height = Number(h));
      scale && (node.scale = Number(scale));
    }
    cc._RF.pop();
  }, {
    "../I18nGlobal": "I18nGlobal",
    "../ResizeGlobal": "ResizeGlobal",
    "../component/I18nLabel": "I18nLabel",
    "../component/I18nMeta": "I18nMeta",
    "../component/I18nSprite": "I18nSprite",
    "../component/Repeat": "Repeat",
    "../data/KeyAtlas": "KeyAtlas",
    "../script/ResourcesCol": "ResourcesCol",
    "../ui/CommonUIInfoReplace": "CommonUIInfoReplace",
    "../ui/CommonUIManager": "CommonUIManager",
    "../ui/InfoPage": "InfoPage",
    "./CommonUIInfo": "CommonUIInfo",
    "./InfoConfigBase": "InfoConfigBase",
    "./InfoLabel": "InfoLabel",
    "./PrefabManager": "PrefabManager"
  } ],
  CommonUIInfoReplace: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "47f75DXidNATrtWedkchhJL", "CommonUIInfoReplace");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CommonUIInfoReplace = function(_super) {
      __extends(CommonUIInfoReplace, _super);
      function CommonUIInfoReplace() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.pcHorizontal = false;
        _this.mobileHorizontal = false;
        _this.mobileVertical = false;
        _this.i18nKey = "";
        _this.parentLayers = 0;
        _this.removeAllChildren = false;
        _this.setParent = false;
        _this.removeNode = false;
        return _this;
      }
      __decorate([ property(cc.Boolean) ], CommonUIInfoReplace.prototype, "pcHorizontal", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIInfoReplace.prototype, "mobileHorizontal", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIInfoReplace.prototype, "mobileVertical", void 0);
      __decorate([ property(cc.String) ], CommonUIInfoReplace.prototype, "i18nKey", void 0);
      __decorate([ property(cc.Integer) ], CommonUIInfoReplace.prototype, "parentLayers", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIInfoReplace.prototype, "removeAllChildren", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIInfoReplace.prototype, "setParent", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIInfoReplace.prototype, "removeNode", void 0);
      CommonUIInfoReplace = __decorate([ ccclass ], CommonUIInfoReplace);
      return CommonUIInfoReplace;
    }(cc.Component);
    exports.default = CommonUIInfoReplace;
    cc._RF.pop();
  }, {} ],
  CommonUIInfo: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "89d98t43zVPeJpCcpDbJjE2", "CommonUIInfo");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var I18nLabel_1 = require("../component/I18nLabel");
    var I18nSprite_1 = require("../component/I18nSprite");
    var LayoutShrinkLabel_1 = require("../component/LayoutShrinkLabel");
    var NodeShrink_1 = require("../component/NodeShrink");
    var IframeGlobal_1 = require("../IframeGlobal");
    var LabelGlobal_1 = require("../LabelGlobal");
    var ResourcesCol_1 = require("../script/ResourcesCol");
    var ResourcesLoader_1 = require("../script/ResourcesLoader");
    var Utils_1 = require("../utils/Utils");
    var InfoBase_1 = require("./InfoBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CommonUIInfo = function(_super) {
      __extends(CommonUIInfo, _super);
      function CommonUIInfo() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.pageView = null;
        _this.needStartPageAssets = false;
        _this.infoReplaces = [];
        return _this;
      }
      CommonUIInfo.prototype.pre = function(datas, prefabManager) {
        prefabManager.keyPrefabs.forEach(function(kp) {
          var node = kp.node;
          var lsls = node.getComponentsInChildren(LayoutShrinkLabel_1.default);
          lsls.forEach(function(lsl) {
            lsl.delay = true;
          });
          var cols = node.getComponentsInChildren(ResourcesCol_1.default);
          cols.forEach(function(col) {
            col.delay = true;
          });
          var sprites = node.getComponentsInChildren(I18nSprite_1.I18nSprite);
          sprites.forEach(function(sprite) {
            sprite.delay = true;
          });
        });
      };
      CommonUIInfo.prototype.post = function() {
        return __awaiter(this, void 0, void 0, function() {
          var l, urls, _a, node, cols, sprites, shrinks, layoutShrinkLabels;
          return __generator(this, function(_b) {
            switch (_b.label) {
             case 0:
              if (this.loaded) {
                this.pageView.scrollToPage(this.pageView.getCurrentPageIndex(), 0);
                return [ 2 ];
              }
              this.loaded = true;
              l = ResourcesLoader_1.getResourcesLoader();
              urls = [ ResourcesLoader_1.RESOURCES_URL.INFO_PAGE, ResourcesLoader_1.RESOURCES_URL.INFO_PAGE_LANG ];
              this.needStartPageAssets && urls.push.apply(urls, [ ResourcesLoader_1.RESOURCES_URL.START_PAGE, ResourcesLoader_1.RESOURCES_URL.START_PAGE_LANG ]);
              _b.label = 1;

             case 1:
              _b.trys.push([ 1, 3, , 4 ]);
              return [ 4, l.loadUrls(urls) ];

             case 2:
              _b.sent();
              return [ 3, 4 ];

             case 3:
              _a = _b.sent();
              this.loadInfoFail(IframeGlobal_1.DownloadAlertError.RESOURCE);
              this.loaded = false;
              return [ 2, false ];

             case 4:
              this.targetNode.children.forEach(Utils_1.nodeOpacity(255));
              node = this.node;
              cols = node.getComponentsInChildren(ResourcesCol_1.default);
              cols.forEach(function(col) {
                col.delay && col.reset(l);
              });
              sprites = node.getComponentsInChildren(I18nSprite_1.I18nSprite);
              sprites.forEach(function(sprite) {
                sprite.delay && sprite.load();
              });
              shrinks = node.getComponentsInChildren(NodeShrink_1.default);
              shrinks.forEach(function(shrink) {
                shrink.resize();
              });
              layoutShrinkLabels = node.getComponentsInChildren(LayoutShrinkLabel_1.default);
              layoutShrinkLabels.forEach(function(lsl) {
                lsl.resize();
              });
              this.replaceInfo();
              LabelGlobal_1.applyLabel(this.node);
              return [ 2 ];
            }
          });
        });
      };
      CommonUIInfo.prototype.drawContent = function(prefabManager, prefabName) {
        var node = cc.instantiate(prefabManager.getPrefab(prefabName));
        node.opacity = 1;
        var cols = node.getComponentsInChildren(ResourcesCol_1.default);
        cols.forEach(function(col) {
          return col.delay = true;
        });
        return node;
      };
      CommonUIInfo.prototype.postToggleContent = function(index) {};
      CommonUIInfo.prototype.onLeftClick = function() {
        var idx = this.pageView.getCurrentPageIndex();
        this.pageView.isAutoScrolling() && this.pageView.stopAutoScroll();
        this.pageView.scrollToPage(idx - 1, .5);
      };
      CommonUIInfo.prototype.onRightClick = function() {
        var idx = this.pageView.getCurrentPageIndex();
        this.pageView.isAutoScrolling() && this.pageView.stopAutoScroll();
        this.pageView.scrollToPage(idx + 1, .5);
      };
      CommonUIInfo.prototype.onRightLoopClick = function() {
        var idx = this.pageView.getCurrentPageIndex();
        this.pageView.isAutoScrolling() && this.pageView.stopAutoScroll();
        var len = this.pageView.getPages().length;
        idx + 1 >= len ? idx = 0 : idx += 1;
        this.pageView.scrollToPage(idx, .5);
      };
      CommonUIInfo.prototype.toggleContent = function() {};
      CommonUIInfo.prototype.bindLoadInfoFail = function(f) {
        this.loadInfoFail = f;
      };
      CommonUIInfo.prototype.replaceInfo = function() {
        if (!this.infoReplaces.length) return;
        var rs = this.infoReplaces;
        var each = function(i18nX) {
          var key = i18nX.dataID;
          var r = rs.find(function(r) {
            return r.i18nKey === key;
          });
          if (!r) return;
          var node = i18nX.node;
          if (r.parentLayers) {
            var i = r.parentLayers;
            do {
              node = node.parent;
            } while (i -= 1);
          }
          r.removeAllChildren && node.removeAllChildren();
          r.removeNode ? node.parent.removeChild(node) : r.node.children.forEach(function(cloneNode) {
            r.setParent ? cloneNode.setParent(node) : node.addChild(cc.instantiate(cloneNode));
          });
        };
        this.node.getComponentsInChildren(I18nSprite_1.I18nSprite).forEach(each);
        this.node.getComponentsInChildren(I18nLabel_1.I18nLabel).forEach(each);
      };
      __decorate([ property(cc.PageView) ], CommonUIInfo.prototype, "pageView", void 0);
      CommonUIInfo = __decorate([ ccclass ], CommonUIInfo);
      return CommonUIInfo;
    }(InfoBase_1.default);
    exports.default = CommonUIInfo;
    cc._RF.pop();
  }, {
    "../IframeGlobal": "IframeGlobal",
    "../LabelGlobal": "LabelGlobal",
    "../component/I18nLabel": "I18nLabel",
    "../component/I18nSprite": "I18nSprite",
    "../component/LayoutShrinkLabel": "LayoutShrinkLabel",
    "../component/NodeShrink": "NodeShrink",
    "../script/ResourcesCol": "ResourcesCol",
    "../script/ResourcesLoader": "ResourcesLoader",
    "../utils/Utils": "Utils",
    "./InfoBase": "InfoBase"
  } ],
  CommonUIManager: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "5f3f4cJswBEX7PnYGjbs/+x", "CommonUIManager");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.copyLabelProperty = void 0;
    var Alert_1 = require("../component/Alert");
    var I18nLabel_1 = require("../component/I18nLabel");
    var ColAnimation_1 = require("../data/ColAnimation");
    var ColBase_1 = require("../data/ColBase");
    var KeyNode_1 = require("../data/KeyNode");
    var KeyStr_1 = require("../data/KeyStr");
    var I18nGlobal_1 = require("../I18nGlobal");
    var LibGlobal_1 = require("../LibGlobal");
    var ParamsGlobal_1 = require("../ParamsGlobal");
    var ResizeGlobal_1 = require("../ResizeGlobal");
    var ResourcesSprite_1 = require("../script/ResourcesSprite");
    var Utils_1 = require("../utils/Utils");
    var CommonUI_1 = require("./CommonUI");
    var CommonUIData_1 = require("./CommonUIData");
    var CommonUIReplace_1 = require("./CommonUIReplace");
    var CommonUIStyle_1 = require("./CommonUIStyle");
    var CommonUIStyleCopy_1 = require("./CommonUIStyleCopy");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CommonUIManager = function(_super) {
      __extends(CommonUIManager, _super);
      function CommonUIManager() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.layout = ResizeGlobal_1.UI_LAYOUT.UNKNOWN;
        _this.size1280x720 = false;
        _this.mobileLayoutOnly = false;
        _this.mobileVerticalLayoutOnly = false;
        _this.mobileHorizontalLayoutOnly = false;
        _this.keyStr = [];
        _this.commonUINodes = [];
        _this.spinAnimationNode = null;
        _this.labelKeyNodes = [];
        _this.labelStyleNode = null;
        _this.replacerNode = null;
        _this.spinHandler = null;
        _this.stopHandler = null;
        _this.stopAutoHandler = null;
        _this.lobbyHandler = null;
        _this.recordHandler = null;
        _this.levelHandler = null;
        _this.autoHandler = null;
        _this.startPageHandler = null;
        _this.textChangeHandler = null;
        _this.autoOptionClickHandler = null;
        _this.featurebuyClickHandler = null;
        _this.canvasNode = null;
        _this.commonUI = null;
        _this.data = new CommonUIData_1.default();
        _this.loaded = false;
        return _this;
      }
      CommonUIManager.prototype.onLoad = function() {
        this.pre();
      };
      CommonUIManager.prototype.pre = function() {
        var _this = this;
        if (this.loaded) return;
        this.loaded = true;
        this.mobileLayoutOnly && LibGlobal_1.setUiIsMobile(true);
        if (this.mobileVerticalLayoutOnly) {
          LibGlobal_1.setUiIsMobile(true);
          ResizeGlobal_1.setVerticalOnly();
        }
        if (this.mobileHorizontalLayoutOnly) {
          LibGlobal_1.setUiIsMobile(true);
          ResizeGlobal_1.setHorizontalOnly();
        }
        var cuiNodes = this.commonUINodes;
        var eachDestroy = function(nodes, idx) {
          var node = nodes[idx];
          node && node.destroy();
          delete nodes[idx];
        };
        if (LibGlobal_1.uiIsMobile) eachDestroy(cuiNodes, 0); else {
          eachDestroy(cuiNodes, 1);
          eachDestroy(cuiNodes, 2);
        }
        cuiNodes.forEach(function(node, layout) {
          if (!node) return;
          if (_this.size1280x720) {
            ResizeGlobal_1.resizeNode(ResizeGlobal_1.RESIZE_SCALE, node);
            var anims = node.getComponentsInChildren(cc.Animation);
            anims.forEach(function(anim) {
              anim.getClips().forEach(function(clip) {
                ResizeGlobal_1.resizeAnimationClip(ResizeGlobal_1.RESIZE_SCALE, clip);
              });
            });
          }
          var layoutStr = 0 === layout ? "pch" : 1 === layout ? "mh" : "mv";
          node.getComponentsInChildren(I18nLabel_1.I18nLabel).forEach(function(label) {
            label.layout = layoutStr;
          });
        });
        this.replaceNode();
        cuiNodes.forEach(function(node) {
          if (!node) return;
          var cui = node.getComponent(CommonUI_1.default);
          _this.size1280x720 && (cui.bonusEventUI.bonusSpine.node.scale = ResizeGlobal_1.RESIZE_SCALE);
          if (cui.slotFeatureBuy) {
            cui.slotFeatureBuy.size1280x720 = _this.size1280x720;
            cui.slotFeatureBuy.featurePrefab;
          }
          cui.canvasWidget.forEach(Utils_1.nodeProperty("target", _this.canvasNode));
          cui.lobbyHandler = _this.lobbyHandler;
          cui.recordHandler = _this.recordHandler;
          cui.spinHandler = _this.spinHandler;
          cui.stopHandler = _this.stopHandler;
          cui.levelHandler = _this.levelHandler;
          cui.autoHandler = _this.autoHandler;
          cui.stopAutoHandler = _this.stopAutoHandler;
          cui.startPageHandler = _this.startPageHandler;
          cui.textChangeHandler = _this.textChangeHandler;
          cui.autoOptionClickHandler = _this.autoOptionClickHandler;
          cui.featurebuyClickHandler = _this.featurebuyClickHandler;
        });
        if (this.labelStyleNode && this.labelStyleNode.childrenCount) {
          var kns = this.labelStyleNode.children.map(function(node) {
            return {
              node: node,
              key: node.name
            };
          });
          this.labelKeyNodes.push.apply(this.labelKeyNodes, kns);
        }
        this.getLayoutAutos().forEach(function(a) {
          if (!a) return;
          a.labelKeyNodes = _this.labelKeyNodes;
        });
        var culs = this.getComponentsInChildren(CommonUIStyle_1.default);
        culs.forEach(this.styleNode, this);
        var gidks = this.keyStr.find(function(ks) {
          return "gid" === ks.key;
        });
        if (gidks.key) {
          var replace_1 = function(ks) {
            ks.key = ks.key.replace("{gid}", gidks.str);
            ks.str = ks.str.replace("{gid}", gidks.str);
          };
          this.getComponentsInChildren(ResourcesSprite_1.default).forEach(function(rls) {
            rls.keyStrs.forEach(replace_1);
          });
          this.getLayoutAutos().forEach(function(a) {
            if (!a) return;
            a.size1280x720 = _this.size1280x720;
            a.replace = replace_1;
          });
        }
      };
      CommonUIManager.prototype.replaceNode = function() {
        var _this = this;
        if (!this.replacerNode) return;
        var replace = function(targetNodes, rn, r, cui) {
          if (0 === targetNodes.length) return;
          targetNodes.forEach(function(node) {
            if (r.unregisterCol) {
              var col = node.getComponent(ColBase_1.default);
              if (col) {
                cui.unregister(col);
                col.destroy();
              }
            }
            if (r.parentLayers) {
              var i = r.parentLayers;
              do {
                node = node.parent;
              } while (i -= 1);
            }
            r.removeAllChildren && node.removeAllChildren();
            r.removeNode ? node.parent.removeChild(node) : rn.children.forEach(function(cloneNode) {
              r.setParent ? cloneNode.setParent(node) : node.addChild(cc.instantiate(cloneNode));
            });
          });
        };
        var layoutCond = function(type, r) {
          if (type === ResizeGlobal_1.UI_LAYOUT.PC_HORIZONTAL && r.pcHorizontal) return true;
          if (type === ResizeGlobal_1.UI_LAYOUT.MOBILE_HORIZONTAL && r.mobileHorizontal) return true;
          if (type === ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL && r.mobileVertical) return true;
          return false;
        };
        this.commonUINodes.forEach(function(node, type) {
          if (!node) return;
          var cui = node.getComponent(CommonUI_1.default);
          _this.replacerNode.children.forEach(function(rn) {
            var r = rn.getComponent(CommonUIReplace_1.default);
            if (!r || !layoutCond(type, r)) return;
            r.path && replace([ cui.getNodeByPath(r.path) ], rn, r, cui);
            r.colKey && replace(cui.getNodesByColKey(r.colKey), rn, r, cui);
            r.i18nKey && replace(cui.getNodesByI18nKey(r.i18nKey), rn, r, cui);
            r.resSpriteKey && replace(cui.getNodesByResSpriteKey(r.resSpriteKey), rn, r, cui);
            r.styleKey && replace(cui.getNodesByUIStyleKey(r.styleKey), rn, r, cui);
          });
        });
      };
      CommonUIManager.prototype.styleNode = function(cul) {
        var _this = this;
        var ks = Utils_1.flattenDeep([ cul.keys, cul.key ]).filter(Utils_1.identity);
        var tn = cul.node;
        ks.forEach(function(k) {
          var sns = KeyNode_1.getNodesByKey(_this.labelKeyNodes, k);
          sns.forEach(function(sn) {
            if (!sn) return;
            var copy = sn.getComponent(CommonUIStyleCopy_1.default);
            copy ? copy.copyTo(tn) : copyLabelProperty(sn, tn);
          });
        });
      };
      CommonUIManager.prototype.getLayoutUI = function(layout) {
        return this.commonUINodes[layout].getComponent(CommonUI_1.default);
      };
      CommonUIManager.prototype.toggleLayout = function(layout, size) {
        var _this = this;
        if (this.layout !== layout) {
          this.commonUINodes.forEach(Utils_1.nodeActive(false));
          var l = this.commonUINodes[layout];
          l && (l.active = true);
        }
        this.layout = layout;
        var node = this.commonUINodes[layout];
        if (!node) return;
        node.setContentSize(size);
        this.scheduleOnce(function() {
          node.getComponentsInChildren(cc.Widget).forEach(function(w) {
            return w.updateAlignment();
          });
          _this.scheduleOnce(function() {
            node.getComponentsInChildren(cc.Layout).forEach(function(l) {
              return l.updateLayout();
            });
          }, 0);
        }, 0);
        var cui = node.getComponent(CommonUI_1.default);
        this.data.bindItem(cui);
        ParamsGlobal_1.BTN_EXIT || this.data.set("displayBack", false);
        ParamsGlobal_1.BTN_RECORD || this.data.set("displayRecord", false);
        this.data.set("displaySpaceSpin", !LibGlobal_1.ccIsMobile, false);
        cui.reset(this.data, true);
        this.commonUI = cui;
        cui.messageLabel && cui.messageLabel.isValid && (cui.messageLabel.string = this.data.message);
        cui.getComponentsInChildren(ColAnimation_1.ColAnimation).forEach(function(ca) {
          if (ca.state && ca.state.isPlaying) {
            var dur = ca.state.clip.duration;
            ca.animation.setCurrentTime(dur);
          }
        });
        if (cui.slotFeatureBuy) {
          cui.slotFeatureBuy.reset();
          cui.slotFeatureBuy.bindBuyClickFunc(cui.onFeatureBuyClick.bind(cui));
          cui.slotFeatureBuy.pageView.content.getComponentsInChildren(CommonUIStyle_1.default).forEach(this.styleNode, this);
        }
        cui.bonusEventUI.updateButtonEnable();
        return cui;
      };
      CommonUIManager.prototype.closePanel = function() {
        this.commonUI && this.commonUI.closePanel();
      };
      CommonUIManager.prototype.loadResourceFail = function(code) {
        this.closePanel();
        Alert_1.gameAlert(I18nGlobal_1.translateError("GAME.download_error", code), "", LibGlobal_1.ALERT_LEVEL.DEFAULT, function() {});
      };
      CommonUIManager.prototype.getLayoutInfos = function() {
        return this.commonUINodes.map(function(node) {
          if (node) return node.getComponent(CommonUI_1.default).slotInfo;
        });
      };
      CommonUIManager.prototype.getLayoutAutos = function() {
        return this.commonUINodes.map(function(node) {
          if (node) return node.getComponent(CommonUI_1.default).slotAuto;
        });
      };
      CommonUIManager.prototype.getLayoutFeatureBuys = function() {
        return this.commonUINodes.map(function(node) {
          if (node) return node.getComponent(CommonUI_1.default).slotFeatureBuy;
        });
      };
      CommonUIManager.prototype.updateCustomSpriteFrame = function(resourcesLoader, spriteFrameNames) {
        return __awaiter(this, void 0, void 0, function() {
          var keyAtlass, rsArr, rss;
          return __generator(this, function(_a) {
            keyAtlass = resourcesLoader.keyAtlass;
            rsArr = this.getComponentsInChildren(ResourcesSprite_1.default);
            rss = rsArr.filter(function(rs) {
              return rs.keyStrs.find(function(ks) {
                return spriteFrameNames.find(function(s) {
                  return ks.str === s;
                });
              });
            });
            spriteFrameNames.forEach(function(sfName) {
              var altas = keyAtlass.find(function(ka) {
                return ka.atlas.getSpriteFrames().find(function(sf) {
                  return sf.name === sfName;
                });
              });
              altas && rss.forEach(function(rs) {
                if (rs.keyStrs.find(function(ks) {
                  return ks.str === sfName;
                })) {
                  var keyStr = {
                    key: altas.key,
                    str: sfName
                  };
                  rs.keyStrs = [ keyStr ];
                  rs.reset(resourcesLoader);
                }
              });
            });
            return [ 2 ];
          });
        });
      };
      CommonUIManager.prototype.updateFeatureBuyLevels = function(datas, displayCurrencySymbol) {
        var _this = this;
        this.commonUINodes.forEach(function(node) {
          if (node) {
            var commonUI = node.getComponent(CommonUI_1.default);
            if (commonUI.slotFeatureBuy) {
              commonUI.slotFeatureBuy.updateDatas(datas, displayCurrencySymbol);
              commonUI.slotFeatureBuy.bindBuyClickFunc(commonUI.onFeatureBuyClick.bind(commonUI));
              commonUI.slotFeatureBuy.pageView.content.getComponentsInChildren(CommonUIStyle_1.default).forEach(_this.styleNode, _this);
            }
          }
        });
      };
      __decorate([ property(cc.Boolean) ], CommonUIManager.prototype, "size1280x720", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIManager.prototype, "mobileLayoutOnly", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIManager.prototype, "mobileVerticalLayoutOnly", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIManager.prototype, "mobileHorizontalLayoutOnly", void 0);
      __decorate([ property([ KeyStr_1.KeyStr ]) ], CommonUIManager.prototype, "keyStr", void 0);
      __decorate([ property([ cc.Node ]) ], CommonUIManager.prototype, "commonUINodes", void 0);
      __decorate([ property(cc.Node) ], CommonUIManager.prototype, "spinAnimationNode", void 0);
      __decorate([ property([ KeyNode_1.KeyNode ]) ], CommonUIManager.prototype, "labelKeyNodes", void 0);
      __decorate([ property(cc.Node) ], CommonUIManager.prototype, "labelStyleNode", void 0);
      __decorate([ property(cc.Node) ], CommonUIManager.prototype, "replacerNode", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonUIManager.prototype, "spinHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonUIManager.prototype, "stopHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonUIManager.prototype, "stopAutoHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonUIManager.prototype, "lobbyHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonUIManager.prototype, "recordHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonUIManager.prototype, "levelHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonUIManager.prototype, "autoHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonUIManager.prototype, "startPageHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonUIManager.prototype, "textChangeHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonUIManager.prototype, "autoOptionClickHandler", void 0);
      __decorate([ property(cc.Node) ], CommonUIManager.prototype, "canvasNode", void 0);
      CommonUIManager = __decorate([ ccclass ], CommonUIManager);
      return CommonUIManager;
    }(cc.Component);
    exports.default = CommonUIManager;
    function copyLabelProperty(source, target) {
      Utils_1.copyNodeProperty(source, target, [ "x", "y", "color" ], true);
      1 !== source.scale && (target.scale = source.scale);
      var slo = source.getComponent(cc.LabelOutline);
      var tlo = target.getComponent(cc.LabelOutline);
      slo && tlo && Utils_1.copyProperty(slo, tlo, [ "color", "width" ]);
    }
    exports.copyLabelProperty = copyLabelProperty;
    cc._RF.pop();
  }, {
    "../I18nGlobal": "I18nGlobal",
    "../LibGlobal": "LibGlobal",
    "../ParamsGlobal": "ParamsGlobal",
    "../ResizeGlobal": "ResizeGlobal",
    "../component/Alert": "Alert",
    "../component/I18nLabel": "I18nLabel",
    "../data/ColAnimation": "ColAnimation",
    "../data/ColBase": "ColBase",
    "../data/KeyNode": "KeyNode",
    "../data/KeyStr": "KeyStr",
    "../script/ResourcesSprite": "ResourcesSprite",
    "../utils/Utils": "Utils",
    "./CommonUI": "CommonUI",
    "./CommonUIData": "CommonUIData",
    "./CommonUIReplace": "CommonUIReplace",
    "./CommonUIStyle": "CommonUIStyle",
    "./CommonUIStyleCopy": "CommonUIStyleCopy"
  } ],
  CommonUIReplacer: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "03d77NE62RK2p5CV7dclMoy", "CommonUIReplacer");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __spreadArrays = this && this.__spreadArrays || function() {
      for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
      for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, 
      k++) r[k] = a[j];
      return r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var I18nLabel_1 = require("../component/I18nLabel");
    var I18nSprite_1 = require("../component/I18nSprite");
    var ColBase_1 = require("../data/ColBase");
    var ResSprite_1 = require("../script/ResSprite");
    var Utils_1 = require("../utils/Utils");
    var CommonUIReplace_1 = require("./CommonUIReplace");
    var CommonUIStyle_1 = require("./CommonUIStyle");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CommonUIReplacer = function(_super) {
      __extends(CommonUIReplacer, _super);
      function CommonUIReplacer() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.nodes = [];
        _this.replacerNode = null;
        _this.loaded = false;
        return _this;
      }
      CommonUIReplacer.prototype.onLoad = function() {
        this.pre();
      };
      CommonUIReplacer.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.replacerNode = this.replacerNode || this.node;
        this.replaceNode();
      };
      CommonUIReplacer.prototype.replaceNode = function() {
        var _this = this;
        if (!this.replacerNode) return;
        var replace = function(targetNodes, rn, r) {
          if (0 === targetNodes.length) return;
          targetNodes.forEach(function(node) {
            r.unregisterCol && Utils_1.warn("Not implemented");
            if (r.parentLayers) {
              var i = r.parentLayers;
              do {
                node = node.parent;
              } while (i -= 1);
            }
            r.removeAllChildren && node.removeAllChildren();
            r.removeNode ? node.parent.removeChild(node) : rn.children.forEach(function(cloneNode) {
              r.setParent ? cloneNode.setParent(node) : node.addChild(cc.instantiate(cloneNode));
            });
          });
        };
        this.nodes.forEach(function(node) {
          if (!node) return;
          _this.replacerNode.children.forEach(function(rn) {
            var r = rn.getComponent(CommonUIReplace_1.default);
            if (!r) return;
            r.path && replace([ getNodeByPath(node, r.path) ], rn, r);
            r.colKey && replace(getNodesByColKey(node, r.colKey), rn, r);
            r.i18nKey && replace(getNodesByI18nKey(node, r.i18nKey), rn, r);
            r.resSpriteKey && replace(getNodesByResSpriteKey(node, r.resSpriteKey), rn, r);
            r.styleKey && replace(getNodesByUIStyleKey(node, r.styleKey), rn, r);
          });
        });
      };
      __decorate([ property([ cc.Node ]) ], CommonUIReplacer.prototype, "nodes", void 0);
      __decorate([ property(cc.Node) ], CommonUIReplacer.prototype, "replacerNode", void 0);
      CommonUIReplacer = __decorate([ ccclass ], CommonUIReplacer);
      return CommonUIReplacer;
    }(cc.Component);
    exports.default = CommonUIReplacer;
    function getNodesByColKey(node, key) {
      return node.getComponentsInChildren(ColBase_1.default).filter(function(col) {
        return col.colKey === key;
      }).map(function(c) {
        return c.node;
      });
    }
    function getNodesByResSpriteKey(node, key) {
      return node.getComponentsInChildren(ResSprite_1.default).filter(function(col) {
        return col.key === key || col.keyStrs.some(function(ks) {
          return ks.str === key;
        });
      }).map(function(las) {
        return las.node;
      });
    }
    function getNodeByPath(node, path) {
      return cc.find(path, node);
    }
    function getNodesByUIStyleKey(node, key) {
      return node.getComponentsInChildren(CommonUIStyle_1.default).filter(function(col) {
        return col.key === key || col.keys.some(function(k) {
          return k === key;
        });
      }).map(function(s) {
        return s.node;
      });
    }
    function getNodesByI18nKey(node, key) {
      return __spreadArrays(node.getComponentsInChildren(I18nLabel_1.I18nLabel), node.getComponentsInChildren(I18nSprite_1.I18nSprite)).filter(function(l) {
        return l.dataID === key;
      }).map(function(s) {
        return s.node;
      });
    }
    cc._RF.pop();
  }, {
    "../component/I18nLabel": "I18nLabel",
    "../component/I18nSprite": "I18nSprite",
    "../data/ColBase": "ColBase",
    "../script/ResSprite": "ResSprite",
    "../utils/Utils": "Utils",
    "./CommonUIReplace": "CommonUIReplace",
    "./CommonUIStyle": "CommonUIStyle"
  } ],
  CommonUIReplace: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "11a32ujfGhB4qVuuBGOyqdq", "CommonUIReplace");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CommonUIReplace = function(_super) {
      __extends(CommonUIReplace, _super);
      function CommonUIReplace() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.pcHorizontal = false;
        _this.mobileHorizontal = false;
        _this.mobileVertical = false;
        _this.path = "";
        _this.colKey = "";
        _this.unregisterCol = false;
        _this.i18nKey = "";
        _this.resSpriteKey = "";
        _this.styleKey = "";
        _this.parentLayers = 0;
        _this.removeAllChildren = false;
        _this.setParent = false;
        _this.removeNode = false;
        return _this;
      }
      __decorate([ property(cc.Boolean) ], CommonUIReplace.prototype, "pcHorizontal", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIReplace.prototype, "mobileHorizontal", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIReplace.prototype, "mobileVertical", void 0);
      __decorate([ property(cc.String) ], CommonUIReplace.prototype, "path", void 0);
      __decorate([ property(cc.String) ], CommonUIReplace.prototype, "colKey", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIReplace.prototype, "unregisterCol", void 0);
      __decorate([ property(cc.String) ], CommonUIReplace.prototype, "i18nKey", void 0);
      __decorate([ property(cc.String) ], CommonUIReplace.prototype, "resSpriteKey", void 0);
      __decorate([ property(cc.String) ], CommonUIReplace.prototype, "styleKey", void 0);
      __decorate([ property(cc.Integer) ], CommonUIReplace.prototype, "parentLayers", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIReplace.prototype, "removeAllChildren", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIReplace.prototype, "setParent", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIReplace.prototype, "removeNode", void 0);
      CommonUIReplace = __decorate([ ccclass ], CommonUIReplace);
      return CommonUIReplace;
    }(cc.Component);
    exports.default = CommonUIReplace;
    cc._RF.pop();
  }, {} ],
  CommonUIStyleAccept: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b7088RLorNNubQg3Va/M3Zl", "CommonUIStyleAccept");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CommonUIStyleAccept = function(_super) {
      __extends(CommonUIStyleAccept, _super);
      function CommonUIStyleAccept() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.width = false;
        _this.position = false;
        _this.color = false;
        _this.scale = false;
        _this.labelOutlineColor = false;
        _this.labelOutlineWidth = false;
        _this.labelFont = false;
        return _this;
      }
      __decorate([ property(cc.Boolean) ], CommonUIStyleAccept.prototype, "width", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIStyleAccept.prototype, "position", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIStyleAccept.prototype, "color", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIStyleAccept.prototype, "scale", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIStyleAccept.prototype, "labelOutlineColor", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIStyleAccept.prototype, "labelOutlineWidth", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIStyleAccept.prototype, "labelFont", void 0);
      CommonUIStyleAccept = __decorate([ ccclass ], CommonUIStyleAccept);
      return CommonUIStyleAccept;
    }(cc.Component);
    exports.default = CommonUIStyleAccept;
    cc._RF.pop();
  }, {} ],
  CommonUIStyleCopy: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "98e72mIuZ1Pv5b3MIIkhqU2", "CommonUIStyleCopy");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var CommonUIStyleAccept_1 = require("./CommonUIStyleAccept");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CommonUIStyleCopy = function(_super) {
      __extends(CommonUIStyleCopy, _super);
      function CommonUIStyleCopy() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.parentLayers = 0;
        _this.width = false;
        _this.position = false;
        _this.color = false;
        _this.scale = false;
        _this.labelOutlineColor = false;
        _this.labelOutlineWidth = false;
        _this.labelFont = false;
        return _this;
      }
      CommonUIStyleCopy.prototype.copyTo = function(node) {
        var source = this.node;
        var target = node;
        if (this.parentLayers) {
          var i = this.parentLayers;
          do {
            target = target.parent;
          } while (i -= 1);
        }
        var accept = target.getComponent(CommonUIStyleAccept_1.default);
        var acceptOk = function(prop) {
          return !accept || accept && accept[prop];
        };
        this.width && acceptOk("width") && Utils_1.copyProperty(source, target, [ "width" ]);
        this.position && acceptOk("position") && Utils_1.copyProperty(source, target, [ "x", "y" ]);
        this.color && acceptOk("color") && Utils_1.copyProperty(source, target, [ "color" ]);
        this.scale && acceptOk("scale") && Utils_1.copyProperty(source, target, [ "scale" ]);
        if (this.labelOutlineColor || this.labelOutlineWidth) {
          var slo = source.getComponent(cc.LabelOutline);
          var tlo = target.getComponent(cc.LabelOutline);
          if (slo && tlo) {
            this.labelOutlineColor && acceptOk("labelOutlineColor") && Utils_1.copyProperty(slo, tlo, [ "color" ]);
            if (this.labelOutlineWidth && acceptOk("labelOutlineWidth")) if (0 === slo.width) tlo.enabled = false; else {
              tlo.enabled = true;
              Utils_1.copyProperty(slo, tlo, [ "width" ]);
            }
          }
        }
        if (this.labelFont && acceptOk("labelFont")) {
          var sLabel = source.getComponent(cc.Label);
          var tLabel = target.getComponent(cc.Label);
          if (sLabel) {
            Utils_1.copyProperty(sLabel, tLabel, [ "font" ]);
            Utils_1.copyProperty(sLabel, tLabel, [ "fontSize" ]);
            Utils_1.copyProperty(sLabel, tLabel, [ "lineHeight" ]);
          }
        }
      };
      __decorate([ property(cc.Integer) ], CommonUIStyleCopy.prototype, "parentLayers", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIStyleCopy.prototype, "width", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIStyleCopy.prototype, "position", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIStyleCopy.prototype, "color", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIStyleCopy.prototype, "scale", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIStyleCopy.prototype, "labelOutlineColor", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIStyleCopy.prototype, "labelOutlineWidth", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIStyleCopy.prototype, "labelFont", void 0);
      CommonUIStyleCopy = __decorate([ ccclass ], CommonUIStyleCopy);
      return CommonUIStyleCopy;
    }(cc.Component);
    exports.default = CommonUIStyleCopy;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./CommonUIStyleAccept": "CommonUIStyleAccept"
  } ],
  CommonUIStyle: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e69cfEAsJpGgZR/JsZg5DiY", "CommonUIStyle");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CommonUIStyle = function(_super) {
      __extends(CommonUIStyle, _super);
      function CommonUIStyle() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.key = "";
        _this.keys = [];
        return _this;
      }
      __decorate([ property({
        tooltip: "\u512a\u5148\u6b0a\u9806\u5e8f\u70ba keys[0], keys[1], key\uff0c\u8d8a\u5f8c\u65b9\u8d8a\u9ad8"
      }) ], CommonUIStyle.prototype, "key", void 0);
      __decorate([ property([ cc.String ]) ], CommonUIStyle.prototype, "keys", void 0);
      CommonUIStyle = __decorate([ ccclass ], CommonUIStyle);
      return CommonUIStyle;
    }(cc.Component);
    exports.default = CommonUIStyle;
    cc._RF.pop();
  }, {} ],
  CommonUI: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a8bfaoaKv9ES51rw3RkUVB3", "CommonUI");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.BET_LEVEL_ACTION = void 0;
    var I18nLabel_1 = require("../component/I18nLabel");
    var UpdatePositionSlider_1 = require("../component/UpdatePositionSlider");
    var ColBase_1 = require("../data/ColBase");
    var ColItemBase_1 = require("../data/ColItemBase");
    var KeyNode_1 = require("../data/KeyNode");
    var FeatureBuy_1 = require("../featurebuy/FeatureBuy");
    var CommonUIInfo_1 = require("../info/CommonUIInfo");
    var BonusEventUI_1 = require("../script/BonusEventUI");
    var ResSprite_1 = require("../script/ResSprite");
    var StorageGlobal_1 = require("../StorageGlobal");
    var CommonUIAuto_1 = require("./CommonUIAuto");
    var CommonUIStyle_1 = require("./CommonUIStyle");
    var OptionPanel_1 = require("./OptionPanel");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var BET_LEVEL_ACTION;
    (function(BET_LEVEL_ACTION) {
      BET_LEVEL_ACTION["MORE"] = "more";
      BET_LEVEL_ACTION["LESS"] = "less";
    })(BET_LEVEL_ACTION = exports.BET_LEVEL_ACTION || (exports.BET_LEVEL_ACTION = {}));
    var CommonUI = function(_super) {
      __extends(CommonUI, _super);
      function CommonUI() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.keyNodes = [];
        _this.canvasWidget = [];
        _this.slotInfo = null;
        _this.slotAuto = null;
        _this.slotFeatureBuy = null;
        _this.bonusEventUI = null;
        _this.lobbyHandler = null;
        _this.recordHandler = null;
        _this.spinHandler = null;
        _this.stopHandler = null;
        _this.stopAutoHandler = null;
        _this.levelHandler = null;
        _this.autoHandler = null;
        _this.featurebuyClickHandler = null;
        _this.textChangeHandler = null;
        _this.autoOptionClickHandler = null;
        _this.startPageHandler = null;
        _this.messageLabel = null;
        _this.sliderTimeout = null;
        _this.sliderTimeout2 = null;
        return _this;
      }
      CommonUI.prototype.updateMessage = function() {
        this.messageLabel.string = this.data.message;
      };
      CommonUI.prototype.colDisplayMenu = function(able, nodes) {
        var menuNode = nodes[0];
        var bgNode = nodes[1];
        var maskNode = nodes[2];
        var layoutNode = nodes[3];
        var height = 0;
        if (able) {
          var len = layoutNode.children.filter(function(n) {
            return !n.active;
          }).length;
          var ch = layoutNode.children[0].height;
          var nh = menuNode.height;
          var sy = layoutNode.getComponent(cc.Layout).spacingY;
          height = nh - (0 === len ? 0 : ch * len + sy * (len - 1));
        }
        cc.tween(bgNode).to(able ? .13 : .16, {
          height: height
        }).start();
        cc.tween(maskNode).to(able ? .16 : .13, {
          height: height
        }).start();
      };
      CommonUI.prototype.getNodeByKey = function(key) {
        return KeyNode_1.getNodeByKey(this.keyNodes, key);
      };
      CommonUI.prototype.getNodesByColKey = function(key) {
        return this.getComponentsInChildren(ColBase_1.default).filter(function(col) {
          return col.colKey === key;
        }).map(function(c) {
          return c.node;
        });
      };
      CommonUI.prototype.getNodesByResSpriteKey = function(key) {
        return this.getComponentsInChildren(ResSprite_1.default).filter(function(col) {
          return col.key === key || col.keyStrs.some(function(ks) {
            return ks.str === key;
          });
        }).map(function(las) {
          return las.node;
        });
      };
      CommonUI.prototype.getNodeByPath = function(path) {
        return cc.find(path, this.node);
      };
      CommonUI.prototype.getNodesByUIStyleKey = function(key) {
        return this.getComponentsInChildren(CommonUIStyle_1.default).filter(function(col) {
          return col.key === key || col.keys.some(function(k) {
            return k === key;
          });
        }).map(function(s) {
          return s.node;
        });
      };
      CommonUI.prototype.getNodesByI18nKey = function(key) {
        return this.getComponentsInChildren(I18nLabel_1.I18nLabel).filter(function(l) {
          return l.dataID === key;
        }).map(function(s) {
          return s.node;
        });
      };
      CommonUI.prototype.toggleStartPage = function(able) {
        void 0 === able && (able = !this.data.startPage);
        this.data.set("startPage", able);
        this.startPageHandler.emit([ able ]);
      };
      CommonUI.prototype.toggleSound = function(able) {
        void 0 === able && (able = !this.data.playSound);
        this.data.set("playEffect", able);
        this.data.set("playMusic", able);
        this.data.set("playSound", able);
      };
      CommonUI.prototype.toggleMusic = function(able) {
        void 0 === able && (able = !this.data.playMusic);
        this.data.set("playMusic", able);
        able ? this.data.playSound || this.data.set("playSound", true) : this.data.playEffect || this.data.set("playSound", false);
      };
      CommonUI.prototype.toggleEffect = function(able) {
        void 0 === able && (able = !this.data.playEffect);
        this.data.set("playEffect", able);
        able ? this.data.playSound || this.data.set("playSound", true) : this.data.playMusic || this.data.set("playSound", false);
      };
      CommonUI.prototype.toggleSetting = function(able) {
        void 0 === able && (able = !this.data.displaySettingPanel);
        this.data.set("displaySettingPanel", able);
        return able;
      };
      CommonUI.prototype.toggleLevelPanel = function(able) {
        void 0 === able && (able = !this.data.displayLevelPanel);
        this.data.set("displayLevelPanel", able);
        return able;
      };
      CommonUI.prototype.toggleAutoPanel = function(able) {
        void 0 === able && (able = !this.data.displayAutoPanel);
        this.data.set("displayAutoPanel", able);
        return able;
      };
      CommonUI.prototype.toggleMenu = function(able) {
        void 0 === able && (able = !this.data.displayMenu);
        this.data.set("displayMenu", able);
        return able;
      };
      CommonUI.prototype.toggleInfoPanel = function(able) {
        void 0 === able && (able = !this.data.displayInfoPanel);
        this.data.set("displayInfoPanel", able);
        return able;
      };
      CommonUI.prototype.toggleFeatureBuyPanel = function(able) {
        void 0 === able && (able = !this.data.displayFeatureBuyPanel);
        this.data.set("displayFeatureBuyPanel", able);
        return able;
      };
      CommonUI.prototype.toggleCurrencySymbol = function(able) {
        void 0 === able && (able = !this.data.displayCurrencySymbol);
        this.data.set("displayCurrencySymbol", able);
        StorageGlobal_1.setCurrencySymbol(able);
        return able;
      };
      CommonUI.prototype.toggleStopWhenBalanceIncrease = function(able) {
        void 0 === able && (able = !this.data.stopWhenBalanceIncrease);
        this.data.set("stopWhenBalanceIncrease", able);
        return able;
      };
      CommonUI.prototype.toggleStopWhenBalanceLose = function(able) {
        void 0 === able && (able = !this.data.stopWhenBalanceLose);
        this.data.set("stopWhenBalanceLose", able);
        return able;
      };
      CommonUI.prototype.toggleStopWhenSpecialMode = function(able) {
        void 0 === able && (able = !this.data.stopWhenSpecialMode);
        this.data.set("stopWhenSpecialMode", able);
        return able;
      };
      CommonUI.prototype.toggleStopWhenWins = function(able) {
        void 0 === able && (able = !this.data.stopWhenWins);
        this.data.set("stopWhenWins", able);
        return able;
      };
      CommonUI.prototype.toggleSpaceSpin = function(able) {
        void 0 === able && (able = !this.data.spaceSpin);
        this.data.set("spaceSpin", able);
        StorageGlobal_1.setSpaceSpin(able);
        return able;
      };
      CommonUI.prototype.toggleSpeedUp = function(able) {
        void 0 === able && (able = !this.data.speedUp);
        this.data.set("speedUp", able);
        return able;
      };
      CommonUI.prototype.autoRoundViewCallback = function(value, label) {
        value !== OptionPanel_1.INFINITY_MARK ? label.string = value : label.string = "";
      };
      CommonUI.prototype.onTextChange = function(value, ebox, data) {
        value = value.replace(/[^0-9.]/g, "").replace(/(\..*)\./g, "$1");
        value.length > 1 && "0" === value[0] && "." !== value[1] && (value = value.substring(1));
        try {
          ebox["_impl"]._elem.value = value;
        } catch (_a) {}
        "" === value && (value = "0");
        ebox.string = value;
        this.textChangeHandler.emit([ data, value ]);
      };
      CommonUI.prototype.onAutoOptionClick = function() {
        this.autoOptionClickHandler.emit([]);
      };
      CommonUI.prototype.onStopWhenBalanceIncreaseToggleClick = function() {
        this.toggleStopWhenBalanceIncrease();
      };
      CommonUI.prototype.onStopWhenBalanceLoseToggleClick = function() {
        this.toggleStopWhenBalanceLose();
      };
      CommonUI.prototype.onStopWhenSpecialModeToggleClick = function() {
        this.toggleStopWhenSpecialMode();
      };
      CommonUI.prototype.onStopWhenWinsToggleClick = function() {
        this.toggleStopWhenWins();
      };
      CommonUI.prototype.closePanel = function(opt) {
        void 0 === opt && (opt = {
          auto: false,
          level: false,
          setting: false,
          featureBuy: false
        });
        this.toggleMenu(false);
        opt.auto || this.toggleAutoPanel(false);
        opt.level || this.toggleLevelPanel(false);
        opt.setting || this.toggleSetting(false);
        opt.info || this.toggleInfoPanel(false);
        opt.featureBuy || this.toggleFeatureBuyPanel(false);
      };
      CommonUI.prototype.onLobbyClick = function() {
        this.lobbyHandler.emit([]);
      };
      CommonUI.prototype.onRecordClick = function() {
        this.recordHandler.emit([]);
      };
      CommonUI.prototype.onSpinClick = function() {
        this.spinHandler.emit([]);
      };
      CommonUI.prototype.onSpinStopStopAutoClick = function() {
        this.data.displaySpin ? this.spinHandler.emit([]) : this.stopHandler.emit([]);
      };
      CommonUI.prototype.onStopClick = function() {
        this.stopHandler.emit([]);
      };
      CommonUI.prototype.onStopAutoClick = function() {
        this.stopAutoHandler.emit([]);
      };
      CommonUI.prototype.onAutoStopAutoClick = function() {
        this.data.displayAuto ? this.onAutoPanelToggleClick() : this.stopAutoHandler.emit([]);
      };
      CommonUI.prototype.onLevelClick = function(levelString) {
        this.levelHandler.emit([ levelString ]);
        this.onLevelPanelCloseClick();
      };
      CommonUI.prototype.onLevelMoreClick = function() {
        this.levelHandler.emit([ BET_LEVEL_ACTION.MORE ]);
      };
      CommonUI.prototype.onLevelLessClick = function() {
        this.levelHandler.emit([ BET_LEVEL_ACTION.LESS ]);
      };
      CommonUI.prototype.onFeatureBuyClick = function(levelString) {
        this.featurebuyClickHandler.emit([ levelString ]);
        this.onFeatureBuyPanelCloseClick();
      };
      CommonUI.prototype.onAutoClick = function(autoString) {
        this.autoHandler.emit([ autoString ]);
        this.onAutoPanelCloseClick();
      };
      CommonUI.prototype.onMenuCloseClick = function() {
        this.toggleMenu(false);
      };
      CommonUI.prototype.onMenuOpenClick = function() {
        this.toggleMenu(true);
      };
      CommonUI.prototype.onMenuToggleClick = function() {
        this.toggleMenu();
      };
      CommonUI.prototype.onSoundOffClick = function() {
        this.toggleSound(false);
      };
      CommonUI.prototype.onSoundOnClick = function() {
        this.toggleSound(true);
      };
      CommonUI.prototype.onSoundToggleClick = function() {
        this.toggleSound();
      };
      CommonUI.prototype.onEffectOnClick = function() {
        this.toggleEffect(true);
      };
      CommonUI.prototype.onEffectOffClick = function() {
        this.toggleEffect(false);
      };
      CommonUI.prototype.onEffectToggleClick = function() {
        this.toggleEffect();
      };
      CommonUI.prototype.onMusicOnClick = function() {
        this.toggleMusic(true);
      };
      CommonUI.prototype.onMusicOffClick = function() {
        this.toggleMusic(false);
      };
      CommonUI.prototype.onMusicToggleClick = function() {
        this.toggleMusic();
      };
      CommonUI.prototype.onSettingOpenClick = function() {
        this.onPanelCloseClick();
        this.toggleSetting(true);
        this.toggleMenu(false);
      };
      CommonUI.prototype.onSettingCloseClick = function() {
        this.toggleSetting(false);
      };
      CommonUI.prototype.onSettingToggleClick = function() {
        var settingAble = this.toggleSetting();
        if (settingAble) {
          this.closePanel({
            setting: true
          });
          this.toggleMenu(false);
        }
      };
      CommonUI.prototype.onLevelPanelOpenClick = function() {
        this.onPanelCloseClick();
        this.toggleLevelPanel(true);
        this.toggleMenu(false);
      };
      CommonUI.prototype.onLevelPanelCloseClick = function() {
        this.toggleLevelPanel(false);
      };
      CommonUI.prototype.onLevelPanelToggleClick = function() {
        var settingAble = this.toggleLevelPanel();
        if (settingAble) {
          this.closePanel({
            level: true
          });
          this.toggleMenu(false);
        }
      };
      CommonUI.prototype.onAutoPanelOpenClick = function() {
        this.onPanelCloseClick();
        this.toggleAutoPanel(true);
        this.toggleMenu(false);
      };
      CommonUI.prototype.onAutoPanelCloseClick = function() {
        this.toggleAutoPanel(false);
      };
      CommonUI.prototype.onAutoPanelToggleClick = function() {
        var settingAble = this.toggleAutoPanel();
        if (settingAble) {
          this.closePanel({
            auto: true
          });
          this.toggleMenu(false);
        }
      };
      CommonUI.prototype.onInfoPanelOpenClick = function() {
        this.onPanelCloseClick();
        this.toggleInfoPanel(true);
        this.toggleMenu(false);
      };
      CommonUI.prototype.onInfoPanelCloseClick = function() {
        this.toggleInfoPanel(false);
      };
      CommonUI.prototype.onInfoPanelToggleClick = function() {
        var settingAble = this.toggleInfoPanel();
        if (settingAble) {
          this.closePanel({
            info: true
          });
          this.toggleMenu(false);
        }
      };
      CommonUI.prototype.onPanelCloseClick = function() {
        this.toggleAutoPanel(false);
        this.toggleLevelPanel(false);
        this.toggleSetting(false);
        this.toggleInfoPanel(false);
        this.toggleFeatureBuyPanel(false);
      };
      CommonUI.prototype.onFeatureBuyToggleClick = function() {
        var settingAble = this.toggleFeatureBuyPanel();
        if (settingAble) {
          this.closePanel({
            featureBuy: true
          });
          this.toggleMenu(false);
        }
      };
      CommonUI.prototype.onFeatureBuyPanelCloseClick = function() {
        this.toggleFeatureBuyPanel(false);
      };
      CommonUI.prototype.onSoundRatioSliderChange = function(slider) {
        this.data.set("soundRatio", slider.progress);
      };
      CommonUI.prototype.soundRatioColCallback = function(value, nodes) {
        clearTimeout(this.sliderTimeout);
        var next = function() {
          var slider = nodes[0].getComponent(UpdatePositionSlider_1.default);
          slider.updateHandlePosition(value);
        };
        this.sliderTimeout = setTimeout(next, 5);
      };
      CommonUI.prototype.onSpinSpeedSliderChange = function(slider) {
        this.data.set("spinSpeed", slider.progress);
        StorageGlobal_1.setSpinSpeed(slider.progress);
      };
      CommonUI.prototype.spinSpeedColCallback = function(value, nodes) {
        clearTimeout(this.sliderTimeout2);
        var next = function() {
          var slider = nodes[0].getComponent(UpdatePositionSlider_1.default);
          slider.updateHandlePosition(value);
        };
        this.sliderTimeout2 = setTimeout(next, 5);
      };
      CommonUI.prototype.onStartPageToggleClick = function() {
        this.toggleStartPage();
      };
      CommonUI.prototype.onStartPageOpenClick = function() {
        this.toggleStartPage(true);
      };
      CommonUI.prototype.onStartPageCloseClick = function() {
        this.toggleStartPage(false);
      };
      CommonUI.prototype.onCurrencySymbolToggleClick = function() {
        this.toggleCurrencySymbol();
      };
      CommonUI.prototype.onCurrencySymbolOpenClick = function() {
        this.toggleCurrencySymbol(true);
      };
      CommonUI.prototype.onCurrencySymbolCloseClick = function() {
        this.toggleCurrencySymbol(false);
      };
      CommonUI.prototype.onSpaceSpinToggleClick = function() {
        this.toggleSpaceSpin();
      };
      CommonUI.prototype.onSpaceSpinOpenClick = function() {
        this.toggleSpaceSpin(true);
      };
      CommonUI.prototype.onSpaceSpinCloseClick = function() {
        this.toggleSpaceSpin(false);
      };
      CommonUI.prototype.onSpeedUpToggleClick = function() {
        this.toggleSpeedUp();
      };
      CommonUI.prototype.onSpeedUpOpenClick = function() {
        this.toggleSpeedUp(true);
      };
      CommonUI.prototype.onSpeedUpCloseClick = function() {
        this.toggleSpeedUp(false);
      };
      __decorate([ property([ KeyNode_1.KeyNode ]) ], CommonUI.prototype, "keyNodes", void 0);
      __decorate([ property([ cc.Widget ]) ], CommonUI.prototype, "canvasWidget", void 0);
      __decorate([ property(CommonUIInfo_1.default) ], CommonUI.prototype, "slotInfo", void 0);
      __decorate([ property(CommonUIAuto_1.default) ], CommonUI.prototype, "slotAuto", void 0);
      __decorate([ property(FeatureBuy_1.default) ], CommonUI.prototype, "slotFeatureBuy", void 0);
      __decorate([ property(BonusEventUI_1.default) ], CommonUI.prototype, "bonusEventUI", void 0);
      __decorate([ property(cc.Label) ], CommonUI.prototype, "messageLabel", void 0);
      CommonUI = __decorate([ ccclass ], CommonUI);
      return CommonUI;
    }(ColItemBase_1.default);
    exports.default = CommonUI;
    cc._RF.pop();
  }, {
    "../StorageGlobal": "StorageGlobal",
    "../component/I18nLabel": "I18nLabel",
    "../component/UpdatePositionSlider": "UpdatePositionSlider",
    "../data/ColBase": "ColBase",
    "../data/ColItemBase": "ColItemBase",
    "../data/KeyNode": "KeyNode",
    "../featurebuy/FeatureBuy": "FeatureBuy",
    "../info/CommonUIInfo": "CommonUIInfo",
    "../script/BonusEventUI": "BonusEventUI",
    "../script/ResSprite": "ResSprite",
    "./CommonUIAuto": "CommonUIAuto",
    "./CommonUIStyle": "CommonUIStyle",
    "./OptionPanel": "OptionPanel"
  } ],
  CommunicationBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f7954UPBrZNoKH4Bj3JeKgL", "CommunicationBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.mapAnyWarper = exports.mapAny = void 0;
    var base_pb_1 = require("@circusmonkey/utilities-protobuf/ts/base/base_pb");
    var user_pb_1 = require("game-protobuf/ts/account/user_pb");
    var base_pb_2 = require("game-protobuf/ts/base/base_pb");
    var game_pb_1 = require("game-protobuf/ts/game/game_pb");
    var rxjs_1 = require("rxjs");
    var operators_1 = require("rxjs/operators");
    var I18nGlobal_1 = require("../I18nGlobal");
    var LibGlobal_1 = require("../LibGlobal");
    var ParamsGlobal_1 = require("../ParamsGlobal");
    var LoginState_1 = require("../data/LoginState");
    var PingData_1 = require("../data/PingData");
    var MemberServiceBase_1 = require("../protobuf/MemberServiceBase");
    var Utils_1 = require("../utils/Utils");
    var ccclass = cc._decorator.ccclass;
    var listenTo = [ MemberServiceBase_1.MemberServiceBaseKey.GameHeartbeatRes ];
    function mapAny(_a) {
      var key = _a[0], any = _a[1];
      if (!any) throw new Error("not a good format");
      return any;
    }
    exports.mapAny = mapAny;
    function mapAnyWarper(next) {
      if (next) return function(val) {
        return next(mapAny(val));
      };
    }
    exports.mapAnyWarper = mapAnyWarper;
    var CommunicationBase = function(_super) {
      __extends(CommunicationBase, _super);
      function CommunicationBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.loginState = LoginState_1.LoginState.BEFORE_LOGIN;
        _this.ping = [];
        _this.timeDifference = 0;
        _this.minAvgPing = LibGlobal_1.MAX_LATENCY;
        _this.listenerMap = new Map();
        _this.latencyTime = 0;
        _this.serverTime = 0;
        _this.timeDiff = false;
        _this.now = Date.now();
        _this.isPingInit = false;
        _this.observer = null;
        _this.streamObserver = null;
        _this.errorObserver = null;
        _this.errorObservable = null;
        _this.subscriptioMap = new Map();
        _this.loaded = false;
        _this.netQuality = null;
        return _this;
      }
      CommunicationBase.prototype.onMessage = function(obj, opts) {
        if (obj instanceof game_pb_1.HeartbeatRes) {
          if (obj.getResult().getCode() !== base_pb_1.MsgCode.SUCCESS) return;
          this.updateTimeDifference(obj.getCTime(), obj.getSTime());
          this.streamHeartbeat();
        }
      };
      CommunicationBase.prototype.getGameService = function() {
        throw new Error("Method not implemented.");
      };
      CommunicationBase.prototype.update = function(dt) {
        if (this.loginState !== LoginState_1.LoginState.LOGIN) return;
        this.timeDiff = !this.timeDiff;
        if (!this.timeDiff) return;
        if (!this.isPingInit) {
          this.now = Date.now();
          this.isPingInit = true;
          this.streamHeartbeat();
        }
        if (Date.now() - this.now < 5e3) return;
        this.netQuality && this.netQuality.setPing(5e3);
        ParamsGlobal_1.EXTRA_1110 ? this.main.offline(I18nGlobal_1.translateError("NETWORK.sys_net_error2", -1), -1, true, false) : this.main.offline(I18nGlobal_1.translateError("NETWORK.sys_net_error", -1), -1, true, true);
      };
      CommunicationBase.prototype.appendBaseReq = function(req) {
        if (req.setBaseReq) {
          var bq = new base_pb_2.BaseReq();
          bq.setToken(this.main.token);
          req.setBaseReq(bq);
          return req;
        }
        Utils_1.warn("try to append non-baseReq req");
        return req;
      };
      CommunicationBase.prototype.requestAuth = function(gid) {
        var _this = this;
        var req = new user_pb_1.AuthReq();
        req.setGid(gid);
        this.appendBaseReq(req);
        this.toggleLoading(true);
        return this.getGameService().streamAuth(req).pipe(operators_1.tap(function() {
          return _this.toggleLoading(false);
        }), operators_1.tap(this.observer), operators_1.map(mapAny));
      };
      CommunicationBase.prototype.requestUserInfo = function() {
        var _this = this;
        var req = new user_pb_1.UserInfoReq();
        this.appendBaseReq(req);
        return this.getGameService().streamGetUserInfo(req).pipe(operators_1.tap(function() {
          return _this.toggleLoading(false);
        }), operators_1.tap(this.observer), operators_1.map(mapAny));
      };
      CommunicationBase.prototype.requestPlatformAuthInfo = function() {
        return this.getGameService().streamGetPlatformAuthInfo().pipe(operators_1.map(mapAny));
      };
      CommunicationBase.prototype.requestDisconnect = function() {
        return this.getGameService().streamDisconnect().pipe(operators_1.map(mapAny));
      };
      CommunicationBase.prototype.requestUpdateBalance = function() {
        return this.getGameService().streamGetUpdateBalance().subscribe(this.streamObserver);
      };
      CommunicationBase.prototype.requestCheckBonus = function() {
        return this.getGameService().streamCheckBonusReq().pipe(operators_1.tap(this.streamObserver), operators_1.map(mapAny));
      };
      CommunicationBase.prototype.requestBetBonus = function() {
        this.toggleLoading(true);
        return this.getGameService().streamBetBonusReq().pipe(operators_1.tap(this.streamObserver), operators_1.map(mapAny));
      };
      CommunicationBase.prototype.observerNext = function(_a) {
        var key = _a[0], resp = _a[1];
        this.emitListener(key, resp);
      };
      CommunicationBase.prototype.observerError = function(error) {
        Utils_1.log("observerError: ", error);
      };
      CommunicationBase.prototype.streamObserverError = function(error) {
        this.errorObserver.next(error);
        Utils_1.log("streamObserverError: ", error);
      };
      CommunicationBase.prototype.observerComplete = function() {};
      CommunicationBase.prototype.retry = function() {
        var key = this.streamAliveKey();
        if (this.subscriptioMap.get(key) && !this.subscriptioMap.get(key).closed) return;
        if (this.loginState === LoginState_1.LoginState.KICKOUT) return;
        if (this.loginState === LoginState_1.LoginState.OFFLINE) return;
        ParamsGlobal_1.EXTRA_1110 ? this.main.offline(I18nGlobal_1.translateError("NETWORK.sys_net_error2", -1), -1, true, false) : this.main.offline(I18nGlobal_1.translateError("NETWORK.sys_net_error", -1), -1, true, true);
      };
      CommunicationBase.prototype.generateAnyObserver = function(next, error, complete) {
        var out = {};
        Object.assign(out, this.streamObserver, {
          error: error,
          complete: complete,
          next: mapAnyWarper(next)
        });
        return out;
      };
      CommunicationBase.prototype.genObserver = function(next) {
        return {
          next: function(_a) {
            var s = _a[0], x = _a[1];
            var code = x.getResult().getCode();
            var e = code === base_pb_1.MsgCode.SUCCESS ? "" : "" + code;
            next(e, x);
          },
          error: function() {
            return next("error", null);
          },
          complete: rxjs_1.noop
        };
      };
      CommunicationBase.prototype.registListener = function(keyOrKeys, listener, priority) {
        var _this = this;
        void 0 === priority && (priority = 1);
        if (Array.isArray(keyOrKeys)) {
          keyOrKeys.forEach(function(key) {
            return _this.registListener(key, listener, priority);
          });
          return;
        }
        this.listenerMap.has(keyOrKeys) || this.listenerMap.set(keyOrKeys, []);
        this.listenerMap.get(keyOrKeys).push({
          listener: listener,
          priority: priority
        });
        this.listenerMap.get(keyOrKeys).sort(function(a, b) {
          return b.priority - a.priority;
        });
      };
      CommunicationBase.prototype.unregistListener = function(keyOrKeys, listener) {
        var _this = this;
        if (!this.listenerMap) return;
        if (Array.isArray(keyOrKeys)) {
          keyOrKeys.forEach(function(key) {
            return _this.unregistListener(key, listener);
          });
          return;
        }
        var ary = this.listenerMap.get(keyOrKeys);
        if (!ary || !ary.length) return;
        var idx = ary.findIndex(function(a) {
          return a.listener === listener;
        });
        -1 !== idx && this.listenerMap.get(keyOrKeys).splice(idx, 1);
      };
      CommunicationBase.prototype.emitListener = function(key, resp, opts) {
        if (!this.listenerMap.has(key)) {
          "game.HeartbeatRes" !== key && Utils_1.warn("emitListener: 0", key, resp && resp.toObject ? resp.toObject() : resp, opts);
          return;
        }
        this.listenerMap.get(key).forEach(function(listener) {
          listener.listener.onMessage(resp, opts);
        });
      };
      CommunicationBase.prototype.clearListener = function(key) {
        key ? this.listenerMap.delete(key) : this.listenerMap.clear();
      };
      CommunicationBase.prototype.onLoad = function() {
        this.pre();
        this.registListener(listenTo, this);
      };
      CommunicationBase.prototype.pre = function() {
        var _this = this;
        if (this.loaded) return true;
        this.loaded = true;
        this.errorObservable = rxjs_1.Observable.create(function(observer) {
          _this.errorObserver = observer;
        }).pipe(operators_1.debounceTime(500)).subscribe(this.retry.bind(this));
        this.observerNext = this.observerNext.bind(this);
        this.observerError = this.observerError.bind(this);
        this.streamObserverError = this.streamObserverError.bind(this);
        this.observerComplete = this.observerComplete.bind(this);
        this.observer = {
          next: this.observerNext,
          error: this.observerError,
          complete: this.observerComplete
        };
        this.streamObserver = {
          next: this.observerNext,
          error: this.streamObserverError,
          complete: this.observerComplete
        };
        this.tapHideLoading = operators_1.tap(function() {
          return _this.toggleLoading(false);
        }, function() {
          return _this.toggleLoading(false);
        });
        return false;
      };
      CommunicationBase.prototype.streamHeartbeat = function() {
        var heartbeat = new game_pb_1.HeartbeatReq();
        heartbeat.setCTime(Utils_1.clientTime2ServerTime(Date.now()));
        return this.getGameService().streamHeartbeat(heartbeat).subscribe(this.streamObserver);
      };
      CommunicationBase.prototype.updateTimeDifference = function(latencyTime, serverTime) {
        void 0 === latencyTime && (latencyTime = this.latencyTime + 1e6 * (Date.now() - this.now));
        void 0 === serverTime && (serverTime = this.serverTime);
        this.pre();
        this.now = Date.now();
        this.latencyTime = latencyTime;
        this.serverTime = serverTime;
        latencyTime = Utils_1.serverTime2ClientTime(latencyTime);
        var avgPing = this.avgPing(latencyTime);
        if (avgPing > 0 && avgPing < this.minAvgPing) {
          this.timeDifference = Utils_1.clientTimeDifferenceServerTime(Date.now(), serverTime);
          this.timeDifference > 0 ? this.timeDifference = this.timeDifference - avgPing : this.timeDifference = this.timeDifference + avgPing;
          this.minAvgPing = avgPing;
          Utils_1.log("clientTime: %d serverTime: %d timeDifference: %d avgPing: %d", Date.now(), serverTime, this.timeDifference, avgPing);
        }
        if (avgPing >= LibGlobal_1.MAX_LATENCY) {
          if (this.loginState === LoginState_1.LoginState.OFFLINE) return;
          ParamsGlobal_1.EXTRA_1110 ? this.main.offline(I18nGlobal_1.translateError("NETWORK.sys_net_error2", -1), -1, true, false) : this.main.offline(I18nGlobal_1.translateError("NETWORK.sys_net_error", -1), -1, true, true);
        }
      };
      CommunicationBase.prototype.avgPing = function(latencyTime) {
        var currentTime = Date.now();
        var ping;
        if (this.ping.length >= 5) {
          ping = this.ping.shift();
          ping.latencyTime = latencyTime;
        } else ping = new PingData_1.default(latencyTime);
        this.ping.push(ping);
        var avgTime = 0;
        var count = 0;
        this.ping.forEach(function(t) {
          avgTime += t.latencyTime;
          count += 1;
        });
        if (0 === count) return LibGlobal_1.MAX_LATENCY + 1;
        avgTime /= count;
        this.netQuality && this.netQuality.setPing(avgTime);
        return avgTime;
      };
      CommunicationBase.prototype.fixTimeDifference = function(serverTime) {
        return Utils_1.serverTime2ClientTimeDiff(serverTime, this.timeDifference);
      };
      CommunicationBase.prototype.bindNetQuality = function(netQuality) {
        this.netQuality = netQuality;
      };
      CommunicationBase.prototype.unbindNetQuality = function(netQuality) {
        this.netQuality = null;
      };
      CommunicationBase.prototype.bindMain = function(main) {
        this.main = main;
      };
      CommunicationBase = __decorate([ ccclass ], CommunicationBase);
      return CommunicationBase;
    }(cc.Component);
    exports.default = CommunicationBase;
    cc._RF.pop();
  }, {
    "../I18nGlobal": "I18nGlobal",
    "../LibGlobal": "LibGlobal",
    "../ParamsGlobal": "ParamsGlobal",
    "../data/LoginState": "LoginState",
    "../data/PingData": "PingData",
    "../protobuf/MemberServiceBase": "MemberServiceBase",
    "../utils/Utils": "Utils",
    "@circusmonkey/utilities-protobuf/ts/base/base_pb": 6,
    "game-protobuf/ts/account/user_pb": 27,
    "game-protobuf/ts/base/base_pb": 28,
    "game-protobuf/ts/game/game_pb": 30,
    rxjs: 47,
    "rxjs/operators": 243
  } ],
  Count: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "10f956XPf9N8oTdbeQmLbrM", "Count");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.globalDebugCreator = exports.countCreator = void 0;
    function countCreator(MMM, getRespTypeKey) {
      return function(obj, key) {
        void 0 === key && (key = "");
        var protoInstanceName = getRespTypeKey(obj);
        key = key || protoInstanceName && protoInstanceName.toString ? protoInstanceName.toString() : ("", 
        "");
        obj = protoInstanceName ? obj.toObject() : obj;
        if (!MMM.keyTimes[key]) {
          MMM.keyTimes[key] = 0;
          MMM.keyArray[key] = [];
        }
        MMM.keyTimes[key] += 1;
        MMM.keyArray[key].push(obj);
        MMM.array.push([ Date.now(), key, obj.id, obj ]);
        return protoInstanceName;
      };
    }
    exports.countCreator = countCreator;
    function globalDebugCreator(NNN) {
      false;
      return function(obj, name, push) {
        void 0 === name && (name = "");
        void 0 === push && (push = true);
        name && (NNN[name] = obj);
        push && NNN.push(obj);
      };
    }
    exports.globalDebugCreator = globalDebugCreator;
    cc._RF.pop();
  }, {} ],
  CurrencyGlobal: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c40abr4vvVPs53BiU5MN4rx", "CurrencyGlobal");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.getCurrencySuffix = exports.getCurrencyPrefix2 = exports.getCurrencyPrefix = exports.getCurrencyISO = exports.setCurrencyCode = void 0;
    var CURRENCY_SYMBOL_MAP = {
      CNY: [ "\xa5", "1:1" ],
      EUR: [ "\u20ac", "1:1" ],
      GBP: [ "\xa3", "1:1" ],
      HKD: [ "HK$", "1:1" ],
      IDR: [ "Rp", "1:1000" ],
      JPY: [ "\xa5", "1:1" ],
      KRW: [ "\u20a9", "1:1" ],
      MYR: [ "RM", "1:1" ],
      SGD: [ "$", "1:1" ],
      THB: [ "\u0e3f", "1:1" ],
      USD: [ "$", "1:1" ],
      VND: [ "\u20ab", "1:1000" ],
      MMK: [ "K", "1:1000" ],
      RUB: [ "\u20bd", "1:1" ],
      TTT: [ "$", "1:1" ],
      INR: [ "\u20a8", "1:1" ],
      AMD: [ "\u0564\u0580.", "1:1" ],
      LKR: [ "\u0bb0\u0bc2", "1:1" ],
      UGX: [ "Sh", "1:1000" ],
      TRY: [ "\u20ba", "1:1" ],
      UAH: [ "\u20b4", "1:1" ],
      NOK: [ "kr", "1:1" ],
      SEK: [ "kr", "1:1" ],
      AUD: [ "$", "1:1" ],
      PLN: [ "z\u0142", "1:1" ],
      KZT: [ "\u0422", "1:1" ],
      BND: [ "$", "1:1" ],
      NGN: [ "\u20a6", "1:1" ],
      KES: [ "Sh", "1:1" ],
      BRL: [ "R$", "1:1" ],
      MXN: [ "$", "1:1" ],
      COP: [ "$", "1:1000" ],
      PEN: [ "S/.", "1:1" ],
      ARS: [ "$", "1:1" ],
      CLP: [ "$", "1:1" ],
      ZAR: [ "R", "1:1" ],
      CAD: [ "$", "1:1" ],
      PKR: [ "\u20a8", "1:1" ],
      IRR: [ "\ufdfc", "1:1000" ],
      TZS: [ "Sh", "1:1000" ],
      NZD: [ "$", "1:1" ],
      CZK: [ "K\u010d", "1:1" ],
      BYN: [ "Br", "1:1" ],
      AZN: [ "\u20bc", "1:1" ],
      TND: [ "\u062f.\u062a", "1:1" ],
      UZS: [ "\u043b\u0432", "1:1000" ],
      XBT: [ "\u20bf", "1000:1" ],
      GEL: [ "\u10da", "1:1" ],
      CHF: [ "Fr", "1:1" ],
      ZMW: [ "ZK", "1:1" ],
      MDL: [ "L", "1:1" ],
      HUF: [ "Ft", "1:1" ],
      "1VND": [ "\u20ab", "1:1" ],
      kVND: [ "\u20ab", "1:1000" ],
      "1IDR": [ "Rp", "1:1" ],
      kIDR: [ "Rp", "1:1000" ],
      XAF: [ "Fr", "1:1" ],
      NPR: [ "\u20a8", "1:1" ],
      "1LAK": [ "\u20ad", "1:1" ],
      kLAK: [ "\u20ad", "1:1000" ],
      PHP: [ "\u20b1", "1:1" ],
      KGS: [ "\u043b\u0432", "1:1" ],
      TMT: [ "T", "1:1" ],
      BDT: [ "\u09f3", "1:1" ],
      GHS: [ "GH\u20b5", "1:1" ],
      NIO: [ "C$", "1:1" ],
      USDT: [ "$", "1:1" ],
      IN5: [ "\u20a8", "1:1" ],
      PK5: [ "\u20a8", "1:1" ],
      KHR: [ "\u17db", "1:1" ],
      AED: [ "\u062f.\u0625", "1:1" ],
      XOF: [ "Fr", "1:1" ],
      SSP: [ "\xa3", "1:1" ],
      HTG: [ "G", "1:1" ],
      CDF: [ "Fr", "1:1" ],
      "1MMK": [ "K", "1:1" ],
      kMMK: [ "K", "1:1000" ],
      cTTT: [ "$", "1:100" ],
      TRX: [ "TRX", "1:1" ],
      DKK: [ "kr", "1:1" ],
      uTTT: [ "$", "1:1" ],
      ETB: [ "Br", "1:1" ],
      pTTT: [ "$", "1:1" ],
      xTTT: [ "$", "1:100" ],
      cMYR: [ "RM", "1:100" ],
      kKHR: [ "\u17db", "1:1000" ],
      "1MNT": [ "\u20ae", "1:1" ],
      kMNT: [ "\u20ae", "1:1000" ],
      MOP: [ "$", "1:1" ],
      ZWD: [ "Z$", "1:1" ],
      DZD: [ "\u062f\u062c", "1:1" ],
      MAD: [ "DH", "1:1" ],
      "1COP": [ "$", "1:1" ],
      EGP: [ "E\xa3", "1:1" ]
    };
    var isoCode = "";
    var symbol = "";
    var prefix = "";
    var prefix2 = "";
    var tail = "";
    function setCurrencyCode(code) {
      isoCode = code;
      var arr = CURRENCY_SYMBOL_MAP[isoCode] || [];
      symbol = arr[0] || "";
      var ratio = arr[1] || "";
      if ("kIDR" === isoCode) {
        prefix = symbol;
        prefix2 = "kIDR";
        tail = "";
        return;
      }
      prefix = symbol;
      prefix2 = symbol;
      tail = "1:1000" === ratio ? "K" : "";
    }
    exports.setCurrencyCode = setCurrencyCode;
    function getCurrencyISO() {
      return isoCode;
    }
    exports.getCurrencyISO = getCurrencyISO;
    function getCurrencyPrefix() {
      return prefix;
    }
    exports.getCurrencyPrefix = getCurrencyPrefix;
    function getCurrencyPrefix2() {
      return prefix2;
    }
    exports.getCurrencyPrefix2 = getCurrencyPrefix2;
    function getCurrencySuffix() {
      return tail;
    }
    exports.getCurrencySuffix = getCurrencySuffix;
    cc._RF.pop();
  }, {} ],
  Cursor: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "915963SL4VOEIqsK6QOBhK6", "Cursor");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var Cursor = function(_super) {
      __extends(Cursor, _super);
      function Cursor() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.cursorNode = null;
        _this.widget = null;
        _this.cursorSpriteFrame = null;
        _this.anchor = cc.v2();
        _this.hide = false;
        _this.mouseEventTrigged = false;
        _this.haveMouseEvent = false;
        _this.touch = null;
        _this.move = null;
        return _this;
      }
      Cursor.prototype.onLoad = function() {
        var _this = this;
        var node = this.node;
        if (node.children.length) this.cursorNode = node.children[0]; else if (this.cursorSpriteFrame) {
          var cn = new cc.Node("Cursor");
          cn.setParent(this.node);
          cn.setAnchorPoint(this.anchor);
          cn.setContentSize(this.cursorSpriteFrame.getOriginalSize());
          var cs = cn.addComponent(cc.Sprite);
          cs.sizeMode = cc.Sprite.SizeMode.RAW;
          cs.trim = false;
          cs.spriteFrame = this.cursorSpriteFrame;
          this.cursorNode = cn;
        } else {
          var node_1 = new cc.Node();
          this.node.addChild(node_1);
          this.cursorNode = node_1;
          this.hide = true;
        }
        var w = this.getComponent(cc.Widget) || this.addComponent(cc.Widget);
        w.top = 0;
        w.bottom = 0;
        w.left = 0;
        w.right = 0;
        w.alignMode = cc.Widget.AlignMode.ON_WINDOW_RESIZE;
        w.updateAlignment();
        this.widget = w;
        node.on(cc.Node.EventType.MOUSE_ENTER, this.onMouseEnter, this);
        node.on(cc.Node.EventType.MOUSE_MOVE, this.onMouseMove, this);
        node.on(cc.Node.EventType.MOUSE_LEAVE, this.onMouseLeave, this);
        this.cursorNode.active = false;
        var touch = function() {
          node._touchListener.setSwallowTouches(false);
          node.off(cc.Node.EventType.TOUCH_START, touch);
          _this.haveMouseEvent = _this.mouseEventTrigged;
          if (_this.hide) return;
          _this.haveMouseEvent || node.destroy();
        };
        node.on(cc.Node.EventType.TOUCH_START, touch);
        node.zIndex = 9999;
      };
      Cursor.prototype.bindTouch = function(touch) {
        var node = this.node;
        if (this.touch) {
          node.off(cc.Node.EventType.TOUCH_END, this.touch, this);
          node.off(cc.Node.EventType.TOUCH_START, this.touch, this);
          node.off(cc.Node.EventType.TOUCH_MOVE, this.touch, this);
          node.off(cc.Node.EventType.TOUCH_CANCEL, this.touch, this);
        }
        if (touch) {
          node.on(cc.Node.EventType.TOUCH_END, touch, this);
          node.on(cc.Node.EventType.TOUCH_START, touch, this);
          node.on(cc.Node.EventType.TOUCH_MOVE, touch, this);
          node.on(cc.Node.EventType.TOUCH_CANCEL, touch, this);
        }
        this.touch = touch;
      };
      Cursor.prototype.bindMove = function(move) {
        this.move = move;
      };
      Cursor.prototype.onMouseEnter = function(event) {
        this.mouseEventTrigged = true;
        this.hide || (document.body.style.cursor = "none");
        var x = event.getLocationX();
        var y = event.getLocationY();
        var pos = cc.v2(x - this.widget.node.width / 2, y - this.widget.node.height / 2);
        this.cursorNode.setPosition(pos);
        this.cursorNode.active = true;
        this.move && this.move(event);
      };
      Cursor.prototype.onMouseMove = function(event) {
        this.mouseEventTrigged = true;
        var x = event.getLocationX();
        var y = event.getLocationY();
        var pos = cc.v2(x - this.widget.node.width / 2, y - this.widget.node.height / 2);
        this.cursorNode.setPosition(pos);
        this.move && this.move(event);
      };
      Cursor.prototype.onMouseLeave = function(event) {
        this.mouseEventTrigged = true;
        this.hide || (document.body.style.cursor = "auto");
        this.cursorNode.active = false;
        this.move && this.move(event);
      };
      __decorate([ property(cc.SpriteFrame) ], Cursor.prototype, "cursorSpriteFrame", void 0);
      __decorate([ property(cc.v2) ], Cursor.prototype, "anchor", void 0);
      Cursor = __decorate([ ccclass ], Cursor);
      return Cursor;
    }(cc.Component);
    exports.default = Cursor;
    cc._RF.pop();
  }, {} ],
  DebugNNN: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ea616ZBHGhG5pdD/g9JBSYz", "DebugNNN");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var LibGlobal_1 = require("../LibGlobal");
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var DebugNNN = function(_super) {
      __extends(DebugNNN, _super);
      function DebugNNN() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.debugName = "";
        _this.push = false;
        _this.debugFirstComponent = false;
        _this.debugPreviousComponent = false;
        return _this;
      }
      DebugNNN.prototype.onLoad = function() {
        var _this = this;
        false;
        var target;
        if (this.debugFirstComponent) {
          var comps = this.getComponents(cc.Component);
          for (var i = 0; i < comps.length; i += 1) {
            var comp = comps[i];
            if (comp !== this) {
              target = comp;
              break;
            }
          }
          target || Utils_1.warn("DebugNNN can't find first component", Utils_1.nodePath(this.node));
        } else if (this.debugPreviousComponent) {
          var comps = this.getComponents(cc.Component);
          var idx = comps.findIndex(function(c) {
            return c === _this;
          });
          target = comps[idx - 1];
          target || Utils_1.warn("DebugNNN can't find previous component", Utils_1.nodePath(this.node));
        } else target = this.node;
        LibGlobal_1.globalDebugNNN(target, this.debugName, this.push);
        Utils_1.warn("DebugNNN should be remove after debug.", Utils_1.nodePath(this.node));
      };
      __decorate([ property({
        displayName: "Name"
      }) ], DebugNNN.prototype, "debugName", void 0);
      __decorate([ property(cc.Boolean) ], DebugNNN.prototype, "push", void 0);
      __decorate([ property(cc.Boolean) ], DebugNNN.prototype, "debugFirstComponent", void 0);
      __decorate([ property(cc.Boolean) ], DebugNNN.prototype, "debugPreviousComponent", void 0);
      DebugNNN = __decorate([ ccclass ], DebugNNN);
      return DebugNNN;
    }(cc.Component);
    exports.default = DebugNNN;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../utils/Utils": "Utils"
  } ],
  DefaultZIndex: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b781ds7u+BCOJTmg6jsziXI", "DefaultZIndex");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var DefaultZIndex = function(_super) {
      __extends(DefaultZIndex, _super);
      function DefaultZIndex() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.zIndex = 0;
        return _this;
      }
      DefaultZIndex.prototype.onLoad = function() {
        this.node.zIndex = this.zIndex;
      };
      __decorate([ property(cc.Integer) ], DefaultZIndex.prototype, "zIndex", void 0);
      DefaultZIndex = __decorate([ ccclass ], DefaultZIndex);
      return DefaultZIndex;
    }(cc.Component);
    exports.default = DefaultZIndex;
    cc._RF.pop();
  }, {} ],
  DragControl: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "00d8e3psbhIip+OkUv4FnI/", "DragControl");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var DragControl = function(_super) {
      __extends(DragControl, _super);
      function DragControl() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.camera = null;
        _this.onDragMoveHandler = null;
        _this.dragNode = null;
        _this.enable = false;
        return _this;
      }
      DragControl.prototype.onLoad = function() {
        var id = this._id;
        this.node.on(cc.Node.EventType.MOUSE_MOVE, this.mouseMove, this);
      };
      DragControl.prototype.mouseDown = function(event, moveTarget) {
        this.enable = true;
        this.dragNode = moveTarget || event.getCurrentTarget();
      };
      DragControl.prototype.mouseUp = function() {
        this.enable = false;
        this.dragNode = null;
      };
      DragControl.prototype.mouseMove = function(event) {
        if (this.enable) {
          var loc = event.getLocation();
          var tmp = new cc.Vec2();
          this.camera.getScreenToWorldPoint(loc, tmp);
          var node = this.dragNode;
          var size = cc.view.getVisibleSize();
          var pos = tmp.sub(cc.v2(size.width / 2, size.height / 2));
          pos.x = Math.round(pos.x);
          pos.y = Math.round(pos.y);
          node.setPosition(pos);
          this.onDragMoveHandler && this.onDragMoveHandler.emit([ pos ]);
        }
      };
      __decorate([ property(cc.Camera) ], DragControl.prototype, "camera", void 0);
      __decorate([ property(cc.Component.EventHandler) ], DragControl.prototype, "onDragMoveHandler", void 0);
      DragControl = __decorate([ ccclass ], DragControl);
      return DragControl;
    }(cc.Component);
    exports.default = DragControl;
    cc._RF.pop();
  }, {} ],
  DragPoint: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e13c0G9PVlEvKoRS6Bt9BHg", "DragPoint");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var DragControl_1 = require("./DragControl");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var DragPoint = function(_super) {
      __extends(DragPoint, _super);
      function DragPoint() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.dragControlNode = null;
        _this.dragControl = null;
        _this.moveTarget = null;
        _this.draggable = true;
        return _this;
      }
      DragPoint.prototype.onLoad = function() {
        this.dragControl = this.dragControlNode.getComponent(DragControl_1.default);
        this.node.on(cc.Node.EventType.MOUSE_DOWN, this.mouseDown, this);
        this.node.on(cc.Node.EventType.MOUSE_UP, this.mouseUp, this);
        this.node.on(cc.Node.EventType.MOUSE_MOVE, this.mouseMove, this);
      };
      DragPoint.prototype.mouseDown = function(event) {
        this.draggable && this.dragControl.mouseDown(event, this.moveTarget);
      };
      DragPoint.prototype.mouseUp = function() {
        this.draggable && this.dragControl.mouseUp();
      };
      DragPoint.prototype.mouseMove = function(event) {
        this.draggable && this.dragControl.mouseMove(event);
      };
      __decorate([ property(cc.Node) ], DragPoint.prototype, "dragControlNode", void 0);
      __decorate([ property(cc.Node) ], DragPoint.prototype, "moveTarget", void 0);
      DragPoint = __decorate([ ccclass ], DragPoint);
      return DragPoint;
    }(cc.Component);
    exports.default = DragPoint;
    cc._RF.pop();
  }, {
    "./DragControl": "DragControl"
  } ],
  Drag: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "32fcfSn2ItEG7pfu8kLMUtH", "Drag");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var delay = 3;
    var Drag = function(_super) {
      __extends(Drag, _super);
      function Drag() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.camera = null;
        _this.dragNode = null;
        _this.dragging = false;
        _this.dragPos = null;
        _this.dragNodePos = null;
        _this.editor = null;
        return _this;
      }
      Drag.prototype.onLoad = function() {
        this.node.on(cc.Node.EventType.MOUSE_MOVE, this.onMouseMove, this);
        this.node.on(cc.Node.EventType.MOUSE_DOWN, this.onMouseDown, this);
        this.node.on(cc.Node.EventType.MOUSE_UP, this.onMouseUp, this);
        this.freeDragging = this.freeDragging.bind(this);
      };
      Drag.prototype.onMouseDown = function(event) {
        this.dragging = true;
        this.dragPos = this.camera.getScreenToWorldPoint(event.getLocation());
        this.dragNodePos = this.dragNode.getPosition();
        this.unscheduleAllCallbacks();
        this.scheduleOnce(this.freeDragging, delay);
      };
      Drag.prototype.onMouseUp = function() {
        this.dragging = false;
        this.unscheduleAllCallbacks();
      };
      Drag.prototype.freeDragging = function() {
        this.dragging = false;
        this.editor.message("free dragging");
      };
      Drag.prototype.onMouseMove = function(event) {
        if (this.dragging) {
          this.unscheduleAllCallbacks();
          this.scheduleOnce(this.freeDragging, delay);
          var worldPos = this.camera.getScreenToWorldPoint(event.getLocation());
          var pos = this.dragNodePos.add(worldPos.sub(this.dragPos));
          this.dragNode.setPosition(Math.floor(pos.x), Math.floor(pos.y));
          this.editor.refreshLabel();
        }
      };
      __decorate([ property(cc.Camera) ], Drag.prototype, "camera", void 0);
      __decorate([ property(cc.Node) ], Drag.prototype, "dragNode", void 0);
      Drag = __decorate([ ccclass ], Drag);
      return Drag;
    }(cc.Component);
    exports.default = Drag;
    cc._RF.pop();
  }, {} ],
  FeatureBuyConfig: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "97770qX4flJUrOPu3iqiMvP", "FeatureBuyConfig");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CommonUIManager_1 = require("../ui/CommonUIManager");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var FeatureBuyConfig = function(_super) {
      __extends(FeatureBuyConfig, _super);
      function FeatureBuyConfig() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.size1280x720 = false;
        _this.prefabs = [];
        return _this;
      }
      FeatureBuyConfig.prototype.onLoad = function() {
        var _this = this;
        if (!this.prefabs) return;
        var commonUIManager = this.getComponent(CommonUIManager_1.default);
        var uIFeatureBuys = commonUIManager.getLayoutFeatureBuys();
        uIFeatureBuys.forEach(function(uiFeaturebuy, index) {
          if (!uiFeaturebuy) return;
          uiFeaturebuy.size1280x720 = _this.size1280x720;
          _this.prefabs[index] && (uiFeaturebuy.featurePrefab = _this.prefabs[index]);
        });
      };
      __decorate([ property(cc.Boolean) ], FeatureBuyConfig.prototype, "size1280x720", void 0);
      __decorate([ property({
        type: [ cc.Prefab ],
        tooltip: "FeatureBuyNode\nH\nMH\nMV\n\u4e00\u5b9a\u8981\u4e09\u500b"
      }) ], FeatureBuyConfig.prototype, "prefabs", void 0);
      FeatureBuyConfig = __decorate([ ccclass ], FeatureBuyConfig);
      return FeatureBuyConfig;
    }(cc.Component);
    exports.default = FeatureBuyConfig;
    cc._RF.pop();
  }, {
    "../ui/CommonUIManager": "CommonUIManager"
  } ],
  FeatureBuyContent: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e9cca0P0EdN+ZmFg+emfVr8", "FeatureBuyContent");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var FeatureBuyContent = function(_super) {
      __extends(FeatureBuyContent, _super);
      function FeatureBuyContent() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.target = null;
        return _this;
      }
      __decorate([ property(cc.Node) ], FeatureBuyContent.prototype, "target", void 0);
      FeatureBuyContent = __decorate([ ccclass ], FeatureBuyContent);
      return FeatureBuyContent;
    }(cc.Component);
    exports.default = FeatureBuyContent;
    cc._RF.pop();
  }, {} ],
  FeatureBuyData: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "307efGCQ1JK+olT1QXIkmWr", "FeatureBuyData");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Balance_1 = require("../utils/Balance");
    var FeatureBuyData = function() {
      function FeatureBuyData(betBase, key, odds, featureBuyMax) {
        this.betBase = betBase;
        this.key = key;
        this.odds = odds;
        this.featureBuyMax = featureBuyMax;
        this.data = key + "#" + odds;
      }
      FeatureBuyData.prototype.updateLevel = function(level) {
        this.level = level;
      };
      FeatureBuyData.prototype.updateBetBase = function(betBase) {
        this.betBase = betBase;
      };
      FeatureBuyData.prototype.getTotalBet = function() {
        return Balance_1.safeMul(this.betBase, this.level, this.odds);
      };
      FeatureBuyData.prototype.overFeatureBuyMax = function() {
        var balance = this.getTotalBet();
        if (this.featureBuyMax > 0) return Balance_1.safeMul(balance, 1e4) > this.featureBuyMax;
        return false;
      };
      FeatureBuyData.prototype.clone = function() {
        var d = new FeatureBuyData(this.betBase, this.key, this.odds, this.featureBuyMax);
        d.level = this.level;
        d.data = this.data;
        return d;
      };
      return FeatureBuyData;
    }();
    exports.default = FeatureBuyData;
    cc._RF.pop();
  }, {
    "../utils/Balance": "Balance"
  } ],
  FeatureBuy: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1c9e46zcyBDsqwpBGMpG9oM", "FeatureBuy");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CommonButton_1 = require("../component/CommonButton");
    var I18nLabel_1 = require("../component/I18nLabel");
    var I18nMeta_1 = require("../component/I18nMeta");
    var I18nSprite_1 = require("../component/I18nSprite");
    var LayoutShrinkLabel_1 = require("../component/LayoutShrinkLabel");
    var NodeShrink_1 = require("../component/NodeShrink");
    var UIToggle_1 = require("../component/UIToggle");
    var CurrencyGlobal_1 = require("../CurrencyGlobal");
    var ColLabel_1 = require("../data/ColLabel");
    var I18nGlobal_1 = require("../I18nGlobal");
    var LabelGlobal_1 = require("../LabelGlobal");
    var ResizeGlobal_1 = require("../ResizeGlobal");
    var ResourcesCol_1 = require("../script/ResourcesCol");
    var Balance_1 = require("../utils/Balance");
    var FeatureBuyContent_1 = require("./FeatureBuyContent");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var FeatureBuy = function(_super) {
      __extends(FeatureBuy, _super);
      function FeatureBuy() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.size1280x720 = false;
        _this.uiToggle = null;
        _this.currentIndex = 0;
        _this.pageView = null;
        _this.leftBtn = null;
        _this.rightBtn = null;
        _this.contentPrefab = null;
        _this.featurePrefab = null;
        _this.featureBuyNodes = new Map();
        _this.datas = [];
        _this.displayCurrencySymbol = false;
        _this.isLoad = false;
        _this.onPosted = null;
        _this.onDraw = null;
        _this.buyClickFunc = null;
        return _this;
      }
      FeatureBuy.prototype.resize = function() {
        var node = this.node;
        var shrinks = node.getComponentsInChildren(NodeShrink_1.default);
        shrinks.forEach(function(shrink) {
          shrink.resize();
        });
        var layoutShrinkLabels = node.getComponentsInChildren(LayoutShrinkLabel_1.default);
        layoutShrinkLabels.forEach(function(lsl) {
          lsl.resize();
        });
      };
      FeatureBuy.prototype.onEnable = function() {
        var _a;
        if (this.isLoad) return;
        this.resize();
        this.isLoad = true;
        null === (_a = this.onPosted) || void 0 === _a ? void 0 : _a.call(this);
      };
      FeatureBuy.prototype.onLoad = function() {
        var h = new cc.Component.EventHandler();
        h.component = "FeatureBuy";
        h.handler = "onPageViewScroll";
        h.target = this.node;
        this.pageView.scrollEvents.push(h);
      };
      FeatureBuy.prototype.onPageViewScroll = function(pageView, offset) {
        if (1 === this.pageView.getPages().length) {
          this.pageView.stopAutoScroll();
          this.pageView.scrollToPage(0, 0);
        }
      };
      FeatureBuy.prototype.reset = function() {
        this.updateDatas(this.datas, this.displayCurrencySymbol);
      };
      FeatureBuy.prototype.onLeftClick = function() {
        var idx = this.pageView.getCurrentPageIndex();
        this.pageView.isAutoScrolling() && this.pageView.stopAutoScroll();
        this.pageView.scrollToPage(idx - 1, .5);
      };
      FeatureBuy.prototype.onRightClick = function() {
        var idx = this.pageView.getCurrentPageIndex();
        this.pageView.isAutoScrolling() && this.pageView.stopAutoScroll();
        this.pageView.scrollToPage(idx + 1, .5);
      };
      FeatureBuy.prototype.updateDatas = function(featureBuyDatas, displayCurrencySymbol) {
        var _this = this;
        if (!this.featurePrefab || !this.contentPrefab) return;
        if (0 === featureBuyDatas.length) return;
        this.datas = featureBuyDatas;
        this.displayCurrencySymbol = displayCurrencySymbol;
        this.pageView.enabled = true;
        this.pageView.removeAllPages();
        var i = 0;
        var content = null;
        featureBuyDatas.forEach(function(data) {
          if (data.overFeatureBuyMax()) return;
          var hasDrawContent = i % 2 === 0;
          if (hasDrawContent) {
            content = _this.drawContent();
            _this.pageView.addPage(content.node);
          }
          var featureBuyNode = _this.drawFeatureBuy(data, displayCurrencySymbol);
          content.target.addChild(featureBuyNode);
          i += 1;
        });
        LabelGlobal_1.applyLabel(this.node);
        var page = Math.ceil(i / 2);
        var idx = this.pageView.getCurrentPageIndex();
        idx > page - 1 && this.pageView.scrollToPage(page - 1, 0);
        var able = !(1 === page);
        this.pageView.indicator.node.opacity = able ? 255 : 0;
        this.leftBtn.active = able;
        this.rightBtn.active = able;
      };
      FeatureBuy.prototype.drawContent = function() {
        var node = cc.instantiate(this.contentPrefab);
        this.size1280x720 && ResizeGlobal_1.resizeNode(ResizeGlobal_1.RESIZE_SCALE, node);
        var content = node.getComponent(FeatureBuyContent_1.default);
        return content;
      };
      FeatureBuy.prototype.drawFeatureBuy = function(featureBuyData, displayCurrencySymbol) {
        var _a;
        var key = featureBuyData.key;
        var node = cc.instantiate(this.featurePrefab);
        node.name = key;
        this.size1280x720 && ResizeGlobal_1.resizeNode(ResizeGlobal_1.RESIZE_SCALE, node);
        this.updateBalance(node, featureBuyData, displayCurrencySymbol);
        var replace = function(ks) {
          ks.key = ks.key.replace("{index}", "" + key);
          ks.str = ks.str.replace("{index}", "" + key);
        };
        node.getComponentsInChildren(ResourcesCol_1.default).forEach(function(col) {
          col.keyStrs.map(replace);
        });
        var each = function(x) {
          x.dataID = x.dataID.replace("{index}", "" + key);
        };
        node.getComponentsInChildren(I18nSprite_1.I18nSprite).forEach(each);
        node.getComponentsInChildren(I18nLabel_1.I18nLabel).forEach(each);
        node.getComponentsInChildren(I18nMeta_1.I18nMeta).forEach(each);
        null === (_a = this.onDraw) || void 0 === _a ? void 0 : _a.call(this, featureBuyData, node);
        this.featureBuyNodes.set(key, node);
        return node;
      };
      FeatureBuy.prototype.updateBalance = function(node, featureBuyData, displayCurrencySymbol) {
        var btn = node.getComponentInChildren(CommonButton_1.default);
        var handler = new cc.Component.EventHandler();
        handler.target = this.node;
        handler.component = "FeatureBuy";
        handler.handler = "onBuyClick";
        handler.customEventData = featureBuyData.data;
        btn.onClickHandler = handler;
        var colLabels = node.getComponentsInChildren(ColLabel_1.ColLabel);
        var colBetLimit = colLabels.find(function(col) {
          return "FEATUREBUY.bet_limit" === col.colKey;
        });
        colBetLimit.reset("", I18nGlobal_1.translate("FEATUREBUY.bet_limit"));
        var balance = featureBuyData.getTotalBet();
        if (featureBuyData.featureBuyMax > 0 && Balance_1.safeMul(balance, 1e4) > featureBuyData.featureBuyMax) {
          btn.interactable = false;
          colBetLimit.node.active = true;
        } else {
          btn.interactable = true;
          colBetLimit.node.active = false;
        }
        var coCost = colLabels.find(function(col) {
          return "FEATUREBUY.cost" === col.colKey;
        });
        var iso = CurrencyGlobal_1.getCurrencyISO();
        coCost.reset("", I18nGlobal_1.translate("FEATUREBUY.cost", iso ? " " + iso : ""));
        var colBalance = colLabels.find(function(col) {
          return "FEATUREBUY.balance" === col.colKey;
        });
        var balanceString = Balance_1.fixThousandth("" + featureBuyData.getTotalBet());
        displayCurrencySymbol && (balanceString = CurrencyGlobal_1.getCurrencyPrefix() + balanceString + CurrencyGlobal_1.getCurrencySuffix());
        colBalance.reset("", balanceString);
      };
      FeatureBuy.prototype.bindBuyClickFunc = function(func) {
        this.buyClickFunc = func;
      };
      FeatureBuy.prototype.onBuyClick = function(target, index) {
        this.buyClickFunc(index);
        this.toggle(false);
      };
      FeatureBuy.prototype.toggle = function(able) {
        void 0 === able && (able = !this.uiToggle.able);
        this.uiToggle.toggle(able);
        this.pageView.scrollToPage(0, 0);
      };
      FeatureBuy.prototype.onToggleClick = function() {
        this.toggle();
      };
      FeatureBuy.prototype.onCloseClick = function() {
        this.toggle(false);
      };
      FeatureBuy.prototype.onOpenClick = function() {
        this.toggle(true);
      };
      __decorate([ property(UIToggle_1.default) ], FeatureBuy.prototype, "uiToggle", void 0);
      __decorate([ property(cc.PageView) ], FeatureBuy.prototype, "pageView", void 0);
      __decorate([ property(cc.Node) ], FeatureBuy.prototype, "leftBtn", void 0);
      __decorate([ property(cc.Node) ], FeatureBuy.prototype, "rightBtn", void 0);
      __decorate([ property(cc.Prefab) ], FeatureBuy.prototype, "contentPrefab", void 0);
      __decorate([ property(cc.Prefab) ], FeatureBuy.prototype, "featurePrefab", void 0);
      FeatureBuy = __decorate([ ccclass ], FeatureBuy);
      return FeatureBuy;
    }(cc.Component);
    exports.default = FeatureBuy;
    cc._RF.pop();
  }, {
    "../CurrencyGlobal": "CurrencyGlobal",
    "../I18nGlobal": "I18nGlobal",
    "../LabelGlobal": "LabelGlobal",
    "../ResizeGlobal": "ResizeGlobal",
    "../component/CommonButton": "CommonButton",
    "../component/I18nLabel": "I18nLabel",
    "../component/I18nMeta": "I18nMeta",
    "../component/I18nSprite": "I18nSprite",
    "../component/LayoutShrinkLabel": "LayoutShrinkLabel",
    "../component/NodeShrink": "NodeShrink",
    "../component/UIToggle": "UIToggle",
    "../data/ColLabel": "ColLabel",
    "../script/ResourcesCol": "ResourcesCol",
    "../utils/Balance": "Balance",
    "./FeatureBuyContent": "FeatureBuyContent"
  } ],
  FileDrop: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "89899IVSMBPNaOdOf2G03co", "FileDrop");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var FileDrop = function(_super) {
      __extends(FileDrop, _super);
      function FileDrop() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.onDropHandler = null;
        return _this;
      }
      FileDrop.prototype.onLoad = function() {
        var el = document.getElementById("GameCanvas");
        el.addEventListener("dragover", this.handleDragOver, false);
        el.addEventListener("drop", this.handleFileSelect.bind(this), false);
      };
      FileDrop.prototype.handleDragOver = function(evt) {
        evt.stopPropagation();
        evt.preventDefault();
        evt.dataTransfer.dropEffect = "copy";
      };
      FileDrop.prototype.handleFileSelect = function(evt) {
        evt.stopPropagation();
        evt.preventDefault();
        var files = evt.dataTransfer.files;
        Promise.all(Array.from(files).map(fileReaderPromise)).then(this.readerOnLoadHandler.bind(this));
      };
      FileDrop.prototype.readerOnLoadHandler = function(rs) {
        this.onDropHandler && this.onDropHandler.emit([ rs ]);
      };
      __decorate([ property(cc.Component.EventHandler) ], FileDrop.prototype, "onDropHandler", void 0);
      FileDrop = __decorate([ ccclass ], FileDrop);
      return FileDrop;
    }(cc.Component);
    exports.default = FileDrop;
    function fileReaderPromise(file) {
      var name = file.name;
      var type = file.type;
      return new Promise(function(res, rej) {
        var reader = new FileReader();
        var readTTF = function() {
          reader.readAsArrayBuffer(file);
          reader.onload = function(e) {
            var url = window.URL.createObjectURL(new Blob([ e.target.result ], {
              type: file.type
            }));
            var fontFace = new FontFace(file.name.replace(/\.[^/.]+$/, "") + "_LABEL_TTF", "url('" + url + "')");
            document.fonts.add(fontFace);
            fontFace.load().then(function(ff) {
              var d = {
                name: name,
                type: type,
                result: ff
              };
              res(d);
            });
          };
        };
        switch (file.type) {
         case "image/png":
         case "image/jpg":
         case "image/jpeg":
          reader.readAsArrayBuffer(file);
          reader.onload = function(e) {
            var image = new Image();
            var url = window.URL.createObjectURL(new Blob([ e.target.result ], {
              type: file.type
            }));
            image.src = url;
            image.onload = function() {
              var d = {
                name: name,
                type: type,
                result: image
              };
              res(d);
            };
          };
          break;

         case "font/ttf":
          readTTF();
          break;

         default:
          if (name.endsWith(".ttf")) {
            readTTF();
            return;
          }
          reader.readAsText(file);
          reader.onload = function(e) {
            file;
            var d = {
              name: name,
              type: type,
              result: e.target.result
            };
            res(d);
          };
        }
      });
    }
    cc._RF.pop();
  }, {} ],
  ForegroundBase2: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a33dbw90wpAt7TEsCu+EbD5", "ForegroundBase2");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    var __spreadArrays = this && this.__spreadArrays || function() {
      for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
      for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, 
      k++) r[k] = a[j];
      return r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PromiseManager_1 = require("../script/PromiseManager");
    var Utils_1 = require("../utils/Utils");
    var ForegroundBase_1 = require("./ForegroundBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ForegroundBase2 = function(_super) {
      __extends(ForegroundBase2, _super);
      function ForegroundBase2() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      ForegroundBase2.prototype.play = function(idxOrName) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) args[_i - 1] = arguments[_i];
        return __awaiter(this, void 0, void 0, function() {
          var node, p;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              this.pre();
              this.done(false);
              node = "string" === typeof idxOrName ? this.nodes.find(function(n) {
                return n.name === idxOrName;
              }) : this.nodes[idxOrName];
              if (!node) {
                Utils_1.warn("foreground can't find", idxOrName);
                return [ 2 ];
              }
              return [ 4, PromiseManager_1.nodeChildrenComponentToPromise3.apply(void 0, __spreadArrays([ node ], args)) ];

             case 1:
              p = _a.sent();
              this.done(true);
              return [ 2, p ];
            }
          });
        });
      };
      ForegroundBase2 = __decorate([ ccclass ], ForegroundBase2);
      return ForegroundBase2;
    }(ForegroundBase_1.default);
    exports.default = ForegroundBase2;
    cc._RF.pop();
  }, {
    "../script/PromiseManager": "PromiseManager",
    "../utils/Utils": "Utils",
    "./ForegroundBase": "ForegroundBase"
  } ],
  ForegroundBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "fa4188yEZtNSYVj4zzZyi4c", "ForegroundBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    var __spreadArrays = this && this.__spreadArrays || function() {
      for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
      for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, 
      k++) r[k] = a[j];
      return r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ColBase_1 = require("../data/ColBase");
    var PromiseManager_1 = require("../script/PromiseManager");
    var Utils_1 = require("../utils/Utils");
    var BigWinBase_1 = require("./BigWinBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ForegroundBase = function(_super) {
      __extends(ForegroundBase, _super);
      function ForegroundBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.canvasNode = null;
        _this.bigWinNode = null;
        _this.bigWin = null;
        _this.commonUIData = null;
        _this.loaded = false;
        _this.nodes = [];
        _this.bigWinPromise = null;
        return _this;
      }
      ForegroundBase.prototype.pre = function() {
        var _a;
        if (this.loaded) return;
        this.loaded = true;
        if (this.bigWinNode) {
          this.bigWin = this.bigWinNode.getComponent(BigWinBase_1.default);
          this.bigWin.setCanvasWidgetTarget(this.canvasNode);
        }
        null === (_a = this.doPre) || void 0 === _a ? void 0 : _a.call(this);
      };
      ForegroundBase.prototype.preloadBigWin = function() {
        var _this = this;
        this.pre();
        if (!this.bigWin) return;
        if (this.bigWinPromise) return this.bigWinPromise;
        Utils_1.log("load start");
        BigWinBase_1.bigWinAudioPreload();
        var next = function() {
          Utils_1.log("load ok");
        };
        var reject = function() {
          (true, _this.bigWinPromise === p) && (_this.bigWinPromise = null);
        };
        var p = this.bigWin.preload().then(next, reject);
        this.bigWinPromise = p;
        return this.bigWinPromise;
      };
      ForegroundBase.prototype.playBigWin = function(data) {
        return __awaiter(this, void 0, void 0, function() {
          var p, e_1;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              if (!this.bigWin) return [ 2 ];
              p = this.bigWinPromise;
              p || (p = this.preloadBigWin());
              _a.label = 1;

             case 1:
              _a.trys.push([ 1, 3, , 4 ]);
              return [ 4, p ];

             case 2:
              _a.sent();
              return [ 3, 4 ];

             case 3:
              e_1 = _a.sent();
              Utils_1.log("load fail");
              this.done();
              return [ 2 ];

             case 4:
              Utils_1.log("load ok");
              this.enactive(true);
              this.bigWin.node.active = true;
              return [ 4, this.bigWin.play(data) ];

             case 5:
              _a.sent();
              this.done();
              return [ 2 ];
            }
          });
        });
      };
      ForegroundBase.prototype.enactive = function(setAnimation) {
        var _a;
        void 0 === setAnimation && (setAnimation = false);
        setAnimation && this.commonUIData && this.commonUIData.set("animation", true);
        this.pre();
        this.nodes.forEach(Utils_1.nodeActive(false));
        [ this.bigWinNode ].forEach(Utils_1.nodeActive(false));
        null === (_a = this.doEnactive) || void 0 === _a ? void 0 : _a.call(this);
      };
      ForegroundBase.prototype.done = function(able) {
        void 0 === able && (able = true);
        this.commonUIData && this.commonUIData.set("animation", !able);
      };
      ForegroundBase.prototype.play = function(idxOrName) {
        var values = [];
        for (var _i = 1; _i < arguments.length; _i++) values[_i - 1] = arguments[_i];
        return __awaiter(this, void 0, Promise, function() {
          var node, ccAnimationIndex, _a, idx, ai, cols, p;
          return __generator(this, function(_b) {
            switch (_b.label) {
             case 0:
              this.enactive(true);
              if ("string" === typeof idxOrName) if (idxOrName.match(/\d+_\d+/)) {
                _a = idxOrName.split("_"), idx = _a[0], ai = _a[1];
                ccAnimationIndex = Number(ai);
                node = this.nodes[idx];
              } else node = this.nodes.find(function(n) {
                return n.name === idxOrName;
              }); else node = this.nodes[idxOrName];
              if (!node) {
                Utils_1.warn("foreground can't find", idxOrName);
                return [ 2 ];
              }
              cols = node.getComponentsInChildren(ColBase_1.default);
              cols.forEach(function(col, i) {
                if (i >= values.length) return;
                var value = values[i];
                col.reset(null, value, "");
              });
              node.active = true;
              return [ 4, PromiseManager_1.nodeChildrenComponentToPromise(node, ccAnimationIndex) ];

             case 1:
              p = _b.sent();
              this.done();
              return [ 2, p ];
            }
          });
        });
      };
      ForegroundBase.prototype.play2 = function(idxOrName) {
        var values = [];
        for (var _i = 1; _i < arguments.length; _i++) values[_i - 1] = arguments[_i];
        return __awaiter(this, void 0, Promise, function() {
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              return [ 4, this.play.apply(this, __spreadArrays([ idxOrName ], values)) ];

             case 1:
              _a.sent();
              this.enactive(false);
              return [ 2 ];
            }
          });
        });
      };
      __decorate([ property(cc.Node) ], ForegroundBase.prototype, "canvasNode", void 0);
      __decorate([ property(cc.Node) ], ForegroundBase.prototype, "bigWinNode", void 0);
      __decorate([ property([ cc.Node ]) ], ForegroundBase.prototype, "nodes", void 0);
      ForegroundBase = __decorate([ ccclass ], ForegroundBase);
      return ForegroundBase;
    }(cc.Component);
    exports.default = ForegroundBase;
    cc._RF.pop();
  }, {
    "../data/ColBase": "ColBase",
    "../script/PromiseManager": "PromiseManager",
    "../utils/Utils": "Utils",
    "./BigWinBase": "BigWinBase"
  } ],
  GradientAssembler2D: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "af1b2BpfQdOwp3gOTrhFknF", "GradientAssembler2D");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var GradientAssembler2D = function(_super) {
      __extends(GradientAssembler2D, _super);
      function GradientAssembler2D() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.colors = [];
        return _this;
      }
      GradientAssembler2D.prototype._updateColors = function() {
        var cmp = this.getComponent(cc.RenderComponent);
        if (!cmp) return;
        var _assembler = cmp["_assembler"];
        if (!(_assembler instanceof cc["Assembler2D"])) return;
        var uintVerts = _assembler._renderData.uintVDatas[0];
        if (!uintVerts) return;
        var color = this.node.color;
        var floatsPerVert = _assembler.floatsPerVert;
        var colorOffset = _assembler.colorOffset;
        var count = 0;
        for (var i = colorOffset, l = uintVerts.length; i < l; i += floatsPerVert) uintVerts[i] = (this.colors[count++] || color)["_val"];
      };
      GradientAssembler2D.prototype.update = function() {
        this._updateColors();
      };
      GradientAssembler2D.prototype.onEnable = function() {
        cc.director.once(cc.Director.EVENT_AFTER_DRAW, this._updateColors, this);
      };
      GradientAssembler2D.prototype.onDisable = function() {
        cc.director.off(cc.Director.EVENT_AFTER_DRAW, this._updateColors, this);
        this.node["_renderFlag"] |= cc["RenderFlow"].FLAG_COLOR;
      };
      __decorate([ property([ cc.Color ]) ], GradientAssembler2D.prototype, "colors", void 0);
      GradientAssembler2D = __decorate([ ccclass ], GradientAssembler2D);
      return GradientAssembler2D;
    }(cc.Component);
    exports.default = GradientAssembler2D;
    cc._RF.pop();
  }, {} ],
  GraphicsProfile: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "414dbBm/79NdL47A6fLMswR", "GraphicsProfile");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var GraphicsProfile = function(_super) {
      __extends(GraphicsProfile, _super);
      function GraphicsProfile() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.graphics = null;
        _this.label = null;
        _this.data = [];
        return _this;
      }
      GraphicsProfile.prototype.onLoad = function() {
        this.graphics = this.graphics || this.getComponent(cc.Graphics);
      };
      GraphicsProfile.prototype.start = function() {
        var node = new cc.Node();
        var label = node.addComponent(cc.Label);
        label.fontSize = 16;
        this.label = label;
        this.label.string = "0.0";
        this.node.addChild(node);
      };
      GraphicsProfile.prototype.pushData = function(num) {
        this.data.push(num);
        this.data.splice(0, this.data.length - this.node.width);
        this.graphics.clear();
        this.graphics.moveTo(-this.node.width / 2, 0);
        for (var i = 0; i < this.data.length - 1; i += 1) this.graphics.lineTo(1 * i - this.node.width / 2, this.data[i]);
        this.graphics.stroke();
        var max = Math.max.apply(Math, this.data);
        var index = this.data.lastIndexOf(max);
        this.label.node.setPosition(cc.v2(index - this.node.width / 2, max));
        this.label.string = max.toFixed(0);
      };
      __decorate([ property(cc.Graphics) ], GraphicsProfile.prototype, "graphics", void 0);
      GraphicsProfile = __decorate([ ccclass ], GraphicsProfile);
      return GraphicsProfile;
    }(cc.Component);
    exports.default = GraphicsProfile;
    cc._RF.pop();
  }, {} ],
  GraphicsTable: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1b38eKkKqNLzp5kNzKvtDXs", "GraphicsTable");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executeInEditMode = _a.executeInEditMode;
    var GraphicsTable = function(_super) {
      __extends(GraphicsTable, _super);
      function GraphicsTable() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.graphics = null;
        _this.fill = false;
        _this.xs = [];
        _this.ys = [];
        _this.rect = null;
        return _this;
      }
      GraphicsTable.prototype.onLoad = function() {
        this.graphics = this.graphics || this.getComponent(cc.Graphics);
        this.onLoadDraw();
      };
      GraphicsTable.prototype.onFocusInEditor = function() {
        this.onLoadDraw();
      };
      GraphicsTable.prototype.onLostFocusInEditor = function() {
        this.onLoadDraw();
      };
      GraphicsTable.prototype.onLoadDraw = function() {
        var rect = this.rect;
        var xs = this.xs.slice(0);
        var ys = this.ys.slice(0);
        if (rect && !xs.length && !ys.length) {
          xs = Utils_1.range2(rect.x).map(function(x) {
            return rect.width;
          });
          ys = Utils_1.range2(rect.y).map(function(y) {
            return rect.height;
          });
        }
        this.clear();
        xs.length && ys.length && this.draw(xs, ys);
      };
      GraphicsTable.prototype.draw = function(xs, ys, offset) {
        void 0 === offset && (offset = cc.v2(0, 0));
        var g = this.graphics;
        xs = xs || this.xs;
        ys = ys || this.ys;
        if (!xs.length || !ys.length) return;
        var lx = xs.reduce(Utils_1.sumReducer, 0);
        var ly = ys.reduce(Utils_1.sumReducer, 0);
        var ox = offset.x;
        var oy = offset.y;
        var x = 0;
        var y = 0;
        for (var i = 0; i < xs.length - 1; i += 1) {
          x += xs[i];
          g.moveTo(ox + x, -oy);
          g.lineTo(ox + x, -(oy + ly));
        }
        for (var i = 0; i < ys.length - 1; i += 1) {
          y += ys[i];
          g.moveTo(ox, -(oy + y));
          g.lineTo(ox + lx, -(oy + y));
        }
        g.moveTo(ox, -oy);
        g.lineTo(ox + lx, -oy);
        g.lineTo(ox + lx, -(ox + ly));
        g.lineTo(ox, -(ox + ly));
        g.lineTo(ox, -oy);
        this.fill && g.fill();
        g.stroke();
      };
      GraphicsTable.prototype.clear = function() {
        var g = this.graphics;
        g.clear();
      };
      __decorate([ property(cc.Graphics) ], GraphicsTable.prototype, "graphics", void 0);
      __decorate([ property(cc.Boolean) ], GraphicsTable.prototype, "fill", void 0);
      __decorate([ property({
        type: [ cc.Integer ],
        tooltip: ""
      }) ], GraphicsTable.prototype, "xs", void 0);
      __decorate([ property([ cc.Integer ]) ], GraphicsTable.prototype, "ys", void 0);
      __decorate([ property(cc.Rect) ], GraphicsTable.prototype, "rect", void 0);
      GraphicsTable = __decorate([ ccclass, executeInEditMode ], GraphicsTable);
      return GraphicsTable;
    }(cc.Component);
    exports.default = GraphicsTable;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  HandleError: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "56c30yjat9Ms4qhz+3y2g0D", "HandleError");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.commonKickCodeToMsgKey = exports.commonMsgCodeToMsgKey = exports.resultHasError = exports.resultCode = void 0;
    var base_pb_1 = require("@circusmonkey/utilities-protobuf/ts/base/base_pb");
    function resultCode(result) {
      return result ? result.getCode() : 0;
    }
    exports.resultCode = resultCode;
    function resultHasError(result) {
      return result && 1 !== result.getCode();
    }
    exports.resultHasError = resultHasError;
    function commonMsgCodeToMsgKey(code) {
      switch (code) {
       case base_pb_1.MsgCode.DUPLICATE_LOGIN:
        return "GAME.sysm_another_login";

       case base_pb_1.MsgCode.VALIDATION_FAILED:
       case base_pb_1.MsgCode.GAME_CANT_IN_ROOM:
        return "GAME.sysm_verify_fail";

       case base_pb_1.MsgCode.GAME_NOT_ENOUGH_IN_GAME:
       case base_pb_1.MsgCode.GAME_AMOUNT_NOT_ENOUGH:
        return "GAME.sysm_if_bal";

       case base_pb_1.MsgCode.GAME_NOT_LOGIN:
        return "GAME.sysm_login_nyet";

       case base_pb_1.MsgCode.GAME_QUERY_FAIL:
        return "GAME.sysm_inquiry_fail";

       case base_pb_1.MsgCode.TRANSFER_NOT_FINISH:
        return "GAME.sysm_transfer_not_finish";

       case base_pb_1.MsgCode.WALLET_NOT_FOUND:
        return "GAME.sysm_wallet_not_found";

       case base_pb_1.MsgCode.GAME_NOT_IN_TABLE:
        return "GAME.sysm_ingame_nyet";

       case base_pb_1.MsgCode.GAME_ALREADY_IN_TABLE:
        return "GAME.sysm_ingame_yet";

       case base_pb_1.MsgCode.GAME_OVER_LIMIT_BET:
        return "GAME.sysm_bet_fail_exceed";

       case base_pb_1.MsgCode.GAME_NOT_BET_TIME:
        return "GAME.sysm_wait_bet";

       default:
        return "GAME.sysm_error_unknown";
      }
    }
    exports.commonMsgCodeToMsgKey = commonMsgCodeToMsgKey;
    function commonKickCodeToMsgKey(code) {
      switch (code) {
       case base_pb_1.MsgCode.GAME_NOTIFY_DUPLICATE_LOGIN:
       case base_pb_1.MsgCode.GAME_KICK_DUPLICATE_LOGIN:
        return "GAME.sysm_another_login";

       case base_pb_1.MsgCode.GAME_KICK_IDLE:
        return "GAME.sysm_game_kick_idle";

       case base_pb_1.MsgCode.GAME_KICK_BLOCK_MONEY_ERROR:
        return "GAME.sysm_transfer_not_finish";

       case base_pb_1.MsgCode.GAME_KICK_WALLET_NOT_FOUND:
        return "GAME.sysm_wallet_not_found";

       default:
        return "NETWORK.sys_net_disconnect";
      }
    }
    exports.commonKickCodeToMsgKey = commonKickCodeToMsgKey;
    cc._RF.pop();
  }, {
    "@circusmonkey/utilities-protobuf/ts/base/base_pb": 6
  } ],
  Handler: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a2931rXoadByY3dl5Jv5uhe", "Handler");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __spreadArrays = this && this.__spreadArrays || function() {
      for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
      for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, 
      k++) r[k] = a[j];
      return r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var Handler = function(_super) {
      __extends(Handler, _super);
      function Handler() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.handler = null;
        _this.customTriggerHandlerName = "";
        _this.handlers = [];
        return _this;
      }
      Handler.prototype.onLoad = function() {
        this.customTriggerHandlerName && (this[this.customTriggerHandlerName] = this.triggerHandler);
      };
      Handler.prototype.triggerHandler = function() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
        if (!this.handler) return;
        this.handler.emit(__spreadArrays(args));
      };
      Handler.prototype.triggerHandlers = function(index) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) args[_i - 1] = arguments[_i];
        if (!this.handlers[index]) return;
        this.handlers[index].emit(__spreadArrays(args));
      };
      __decorate([ property({
        type: cc.Component.EventHandler,
        tooltip: "triggerHandler"
      }) ], Handler.prototype, "handler", void 0);
      __decorate([ property(cc.String) ], Handler.prototype, "customTriggerHandlerName", void 0);
      __decorate([ property({
        type: [ cc.Component.EventHandler ],
        tooltip: "triggerHandlers"
      }) ], Handler.prototype, "handlers", void 0);
      Handler = __decorate([ ccclass ], Handler);
      return Handler;
    }(cc.Component);
    exports.default = Handler;
    cc._RF.pop();
  }, {} ],
  I18nGlobal: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e82cd+QGghJmZ/Mvg1NVEu2", "I18nGlobal");
    "use strict";
    var __spreadArrays = this && this.__spreadArrays || function() {
      for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
      for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, 
      k++) r[k] = a[j];
      return r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.translateError = exports.translate = exports.translateArg = exports.setDocumentTitle = exports.extendPolyglot = exports.clearPolyglot = exports.getMeta = exports.getLayoutMagic = exports.Polyglot = void 0;
    var LibGlobal_1 = require("./LibGlobal");
    exports.Polyglot = require("node-polyglot");
    var polyglot = null;
    var metaData = [];
    var metaCache = {};
    function initPolyglot(data) {
      polyglot = new exports.Polyglot({
        phrases: data,
        allowMissing: true
      });
    }
    function getLayoutMagic(key) {
      switch (key) {
       case "pch":
        return [ "h", "pch" ];

       case "mh":
        return [ "h", "m", "mh" ];

       case "mv":
        return [ "v", "m", "mv" ];

       default:
        return [];
      }
    }
    exports.getLayoutMagic = getLayoutMagic;
    function getMeta(key, layout) {
      void 0 === layout && (layout = "");
      var cache = metaCache[key + "$" + layout];
      if (cache) return "{}" === cache ? null : JSON.parse(cache);
      var meta = {};
      var len = key.split(".").length;
      var has = false;
      var $p = -1 !== key.indexOf("$p");
      var layoutMagics = getLayoutMagic(layout);
      var eachProp = function(prop, v) {
        var _a;
        var propMagic;
        _a = prop.split("$"), prop = _a[0], propMagic = _a[1];
        propMagic && "p" !== propMagic ? layoutMagics && -1 !== layoutMagics.indexOf(propMagic) && (meta[prop] = v) : meta[prop] = v;
      };
      metaData.forEach(function(_a) {
        var k = _a[0], l = _a[1], regex = _a[2], prop = _a[3], v = _a[4];
        if (l < len && regex.test(key) && !$p) {
          eachProp(prop, v);
          has = true;
        } else if (l === len && k === key) {
          eachProp(prop, v);
          has = true;
        }
      });
      metaCache[key + "$" + layout] = JSON.stringify(meta);
      return has ? meta : null;
    }
    exports.getMeta = getMeta;
    function clearPolyglot() {
      polyglot = null;
      metaData = [];
      metaCache = {};
    }
    exports.clearPolyglot = clearPolyglot;
    function extendPolyglot(data) {
      polyglot || initPolyglot({});
      polyglot.extend(data);
      var mark$p = {};
      var each = function(str) {
        var $p = str.lastIndexOf(".$p");
        if (-1 !== $p) {
          var kk = str.substring(0, $p) + ".mark$p";
          polyglot.phrases[kk] || (mark$p[kk] = 1);
          each(kk);
        }
      };
      metaData = Object.keys(polyglot.phrases).filter(function(k) {
        return k.startsWith("meta");
      }).map(function(k) {
        var v = polyglot.phrases[k];
        var p = k.replace("meta.", "").split(".");
        var prop = p.pop();
        var k1 = p.join(".");
        var l = p.length;
        var regex = new RegExp("^" + k1.replace(/\*/g, "\\w+").replace(/\./g, "\\."));
        each(k);
        return [ k1, l, regex, prop, v ];
      }).sort(function(a, b) {
        return a[1] - b[1];
      });
      polyglot.extend(mark$p);
      metaCache = {};
    }
    exports.extendPolyglot = extendPolyglot;
    function setDocumentTitle(title) {
      try {
        document.title = title;
      } catch (e) {}
    }
    exports.setDocumentTitle = setDocumentTitle;
    function polyglotTranslate(key, opt) {
      if (polyglot) return polyglot.t(key, opt);
      debugger;
      return "";
    }
    function translateArg(arg, t) {
      void 0 === t && (t = pt);
      if ("string" === typeof arg || "number" === typeof arg) return "" + arg;
      var dataID = arg.dataID;
      arg.dataIDArgs && (dataID = arg.dataIDArgs.reduce(function(str, s, i) {
        return str.replace("%{" + i + "}", "" + s);
      }, arg.dataID));
      var args = arg.args ? arg.args.map(function(a) {
        return translateArg(a, t);
      }) : [];
      return t.apply(void 0, __spreadArrays([ dataID ], args));
    }
    exports.translateArg = translateArg;
    function pt(key) {
      var args = [];
      for (var _i = 1; _i < arguments.length; _i++) args[_i - 1] = arguments[_i];
      var opt = {};
      args.forEach(function(arg, index) {
        opt[index] = "" + arg;
      });
      return polyglotTranslate(key, opt);
    }
    function translate(key) {
      var args = [];
      for (var _i = 1; _i < arguments.length; _i++) args[_i - 1] = arguments[_i];
      if ("string" !== typeof key) {
        (true, args.length) && console.warn("translate arg with args", key, args);
        return translateArg(key);
      }
      return pt.apply(void 0, __spreadArrays([ key ], args.map(function(a) {
        return translateArg(a);
      })));
    }
    exports.translate = translate;
    function translateError(key, errorCode) {
      var args = [];
      for (var _i = 2; _i < arguments.length; _i++) args[_i - 2] = arguments[_i];
      var str = translate.apply(void 0, __spreadArrays([ key ], args));
      false;
      return str + "(" + errorCode + ")";
    }
    exports.translateError = translateError;
    LibGlobal_1.globalDebugNNN(translate, "translate", false);
    LibGlobal_1.globalDebugNNN(translateError, "translateError", false);
    cc._RF.pop();
  }, {
    "./LibGlobal": "LibGlobal",
    "node-polyglot": 43
  } ],
  I18nLabel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "31cb6B3xG9JaJHu2rGYrKAl", "I18nLabel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    var __spreadArrays = this && this.__spreadArrays || function() {
      for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
      for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, 
      k++) r[k] = a[j];
      return r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.I18nLabel = exports.translateLayoutCreator = void 0;
    var I18nGlobal_1 = require("../I18nGlobal");
    var ParamsGlobal_1 = require("../ParamsGlobal");
    var ResourcesLoader_1 = require("../script/ResourcesLoader");
    var Utils_1 = require("../utils/Utils");
    var ArtLabel_1 = require("./ArtLabel");
    var I18nMeta_1 = require("./I18nMeta");
    var LayoutShrinkLabel_1 = require("./LayoutShrinkLabel");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var LENGTH = 5;
    var driveLangCache = {};
    function translateLayoutCreator(t) {
      return function(dataID, layout) {
        var args = [];
        for (var _i = 2; _i < arguments.length; _i++) args[_i - 2] = arguments[_i];
        var str;
        layout = I18nGlobal_1.getLayoutMagic(layout)[0] || "";
        if (layout) {
          str = t.apply(void 0, __spreadArrays([ dataID + "$" + layout ], args));
          if (str !== dataID + "$" + layout) return str;
        }
        str = t.apply(void 0, __spreadArrays([ dataID ], args));
        if (str !== dataID) return str;
        return dataID;
      };
    }
    exports.translateLayoutCreator = translateLayoutCreator;
    var translateLayout = translateLayoutCreator(I18nGlobal_1.translate);
    var I18nLabel = function(_super) {
      __extends(I18nLabel, _super);
      function I18nLabel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.dataID = "";
        _this.refLabel = null;
        _this.parentNode = null;
        _this.straight = false;
        _this.oddLine = false;
        _this.layout = "";
        _this.args = [];
        return _this;
      }
      I18nLabel_1 = I18nLabel;
      I18nLabel.prototype.onLoad = function() {
        this.load();
      };
      I18nLabel.prototype.load = function() {
        return __awaiter(this, void 0, void 0, function() {
          var str, meta, meta2, cs, test, drive_1, driveTest, driveLang_1, label_1, rtext_1, artLabel_1, r_1, loadJson_1, gid_1, fetchJson_1, d_1, langs, o, polyglots_1, idx_1;
          var _this = this;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              (true, this.dataID) || Utils_1.warn("I18nLabel dataID is empty", Utils_1.nodePath(this.node));
              str = translateLayout.apply(void 0, __spreadArrays([ this.dataID, this.layout ], this.args));
              meta = I18nGlobal_1.getMeta(this.dataID, this.layout);
              if (meta) {
                meta2 = this.addComponent(I18nMeta_1.I18nMeta);
                meta2.dataID = this.dataID;
                meta2.layout = this.layout;
                meta2.load();
              }
              if (str === this.dataID) {
                if (this.parentNode) {
                  this.parentNode.destroy();
                  cs = this.parentNode.getComponents(cc.Component);
                  cs.forEach(function(c) {
                    return c.destroy();
                  });
                }
                this.node.active = false;
                true;
                Utils_1.log("No", str, "in lang");
                return [ 2 ];
              }
              this.refresh();
              false;
              test = "test" === ParamsGlobal_1.LANG;
              drive_1 = ParamsGlobal_1.LANG.startsWith("drive_");
              driveTest = drive_1 ? "drive_test" === ParamsGlobal_1.LANG : "";
              driveLang_1 = /\w\w_\w\w/.test(ParamsGlobal_1.LANG.replace("drive_", "")) ? ParamsGlobal_1.LANG.replace("drive_", "") : "";
              label_1 = this.getComponent(cc.Label);
              rtext_1 = this.getComponent(cc.RichText);
              artLabel_1 = this.getComponent(ArtLabel_1.default);
              r_1 = ResourcesLoader_1.getResourcesLoader();
              loadJson_1 = function(url) {
                return __awaiter(_this, void 0, void 0, function() {
                  var res;
                  return __generator(this, function(_a) {
                    switch (_a.label) {
                     case 0:
                      return [ 4, r_1.loadUrls([ url ]) ];

                     case 1:
                      res = _a.sent();
                      return [ 2, res[0] ? res[0].json : {} ];
                    }
                  });
                });
              };
              gid_1 = cc.find("Game").getComponent("MainBase").getGameId();
              fetchJson_1 = function(sub) {
                return __awaiter(_this, void 0, void 0, function() {
                  var p;
                  return __generator(this, function(_a) {
                    if (driveLangCache[sub]) return [ 2, driveLangCache[sub] ];
                    p = fetch(location.origin + "/h5/lang/" + sub + "/lang.json", {
                      cache: "no-store"
                    }).then(function(o) {
                      return o.json();
                    });
                    driveLangCache[sub] = p;
                    return [ 2, p ];
                  });
                });
              };
              if (!(test || drive_1)) return [ 3, 6 ];
              return [ 4, loadJson_1("data") ];

             case 1:
              d_1 = _a.sent();
              langs = d_1.langs;
              if (!drive_1) return [ 3, 4 ];
              if (!driveTest) return [ 3, 3 ];
              return [ 4, fetchJson_1(gid_1) ];

             case 2:
              o = _a.sent();
              langs = Object.keys(o);
              Utils_1.log("drive langs", langs);
              return [ 3, 4 ];

             case 3:
              if (driveLang_1) {
                langs = [ driveLang_1 ];
                Utils_1.log("drive lang", driveLang_1);
              }
              _a.label = 4;

             case 4:
              return [ 4, Promise.all(langs.map(function(l) {
                return __awaiter(_this, void 0, void 0, function() {
                  var ds, m, meta_1, p;
                  var _this = this;
                  return __generator(this, function(_a) {
                    switch (_a.label) {
                     case 0:
                      return [ 4, Promise.all(d_1.dirs.map(function(d, i) {
                        return __awaiter(_this, void 0, void 0, function() {
                          var sub, o;
                          return __generator(this, function(_a) {
                            switch (_a.label) {
                             case 0:
                              if (-1 === d.indexOf("{lang}")) return [ 2 ];
                              if (!drive_1) return [ 3, 2 ];
                              sub = {
                                "bundle/game/lang/{lang}": "game-client-lib",
                                "bundle/arcade/lang/{lang}": "arcade-client-lib",
                                "bundle/fish/lang/{lang}": "fish-client-lib",
                                "bundle/slot/lang/{lang}": "slot-client-lib",
                                "lang/{lang}": gid_1
                              }[d];
                              if (!sub) return [ 2, {} ];
                              return [ 4, fetchJson_1(sub) ];

                             case 1:
                              o = _a.sent();
                              return [ 2, o[l] ];

                             case 2:
                              return [ 2, loadJson_1(d.replace("{lang}", l) + "/lang") ];
                            }
                          });
                        });
                      })) ];

                     case 1:
                      ds = _a.sent();
                      if (!driveLang_1) return [ 3, 3 ];
                      I18nGlobal_1.clearPolyglot();
                      m = Utils_1.ccFindCreator("Game", "I18nManager")();
                      m.langJsonAssets.forEach(function(lja) {
                        I18nGlobal_1.extendPolyglot(lja.json);
                      });
                      return [ 4, loadJson_1("meta") ];

                     case 2:
                      meta_1 = _a.sent();
                      I18nGlobal_1.extendPolyglot(meta_1);
                      ds.forEach(function(d) {
                        I18nGlobal_1.extendPolyglot(d);
                      });
                      _a.label = 3;

                     case 3:
                      p = new I18nGlobal_1.Polyglot({
                        phrases: {
                          t: "t"
                        },
                        allowMissing: true
                      });
                      ds.forEach(function(d) {
                        p.extend(d);
                      });
                      return [ 2, p ];
                    }
                  });
                });
              })) ];

             case 5:
              polyglots_1 = _a.sent();
              idx_1 = 0;
              this.schedule(function() {
                var p = polyglots_1[idx_1];
                var t = translateLayoutCreator(function(key) {
                  var args = [];
                  for (var _i = 1; _i < arguments.length; _i++) args[_i - 1] = arguments[_i];
                  var opt = {};
                  args.forEach(function(arg, index) {
                    opt[index] = "" + arg;
                  });
                  return p.t(key, opt);
                });
                var str = t.apply(void 0, __spreadArrays([ _this.dataID, _this.layout ], _this.args.map(function(a) {
                  return I18nGlobal_1.translateArg(a, t);
                })));
                str === _this.dataID && (str = translateLayout.apply(void 0, __spreadArrays([ _this.dataID, _this.layout ], _this.args)));
                _this.oddLine && str.split("\n").length % 2 !== 1 && (str += "\n");
                label_1 && (label_1.string = str);
                rtext_1 && (rtext_1.string = str);
                artLabel_1 && (artLabel_1.string = str);
                var node = _this.node;
                do {
                  var lsl = node.getComponent(LayoutShrinkLabel_1.default);
                  if (lsl) {
                    lsl.resize();
                    break;
                  }
                  node = node.parent;
                  if (node instanceof cc.Scene) break;
                } while (node);
                idx_1 += 1;
                idx_1 >= polyglots_1.length && (idx_1 = 0);
                1 === polyglots_1.length && _this.unscheduleAllCallbacks();
              }, .5);
              _a.label = 6;

             case 6:
              return [ 2 ];
            }
          });
        });
      };
      I18nLabel.prototype.refresh = function() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
        args.length && (this.args = args);
        var str = translateLayout.apply(void 0, __spreadArrays([ this.dataID, this.layout ], this.args));
        var label = this.getComponent(cc.Label);
        if (label) {
          if (this.straight) if (/[\u4e00-\u9fa5]/.test(str)) str = str.replace(/\s/g, "").split("").join("\n"); else {
            var n = label.node;
            var w = n.width;
            var h = n.height;
            n.angle = 90;
            n.width = h;
            n.height = w;
          }
          if (this.oddLine) {
            (true, label.overflow !== cc.Label.Overflow.NONE) && Utils_1.warn("label overflow not NONE, maybe wrong");
            str.split("\n").length % 2 !== 1 && (str += "\n");
          }
          label.string = str;
          if (this.refLabel) {
            var i = this.refLabel.getComponent(I18nLabel_1);
            if (i) {
              var str2 = I18nGlobal_1.translate(i.dataID, this.layout);
              if (str2 === i.dataID) {
                var len = str.split("\n").length;
                var str3 = Utils_1.range2(LENGTH, LENGTH - len + 1).map(function(l) {
                  return l + " -";
                }).join("\n");
                this.refLabel.node.active = true;
                this.refLabel.string = str3;
              }
            }
          }
        }
        var rtext = this.getComponent(cc.RichText);
        rtext && (rtext.string = str);
        var artLabel = this.getComponent(ArtLabel_1.default);
        if (artLabel) {
          this.oddLine && str.split("\n").length % 2 !== 1 && (str += "\n");
          artLabel.string = str;
        }
      };
      var I18nLabel_1;
      __decorate([ property(cc.String) ], I18nLabel.prototype, "dataID", void 0);
      __decorate([ property({
        type: cc.Label,
        tooltip: "\u8a08\u7b97 5 -\n4 -\n"
      }) ], I18nLabel.prototype, "refLabel", void 0);
      __decorate([ property(cc.Node) ], I18nLabel.prototype, "parentNode", void 0);
      __decorate([ property(cc.Boolean) ], I18nLabel.prototype, "straight", void 0);
      __decorate([ property(cc.Boolean) ], I18nLabel.prototype, "oddLine", void 0);
      __decorate([ property(cc.String) ], I18nLabel.prototype, "layout", void 0);
      I18nLabel = I18nLabel_1 = __decorate([ ccclass, menu("I18n/I18nLabel") ], I18nLabel);
      return I18nLabel;
    }(cc.Component);
    exports.I18nLabel = I18nLabel;
    cc._RF.pop();
  }, {
    "../I18nGlobal": "I18nGlobal",
    "../ParamsGlobal": "ParamsGlobal",
    "../script/ResourcesLoader": "ResourcesLoader",
    "../utils/Utils": "Utils",
    "./ArtLabel": "ArtLabel",
    "./I18nMeta": "I18nMeta",
    "./LayoutShrinkLabel": "LayoutShrinkLabel"
  } ],
  I18nManager: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ff99aVKoMRJaqab4LWiZkRv", "I18nManager");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.setLang = exports.getLang = void 0;
    var I18nGlobal_1 = require("../I18nGlobal");
    var IframeGlobal_1 = require("../IframeGlobal");
    var ResourcesLoader_1 = require("../script/ResourcesLoader");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var l = ResourcesLoader_1.DEFAULT_LANG;
    function getLang() {
      return l;
    }
    exports.getLang = getLang;
    function setLang(lang) {
      l = lang;
    }
    exports.setLang = setLang;
    var I18nManager = function(_super) {
      __extends(I18nManager, _super);
      function I18nManager() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.langJsonAssets = [];
        return _this;
      }
      I18nManager.prototype.onLoad = function() {
        var l = ResourcesLoader_1.getResourcesLoader();
        this.load(this.langJsonAssets.concat(l.keyJsonAssets.map(function(kja) {
          return kja.jsonAsset;
        })));
      };
      I18nManager.prototype.load = function(jsonAssets) {
        if (!jsonAssets.length) return;
        jsonAssets.map(function(jsonAsset) {
          return jsonAsset.json;
        }).forEach(I18nGlobal_1.extendPolyglot);
        var webTitle = I18nGlobal_1.translate("WEB.title");
        I18nGlobal_1.setDocumentTitle(webTitle);
        IframeGlobal_1.changeTitle(webTitle);
      };
      __decorate([ property([ cc.JsonAsset ]) ], I18nManager.prototype, "langJsonAssets", void 0);
      I18nManager = __decorate([ ccclass, menu("I18n/I18nManager") ], I18nManager);
      return I18nManager;
    }(cc.Component);
    exports.default = I18nManager;
    cc._RF.pop();
  }, {
    "../I18nGlobal": "I18nGlobal",
    "../IframeGlobal": "IframeGlobal",
    "../script/ResourcesLoader": "ResourcesLoader"
  } ],
  I18nMeta: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "724a880npJD8pt0jGvDqX59", "I18nMeta");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.I18nMeta = void 0;
    var I18nGlobal_1 = require("../I18nGlobal");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var I18nMeta = function(_super) {
      __extends(I18nMeta, _super);
      function I18nMeta() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.dataID = "";
        _this.layout = "";
        _this.loaded = false;
        return _this;
      }
      I18nMeta.prototype.onLoad = function() {
        this.load();
      };
      I18nMeta.prototype.load = function() {
        if (this.loaded) return;
        var node = this.node;
        var str = this.dataID;
        var meta = I18nGlobal_1.getMeta(str, this.layout);
        if (!meta) return;
        this.loaded = true;
        this.applyMeta(node, meta, str);
      };
      I18nMeta.prototype.applyMeta = function(node, meta, dataID) {
        if (node.parent) {
          var str$p = dataID + ".$p";
          var meta$p = I18nGlobal_1.getMeta(str$p, this.layout);
          meta$p && this.applyMeta(node.parent, meta$p, str$p);
        }
        meta.active && (node.active = Boolean(meta.active));
        meta.scale && (node.scale = Number(meta.scale));
        meta.x && (node.x = Number(meta.x));
        meta.y && (node.y = Number(meta.y));
        meta.w && (node.width = Number(meta.w));
        meta.h && (node.height = Number(meta.h));
        if (meta.lineHeight) {
          var label = node.getComponent(cc.Label);
          label && (label.lineHeight = Number(meta.lineHeight));
          var richText = node.getComponent(cc.RichText);
          richText && (richText.lineHeight = Number(meta.lineHeight));
        }
        if (meta.fontSize) {
          var label = this.node.getComponent(cc.Label);
          label && (label.fontSize = Number(meta.fontSize));
          var richText = this.node.getComponent(cc.RichText);
          richText && (richText.fontSize = Number(meta.fontSize));
        }
        if (meta.halign) {
          var label = this.node.getComponent(cc.Label);
          label && (label.horizontalAlign = Number(meta.halign));
        }
        if (meta.valign) {
          var label = this.node.getComponent(cc.Label);
          label && (label.horizontalAlign = Number(meta.valign));
        }
      };
      __decorate([ property(cc.String) ], I18nMeta.prototype, "dataID", void 0);
      __decorate([ property(cc.String) ], I18nMeta.prototype, "layout", void 0);
      I18nMeta = __decorate([ ccclass, menu("I18n/I18nMeta") ], I18nMeta);
      return I18nMeta;
    }(cc.Component);
    exports.I18nMeta = I18nMeta;
    cc._RF.pop();
  }, {
    "../I18nGlobal": "I18nGlobal"
  } ],
  I18nSprite: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "25f74Eq/kxOya+jbJLEIWzA", "I18nSprite");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.I18nSprite = void 0;
    var KeyStr_1 = require("../data/KeyStr");
    var I18nGlobal_1 = require("../I18nGlobal");
    var PromiseManager_1 = require("../script/PromiseManager");
    var ResLoader_1 = require("../script/ResLoader");
    var ResourcesLoader_1 = require("../script/ResourcesLoader");
    var Utils_1 = require("../utils/Utils");
    var I18nMeta_1 = require("./I18nMeta");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var delimiter0 = "&";
    var delimiter1 = ";";
    var delimiter2 = ",";
    var delimiter3 = "=";
    var delimiter4 = ".";
    var I18nSprite = function(_super) {
      __extends(I18nSprite, _super);
      function I18nSprite() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.dataID = "";
        _this.parentNode = null;
        _this.delay = false;
        _this.layout = "";
        return _this;
      }
      I18nSprite.prototype.onLoad = function() {
        if (this.delay) return;
        this.load();
      };
      I18nSprite.prototype.load = function() {
        var _this = this;
        var str = I18nGlobal_1.translate(this.dataID);
        var meta = I18nGlobal_1.getMeta(this.dataID, this.layout);
        if (meta) {
          var meta2 = this.addComponent(I18nMeta_1.I18nMeta);
          meta2.dataID = this.dataID;
          meta2.layout = this.layout;
          meta2.load();
        }
        if (str === this.dataID) {
          this.node.active = false;
          this.parentNode && (this.parentNode.active = false);
          return;
        }
        var l = ResourcesLoader_1.getResourcesLoader();
        var la = ResLoader_1.getResLoader();
        var sprite = this.getComponent(cc.Sprite);
        var skeleton = this.getComponent(sp.Skeleton);
        var clear = function(node) {
          node.x = 0;
          node.y = 0;
          node.scale = 1;
        };
        str.split(delimiter0).forEach(function(s, i) {
          var arr = s.split(delimiter1);
          var key = arr[0];
          var ks = KeyStr_1.str2KeyStr(key);
          var node;
          if (sprite) {
            var kas = l.keyAtlass.concat(la.keyAtlass);
            var arr_1 = [ ks ];
            ks.str || (arr_1 = kas.map(function(ka) {
              return {
                key: ka.key,
                str: ks.key
              };
            }));
            var f = KeyStr_1.findFrame(arr_1, kas);
            var sp0 = void 0;
            if (0 === i) {
              node = sprite.node;
              sp0 = sprite;
            } else {
              node = cc.instantiate(sprite.node);
              clear(node);
              sp0 = node.getComponent(cc.Sprite);
              _this.node.addChild(node);
            }
            sp0.spriteFrame = f.frame;
          } else if (skeleton) {
            var sds = la.skeletonDatas.concat(l.skeletonDatas);
            var ksd = sds.reduce(Utils_1.toObjectReducer("name"), {});
            if (!ks.str) {
              ks.str = ks.key;
              ks.key = "spine_symbol";
            }
            ksd[ks.key] || Utils_1.warn("Can't find", ks.key, "in LoadAtlas#skeletonDatas", ksd);
            var ske = void 0;
            if (0 === i) {
              node = skeleton.node;
              ske = skeleton;
            } else {
              node = cc.instantiate(skeleton.node);
              clear(node);
              ske = node.getComponent(sp.Skeleton);
              _this.node.addChild(node);
            }
            ske.skeletonData = ksd[ks.key];
            PromiseManager_1.spSkeletonSetAnimation(ske, ks.str);
          }
          arr[1] && arr[1].split(delimiter2).map(function(p) {
            var _a = p.split(delimiter3), k = _a[0], v = _a[1];
            if (-1 !== k.indexOf(delimiter4)) {
              var _b = k.split(delimiter4), c = _b[0], p_1 = _b[1];
              node.getComponent(c)[p_1] = Number(v);
            } else node[k] = Number(v);
          });
        });
      };
      __decorate([ property({
        tooltip: ""
      }) ], I18nSprite.prototype, "dataID", void 0);
      __decorate([ property(cc.Node) ], I18nSprite.prototype, "parentNode", void 0);
      __decorate([ property(cc.Boolean) ], I18nSprite.prototype, "delay", void 0);
      __decorate([ property(cc.String) ], I18nSprite.prototype, "layout", void 0);
      I18nSprite = __decorate([ ccclass, menu("I18n/I18nSprite") ], I18nSprite);
      return I18nSprite;
    }(cc.Component);
    exports.I18nSprite = I18nSprite;
    cc._RF.pop();
  }, {
    "../I18nGlobal": "I18nGlobal",
    "../data/KeyStr": "KeyStr",
    "../script/PromiseManager": "PromiseManager",
    "../script/ResLoader": "ResLoader",
    "../script/ResourcesLoader": "ResourcesLoader",
    "../utils/Utils": "Utils",
    "./I18nMeta": "I18nMeta"
  } ],
  ICCIinterface: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b577fLkZuhPGY0orLRLtEAK", "ICCIinterface");
    cc._RF.pop();
  }, {} ],
  IframeGlobal: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a48c0R/6iVHj6EpAN5AmSrj", "IframeGlobal");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.progressDraLoading = exports.showDraLoading = exports.hideDraLoading = exports.toggleDOMPortraitHint = exports.toggleDOMLandscapeHint = exports.iframeAlert = exports.downloadAlert = exports.DownloadAlertError = exports.report = exports.loginFinished2 = exports.setGAPatchVersion = exports.hideBonusEvent = exports.postBonusEventInfo = exports.postBonusEventAlert = exports.postBonusEventInfoOpen = exports.postBonusEventOpen = exports.reload = exports.openPage = exports.gotoUrl = exports.changeTitle = exports.postOutGame = exports.openRecord = exports.backToLobby = exports.hasWindowParent = exports.getIsLoginFromLobby = exports.setIsLoginFromLobby = void 0;
    var base_pb_1 = require("@circusmonkey/utilities-protobuf/ts/base/base_pb");
    var ParamsGlobal_1 = require("./ParamsGlobal");
    var WebViewGlobal_1 = require("./script/WebViewGlobal");
    var Balance_1 = require("./utils/Balance");
    var Utils_1 = require("./utils/Utils");
    var isLoginFromLobby = false;
    function setIsLoginFromLobby(isLobby) {
      isLoginFromLobby = isLobby;
    }
    exports.setIsLoginFromLobby = setIsLoginFromLobby;
    function getIsLoginFromLobby() {
      return isLoginFromLobby;
    }
    exports.getIsLoginFromLobby = getIsLoginFromLobby;
    function hasWindowParent() {
      return window.parent !== window;
    }
    exports.hasWindowParent = hasWindowParent;
    function backToLobby(comm, callback, token, music, sound, lang) {
      var isFromLobby = getIsLoginFromLobby();
      var inIframe = hasWindowParent();
      if (isFromLobby && inIframe) postOutGame(); else if (isFromLobby) callback(base_pb_1.MsgCode.SUCCESS); else {
        callback(base_pb_1.MsgCode.SUCCESS);
        WebViewGlobal_1.webViewMode() ? WebViewGlobal_1.exitApp() : postOutGame();
      }
    }
    exports.backToLobby = backToLobby;
    function openRecord(token, gameId) {
      hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "betPageShow",
        data: {
          token: token,
          gid: gameId
        }
      }), "*");
    }
    exports.openRecord = openRecord;
    function postOutGame(url) {
      void 0 === url && (url = "");
      Utils_1.log("out", url);
      hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "outGame",
        data: {
          url: url
        }
      }), "*");
    }
    exports.postOutGame = postOutGame;
    function changeTitle(title) {
      hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "changeTitle",
        data: title
      }), "*");
    }
    exports.changeTitle = changeTitle;
    function gotoUrl(url) {
      if (hasWindowParent()) window.parent.postMessage(JSON.stringify({
        method: "goto",
        data: url
      }), "*"); else try {
        window.location.replace(url);
      } catch (e) {}
    }
    exports.gotoUrl = gotoUrl;
    function openPage(url) {
      hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "pageShow",
        data: {
          url: url
        }
      }), "*");
    }
    exports.openPage = openPage;
    function reload() {
      hasWindowParent() ? window.parent.postMessage(JSON.stringify({
        method: "reload"
      }), "*") : window.location.reload();
    }
    exports.reload = reload;
    function postBonusEventOpen() {
      Utils_1.log("bonusEventOpen");
      hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "bonusEventOpen"
      }), "*");
    }
    exports.postBonusEventOpen = postBonusEventOpen;
    function postBonusEventInfoOpen() {
      Utils_1.log("bonusEventInfoOpen");
      hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "bonusEventInfoOpen"
      }), "*");
    }
    exports.postBonusEventInfoOpen = postBonusEventInfoOpen;
    function postBonusEventAlert(data) {
      Utils_1.log("bonusEventAlert");
      hasWindowParent() && window.parent.postMessage(JSON.stringify({
        data: data,
        method: "bonusEventAlert"
      }), "*");
    }
    exports.postBonusEventAlert = postBonusEventAlert;
    function postBonusEventInfo(data) {
      Utils_1.log("bonusEventInfo");
      hasWindowParent() && window.parent.postMessage(JSON.stringify({
        data: data,
        method: "bonusEventInfo"
      }), "*");
    }
    exports.postBonusEventInfo = postBonusEventInfo;
    function hideBonusEvent() {
      Utils_1.log("hideBonusEvent");
      hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "hideBonusEvent"
      }), "*");
    }
    exports.hideBonusEvent = hideBonusEvent;
    var GA_VERSION = "v2.2.0";
    var patchVersion = "0";
    function setGAPatchVersion(version) {
      patchVersion = version;
    }
    exports.setGAPatchVersion = setGAPatchVersion;
    function loginFinished2(gameId, msg, loadTime, balance, currency) {
      void 0 === loadTime && (loadTime = 0);
      void 0 === balance && (balance = new Balance_1.Balance(0));
      void 0 === currency && (currency = "CNY");
      report("login", "", "login", {
        gameId: gameId,
        msg: msg,
        loadTime: loadTime,
        currency: currency,
        balance: Balance_1.maxSafeBalanceNumber(balance)
      });
    }
    exports.loginFinished2 = loginFinished2;
    function report(event, label, category, argsData) {
      if (hasWindowParent()) {
        var args = Object.assign({
          gaVersion: GA_VERSION + "-" + patchVersion
        }, argsData);
        Utils_1.log("ga", event, label, category, args);
        window.parent.postMessage(JSON.stringify({
          method: "report",
          data: {
            event: event,
            label: label,
            category: category,
            args: args
          }
        }), "*");
      }
    }
    exports.report = report;
    var DownloadAlertError;
    (function(DownloadAlertError) {
      DownloadAlertError[DownloadAlertError["NONE"] = 0] = "NONE";
      DownloadAlertError[DownloadAlertError["SCRIPT"] = -1] = "SCRIPT";
      DownloadAlertError[DownloadAlertError["SCENE"] = -2] = "SCENE";
      DownloadAlertError[DownloadAlertError["RESOURCE"] = -3] = "RESOURCE";
    })(DownloadAlertError = exports.DownloadAlertError || (exports.DownloadAlertError = {}));
    function downloadAlert(code) {
      ParamsGlobal_1.EXTRA_1110 ? iframeAlert("system.download_error2", "" + code) : iframeAlert("system.download_error", "" + code);
    }
    exports.downloadAlert = downloadAlert;
    function iframeAlert(key, args) {
      hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "alert",
        data: {
          key: key,
          args: args
        }
      }), "*");
    }
    exports.iframeAlert = iframeAlert;
    function toggleDOMLandscapeHint(able) {
      hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "showLandscape",
        data: able
      }), "*");
    }
    exports.toggleDOMLandscapeHint = toggleDOMLandscapeHint;
    function toggleDOMPortraitHint(able) {
      hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "showPortrait",
        data: able
      }), "*");
    }
    exports.toggleDOMPortraitHint = toggleDOMPortraitHint;
    function hideDraLoading() {
      parent && window.parent !== window && parent.postMessage(JSON.stringify({
        method: "draLoadingHide",
        data: 0
      }), "*");
    }
    exports.hideDraLoading = hideDraLoading;
    function showDraLoading(gid) {
      parent && window.parent !== window && parent.postMessage(JSON.stringify({
        method: "draLoadingShow",
        data: gid
      }), "*");
    }
    exports.showDraLoading = showDraLoading;
    function progressDraLoading(percent) {
      parent && window.parent !== window && parent.postMessage(JSON.stringify({
        method: "draLoadingUpdateProgress",
        data: percent
      }), "*");
    }
    exports.progressDraLoading = progressDraLoading;
    cc._RF.pop();
  }, {
    "./ParamsGlobal": "ParamsGlobal",
    "./script/WebViewGlobal": "WebViewGlobal",
    "./utils/Balance": "Balance",
    "./utils/Utils": "Utils",
    "@circusmonkey/utilities-protobuf/ts/base/base_pb": 6
  } ],
  InfoBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f927eAw7PdO2ZmRsQDIsblT", "InfoBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var UIToggle_1 = require("../component/UIToggle");
    var Utils_1 = require("../utils/Utils");
    var PrefabManager_1 = require("./PrefabManager");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var InfoBase = function(_super) {
      __extends(InfoBase, _super);
      function InfoBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.prefabManager = null;
        _this.targetNode = null;
        _this.contentNodes = [];
        _this.uiToggle = null;
        _this.jsonAsset = null;
        _this.jsonRootName = "info";
        _this.keyAtlass = [];
        _this.infoConfig = null;
        _this.currentIndex = 0;
        _this.loaded = false;
        _this.onPosted = null;
        return _this;
      }
      InfoBase.prototype.onLoad = function() {
        var _this = this;
        if (!this.jsonAsset || !this.jsonRootName || !this.prefabManager) return;
        var datas = this.jsonAsset.json[this.jsonRootName];
        this.pre(datas, this.prefabManager);
        this.contentNodes = datas.map(function(data) {
          var node = _this.drawContent(_this.prefabManager, data);
          _this.targetNode.addChild(node);
          return node;
        });
      };
      InfoBase.prototype.onEnable = function() {
        var _a;
        return __awaiter(this, void 0, void 0, function() {
          var datas;
          return __generator(this, function(_b) {
            switch (_b.label) {
             case 0:
              datas = this.jsonAsset.json[this.jsonRootName];
              return [ 4, this.post(datas, this.prefabManager) ];

             case 1:
              _b.sent();
              null === (_a = this.onPosted) || void 0 === _a ? void 0 : _a.call(this);
              return [ 2 ];
            }
          });
        });
      };
      InfoBase.prototype.toggleContent = function(index) {
        this.contentNodes.forEach(Utils_1.nodeActive(false));
        this.contentNodes[index].active = true;
        this.currentIndex = index;
        this.postToggleContent(index);
      };
      InfoBase.prototype.toggle = function(able) {
        void 0 === able && (able = !this.uiToggle.able);
        this.uiToggle.toggle(able);
        able && this.toggleContent(0);
      };
      InfoBase.prototype.onToggleClick = function() {
        this.toggle();
      };
      InfoBase.prototype.onCloseClick = function() {
        this.toggle(false);
      };
      InfoBase.prototype.onOpenClick = function() {
        this.toggle(true);
      };
      __decorate([ property(PrefabManager_1.default) ], InfoBase.prototype, "prefabManager", void 0);
      __decorate([ property(cc.Node) ], InfoBase.prototype, "targetNode", void 0);
      __decorate([ property(UIToggle_1.default) ], InfoBase.prototype, "uiToggle", void 0);
      __decorate([ property(cc.String) ], InfoBase.prototype, "jsonRootName", void 0);
      InfoBase = __decorate([ ccclass ], InfoBase);
      return InfoBase;
    }(cc.Component);
    exports.default = InfoBase;
    cc._RF.pop();
  }, {
    "../component/UIToggle": "UIToggle",
    "../utils/Utils": "Utils",
    "./PrefabManager": "PrefabManager"
  } ],
  InfoConfigBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0806bUspGhM8Z21k8aJoiA+", "InfoConfigBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var KeyAtlas_1 = require("../data/KeyAtlas");
    var InfoBase_1 = require("./InfoBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var InfoConfigBase = function(_super) {
      __extends(InfoConfigBase, _super);
      function InfoConfigBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.infoNode = null;
        _this.jsonAsset = null;
        _this.keyAtlass = [];
        return _this;
      }
      InfoConfigBase.prototype.onLoad = function() {
        var infoBase = this.infoNode.getComponent(InfoBase_1.default);
        infoBase.jsonAsset = this.jsonAsset;
        infoBase.keyAtlass = this.keyAtlass;
      };
      __decorate([ property(cc.Node) ], InfoConfigBase.prototype, "infoNode", void 0);
      __decorate([ property(cc.JsonAsset) ], InfoConfigBase.prototype, "jsonAsset", void 0);
      __decorate([ property([ KeyAtlas_1.KeyAtlas ]) ], InfoConfigBase.prototype, "keyAtlass", void 0);
      InfoConfigBase = __decorate([ ccclass ], InfoConfigBase);
      return InfoConfigBase;
    }(cc.Component);
    exports.default = InfoConfigBase;
    cc._RF.pop();
  }, {
    "../data/KeyAtlas": "KeyAtlas",
    "./InfoBase": "InfoBase"
  } ],
  InfoLabel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f56f5SE/hlPL4zL6KOmfIi/", "InfoLabel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var I18nLabel_1 = require("../component/I18nLabel");
    var LayoutShrinkLabel_1 = require("../component/LayoutShrinkLabel");
    var TemplateGenerator_1 = require("../component/TemplateGenerator");
    var I18nGlobal_1 = require("../I18nGlobal");
    var InfoPage_1 = require("../ui/InfoPage");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, requireComponent = _a.requireComponent, executionOrder = _a.executionOrder;
    var translateLayout = I18nLabel_1.translateLayoutCreator(I18nGlobal_1.translate);
    var InfoLabel = function(_super) {
      __extends(InfoLabel, _super);
      function InfoLabel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.layout = "";
        return _this;
      }
      InfoLabel.prototype.onLoad = function() {
        _super.prototype.onLoad.call(this);
        var ip = this.getComponent(InfoPage_1.default);
        var page = ip.page;
        var lsr = this.getComponent(LayoutShrinkLabel_1.default);
        for (var i = 1; i < 100; i += 1) {
          var kl = "INFO." + page + ".s" + i + "_l";
          var kr = "INFO." + page + ".s" + i + "_r";
          var ky = "INFO." + page + ".s" + i + "_y";
          var sl = translateLayout(kl, this.layout);
          var sr = translateLayout(kr, this.layout);
          var sy = translateLayout(ky, this.layout);
          var hr = sr !== kr;
          var hl = sl !== kl;
          var hy = sy !== ky;
          if (hy) {
            var node = this.getNode(2);
            var l = node.getComponent(cc.Label);
            l.string = sy;
            lsr && lsr.labels.push(l);
            this.node.addChild(node);
          }
          if (hl) {
            var node = this.getNode(0);
            var l = node.getComponent(cc.Label);
            l.string = sl;
            lsr && lsr.labels.push(l);
            this.node.addChild(node);
          }
          if (hr) {
            var node = this.getNode(1);
            var rt = node.getComponent(cc.RichText);
            rt.string = sr;
            lsr && lsr.richTexts.push(rt);
            this.node.addChild(node);
          }
          if (!hl && !hr && !hy) break;
        }
      };
      __decorate([ property(cc.String) ], InfoLabel.prototype, "layout", void 0);
      InfoLabel = __decorate([ ccclass, executionOrder(-1) ], InfoLabel);
      return InfoLabel;
    }(TemplateGenerator_1.TemplateGenerator);
    exports.default = InfoLabel;
    cc._RF.pop();
  }, {
    "../I18nGlobal": "I18nGlobal",
    "../component/I18nLabel": "I18nLabel",
    "../component/LayoutShrinkLabel": "LayoutShrinkLabel",
    "../component/TemplateGenerator": "TemplateGenerator",
    "../ui/InfoPage": "InfoPage"
  } ],
  InfoLine: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "408a5CQvwlNnYH5+yqPn69O", "InfoLine");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var InfoLine = function(_super) {
      __extends(InfoLine, _super);
      function InfoLine() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.refNode = null;
        return _this;
      }
      InfoLine.prototype.onLoad = function() {
        var refNode = this.refNode;
        var _a = refNode.children, st = _a[0], lt = _a[1], et = _a[2];
        var node = this.node;
        node.width && node.children.length && Utils_1.warn("InfoLine will draw by using node.children positions but node.width != 0", Utils_1.nodePath(this.node));
        if (node.children.length) {
          var ps = node.children.map(function(n) {
            return n.getPosition();
          });
          var psl = ps.length;
          for (var i = 0; i < psl; i += 1) {
            var p1 = ps[i];
            if (0 === i) {
              if (st) {
                var sn = cc.instantiate(st);
                sn.setPosition(p1);
                node.addChild(sn);
              }
            } else {
              var p0 = ps[i - 1];
              var pm = p1.add(p0).div(2);
              var angle = -Utils_1.radiansToDegrees(p1.sub(p0).signAngle(cc.v2(1, 0)));
              var width = p1.sub(p0).len();
              Utils_1.log(p0, p1, angle, width);
              var ln = cc.instantiate(lt);
              ln.setPosition(pm);
              ln.angle = angle;
              ln.width = width;
              node.addChild(ln);
              if (i === psl - 1 && et) {
                var en = cc.instantiate(et);
                en.setPosition(p1);
                en.angle = angle - 180;
                node.addChild(en);
              }
            }
          }
        } else if (node.width) {
          var anchorX = node.anchorX;
          var width = node.width;
          var p0 = cc.v2(width * -anchorX, 0);
          var p1 = cc.v2(width * (1 - anchorX), 0);
          var pm = p0.add(p1).div(2);
          var angle = 0;
          if (st) {
            var sn = cc.instantiate(st);
            sn.setPosition(p0);
            node.addChild(sn);
          }
          var ln = cc.instantiate(lt);
          ln.setPosition(pm);
          ln.angle = angle;
          ln.width = width;
          node.addChild(ln);
          if (et) {
            var en = cc.instantiate(et);
            en.setPosition(p1);
            en.angle = -180;
            node.addChild(en);
          }
        }
      };
      __decorate([ property(cc.Node) ], InfoLine.prototype, "refNode", void 0);
      InfoLine = __decorate([ ccclass ], InfoLine);
      return InfoLine;
    }(cc.Component);
    exports.default = InfoLine;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  InfoPage: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e91f8Bss69LBKV3L01mbLID", "InfoPage");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var InfoPage = function(_super) {
      __extends(InfoPage, _super);
      function InfoPage() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.page = "";
        return _this;
      }
      __decorate([ property(cc.String) ], InfoPage.prototype, "page", void 0);
      InfoPage = __decorate([ ccclass ], InfoPage);
      return InfoPage;
    }(cc.Component);
    exports.default = InfoPage;
    cc._RF.pop();
  }, {} ],
  InfoScroll: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1f80daViUdAMphmjMa6TPln", "InfoScroll");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var I18nGlobal_1 = require("../I18nGlobal");
    var InfoPage_1 = require("../ui/InfoPage");
    var InfoLabel_1 = require("./InfoLabel");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, requireComponent = _a.requireComponent;
    var key = "INFO.{page}.s0_0";
    var InfoScroll = function(_super) {
      __extends(InfoScroll, _super);
      function InfoScroll() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.heightRefNode = null;
        _this.spriteNode = null;
        _this.scrollView = null;
        return _this;
      }
      InfoScroll.prototype.onLoad = function() {
        var page = this.getComponent(InfoPage_1.default).page;
        var dataID = key.replace("{page}", page);
        var str = I18nGlobal_1.translate(dataID);
        var h1;
        var h2;
        var rh = this.heightRefNode.height;
        if (dataID !== str) {
          var h = Number(str);
          if (isNaN(h)) {
            debugger;
            return;
          }
          h1 = h;
          h2 = rh - h;
        } else {
          h1 = 0;
          h2 = rh;
        }
        var spriteNode = this.spriteNode;
        var scrollViewNode = this.scrollView.node;
        spriteNode.y = -h1 / 2;
        spriteNode.height = h1;
        scrollViewNode.y = -h1 - h2 / 2;
        scrollViewNode.height = h2;
        scrollViewNode.getComponentsInChildren(cc.Widget).forEach(function(w) {
          w.updateAlignment();
        });
        this.scrollView.scrollToTop();
      };
      __decorate([ property(cc.Node) ], InfoScroll.prototype, "heightRefNode", void 0);
      __decorate([ property(cc.Node) ], InfoScroll.prototype, "spriteNode", void 0);
      __decorate([ property(cc.ScrollView) ], InfoScroll.prototype, "scrollView", void 0);
      InfoScroll = __decorate([ ccclass, requireComponent(InfoLabel_1.default) ], InfoScroll);
      return InfoScroll;
    }(cc.Component);
    exports.default = InfoScroll;
    cc._RF.pop();
  }, {
    "../I18nGlobal": "I18nGlobal",
    "../ui/InfoPage": "InfoPage",
    "./InfoLabel": "InfoLabel"
  } ],
  IosHack: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "d70a4zAnYFDBqzvvpRTEkyf", "IosHack");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.iosHack = void 0;
    function iosHack() {
      if (!cc.sys.isMobile && cc.sys.BROWSER_TYPE_SAFARI) {
        var isMobile = iosSafariMobile();
        cc.sys.isMobile = isMobile;
      }
      if ("2.2.2" !== cc.ENGINE_VERSION) return;
      var isIOS14Device = cc.sys.os === cc.sys.OS_IOS && cc.sys.isBrowser && cc.sys.isMobile && /iPhone OS 14/.test(window.navigator.userAgent);
      "2.2.2" === cc.ENGINE_VERSION && isIOS14Device && ios14Hack();
    }
    exports.iosHack = iosHack;
    function iosSafariMobile() {
      if (/iPad/i.test(navigator.userAgent)) return true;
      if (/Macintosh/i.test(navigator.userAgent)) try {
        document.createEvent("TouchEvent");
        return true;
      } catch (e) {}
      return false;
    }
    function ios14Hack() {
      cc.MeshBuffer.prototype.checkAndSwitchBuffer = function(vertexCount) {
        if (this.vertexOffset + vertexCount > 65535) {
          this.uploadData();
          this._batcher._flush();
        }
      };
      cc.MeshBuffer.prototype.forwardIndiceStartToOffset = function() {
        this.uploadData();
        this.switchBuffer();
      };
    }
    cc._RF.pop();
  }, {} ],
  ItemReusableScrollView: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "2807b6r2ZhKLLXnzbbHNgiY", "ItemReusableScrollView");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var EPSILON = 1e-4;
    function calHeight(len, height, spacing) {
      return Utils_1.toNaturalNumber(len) * height + Utils_1.toNaturalNumber(len - 1) * spacing;
    }
    var buffer = 1;
    var ItemReusableScrollView = function(_super) {
      __extends(ItemReusableScrollView, _super);
      function ItemReusableScrollView() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.templatePrefeb = null;
        _this.template = null;
        _this.contentLayout = null;
        _this.view = null;
        _this.datas = [];
        _this.applyDataToTemplate = null;
        _this.scrollbarNode = null;
        _this.scrollbarFrame = null;
        _this.barFrame = null;
        _this.dataNodePool = new cc.NodePool();
        _this.dataNodes = [];
        _this.firstIndex = 0;
        _this.dataIndexs = [];
        _this.topNode = new cc.Node("top");
        _this.bottomNode = new cc.Node("bottom");
        _this.prevTopZ = 0;
        _this.prevBottomZ = 0;
        _this.totalZ = 0;
        _this.maxZ = 0;
        _this.nodeCount = 0;
        _this.viewZ = 0;
        _this.templateZ = 0;
        _this.spacingZ = 0;
        _this.type = cc.Layout.Type.NONE;
        return _this;
      }
      ItemReusableScrollView.prototype.isX = function() {
        return this.type === cc.Layout.Type.HORIZONTAL;
      };
      ItemReusableScrollView.prototype.onLoad = function() {
        this.template = this.templatePrefeb ? cc.instantiate(this.templatePrefeb) : this.content.children[0];
        this.content.removeAllChildren();
        this.type = this.contentLayout.type;
        this.viewZ = this.isX() ? this.view.width : this.view.height;
        this.templateZ = this.isX() ? this.template.width : this.template.height;
        this.spacingZ = this.isX() ? this.contentLayout.spacingX : this.contentLayout.spacingY;
        this.nodeCount = Utils_1.toNaturalNumber(Math.ceil(this.viewZ / this.templateZ)) + 2 * buffer;
        this.content.addChild(this.topNode, 0);
        this.content.addChild(this.bottomNode, 2);
      };
      ItemReusableScrollView.prototype.setContentPosition = function(position, force) {
        void 0 === force && (force = false);
        if (!force && position.fuzzyEquals(this.getContentPosition(), EPSILON)) return;
        this.content.setPosition(position);
        this.updateContent();
        this._outOfBoundaryAmountDirty = true;
      };
      ItemReusableScrollView.prototype.posZtoZ = function(posZ) {
        var half = (this.totalZ - this.viewZ) / 2;
        return posZ + half;
      };
      ItemReusableScrollView.prototype.zToPosZ = function(z) {
        var half = (this.totalZ - this.viewZ) / 2;
        return (this.isX() ? -1 : 1) * (z - half);
      };
      ItemReusableScrollView.prototype.zToPctVec = function(z) {
        var pct = new cc.Vec2(0, 0);
        pct[this.isX() ? "x" : "y"] = z / this.totalZ;
        return pct;
      };
      ItemReusableScrollView.prototype.zToVec = function(z) {
        var v = new cc.Vec2(0, 0);
        v[this.isX() ? "x" : "y"] = this.zToPosZ(this.fixZ(z));
        return v;
      };
      ItemReusableScrollView.prototype.fixZ = function(z) {
        if (z < 0) return 0;
        if (z > this.maxZ) return this.maxZ;
        return z;
      };
      ItemReusableScrollView.prototype.setContentZ = function(z) {
        this.setContentPosition(this.zToVec(z), true);
      };
      ItemReusableScrollView.prototype.scrollToZ = function(z) {
        this.scrollTo(this.zToPctVec(z));
      };
      ItemReusableScrollView.prototype.getContentZ = function() {
        var pos = this.getContentPosition();
        var posZ = this.isX() ? -pos.x : pos.y;
        return this.fixZ(this.posZtoZ(posZ));
      };
      ItemReusableScrollView.prototype.updateContent = function(force, z) {
        void 0 === force && (force = false);
        var pos = this.getContentPosition();
        var posZ = this.isX() ? -pos.x : pos.y;
        var datas = this.datas;
        z = "undefined" === typeof z ? this.posZtoZ(posZ) : z;
        z = this.fixZ(z);
        if (z < this.templateZ) this.firstIndex = 0; else {
          var i = (z - this.templateZ) / (this.templateZ + this.spacingZ);
          this.firstIndex = Utils_1.toNaturalNumber(Math.floor(i) + 1 - buffer);
        }
        var topZ = calHeight(this.firstIndex, this.templateZ, this.spacingZ);
        var bottomZ = calHeight(datas.length - this.firstIndex - this.nodeCount, this.templateZ, this.spacingZ);
        var renderNodes = datas.slice(this.firstIndex, this.firstIndex + this.nodeCount);
        if (force || topZ !== this.prevTopZ || bottomZ !== this.prevBottomZ || renderNodes.length !== this.dataNodes.length) {
          this.apply(topZ, renderNodes, bottomZ);
          this.prevTopZ = topZ;
          this.prevBottomZ = bottomZ;
        }
      };
      ItemReusableScrollView.prototype.apply = function(topZ, datas, bottomZ) {
        var _this = this;
        this.topNode[this.isX() ? "width" : "height"] = topZ;
        var diff = datas.length - this.dataNodes.length;
        diff > 0 ? Utils_1.range(diff).map(function() {
          return _this.dataNodes.push(_this.getDataNode());
        }) : diff < 0 && Utils_1.range(-diff).map(function() {
          return _this.recycleDataNode(_this.dataNodes.pop());
        });
        this.dataIndexs = this.dataNodes.map(function(node, idx) {
          var data = datas[idx];
          _this.applyDataToTemplate.emit([ node, data ]);
          return data;
        });
        this.bottomNode[this.isX() ? "width" : "height"] = bottomZ;
        if (this.scrollbarNode) if (this.totalZ > this.viewZ) {
          this.scrollbarNode.getComponent(cc.Sprite).spriteFrame = this.scrollbarFrame;
          this.scrollbarNode.children[0].getComponent(cc.Sprite).spriteFrame = this.barFrame;
        } else {
          this.scrollbarNode.getComponent(cc.Sprite).spriteFrame = null;
          this.scrollbarNode.children[0].getComponent(cc.Sprite).spriteFrame = null;
        }
      };
      ItemReusableScrollView.prototype.getDataNode = function() {
        this.dataNodePool.size() || this.dataNodePool.put(cc.instantiate(this.template));
        var node = this.dataNodePool.get();
        this.content.addChild(node, 1);
        return node;
      };
      ItemReusableScrollView.prototype.recycleDataNode = function(node) {
        this.dataNodePool.put(node);
      };
      ItemReusableScrollView.prototype.refreshData = function() {
        this.apply(this.prevTopZ, this.dataIndexs, this.prevBottomZ);
      };
      ItemReusableScrollView.prototype.updateData = function(datas, toTopLeft) {
        void 0 === toTopLeft && (toTopLeft = false);
        var templateZ = this.isX() ? this.template.width : this.template.height;
        var spacingZ = this.isX() ? this.contentLayout.spacingX : this.contentLayout.spacingY;
        this.totalZ = calHeight(datas.length, templateZ, spacingZ);
        this.maxZ = calHeight(datas.length - this.nodeCount + 2 * buffer, templateZ, spacingZ);
        this.datas = datas;
        if (toTopLeft) {
          this.stopAutoScroll();
          this.updateContent(true, 0);
          this.scrollToTopLeft();
        } else {
          this.stopAutoScroll();
          this.updateContent(true);
        }
      };
      ItemReusableScrollView.prototype.getNodeByData = function(data) {
        var idx = this.dataIndexs.indexOf(data);
        return this.dataNodes[idx];
      };
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u5982\u679c\u6c92\u6709\u6307\u5b9a prefeb\uff0c\u9810\u8a2d\u5c07\u70ba content.children[0]"
      }) ], ItemReusableScrollView.prototype, "templatePrefeb", void 0);
      __decorate([ property({
        type: cc.Layout,
        tooltip: "content \u7684 layout \u7d44\u4ef6\uff0c\u76ee\u524d\u53ea\u652f\u63f4\u76f4\u5411\u53ca\u6a6b\u5411"
      }) ], ItemReusableScrollView.prototype, "contentLayout", void 0);
      __decorate([ property({
        type: cc.Node,
        tooltip: "\u6703\u6293\u6b64\u7bc0\u9ede\u7684\u5bec\u5ea6\u6216\u9ad8\u5ea6\uff0c\u4f5c\u70ba\u5448\u73fe\u7684\u5927\u5c0f"
      }) ], ItemReusableScrollView.prototype, "view", void 0);
      __decorate([ property({
        type: cc.Component.EventHandler,
        tooltip: "\u5be6\u73fe\u7c3d\u540d\u70ba (node: cc.Node, data: any) \u7684\u65b9\u6cd5\uff0c\u5c07\u4e00\u7b46\u8cc7\u6599\u653e\u5165\u7bc0\u9ede\nps. \u9700\u81ea\u884c\u547c\u53eb scrollview.updateData(datas: any[]): void \u66f4\u65b0\u8cc7\u6599"
      }) ], ItemReusableScrollView.prototype, "applyDataToTemplate", void 0);
      __decorate([ property(cc.Node) ], ItemReusableScrollView.prototype, "scrollbarNode", void 0);
      __decorate([ property(cc.SpriteFrame) ], ItemReusableScrollView.prototype, "scrollbarFrame", void 0);
      __decorate([ property(cc.SpriteFrame) ], ItemReusableScrollView.prototype, "barFrame", void 0);
      ItemReusableScrollView = __decorate([ ccclass ], ItemReusableScrollView);
      return ItemReusableScrollView;
    }(cc.ScrollView);
    exports.default = ItemReusableScrollView;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  JackpotNumber: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "8b0c543PJtMbKtf6KEhnWXw", "JackpotNumber");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ColSprite_1 = require("../data/ColSprite");
    var Balance_1 = require("../utils/Balance");
    var Utils_1 = require("../utils/Utils");
    var TemplateGenerator_1 = require("./TemplateGenerator");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var wm = new WeakMap();
    var TICK = 1 / 60;
    var JackpotNumber = function(_super) {
      __extends(JackpotNumber, _super);
      function JackpotNumber() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.delta = 0;
        _this.compact = false;
        _this.amount = 0;
        _this.curs = [];
        _this.dt = 0;
        return _this;
      }
      JackpotNumber.prototype.onLoad = function() {
        _super.prototype.onLoad.call(this);
        this.addComponent(cc.Mask);
        var l = this.addComponent(cc.Layout);
        l.type = cc.Layout.Type.HORIZONTAL;
        l.resizeMode = cc.Layout.ResizeMode.CONTAINER;
        l.horizontalDirection = cc.Layout.HorizontalDirection.LEFT_TO_RIGHT;
        l.affectedByScale = true;
      };
      JackpotNumber.prototype.getAmount = function() {
        return this.amount;
      };
      JackpotNumber.prototype.updateAmount = function(amount) {
        if (this.amount === amount) return;
        this.amount = amount;
        var str = Balance_1.amountThousandth(amount);
        var len = str.length;
        var parent = this.node;
        var h = this.templates[0].height;
        var curs = this.curs;
        var arr = [];
        var _loop_1 = function(place) {
          var next = str[len - place - 1];
          var dot = "." === next || "," === next;
          var data = curs.find(function(d) {
            return d.dot === dot && d.place === place;
          });
          Utils_1.arraySplice(curs, data);
          if (data) if (data.cur === next && data.next === next) ; else {
            data.next = next;
            data.stop = false;
          } else {
            var node = this_1.getNode();
            var node2 = void 0;
            var node3 = void 0;
            node.y = -h;
            parent.addChild(node);
            var cs = node.getComponent(ColSprite_1.ColSprite);
            cs.reset("", next, "");
            if (this_1.compact && !dot) {
              node2 = this_1.getNode();
              node2.y = h;
              node3 = this_1.getNode();
              node3.y = -h;
              setNumberString(node2, "");
              setNumberString(node3, getNextNumberString(next, 1));
              node.addChild(node2);
              node.addChild(node3);
            }
            node.scaleX = 0;
            data = {
              next: next,
              place: place,
              node: node,
              dot: dot,
              node2: node2,
              node3: node3,
              over: false,
              stop: true,
              appear: true,
              cur: next
            };
            wm.set(node, data);
          }
          arr.push(data);
        };
        var this_1 = this;
        for (var place = 0; place < len; place += 1) _loop_1(place);
        curs.forEach(function(data) {
          data.over = true;
          data.stop = false;
          arr.push(data);
        });
        this.node.children.sort(function(a, b) {
          var da = wm.get(a);
          var db = wm.get(b);
          return db.place - da.place;
        });
        this.curs = arr;
      };
      JackpotNumber.prototype.update = function(dt) {
        var _this = this;
        this.dt += dt;
        if (this.dt < TICK) return;
        this.dt -= TICK;
        var h = this.templates[0].height;
        this.curs.forEach(function(d, idx) {
          var node = d.node, next = d.next, cur = d.cur, appear = d.appear, stop = d.stop, over = d.over, place = d.place, node2 = d.node2, node3 = d.node3;
          var ny = node.y;
          var dy = _this.delta * TICK * Utils_1.biggerThen(.5, 1 - .1 * place);
          var y = ny + dy;
          if (appear) {
            var sx = node.scaleX;
            if (sx < 1) {
              sx = Utils_1.lowerThen(1, sx + .1);
              node.scaleX = sx;
              1 === sx && (d.appear = false);
            }
          }
          if (over) {
            var sx = node.scaleX;
            if (sx >= 1) {
              sx = Utils_1.biggerThen(0, sx - .1);
              node.scaleX = sx;
            }
          }
          stop && y > 0 && (y = 0);
          if (0 === y && cur === next) ; else if (ny >= h) if (over) {
            wm.delete(node);
            node2 && _this.recycleNode(node2);
            node3 && _this.recycleNode(node3);
            _this.recycleNode(node);
            Utils_1.arraySplice(_this.curs, d);
          } else {
            y = -h;
            if (node2) {
              var prev = getNumberString(node);
              var next2 = getNextNumberString(prev, 1);
              setNumberString(node2, next2);
              setNumberString(node3, getNextNumberString(next, 1));
              next === next2 && (y = 0);
            }
            setNumberString(node, next);
            d.cur = next;
            d.stop = true;
          }
          node.y = y;
        });
      };
      __decorate([ property(cc.Integer) ], JackpotNumber.prototype, "delta", void 0);
      __decorate([ property(cc.Boolean) ], JackpotNumber.prototype, "compact", void 0);
      JackpotNumber = __decorate([ ccclass ], JackpotNumber);
      return JackpotNumber;
    }(TemplateGenerator_1.TemplateGenerator);
    exports.default = JackpotNumber;
    function getNextNumberString(str, offset) {
      var num = Number(str) + offset;
      return num >= 10 ? "0" : num < 0 ? "9" : "" + num;
    }
    function setNumberString(node, str) {
      node.getComponent(ColSprite_1.ColSprite).reset("", str, "");
    }
    function getNumberString(node) {
      return node.getComponent(ColSprite_1.ColSprite).prev;
    }
    cc._RF.pop();
  }, {
    "../data/ColSprite": "ColSprite",
    "../utils/Balance": "Balance",
    "../utils/Utils": "Utils",
    "./TemplateGenerator": "TemplateGenerator"
  } ],
  JsonAssetLoader: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c0949TYj0xDqoPwrnbge/LU", "JsonAssetLoader");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.JsonAssetLoader = void 0;
    var Utils_1 = require("../utils/Utils");
    var KeyJsonAsset_1 = require("./KeyJsonAsset");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var JsonAssetLoader = function(_super) {
      __extends(JsonAssetLoader, _super);
      function JsonAssetLoader() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.keyJsonAssets = [];
        return _this;
      }
      JsonAssetLoader.prototype.getData = function(key, xpath) {
        void 0 === xpath && (xpath = "");
        var keyJsonAsset = this.keyJsonAssets.find(function(kj) {
          return kj.key === key;
        });
        if (!keyJsonAsset) return null;
        var json = keyJsonAsset.jsonAsset.json;
        var paths = xpath.split(".").filter(Utils_1.identity);
        var root = json;
        try {
          for (var i = 0; i < paths.length; i += 1) {
            var path = paths[i];
            root = root[path];
          }
          return root;
        } catch (e) {
          true;
          Utils_1.warn("xpath not math:", key, xpath, json);
        }
      };
      __decorate([ property([ KeyJsonAsset_1.KeyJsonAsset ]) ], JsonAssetLoader.prototype, "keyJsonAssets", void 0);
      JsonAssetLoader = __decorate([ ccclass ], JsonAssetLoader);
      return JsonAssetLoader;
    }(cc.Component);
    exports.JsonAssetLoader = JsonAssetLoader;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./KeyJsonAsset": "KeyJsonAsset"
  } ],
  KeyAtlas: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ed172/RiutL17lxxJlnSTGT", "KeyAtlas");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.KeyAtlas = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var KeyAtlas = function() {
      function KeyAtlas() {
        this.key = "";
        this.atlas = null;
      }
      __decorate([ property(cc.String) ], KeyAtlas.prototype, "key", void 0);
      __decorate([ property(cc.SpriteAtlas) ], KeyAtlas.prototype, "atlas", void 0);
      KeyAtlas = __decorate([ ccclass("KeyAtlas") ], KeyAtlas);
      return KeyAtlas;
    }();
    exports.KeyAtlas = KeyAtlas;
    cc._RF.pop();
  }, {} ],
  KeyAudioClip: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "086efLFAKxCeLbKDFWTTSOa", "KeyAudioClip");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.KeyAudioClip = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var KeyAudioClip = function() {
      function KeyAudioClip() {
        this.key = "";
        this.audioClip = null;
      }
      __decorate([ property(cc.String) ], KeyAudioClip.prototype, "key", void 0);
      __decorate([ property({
        type: cc.AudioClip
      }) ], KeyAudioClip.prototype, "audioClip", void 0);
      KeyAudioClip = __decorate([ ccclass("KeyAudioClip") ], KeyAudioClip);
      return KeyAudioClip;
    }();
    exports.KeyAudioClip = KeyAudioClip;
    cc._RF.pop();
  }, {} ],
  KeyBitmapFont: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "47bd34pqwVLArMPOKchh6hI", "KeyBitmapFont");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.KeyBitmapFont = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var KeyBitmapFont = function() {
      function KeyBitmapFont() {
        this.key = "";
        this.bitmapFont = null;
      }
      __decorate([ property(cc.String) ], KeyBitmapFont.prototype, "key", void 0);
      __decorate([ property(cc.BitmapFont) ], KeyBitmapFont.prototype, "bitmapFont", void 0);
      KeyBitmapFont = __decorate([ ccclass("KeyBitmapFont") ], KeyBitmapFont);
      return KeyBitmapFont;
    }();
    exports.KeyBitmapFont = KeyBitmapFont;
    cc._RF.pop();
  }, {} ],
  KeyCol: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "90ee67DpG1HQZVt7PfjNX0f", "KeyCol");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.KeyCol = void 0;
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var KeyCol = function() {
      function KeyCol() {
        this.key = "";
        this.col = null;
      }
      __decorate([ property(cc.String) ], KeyCol.prototype, "key", void 0);
      __decorate([ property(ColBase_1.default) ], KeyCol.prototype, "col", void 0);
      KeyCol = __decorate([ ccclass("KeyCol") ], KeyCol);
      return KeyCol;
    }();
    exports.KeyCol = KeyCol;
    cc._RF.pop();
  }, {
    "./ColBase": "ColBase"
  } ],
  KeyDownBinder: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f5856+TH1lPiI3UB4K51FO9", "KeyDownBinder");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var KeyDownBinder = function(_super) {
      __extends(KeyDownBinder, _super);
      function KeyDownBinder() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      KeyDownBinder.prototype.onLoad = function() {
        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);
      };
      KeyDownBinder.prototype.onDestroy = function() {
        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);
      };
      KeyDownBinder.prototype.onKeyDown = function(event) {
        this.doKeyDown(event);
      };
      KeyDownBinder = __decorate([ ccclass ], KeyDownBinder);
      return KeyDownBinder;
    }(cc.Component);
    exports.default = KeyDownBinder;
    cc._RF.pop();
  }, {} ],
  KeyDownCtrl: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "2b6287RnEFLb45Fnt0WiT/T", "KeyDownCtrl");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var KeyHandler_1 = require("../data/KeyHandler");
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var b = [ 1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024 ];
    var KeyDownCtrl = function(_super) {
      __extends(KeyDownCtrl, _super);
      function KeyDownCtrl() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.flag = 0;
        _this.keyHandlers = [];
        _this.keyHandlerMap = {};
        _this.keyHandlerArray = [];
        return _this;
      }
      KeyDownCtrl.prototype.onLoad = function() {
        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);
        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);
        this.keyHandlerMap = this.keyHandlers.map(function(kh) {
          if (isNaN(Number(kh.key))) return {
            key: kh.key.toUpperCase(),
            handler: kh.handler
          };
          return {
            key: String.fromCharCode(Number(kh.key)),
            handler: kh.handler
          };
        }).reduce(Utils_1.toObjectReducer("key", "handler"), {});
        this.keyHandlerArray = Object.keys(this.keyHandlerMap);
      };
      KeyDownCtrl.prototype.onKeyDown = function(event) {
        var code = String.fromCharCode(event.keyCode);
        var idx = this.keyHandlerArray.indexOf(code);
        if (this.keyHandlerMap[code] && -1 !== idx) {
          this.flag |= b[idx];
          this.keyHandlerMap[code].emit([]);
        }
      };
      KeyDownCtrl.prototype.onKeyUp = function(event) {
        var code = String.fromCharCode(event.keyCode);
        var idx = this.keyHandlerArray.indexOf(code);
        this.keyHandlerMap[code] && -1 !== idx && (this.flag &= ~b[idx]);
      };
      __decorate([ property([ KeyHandler_1.KeyHandler ]) ], KeyDownCtrl.prototype, "keyHandlers", void 0);
      KeyDownCtrl = __decorate([ ccclass ], KeyDownCtrl);
      return KeyDownCtrl;
    }(cc.Component);
    exports.default = KeyDownCtrl;
    cc._RF.pop();
  }, {
    "../data/KeyHandler": "KeyHandler",
    "../utils/Utils": "Utils"
  } ],
  KeyFrame: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "46f49HdgypMWZXupJZ1fneA", "KeyFrame");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.KeyFrames = exports.KeyFrame = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var KeyFrame = function() {
      function KeyFrame() {
        this.key = "";
        this.frame = null;
      }
      __decorate([ property(cc.String) ], KeyFrame.prototype, "key", void 0);
      __decorate([ property(cc.SpriteFrame) ], KeyFrame.prototype, "frame", void 0);
      KeyFrame = __decorate([ ccclass("KeyFrame") ], KeyFrame);
      return KeyFrame;
    }();
    exports.KeyFrame = KeyFrame;
    var KeyFrames = function() {
      function KeyFrames() {
        this.key = "";
        this.frames = [];
      }
      __decorate([ property(cc.String) ], KeyFrames.prototype, "key", void 0);
      __decorate([ property([ cc.SpriteFrame ]) ], KeyFrames.prototype, "frames", void 0);
      KeyFrames = __decorate([ ccclass("KeyFrames") ], KeyFrames);
      return KeyFrames;
    }();
    exports.KeyFrames = KeyFrames;
    cc._RF.pop();
  }, {} ],
  KeyHandler: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "bfdeetVigpCxakWTNSpwNSW", "KeyHandler");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.KeyHandler = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var KeyHandler = function() {
      function KeyHandler() {
        this.key = "";
        this.handler = null;
      }
      __decorate([ property(cc.String) ], KeyHandler.prototype, "key", void 0);
      __decorate([ property(cc.Component.EventHandler) ], KeyHandler.prototype, "handler", void 0);
      KeyHandler = __decorate([ ccclass("KeyHandler") ], KeyHandler);
      return KeyHandler;
    }();
    exports.KeyHandler = KeyHandler;
    cc._RF.pop();
  }, {} ],
  KeyJsonAsset: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "61af90KpKBIwr3N0zyGoWbQ", "KeyJsonAsset");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.KeyJsonAsset = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var KeyJsonAsset = function() {
      function KeyJsonAsset() {
        this.key = "";
        this.xpath = "";
        this.jsonAsset = null;
      }
      __decorate([ property(cc.String) ], KeyJsonAsset.prototype, "key", void 0);
      __decorate([ property(cc.String) ], KeyJsonAsset.prototype, "xpath", void 0);
      __decorate([ property(cc.JsonAsset) ], KeyJsonAsset.prototype, "jsonAsset", void 0);
      KeyJsonAsset = __decorate([ ccclass("KeyJsonAsset") ], KeyJsonAsset);
      return KeyJsonAsset;
    }();
    exports.KeyJsonAsset = KeyJsonAsset;
    cc._RF.pop();
  }, {} ],
  KeyNode: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1d742pdZixOZaYmPGdhA/n1", "KeyNode");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.getNodesByKey = exports.getNodeByKey = exports.KeyNode = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var KeyNode = function() {
      function KeyNode() {
        this.key = "";
        this.node = null;
      }
      __decorate([ property(cc.String) ], KeyNode.prototype, "key", void 0);
      __decorate([ property(cc.Node) ], KeyNode.prototype, "node", void 0);
      KeyNode = __decorate([ ccclass("KeyNode") ], KeyNode);
      return KeyNode;
    }();
    exports.KeyNode = KeyNode;
    function getNodeByKey(keyNodes, key) {
      var kn = keyNodes.find(function(kn) {
        return kn.key === key;
      });
      return kn ? kn.node : null;
    }
    exports.getNodeByKey = getNodeByKey;
    function getNodesByKey(keyNodes, key) {
      return keyNodes.filter(function(kn) {
        return kn.key === key;
      }).map(function(kn) {
        return kn.node;
      });
    }
    exports.getNodesByKey = getNodesByKey;
    cc._RF.pop();
  }, {} ],
  KeyPrefab: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "5fc3bx5ccVOkL3ivYNhjJ6y", "KeyPrefab");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.KeyPrefab = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var KeyPrefab = function() {
      function KeyPrefab() {
        this.key = "";
        this.prefab = null;
        this.node = null;
      }
      __decorate([ property(cc.String) ], KeyPrefab.prototype, "key", void 0);
      __decorate([ property(cc.Prefab) ], KeyPrefab.prototype, "prefab", void 0);
      KeyPrefab = __decorate([ ccclass("KeyPrefab") ], KeyPrefab);
      return KeyPrefab;
    }();
    exports.KeyPrefab = KeyPrefab;
    cc._RF.pop();
  }, {} ],
  KeyStr: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f3e0fB/vEpApY1b0LWxDGv5", "KeyStr");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.findJsonAssets = exports.findBitmapFont = exports.findFrame2 = exports.findFrame = exports.keyStr2Str = exports.str2KeyStr = exports.KeyStr2 = exports.KeyStr = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var KeyStr = function() {
      function KeyStr() {
        this.key = "";
        this.str = "";
      }
      __decorate([ property(cc.String) ], KeyStr.prototype, "key", void 0);
      __decorate([ property(cc.String) ], KeyStr.prototype, "str", void 0);
      KeyStr = __decorate([ ccclass("KeyStr") ], KeyStr);
      return KeyStr;
    }();
    exports.KeyStr = KeyStr;
    var KeyStr2 = function(_super) {
      __extends(KeyStr2, _super);
      function KeyStr2() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.str2 = "";
        return _this;
      }
      __decorate([ property(cc.String) ], KeyStr2.prototype, "str2", void 0);
      KeyStr2 = __decorate([ ccclass("KeyStr2") ], KeyStr2);
      return KeyStr2;
    }(KeyStr);
    exports.KeyStr2 = KeyStr2;
    var delimiter = ".";
    function str2KeyStr(str) {
      var arr = str.split(delimiter);
      return {
        key: arr[0],
        str: arr[1] || ""
      };
    }
    exports.str2KeyStr = str2KeyStr;
    function keyStr2Str(keyStr) {
      return keyStr.key + delimiter + keyStr.str;
    }
    exports.keyStr2Str = keyStr2Str;
    function findFrame(keyStrs, keyAtlass) {
      void 0 === keyStrs && (keyStrs = []);
      void 0 === keyAtlass && (keyAtlass = []);
      var ka = null;
      var frame = null;
      var atlasKey = "";
      var key = "";
      var _loop_1 = function(i) {
        var ks = keyStrs[i];
        var atlasKey2 = ks.key;
        var key2 = ks.str;
        ka = keyAtlass.find(function(ka) {
          return ka.key === atlasKey2;
        });
        if (ka) {
          frame = ka.atlas.getSpriteFrame(key2);
          if (frame) {
            atlasKey = atlasKey2;
            key = key2;
            return "break";
          }
        }
      };
      for (var i = 0; i < keyStrs.length; i += 1) {
        var state_1 = _loop_1(i);
        if ("break" === state_1) break;
      }
      return {
        atlasKey: atlasKey,
        key: key,
        frame: frame
      };
    }
    exports.findFrame = findFrame;
    function findFrame2(strs, keyAtlass) {
      void 0 === strs && (strs = []);
      void 0 === keyAtlass && (keyAtlass = []);
      var frame = null;
      for (var j = 0; j < strs.length; j += 1) {
        var str = strs[j];
        for (var i = 0; i < keyAtlass.length; i += 1) {
          var ka = keyAtlass[i];
          frame = ka.atlas.getSpriteFrame(str);
          if (frame) return {
            frame: frame,
            atlasKey: ka.key,
            key: str
          };
        }
      }
      return null;
    }
    exports.findFrame2 = findFrame2;
    function findBitmapFont(keyStrs, keyBitmapFont) {
      var kb = null;
      var bitmapFont = null;
      var key = "";
      var _loop_2 = function(i) {
        var ks = keyStrs[i];
        var atlasKey2 = ks.key;
        kb = keyBitmapFont.find(function(ka) {
          return ka.key === atlasKey2;
        });
        if (kb) {
          bitmapFont = kb.bitmapFont;
          key = kb.key;
        }
      };
      for (var i = 0; i < keyStrs.length; i += 1) _loop_2(i);
      return {
        key: key,
        bitmapFont: bitmapFont
      };
    }
    exports.findBitmapFont = findBitmapFont;
    function findJsonAssets(keyStrs, keyJsonAsset) {
      var kj = null;
      var jsonAsset = null;
      var key = "";
      var _loop_3 = function(i) {
        var ks = keyStrs[i];
        var atlasKey2 = ks.key;
        kj = keyJsonAsset.find(function(ka) {
          return ka.key === atlasKey2;
        });
        if (kj) {
          jsonAsset = kj.jsonAsset;
          key = kj.key;
        }
      };
      for (var i = 0; i < keyStrs.length; i += 1) _loop_3(i);
      return {
        key: key,
        jsonAsset: jsonAsset
      };
    }
    exports.findJsonAssets = findJsonAssets;
    cc._RF.pop();
  }, {} ],
  LabelGlobal: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c83a3Udk/VIkIQmwTuD7Zuq", "LabelGlobal");
    "use strict";
    var _a;
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.applyLabel = exports.getRichText = void 0;
    var ArtLabel_1 = require("./component/ArtLabel");
    var I18nLabel_1 = require("./component/I18nLabel");
    var I18nManager_1 = require("./component/I18nManager");
    var LayoutShrinkLabel_1 = require("./component/LayoutShrinkLabel");
    var NodeShrink_1 = require("./component/NodeShrink");
    var MarkNotRichText_1 = require("./data/MarkNotRichText");
    var CommonUIAuto_1 = require("./ui/CommonUIAuto");
    var CommonUIStyle_1 = require("./ui/CommonUIStyle");
    var wm = new WeakMap();
    function getRichText(label) {
      return wm.get(label);
    }
    exports.getRichText = getRichText;
    var fontFamily = (_a = {}, _a["vi_vn"] = "Arial", _a);
    var labelRichText = [ "ar_ae" ];
    function applyLabel(node) {
      applyLabelRichText(node);
      applyFontFamily(node);
    }
    exports.applyLabel = applyLabel;
    function applyLabelRichText(node) {
      var lang = I18nManager_1.getLang();
      var lrt = -1 !== labelRichText.findIndex(function(l) {
        return l === lang;
      });
      if (!lrt) return;
      eachLabel(node, function(l) {
        return eachLabelRichText(l);
      });
    }
    function applyFontFamily(node) {
      var lang = I18nManager_1.getLang();
      var ff = fontFamily[lang];
      if (!ff) return;
      eachLabel(node, function(l) {
        return l.fontFamily = ff;
      });
    }
    var KH_RICHTEXT = "KH_RICHTEXT";
    function eachLabelRichText(label) {
      if (getRichText(label) || "Arial" === label.fontFamily || label.node.getComponent(cc.LabelOutline) || label.node.getComponent(MarkNotRichText_1.default) || !label.node.active || !(label instanceof cc.Label) || label.font) return;
      var parent = label.node.parent;
      if (parent.getComponent(cc.RichText) && "RICHTEXT_CHILD" === label.node.name) return;
      var parentLayout = parent.getComponent(cc.Layout);
      parentLayout && parent.children.filter(function(n) {
        return !n.name.includes("" + KH_RICHTEXT);
      }).forEach(function(child, idx) {
        child.zIndex = idx;
      });
      var i18 = label.node.getComponent(I18nLabel_1.I18nLabel);
      i18 && i18.load();
      label.node.opacity = 1;
      label.scheduleOnce(function() {
        var rtNode = new cc.Node(label.node.name + "_" + KH_RICHTEXT);
        rtNode.zIndex = label.node.zIndex;
        rtNode.color = label.node.color;
        rtNode.setScale(label.node.scale);
        rtNode.setAnchorPoint(label.node.getAnchorPoint());
        rtNode.setContentSize(label.node.getContentSize());
        rtNode.setPosition(label.node.getPosition());
        rtNode.setParent(label.node.parent);
        var richText = rtNode.addComponent(cc.RichText);
        richText.handleTouchEvent = false;
        richText.maxWidth = label.node.width;
        richText.horizontalAlign = Number(label.horizontalAlign);
        richText.fontSize = label.fontSize;
        richText.lineHeight = label.lineHeight;
        richText.fontFamily = label.fontFamily;
        richText.node.scale = label.node.scale;
        richText.string = label.string;
        wm.set(label, richText);
        var nodeShrink = rtNode.addComponent(NodeShrink_1.default);
        nodeShrink.wh = cc.v2(label.node.width, label.node.height);
        nodeShrink.resize();
        var lsl = LayoutShrinkLabel_1.getRefLayoutShrinkLabel(label);
        if (lsl) {
          lsl.richTexts.push(richText);
          lsl.resize();
        }
        var uis = label.node.getComponent(CommonUIStyle_1.default);
        if (uis) {
          var rUis = rtNode.addComponent(CommonUIStyle_1.default);
          rUis.key = uis.key;
          rUis.keys = uis.keys;
        }
        label.node.active = false;
        var set2 = Object.getOwnPropertyDescriptor(cc.Label.prototype, "string").set;
        var get2 = Object.getOwnPropertyDescriptor(cc.Label.prototype, "string").get;
        Object.defineProperty(label, "string", {
          set: function(value) {
            set2.call(label, value);
            richText.string = value;
          },
          get: function() {
            return get2.call(label);
          }
        });
      });
    }
    function eachLabel(node, each) {
      var eachNode = function(node) {
        node.getComponentsInChildren(cc.Label).forEach(each);
        node.getComponentsInChildren(cc.RichText).forEach(each);
        node.getComponentsInChildren(ArtLabel_1.default).forEach(each);
      };
      eachNode(node);
      node.getComponentsInChildren(CommonUIAuto_1.default).forEach(function(cuiAuto) {
        var prefab = cuiAuto.template || cuiAuto.defaultPrefab;
        eachNode(prefab.data);
      });
    }
    cc._RF.pop();
  }, {
    "./component/ArtLabel": "ArtLabel",
    "./component/I18nLabel": "I18nLabel",
    "./component/I18nManager": "I18nManager",
    "./component/LayoutShrinkLabel": "LayoutShrinkLabel",
    "./component/NodeShrink": "NodeShrink",
    "./data/MarkNotRichText": "MarkNotRichText",
    "./ui/CommonUIAuto": "CommonUIAuto",
    "./ui/CommonUIStyle": "CommonUIStyle"
  } ],
  LabelStyleString: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "71d5exQ6dtDx4Vf4klibsYj", "LabelStyleString");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, requireComponent = _a.requireComponent;
    var LabelStyleString = function(_super) {
      __extends(LabelStyleString, _super);
      function LabelStyleString() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.string = "";
        _this.full = true;
        _this.refNode = null;
        return _this;
      }
      LabelStyleString_1 = LabelStyleString;
      LabelStyleString.prototype.onLoad = function() {
        if (this.refNode) {
          var lss = this.refNode.getComponent(LabelStyleString_1);
          this.string = lss.string;
        }
        this.refresh();
      };
      LabelStyleString.prototype.refresh = function(str) {
        void 0 === str && (str = "");
        str && (this.string = str);
        var node = this.node;
        var l = node.getComponent(cc.Label);
        var data = JSON.parse(this.string);
        var o = data.ss[0];
        if (1 !== data.ss.length) {
          Utils_1.warn("LabelStyleString ss.length should be 1", this);
          return;
        }
        var lc = cc.color(255, 255, 255);
        var sc = cc.color(255, 255, 255);
        var oc = cc.color(255, 255, 255);
        cc.Color.fromHEX(lc, o.lc);
        cc.Color.fromHEX(oc, o.oc);
        cc.Color.fromHEX(sc, o.sc);
        if (this.full) {
          l.fontSize = data.fs;
          var lh = data.lh;
          var m = 1.2 * data.fs;
          lh < m && (lh = m);
          l.lineHeight = data.lh;
          l.enableBold = Boolean(data.eb);
          l.enableItalic = Boolean(data.ei);
        } else {
          var fs = l.fontSize;
          var lh = l.lineHeight;
          var m = 1.2 * fs;
          lh < m && (lh = m);
          l.lineHeight = lh;
        }
        l.node.color = lc;
        var lo = node.getComponent(cc.LabelOutline);
        if (o.ow > 0) {
          lo || (lo = node.addComponent(cc.LabelOutline));
          lo.color = Boolean(o.uoc) ? oc : lc;
          lo.width = o.ow;
        } else lo && node.removeComponent(cc.LabelOutline);
        var ls = node.getComponent(cc.LabelShadow);
        if (o.s) {
          ls || (ls = node.addComponent(cc.LabelShadow));
          ls.offset = cc.v2(o.so[0], o.so[1]);
          ls.color = sc;
        } else ls && node.removeComponent(cc.LabelShadow);
      };
      var LabelStyleString_1;
      __decorate([ property(cc.String) ], LabelStyleString.prototype, "string", void 0);
      __decorate([ property(cc.Boolean) ], LabelStyleString.prototype, "full", void 0);
      __decorate([ property(cc.Node) ], LabelStyleString.prototype, "refNode", void 0);
      LabelStyleString = LabelStyleString_1 = __decorate([ ccclass, requireComponent(cc.Label) ], LabelStyleString);
      return LabelStyleString;
    }(cc.Component);
    exports.default = LabelStyleString;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  LayoutShrinkLabel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9a391PmWltIvoOF8E5qnpIV", "LayoutShrinkLabel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.getRefLayoutShrinkLabel = void 0;
    var Utils_1 = require("../utils/Utils");
    var MAX_TRY = 11;
    var wm = new WeakMap();
    function getRefLayoutShrinkLabel(label) {
      return wm.get(label);
    }
    exports.getRefLayoutShrinkLabel = getRefLayoutShrinkLabel;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu, executionOrder = _a.executionOrder, requireComponent = _a.requireComponent;
    var LayoutShrinkLabel = function(_super) {
      __extends(LayoutShrinkLabel, _super);
      function LayoutShrinkLabel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.wh = new cc.Vec2();
        _this.maxScale = 1;
        _this.labels = [];
        _this.richTexts = [];
        _this.maxWidth = 0;
        _this.currentMaxScale = 0;
        _this.try = 0;
        _this.resized = false;
        _this.delay = false;
        return _this;
      }
      LayoutShrinkLabel.prototype.onLoad = function() {
        var _this = this;
        this.setTextOpacity(1);
        this.labels.forEach(function(l) {
          return wm.set(l, _this);
        });
        var layout = this.getComponent(cc.Layout);
        var node = this.node;
        if (!layout) {
          var w_1 = node.width;
          this.wh = cc.v2(w_1, node.height);
          layout = this.addComponent(cc.Layout);
          layout.type = cc.Layout.Type.VERTICAL;
          layout.verticalDirection = cc.Layout.VerticalDirection.TOP_TO_BOTTOM;
          layout.resizeMode = cc.Layout.ResizeMode.CONTAINER;
          if (!(this.richTexts.length || this.labels.length)) {
            this.labels = node.children.map(function(n) {
              return n.getComponent(cc.Label);
            }).filter(Utils_1.identity);
            this.richTexts = node.children.map(function(n) {
              return n.getComponent(cc.RichText);
            }).filter(Utils_1.identity);
          }
          layout.affectedByScale = true;
          var nax_1 = node.anchorX;
          var nay_1 = node.anchorY;
          this.labels.forEach(function(l) {
            l.node.width = w_1;
            l.node.anchorX = nax_1;
            l.node.anchorY = nay_1;
            l.overflow = cc.Label.Overflow.RESIZE_HEIGHT;
          });
          this.richTexts.forEach(function(r) {
            r.node.width = w_1;
            r.maxWidth = w_1;
            r.node.anchorX = nax_1;
            r.node.anchorY = nay_1;
            r.horizontalAlign = cc.macro.TextAlignment.LEFT;
          });
          layout.updateLayout();
          return;
        }
        layout.resizeMode = cc.Layout.ResizeMode.CONTAINER;
        layout.affectedByScale = true;
      };
      LayoutShrinkLabel.prototype.start = function() {
        this.richTexts = this.richTexts.filter(Utils_1.identity);
        this.labels = this.labels.filter(Utils_1.identity);
        if (!(this.richTexts.length || this.labels.length)) {
          this.richTexts = this.node.getComponentsInChildren(cc.RichText);
          this.labels = this.node.getComponentsInChildren(cc.Label);
        }
        var arr = [];
        arr.push.apply(arr, this.richTexts.map(function(r) {
          return r.maxWidth;
        }));
        arr.push.apply(arr, this.labels.map(function(r) {
          return r.node.width;
        }));
        if (!arr.length) return;
        if (0 === this.wh.x || 0 === this.wh.y) {
          Utils_1.warn("wh can't is zero");
          return;
        }
        var mw = Math.max.apply(null, arr);
        this.maxScale = Math.max(mw / this.wh.x, this.maxScale);
        this.currentMaxScale = this.maxScale;
        this.node.scale = this.maxScale;
        this.maxWidth = this.wh.x;
        this.delay || this.resize();
      };
      LayoutShrinkLabel.prototype.onEnable = function() {
        this.resized || this.delay || this.resize();
      };
      LayoutShrinkLabel.prototype.reset = function() {
        this.setTextOpacity(1);
        this.resized = false;
        this.currentMaxScale = this.maxScale;
        this.node.scale = this.maxScale;
        this.try = 0;
        var mw = this.maxWidth;
        this.labels.forEach(function(r) {
          r.node.width = mw;
        });
        this.richTexts.forEach(function(r) {
          r.maxWidth = mw;
        });
        this.node.width = this.wh.x;
        this.node.height = this.wh.y;
      };
      LayoutShrinkLabel.prototype.resize = function() {
        if (!this.node.activeInHierarchy) {
          this.delay = false;
          return;
        }
        this.unscheduleAllCallbacks();
        this.richTexts = this.richTexts.filter(function(r) {
          return r.isValid && r.node;
        }).filter(Utils_1.identity);
        this.labels = this.labels.filter(function(r) {
          return r.isValid && r.node;
        }).filter(Utils_1.identity);
        this.reset();
        this.scheduleOnce(this.resizeLoop.bind(this));
      };
      LayoutShrinkLabel.prototype.resizeLoop = function() {
        var layout = this.getComponent(cc.Layout);
        layout.updateLayout();
        var node = this.node;
        var nw = node.width * node.scale;
        var nh = node.height * node.scale;
        var h = this.wh.y;
        if (nw < 0 || nh < 0) {
          node.getComponentsInChildren(cc.Layout).forEach(function(l) {
            l.updateLayout();
          });
          this.scheduleOnce(this.resizeLoop.bind(this));
          return;
        }
        this.try += 1;
        if (this.try >= MAX_TRY) {
          this.setTextOpacity(255);
          this.resized = true;
          return;
        }
        var arr = [ 1 ];
        nh && h && arr.push(h / nh);
        var min = Utils_1.lowerThen(this.maxScale, Math.min.apply(null, arr));
        if (this.richTexts.length > 0 || this.labels.length > 0) {
          var s = (this.currentMaxScale * min + this.currentMaxScale) / 2;
          if (s < this.maxScale) {
            var mw_1 = 1 / s * this.maxWidth;
            node.width = mw_1;
            this.labels.forEach(function(r) {
              r.isValid && r.node && (r.node.width = mw_1);
            });
            this.richTexts.forEach(function(r) {
              r.isValid && r.node && (r.maxWidth = mw_1);
            });
            node.getComponentsInChildren(cc.Layout).forEach(function(l) {
              l.updateLayout();
            });
            if (Math.abs(this.currentMaxScale - s) <= .05) {
              this.currentMaxScale = s;
              node.scale = s;
              this.setTextOpacity(255);
              this.resized = true;
              return;
            }
            this.currentMaxScale = s;
            node.scale = s;
            this.scheduleOnce(this.resizeLoop.bind(this));
            return;
          }
        }
        this.resized = true;
        this.setTextOpacity(255);
        node.scale = min;
      };
      LayoutShrinkLabel.prototype.setTextOpacity = function(value) {
        this.richTexts.map(function(r) {
          return r.node;
        }).forEach(Utils_1.nodeOpacity(value));
        this.labels.map(function(r) {
          return r.node;
        }).forEach(Utils_1.nodeOpacity(value));
      };
      __decorate([ property({
        tooltip: "x,y \u90fd\u8981\u8a2d"
      }) ], LayoutShrinkLabel.prototype, "wh", void 0);
      __decorate([ property(cc.Float) ], LayoutShrinkLabel.prototype, "maxScale", void 0);
      __decorate([ property([ cc.Label ]) ], LayoutShrinkLabel.prototype, "labels", void 0);
      __decorate([ property([ cc.RichText ]) ], LayoutShrinkLabel.prototype, "richTexts", void 0);
      __decorate([ property(cc.Boolean) ], LayoutShrinkLabel.prototype, "delay", void 0);
      LayoutShrinkLabel = __decorate([ ccclass, executionOrder(1), menu("LayoutShrink/LayoutShrinkLabel") ], LayoutShrinkLabel);
      return LayoutShrinkLabel;
    }(cc.Component);
    exports.default = LayoutShrinkLabel;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  LayoutShrink: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ef4bb6ezZ5BNb5PG/wmJcT2", "LayoutShrink");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executionOrder = _a.executionOrder, menu = _a.menu, requireComponent = _a.requireComponent;
    var LayoutShrink = function(_super) {
      __extends(LayoutShrink, _super);
      function LayoutShrink() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.wh = new cc.Vec2();
        _this.maxScale = 1;
        return _this;
      }
      LayoutShrink.prototype.onLoad = function() {
        var layout = this.getComponent(cc.Layout);
        layout.resizeMode === cc.Layout.ResizeMode.CONTAINER;
        layout.affectedByScale = true;
      };
      LayoutShrink.prototype.onEnable = function() {
        this.resize();
        this.node.on(cc.Node.EventType.SIZE_CHANGED, this.resize, this);
      };
      LayoutShrink.prototype.onDisable = function() {
        this.node.off(cc.Node.EventType.SIZE_CHANGED, this.resize, this);
      };
      LayoutShrink.prototype.resize = function() {
        var layout = this.getComponent(cc.Layout);
        var node = this.node;
        layout.updateLayout();
        var nw = node.width;
        var nh = node.height;
        if (nw < 0 || nh < 0) {
          node.getComponentsInChildren(cc.Layout).forEach(function(l) {
            l.updateLayout();
          });
          this.scheduleOnce(this.resize.bind(this), 0);
        }
        var type = layout.type;
        type === cc.Layout.Type.HORIZONTAL ? nh = Math.max.apply(Math, this.node.children.map(function(n) {
          return n.height * n.scaleY;
        })) : type === cc.Layout.Type.VERTICAL && (nw = Math.max.apply(Math, this.node.children.map(function(n) {
          return n.width * n.scaleX;
        })));
        var w = this.wh.x;
        var h = this.wh.y;
        var arr = [ 1 ];
        nw && w && arr.push(w / nw);
        nh && h && arr.push(h / nh);
        node.scale = Utils_1.lowerThen(this.maxScale, Math.min.apply(null, arr));
      };
      __decorate([ property(cc.Vec2) ], LayoutShrink.prototype, "wh", void 0);
      __decorate([ property(cc.Float) ], LayoutShrink.prototype, "maxScale", void 0);
      LayoutShrink = __decorate([ ccclass, executionOrder(1), requireComponent(cc.Layout), menu("LayoutShrink/LayoutShrink") ], LayoutShrink);
      return LayoutShrink;
    }(cc.Component);
    exports.default = LayoutShrink;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  LibGlobal: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6136fMdaXZNUIXgSLUpwwo1", "LibGlobal");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.pad2 = exports.resetOccur = exports.occurWarper = exports.getTransparentMaskNode = exports.setUiIsMobile = exports.uiIsMobile = exports.ccIsMobile = exports.globalDebugNNN = exports.NNN = exports.MMM = exports.disableButtonExclusive = exports.activeButtonExclusive = exports.unbindExclusiveButtonInteractable = exports.bindExclusiveButtonInteractable = exports.getIsEnterBackground = exports.setIsEnterBackground = exports.isEnterBackground = exports.MAX_LATENCY = exports.ALERT_LEVEL = void 0;
    var ParamsGlobal_1 = require("./ParamsGlobal");
    var AndroidHack_1 = require("./hack/AndroidHack");
    var IosHack_1 = require("./hack/IosHack");
    var Count_1 = require("./utils/Count");
    var Utils_1 = require("./utils/Utils");
    IosHack_1.iosHack();
    AndroidHack_1.androidHack();
    var ALERT_LEVEL;
    (function(ALERT_LEVEL) {
      ALERT_LEVEL[ALERT_LEVEL["DEFAULT"] = 0] = "DEFAULT";
      ALERT_LEVEL[ALERT_LEVEL["WILL_KICK_TABLE"] = 1] = "WILL_KICK_TABLE";
      ALERT_LEVEL[ALERT_LEVEL["KICK_TABLE"] = 2] = "KICK_TABLE";
      ALERT_LEVEL[ALERT_LEVEL["NETWORK_RETRY"] = 3] = "NETWORK_RETRY";
      ALERT_LEVEL[ALERT_LEVEL["KICK_GAME"] = 4] = "KICK_GAME";
      ALERT_LEVEL[ALERT_LEVEL["NETWORK"] = 5] = "NETWORK";
    })(ALERT_LEVEL = exports.ALERT_LEVEL || (exports.ALERT_LEVEL = {}));
    exports.MAX_LATENCY = 5e3;
    exports.isEnterBackground = false;
    function setIsEnterBackground(boo) {
      exports.isEnterBackground = boo;
    }
    exports.setIsEnterBackground = setIsEnterBackground;
    function getIsEnterBackground() {
      return exports.isEnterBackground;
    }
    exports.getIsEnterBackground = getIsEnterBackground;
    var buttonInteractableMap = {};
    function bindExclusiveButtonInteractable(key, bi) {
      if (!bi) return;
      buttonInteractableMap[key] || (buttonInteractableMap[key] = []);
      buttonInteractableMap[key].push(bi);
    }
    exports.bindExclusiveButtonInteractable = bindExclusiveButtonInteractable;
    function unbindExclusiveButtonInteractable(key, bi) {
      if (!bi) return;
      buttonInteractableMap[key] && Utils_1.arraySplice(buttonInteractableMap[key], bi);
    }
    exports.unbindExclusiveButtonInteractable = unbindExclusiveButtonInteractable;
    function activeButtonExclusive(key, bi) {
      buttonInteractableMap[key] && buttonInteractableMap[key].forEach(function(bi2) {
        bi2.interactable(bi2 === bi);
      });
    }
    exports.activeButtonExclusive = activeButtonExclusive;
    function disableButtonExclusive(key) {
      buttonInteractableMap[key] && buttonInteractableMap[key].forEach(function(bi) {
        bi.interactable(true);
      });
    }
    exports.disableButtonExclusive = disableButtonExclusive;
    exports.MMM = {
      keyTimes: {},
      keyArray: {},
      array: []
    };
    exports.NNN = [];
    true;
    window.NNN = exports.NNN;
    window.MMM = exports.MMM;
    exports.globalDebugNNN = Count_1.globalDebugCreator(exports.NNN);
    exports.ccIsMobile = cc && cc.sys && cc.sys.isMobile;
    true, true;
    var isMobile = ParamsGlobal_1.getDebugParams("isMobile");
    if ("" !== isMobile) {
      var bool = Boolean(Number(isMobile));
      Utils_1.log("rewrite isMobile to", bool);
      exports.ccIsMobile = bool;
    }
    exports.uiIsMobile = exports.ccIsMobile;
    function setUiIsMobile(able) {
      exports.uiIsMobile = able;
    }
    exports.setUiIsMobile = setUiIsMobile;
    true, true;
    var deltaScale = ParamsGlobal_1.getDebugParams("deltaScale");
    deltaScale && Utils_1.debugDeltaScale(Number(deltaScale));
    function getTransparentMaskNode(parent) {
      var node = new cc.Node();
      parent && node.setParent(parent);
      node.addComponent(cc.BlockInputEvents);
      var widget = node.addComponent(cc.Widget);
      widget.isAlignTop = true;
      widget.isAlignBottom = true;
      widget.isAlignLeft = true;
      widget.isAlignRight = true;
      widget.alignMode = cc.Widget.AlignMode.ON_WINDOW_RESIZE;
      widget.top = 0;
      widget.bottom = 0;
      widget.left = 0;
      widget.right = 0;
      widget.updateAlignment();
      return node;
    }
    exports.getTransparentMaskNode = getTransparentMaskNode;
    var DEFAULT_OCCUR_KEY = "default";
    var occurMap = {};
    function occurWarper(able, key) {
      void 0 === key && (key = DEFAULT_OCCUR_KEY);
      occurMap[key] = occurMap[key] || able;
      return occurMap[key];
    }
    exports.occurWarper = occurWarper;
    function resetOccur(key) {
      void 0 === key && (key = DEFAULT_OCCUR_KEY);
      occurMap[key] = false;
    }
    exports.resetOccur = resetOccur;
    function pad2(num) {
      if (num < 10) return "0" + num;
      return "" + num;
    }
    exports.pad2 = pad2;
    exports.globalDebugNNN(ParamsGlobal_1.getHrefURLParams, "getHrefURLParams", false);
    exports.globalDebugNNN(ParamsGlobal_1.getDebugParams, "getDebug", false);
    cc._RF.pop();
  }, {
    "./ParamsGlobal": "ParamsGlobal",
    "./hack/AndroidHack": "AndroidHack",
    "./hack/IosHack": "IosHack",
    "./utils/Count": "Count",
    "./utils/Utils": "Utils"
  } ],
  LoadSceneConfig: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9c7cez76bRENZ444JQoplgN", "LoadSceneConfig");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var LoadScene_1 = require("./LoadScene");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var LoadSceneConfig = function(_super) {
      __extends(LoadSceneConfig, _super);
      function LoadSceneConfig() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.loadSceneNode = null;
        _this.sceneName = "GameLobby";
        _this.loadOnStart = false;
        _this.loadResources = false;
        _this.loadScene = null;
        return _this;
      }
      LoadSceneConfig.prototype.onLoad = function() {
        this.loadScene = this.loadSceneNode.getComponent(LoadScene_1.default);
        if (!this.loadScene) {
          Utils_1.warn("LoadScene is null");
          return;
        }
        this.loadScene.loadOnStart = this.loadOnStart;
        this.loadScene.loadResources = this.loadResources;
        this.loadScene.sceneName = this.sceneName;
      };
      __decorate([ property(cc.Node) ], LoadSceneConfig.prototype, "loadSceneNode", void 0);
      __decorate([ property(cc.String) ], LoadSceneConfig.prototype, "sceneName", void 0);
      __decorate([ property(cc.Boolean) ], LoadSceneConfig.prototype, "loadOnStart", void 0);
      __decorate([ property(cc.Boolean) ], LoadSceneConfig.prototype, "loadResources", void 0);
      LoadSceneConfig = __decorate([ ccclass ], LoadSceneConfig);
      return LoadSceneConfig;
    }(cc.Component);
    exports.default = LoadSceneConfig;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./LoadScene": "LoadScene"
  } ],
  LoadScene: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1c0a9y+qCpBxrQGMXFW1h4L", "LoadScene");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.loadWithResources = exports.loadScene = exports.handleResourcesLoaded = void 0;
    var IframeGlobal_1 = require("../IframeGlobal");
    var ResourcesLoader_1 = require("../script/ResourcesLoader");
    var Utils_1 = require("../utils/Utils");
    var SpSkeletonHack_1 = require("./SpSkeletonHack");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    function handleResourcesLoaded(assets) {
      var l = ResourcesLoader_1.getResourcesLoader();
      var jsonAsset = assets.filter(function(a) {
        return a instanceof cc.JsonAsset;
      }).find(function(a) {
        return "data" === a.name;
      });
      var worker = jsonAsset && jsonAsset.json.worker || SpSkeletonHack_1.DEFAULT_WORKER;
      assets.filter(function(a) {
        return a instanceof sp.SkeletonData;
      }).forEach(function(asset) {
        var hack = l.node.addComponent(SpSkeletonHack_1.default);
        var skeleton = SpSkeletonHack_1.genSkeleton(asset);
        switch (cc.ENGINE_VERSION) {
         case "2.4.5":
         case "2.4.4":
          hack.hack_2_4_4(skeleton.node);
          hack.cache(skeleton.node, l.node, worker);
          break;

         case "2.2.2":
          hack.hack_2_2_2(skeleton.node);
          hack.cache(skeleton.node, l.node, worker);
          break;

         case "2.0.10":
          hack.hack_2_0_10(skeleton.node);
          hack.cache(skeleton.node, l.node, worker);
          break;

         case "2.0.9":
         default:
          hack.cache2(skeleton.node);
        }
      });
    }
    exports.handleResourcesLoaded = handleResourcesLoaded;
    var loaderScene = null;
    function loadScene(sceneName, onLaunched) {
      loaderScene.load(sceneName, onLaunched);
    }
    exports.loadScene = loadScene;
    function loadWithResources(urls, sceneName, onLaunched) {
      loaderScene.loadWithResources(urls, sceneName, handleResourcesLoaded, onLaunched);
    }
    exports.loadWithResources = loadWithResources;
    var LoadScene = function(_super) {
      __extends(LoadScene, _super);
      function LoadScene() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.nodes = [];
        _this.sceneName = "";
        _this.progressLabel = null;
        _this.loadOnStart = false;
        _this.loadResources = false;
        _this.loadedResourcesKeys = [];
        return _this;
      }
      LoadScene.prototype.onLoad = function() {
        loaderScene = this;
        this.showLoading = window["setLoadingDisplay"] || this.setActive.bind(this, true);
        this.setProgress = window["setProgress"] || this.setProgress.bind(this);
        (true, this.sceneName) || Utils_1.warn("no sceneName");
      };
      LoadScene.prototype.start = function() {
        var _this = this;
        if (this.loadOnStart) if (this.loadResources) {
          var l = ResourcesLoader_1.getResourcesLoader();
          var next = function() {
            _this.scheduleOnce(function() {
              var urls = [ "spine/cache" ];
              _this.loadWithResources(urls, _this.sceneName, handleResourcesLoaded);
            }, 0);
          };
          var reject = function() {
            loadFail(IframeGlobal_1.DownloadAlertError.RESOURCE);
          };
          l.load().then(next, reject);
        } else this.load(this.sceneName);
      };
      LoadScene.prototype.loadWithResources = function(urls, sceneName, onResourcesLoad, onLaunched) {
        var _this = this;
        var reject = function() {
          loadFail(IframeGlobal_1.DownloadAlertError.RESOURCE);
        };
        this.showLoading();
        var key = urls.sort().join(";");
        var l = ResourcesLoader_1.getResourcesLoader();
        var next = function() {
          _this.setActive(false);
          _this.load(sceneName, onLaunched);
        };
        true;
        console.time("load resources");
        var lNext = function(assets) {
          _this.loadedResourcesKeys.push(key);
          true;
          console.timeEnd("load resources");
          onResourcesLoad && onResourcesLoad(assets);
          _this.scheduleOnce(function() {
            _this.load(sceneName, onLaunched);
          }, 0);
        };
        -1 === this.loadedResourcesKeys.indexOf(key) ? l.loadUrls(urls).then(lNext, reject) : next();
      };
      LoadScene.prototype.load = function(sceneName, onLaunched) {
        var _this = this;
        sceneName || (sceneName = this.sceneName);
        var next = function(err) {
          if (err) {
            loadFail(IframeGlobal_1.DownloadAlertError.SCENE);
            return;
          }
          _this.setActive(false);
          _this.setProgress(2, 2, null);
          cc.director.loadScene(sceneName, onLaunched);
        };
        this.showLoading();
        cc.director.preloadScene(sceneName, this.setProgress, next);
      };
      LoadScene.prototype.setActive = function(able) {
        this.nodes.map(Utils_1.nodeActive(able));
      };
      LoadScene.prototype.setProgress = function(completed, total, item) {
        this.progressLabel.string = (completed / total * 100).toFixed(0) + "%";
      };
      LoadScene.prototype.onLoadClick = function() {
        this.load(this.sceneName);
      };
      __decorate([ property([ cc.Node ]) ], LoadScene.prototype, "nodes", void 0);
      __decorate([ property(cc.String) ], LoadScene.prototype, "sceneName", void 0);
      __decorate([ property(cc.Label) ], LoadScene.prototype, "progressLabel", void 0);
      __decorate([ property(cc.Boolean) ], LoadScene.prototype, "loadOnStart", void 0);
      __decorate([ property({
        tooltip: "\u7d66 game-client-lib \u7528"
      }) ], LoadScene.prototype, "loadResources", void 0);
      LoadScene = __decorate([ ccclass ], LoadScene);
      return LoadScene;
    }(cc.Component);
    exports.default = LoadScene;
    function loadFail(downloadFail) {
      var args = "downloadFail=" + downloadFail;
      Utils_1.fetchPing(args);
      IframeGlobal_1.downloadAlert(downloadFail);
    }
    cc._RF.pop();
  }, {
    "../IframeGlobal": "IframeGlobal",
    "../script/ResourcesLoader": "ResourcesLoader",
    "../utils/Utils": "Utils",
    "./SpSkeletonHack": "SpSkeletonHack"
  } ],
  Loading: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "3b602Ru8zxNdq220HZQ9hVJ", "Loading");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ColFade_1 = require("../data/ColFade");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var Loading = function(_super) {
      __extends(Loading, _super);
      function Loading() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.loadingNode = null;
        _this.colFade = null;
        return _this;
      }
      Loading.prototype.toggle = function(able) {
        this.loadingNode && (this.loadingNode.active = able);
        this.colFade && this.colFade.reset("", able);
      };
      __decorate([ property(cc.Node) ], Loading.prototype, "loadingNode", void 0);
      __decorate([ property(ColFade_1.ColFade) ], Loading.prototype, "colFade", void 0);
      Loading = __decorate([ ccclass ], Loading);
      return Loading;
    }(cc.Component);
    exports.default = Loading;
    cc._RF.pop();
  }, {
    "../data/ColFade": "ColFade"
  } ],
  LoginState: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b8e1626YqlKEK/iO0MTdCIS", "LoginState");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.LoginState = void 0;
    var LoginState;
    (function(LoginState) {
      LoginState[LoginState["BEFORE_LOGIN"] = 0] = "BEFORE_LOGIN";
      LoginState[LoginState["LOGIN"] = 1] = "LOGIN";
      LoginState[LoginState["OFFLINE"] = 2] = "OFFLINE";
      LoginState[LoginState["KICKOUT"] = 3] = "KICKOUT";
    })(LoginState = exports.LoginState || (exports.LoginState = {}));
    cc._RF.pop();
  }, {} ],
  LoopBackground: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "96f93e/NGlKl7i/BkXOHFrY", "LoopBackground");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.LoopBackground = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var LoopBackground = function(_super) {
      __extends(LoopBackground, _super);
      function LoopBackground() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.nodes = [];
        _this.perSec = 100;
        _this.vertical = false;
        _this.loopLeft = false;
        _this.loopOnLoad = false;
        _this.looping = false;
        _this.per = 0;
        _this.width = 0;
        _this.tween = null;
        return _this;
      }
      LoopBackground.prototype.onLoad = function() {
        var v = this.vertical;
        var w = 0;
        this.nodes.forEach(function(n) {
          w += v ? n.height : n.width;
        });
        var halfW = w / 2;
        var totalW = 0;
        this.nodes.forEach(function(n) {
          var nw = v ? n.height : n.width;
          var nx = -halfW + totalW + nw / 2;
          v ? n.y = nx : n.x = nx;
          totalW += nw;
        });
        this.width = w;
        this.loopOnLoad && this.loop(true);
      };
      LoopBackground.prototype.loop = function(able, tweenSec) {
        void 0 === tweenSec && (tweenSec = 0);
        if (this.looping === able) return;
        var per = able ? this.perSec : 0;
        if (this.tween) {
          this.tween.stop();
          this.tween = null;
        }
        this.looping = able;
        if (this.per !== per) {
          var t = cc.tween(this);
          t.to(tweenSec, {
            per: per
          });
          t.start();
          this.tween = t;
        }
      };
      LoopBackground.prototype.shift = function(x) {
        var _this = this;
        var v = this.vertical;
        var w = this.width;
        var halfW = w / 2;
        this.nodes.forEach(function(n) {
          var nx = (v ? n.y : n.x) + x;
          !_this.loopLeft && nx >= halfW && (nx -= w);
          _this.loopLeft && nx <= -halfW && (nx += w);
          v ? n.y = nx : n.x = nx;
        });
      };
      LoopBackground.prototype.update = function(dt) {
        if (!this.looping) return;
        var fix = this.loopLeft ? -1 : 1;
        var x = fix * dt * this.per;
        this.shift(x);
      };
      __decorate([ property(cc.Node) ], LoopBackground.prototype, "nodes", void 0);
      __decorate([ property({
        tooltip: "\u5373 speed",
        type: cc.Float
      }) ], LoopBackground.prototype, "perSec", void 0);
      __decorate([ property({
        tooltip: "\u662f\u5426 \u76f4\u5411(\u63a7\u5236y)"
      }) ], LoopBackground.prototype, "vertical", void 0);
      __decorate([ property(cc.Boolean) ], LoopBackground.prototype, "loopLeft", void 0);
      __decorate([ property(cc.Boolean) ], LoopBackground.prototype, "loopOnLoad", void 0);
      LoopBackground = __decorate([ ccclass ], LoopBackground);
      return LoopBackground;
    }(cc.Component);
    exports.LoopBackground = LoopBackground;
    cc._RF.pop();
  }, {} ],
  MarkAudio: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b527aO+t4VH/4mrFS6IzDix", "MarkAudio");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var MarkAudio = function(_super) {
      __extends(MarkAudio, _super);
      function MarkAudio() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.audioName = "";
        _this.delay = 0;
        return _this;
      }
      __decorate([ property(cc.String) ], MarkAudio.prototype, "audioName", void 0);
      __decorate([ property(cc.Float) ], MarkAudio.prototype, "delay", void 0);
      MarkAudio = __decorate([ ccclass ], MarkAudio);
      return MarkAudio;
    }(cc.Component);
    exports.default = MarkAudio;
    cc._RF.pop();
  }, {} ],
  MarkNode: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ee1e1r8EyRC1rsqLC7zk6sH", "MarkNode");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var MarkNode = function(_super) {
      __extends(MarkNode, _super);
      function MarkNode() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.refNode = null;
        _this.refNodes = [];
        return _this;
      }
      __decorate([ property(cc.Node) ], MarkNode.prototype, "refNode", void 0);
      __decorate([ property([ cc.Node ]) ], MarkNode.prototype, "refNodes", void 0);
      MarkNode = __decorate([ ccclass ], MarkNode);
      return MarkNode;
    }(cc.Component);
    exports.default = MarkNode;
    cc._RF.pop();
  }, {} ],
  MarkNotRichText: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9652bdGWHlLEb/lq9DcvNhN", "MarkNotRichText");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ccclass = cc._decorator.ccclass;
    var MarkNotRichText = function(_super) {
      __extends(MarkNotRichText, _super);
      function MarkNotRichText() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      MarkNotRichText = __decorate([ ccclass ], MarkNotRichText);
      return MarkNotRichText;
    }(cc.Component);
    exports.default = MarkNotRichText;
    cc._RF.pop();
  }, {} ],
  MarkNumber: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0d820rynEBCrr10ZVHKq8lv", "MarkNumber");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var MarkNumber = function(_super) {
      __extends(MarkNumber, _super);
      function MarkNumber() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.active = false;
        _this.data = 0;
        _this.data2 = 0;
        _this.active2 = false;
        return _this;
      }
      __decorate([ property(cc.Boolean) ], MarkNumber.prototype, "active", void 0);
      __decorate([ property(cc.Float) ], MarkNumber.prototype, "data", void 0);
      __decorate([ property(cc.Float) ], MarkNumber.prototype, "data2", void 0);
      __decorate([ property(cc.Boolean) ], MarkNumber.prototype, "active2", void 0);
      MarkNumber = __decorate([ ccclass ], MarkNumber);
      return MarkNumber;
    }(cc.Component);
    exports.default = MarkNumber;
    cc._RF.pop();
  }, {} ],
  Mark: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "78775DRI3lOcYiJCLtt1WBL", "Mark");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var Mark = function(_super) {
      __extends(Mark, _super);
      function Mark() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.data = "";
        return _this;
      }
      __decorate([ property(cc.String) ], Mark.prototype, "data", void 0);
      Mark = __decorate([ ccclass ], Mark);
      return Mark;
    }(cc.Component);
    exports.default = Mark;
    cc._RF.pop();
  }, {} ],
  Marquee: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "982adN0G+tDoakSlCWObG00", "Marquee");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var MarqueeData = function() {
      function MarqueeData(message, group, priority, loopTimes, width) {
        void 0 === group && (group = "");
        void 0 === priority && (priority = 0);
        void 0 === loopTimes && (loopTimes = 0);
        void 0 === width && (width = 0);
        this.message = message;
        this.group = group;
        this.priority = priority;
        this.loopTimes = loopTimes;
        this.width = width;
      }
      MarqueeData.prototype.clone = function(loopTimes) {
        return new MarqueeData(this.message, this.group, this.priority, loopTimes, this.width);
      };
      return MarqueeData;
    }();
    function marqueeSort(a, b) {
      return a.priority - b.priority;
    }
    var Marquee = function(_super) {
      __extends(Marquee, _super);
      function Marquee() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.targetNode = null;
        _this.bgNode = null;
        _this.template = null;
        _this.maxWidth = 0;
        _this.pxPerSec = 140;
        _this.opacityPerSec = 0;
        _this.opacityNode = null;
        _this.width = 0;
        _this.queue = [];
        _this.playings = [];
        _this.playingNodes = [];
        _this.hanging = false;
        _this.nodePool = new cc.NodePool();
        _this.type = "cc.Label";
        _this.loaded = false;
        return _this;
      }
      Marquee.prototype.getNode = function() {
        this.nodePool.size() || this.nodePool.put(cc.instantiate(this.template));
        return this.nodePool.get();
      };
      Marquee.prototype.recycleNode = function(node) {
        node.getComponent(this.type).string = "";
        node.width = 0;
        node.x = 0;
        this.nodePool.put(node);
      };
      Marquee.prototype.filter = function(group) {
        this.queue = this.queue.filter(function(data) {
          return data.group !== group;
        });
        this.playings.forEach(function(data) {
          data.group === group && (data.loopTimes = 0);
        });
      };
      Marquee.prototype.forEach = function(fn) {
        this.queue.forEach(fn);
        this.playings.forEach(fn);
      };
      Marquee.prototype.length = function() {
        return this.queue.length + this.playings.length;
      };
      Marquee.prototype.pushData = function(data) {
        this.queue.push(data);
        this.queue.sort(marqueeSort);
      };
      Marquee.prototype.push = function(message, group, priority, loopTimes) {
        this.pre();
        this.pushData(new MarqueeData(message, group, priority, loopTimes));
      };
      Marquee.prototype.update = function(dt) {
        var px = dt * this.pxPerSec;
        this.playingNodes.forEach(function(node) {
          node.x -= px;
        });
        if (this.playingNodes[0] && this.playingNodes[0].x < -this.playings[0].width / 2 - this.width / 2) {
          this.recycleNode(this.playingNodes[0]);
          var finished = this.playings.shift();
          this.playingNodes.shift();
          -1 === finished.loopTimes ? this.pushData(finished.clone(finished.loopTimes)) : finished.loopTimes > 0 && this.pushData(finished.clone(finished.loopTimes - 1));
        }
        var lastIdx = this.playings.length - 1;
        var lastData = this.playings[lastIdx];
        var lastNode = this.playingNodes[lastIdx];
        var targetNode = this.targetNode;
        var o = this.opacityPerSec;
        if (o) {
          var l = this.length();
          var on = this.opacityNode;
          var ono = on.opacity;
          l && ono < 255 && (on.opacity = Utils_1.lowerThen(255, ono + dt * o));
          !l && ono > 0 && (on.opacity = Utils_1.biggerThen(0, ono - dt * o));
        }
        if (!this.hanging && (lastNode && lastNode.x < -lastData.width / 2 + this.width / 2 || null == lastNode) && this.queue.length) {
          lastData = this.queue.shift();
          lastNode = this.getNode();
          this.playings.push(lastData);
          this.playingNodes.push(lastNode);
          lastIdx = this.playings.length - 1;
          lastNode.getComponent(this.type).string = lastData.message;
          lastNode.opacity = 0;
          targetNode.addChild(lastNode);
          this.hanging = true;
        }
        if (this.hanging) if (lastNode) {
          if (lastNode.width) {
            lastData.width = lastNode.width;
            lastNode.opacity = 255;
            lastNode.x = lastData.width / 2 + this.width / 2;
            this.hanging = false;
          }
        } else this.hanging = false;
      };
      Marquee.prototype.onLoad = function() {
        this.pre();
      };
      Marquee.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.width = this.maxWidth;
        this.template.getComponent(cc.Label) ? this.type = "cc.Label" : this.template.getComponent(cc.RichText) && (this.type = "cc.RichText");
        this.template.removeFromParent();
        this.targetNode = this.targetNode || this.node;
        this.opacityNode = this.opacityNode || this.node;
        this.opacityPerSec && (this.opacityNode.opacity = 0);
      };
      Marquee.prototype.onResized = function(size) {
        this.pre();
        var width = Utils_1.lowerThen(this.maxWidth, Utils_1.toNaturalNumber(size.width - 856));
        this.width = width;
        this.node.width = width;
        this.bgNode.width = width;
      };
      __decorate([ property(cc.Node) ], Marquee.prototype, "targetNode", void 0);
      __decorate([ property(cc.Node) ], Marquee.prototype, "bgNode", void 0);
      __decorate([ property(cc.Node) ], Marquee.prototype, "template", void 0);
      __decorate([ property(cc.Integer) ], Marquee.prototype, "maxWidth", void 0);
      __decorate([ property(cc.Integer) ], Marquee.prototype, "pxPerSec", void 0);
      __decorate([ property(cc.Integer) ], Marquee.prototype, "opacityPerSec", void 0);
      __decorate([ property(cc.Node) ], Marquee.prototype, "opacityNode", void 0);
      Marquee = __decorate([ ccclass ], Marquee);
      return Marquee;
    }(cc.Component);
    exports.default = Marquee;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  Mask: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e816bki+BxDoayWvcaS3voY", "Mask");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var NodeTween_1 = require("../data/NodeTween");
    var ccclass = cc._decorator.ccclass;
    var Mask = function(_super) {
      __extends(Mask, _super);
      function Mask() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.toGray = false;
        _this.toTransparent = false;
        _this.action = null;
        return _this;
      }
      Mask.prototype.fade = function(fadein, callback) {
        var _this = this;
        void 0 === fadein && (fadein = true);
        void 0 === callback && (callback = function() {});
        if (fadein) {
          this.toTransparent = false;
          if (this.toGray) return;
          if (255 !== this.node.opacity) {
            this.node.stopAllActions();
            this.action = cc.sequence(cc.callFunc(function() {
              _this.toGray = true;
            }), cc.fadeIn(.3), cc.callFunc(function() {
              _this.node.opacity = 255;
              _this.toGray = false;
            }), cc.callFunc(callback), cc.callFunc(function() {
              _this.action = null;
            }));
            NodeTween_1.applyNodeTween({
              node: this.node,
              action: this.action
            });
            cc.tween(this.node).then(this.action).start();
          }
        } else {
          this.toGray = false;
          if (this.toTransparent) return;
          this.node.stopAllActions();
          this.action = cc.sequence(cc.callFunc(function() {
            _this.toTransparent = true;
          }), cc.fadeOut(.3), cc.callFunc(function() {
            _this.node.opacity = 0;
            _this.toTransparent = false;
          }), cc.callFunc(callback), cc.callFunc(function() {
            _this.action = null;
          }));
          cc.tween(this.node).then(this.action).start();
        }
      };
      Mask.prototype.onEnable = function() {
        this.action && cc.tween(this.node).then(this.action).start();
      };
      Mask.prototype.onDisable = function() {};
      Mask.prototype.toggle = function(able, hasGrayMask) {
        able ? this.on(hasGrayMask) : this.off();
      };
      Mask.prototype.on = function(gray) {
        void 0 === gray && (gray = true);
        this.node.active = true;
        this.fade(gray);
      };
      Mask.prototype.off = function() {
        var next = function() {
          this.node.active = false;
        }.bind(this);
        this.fade(false, next);
      };
      Mask = __decorate([ ccclass ], Mask);
      return Mask;
    }(cc.Component);
    exports.default = Mask;
    cc._RF.pop();
  }, {
    "../data/NodeTween": "NodeTween"
  } ],
  MemberServiceBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7619dOq28NKoI59gTpNuBqt", "MemberServiceBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.MemberServiceBaseKey = void 0;
    var user_pb_1 = require("game-protobuf/ts/account/user_pb");
    var bonus_pb_1 = require("game-protobuf/ts/extension/bonus_pb");
    var game_pb_1 = require("game-protobuf/ts/game/game_pb");
    var game_pb_service_1 = require("game-protobuf/ts/game/game_pb_service");
    var any_pb_1 = require("google-protobuf/google/protobuf/any_pb");
    var Utils_1 = require("../utils/Utils");
    var RpcServiceBase_1 = require("./RpcServiceBase");
    var MemberServiceBaseKey;
    (function(MemberServiceBaseKey) {
      MemberServiceBaseKey["AccountAuthRes"] = "account.AuthRes";
      MemberServiceBaseKey["AccountUserInfoRes"] = "account.UserInfoRes";
      MemberServiceBaseKey["AccountPlatformRes"] = "account.PlatformRes";
      MemberServiceBaseKey["GameResumeRes"] = "game.ResumeRes";
      MemberServiceBaseKey["GameHeartbeatRes"] = "game.HeartbeatRes";
      MemberServiceBaseKey["DisconnectRes"] = "game.DisconnectRes";
      MemberServiceBaseKey["AccountUpdateBalanceRes"] = "account.UpdateBalanceRes";
      MemberServiceBaseKey["GameKickRes"] = "game.KickRes";
      MemberServiceBaseKey["GameMarqueeRes"] = "game.MarqueeRes";
      MemberServiceBaseKey["CheckBonusRes"] = "extension.CheckBonusRes";
      MemberServiceBaseKey["BetBonusRes"] = "extension.BetBonusRes";
    })(MemberServiceBaseKey = exports.MemberServiceBaseKey || (exports.MemberServiceBaseKey = {}));
    var MemberServiceBase = function(_super) {
      __extends(MemberServiceBase, _super);
      function MemberServiceBase(host, token) {
        var _this = _super.call(this) || this;
        _this.host = host;
        _this.token = token;
        _this.respondPacketProcessor = _this.respondPacketProcessor.bind(_this);
        _this.initStreaming = _this.initStreaming.bind(_this);
        _this.callStreamingAPI = _this.callStreamingAPI.bind(_this);
        return _this;
      }
      MemberServiceBase.prototype.init = function() {
        return this.initStreaming(this.respondPacketProcessor);
      };
      MemberServiceBase.prototype.streamAuth = function(authReq) {
        var packet = new game_pb_1.PacketReq();
        packet.setIndex(this.generatePacketIndex());
        packet.setType(game_pb_1.PacketType.CONTENT);
        packet.setContent(this.toAny(authReq, "account.AuthReq"));
        return this.callStreamingAPI(game_pb_service_1.Game.Streaming, packet, true, this.respondPacketProcessor);
      };
      MemberServiceBase.prototype.streamGetUserInfo = function(req) {
        var packet = new game_pb_1.PacketReq();
        packet.setIndex(this.generatePacketIndex());
        packet.setType(game_pb_1.PacketType.CONTENT);
        packet.setContent(this.toAny(req, "account.UserInfoReq"));
        return this.callStreamingAPI(game_pb_service_1.Game.Streaming, packet, true, this.respondPacketProcessor);
      };
      MemberServiceBase.prototype.streamGetPlatformAuthInfo = function() {
        var packet = new game_pb_1.PacketReq();
        packet.setIndex(this.generatePacketIndex());
        packet.setType(game_pb_1.PacketType.CONTENT);
        packet.setContent(this.toAny(new user_pb_1.PlatformReq(), "account.PlatformReq"));
        return this.callStreamingAPI(game_pb_service_1.Game.Streaming, packet, true, this.respondPacketProcessor);
      };
      MemberServiceBase.prototype.streamDisconnect = function() {
        var packet = new game_pb_1.PacketReq();
        packet.setIndex(this.generatePacketIndex());
        packet.setType(game_pb_1.PacketType.DISCONNECT);
        var disconnectReq = new game_pb_1.DisconnectReq();
        packet.setDisconnectReq(disconnectReq);
        return this.callStreamingAPI(game_pb_service_1.Game.Streaming, packet, true, this.respondPacketProcessor);
      };
      MemberServiceBase.prototype.streamGetUpdateBalance = function() {
        var packet = new game_pb_1.PacketReq();
        packet.setIndex(this.generatePacketIndex());
        packet.setType(game_pb_1.PacketType.CONTENT);
        packet.setContent(this.toAny(new user_pb_1.UpdateBalanceReq(), "account.UpdateBalance"));
        return this.callStreamingAPI(game_pb_service_1.Game.Streaming, packet, true, this.respondPacketProcessor);
      };
      MemberServiceBase.prototype.streamHeartbeat = function(heartbeat) {
        var packet = new game_pb_1.PacketReq();
        packet.setIndex(this.generatePacketIndex());
        packet.setType(game_pb_1.PacketType.HEARTBEAT);
        packet.setHeartBeatReq(heartbeat);
        return this.callStreamingAPI(game_pb_service_1.Game.Streaming, packet, true, this.respondPacketProcessor);
      };
      MemberServiceBase.prototype.streamCheckBonusReq = function() {
        var packet = new game_pb_1.PacketReq();
        packet.setIndex(this.generatePacketIndex());
        packet.setType(game_pb_1.PacketType.EXTENSION);
        packet.setContent(this.toAny(new bonus_pb_1.CheckBonusReq(), "extension.CheckBonusReq"));
        return this.callStreamingAPI(game_pb_service_1.Game.Streaming, packet, true, this.respondPacketProcessor);
      };
      MemberServiceBase.prototype.streamBetBonusReq = function() {
        var packet = new game_pb_1.PacketReq();
        packet.setIndex(this.generatePacketIndex());
        packet.setType(game_pb_1.PacketType.EXTENSION);
        packet.setContent(this.toAny(new bonus_pb_1.BetBonusReq(), "extension.BetBonusReq"));
        return this.callStreamingAPI(game_pb_service_1.Game.Streaming, packet, true, this.respondPacketProcessor);
      };
      MemberServiceBase.prototype.streamResume = function() {
        var packet = new game_pb_1.PacketReq();
        packet.setIndex(this.generatePacketIndex());
        packet.setType(game_pb_1.PacketType.RESUME);
        packet.setResumeReq(new game_pb_1.ResumeReq());
        return this.callStreamingAPI(game_pb_service_1.Game.Streaming, packet, true, this.respondPacketProcessor);
      };
      MemberServiceBase.prototype.respondPacketProcessor = function(packet) {
        switch (packet.getType()) {
         case game_pb_1.PacketType.HEARTBEAT:
          return [ MemberServiceBaseKey.GameHeartbeatRes, packet.getHeartBeatRes() ];

         case game_pb_1.PacketType.DISCONNECT:
          return [ MemberServiceBaseKey.DisconnectRes, packet.getDisconnectRes() ];

         case game_pb_1.PacketType.RESUME:
          return [ MemberServiceBaseKey.GameResumeRes, packet.getResumeRes() ];

         case game_pb_1.PacketType.EXTENSION:
         case game_pb_1.PacketType.CONTENT:
         case game_pb_1.PacketType.AICONTENT:
          return this.parseContent(packet.getContent());

         default:
          Utils_1.log("no PacketType");
        }
        return null;
      };
      MemberServiceBase.prototype.parseContent = function(content) {
        var key = content.getTypeName();
        var obj = null;
        switch (key) {
         case MemberServiceBaseKey.AccountAuthRes:
          obj = content.unpack(user_pb_1.AuthRes.deserializeBinary, content.getTypeName());
          break;

         case MemberServiceBaseKey.AccountUserInfoRes:
          obj = content.unpack(user_pb_1.UserInfoRes.deserializeBinary, content.getTypeName());
          break;

         case MemberServiceBaseKey.AccountPlatformRes:
          obj = content.unpack(user_pb_1.PlatformRes.deserializeBinary, content.getTypeName());
          break;

         case MemberServiceBaseKey.GameHeartbeatRes:
          obj = content.unpack(game_pb_1.HeartbeatRes.deserializeBinary, content.getTypeName());
          break;

         case MemberServiceBaseKey.AccountUpdateBalanceRes:
          obj = content.unpack(user_pb_1.UpdateBalanceRes.deserializeBinary, content.getTypeName());
          break;

         case MemberServiceBaseKey.GameKickRes:
          obj = content.unpack(game_pb_1.KickRes.deserializeBinary, content.getTypeName());
          break;

         case MemberServiceBaseKey.GameMarqueeRes:
          obj = content.unpack(game_pb_1.MarqueeRes.deserializeBinary, content.getTypeName());
          break;

         case MemberServiceBaseKey.CheckBonusRes:
          obj = content.unpack(bonus_pb_1.CheckBonusRes.deserializeBinary, content.getTypeName());
          break;

         case MemberServiceBaseKey.BetBonusRes:
          obj = content.unpack(bonus_pb_1.BetBonusRes.deserializeBinary, content.getTypeName());
          break;

         default:
          obj = this.doParseContent(content);
        }
        obj || Utils_1.warn("No Match Type", content.getTypeName(), content);
        return [ key, obj ];
      };
      MemberServiceBase.prototype.toAny = function(content, name) {
        var a = new any_pb_1.Any();
        a.pack(content.serializeBinary(), name);
        return a;
      };
      return MemberServiceBase;
    }(RpcServiceBase_1.default);
    exports.default = MemberServiceBase;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./RpcServiceBase": "RpcServiceBase",
    "game-protobuf/ts/account/user_pb": 27,
    "game-protobuf/ts/extension/bonus_pb": 29,
    "game-protobuf/ts/game/game_pb": 30,
    "game-protobuf/ts/game/game_pb_service": 31,
    "google-protobuf/google/protobuf/any_pb": 34
  } ],
  MonkeyBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "dc5d4tE6hJNRKMio8pji2lQ", "MonkeyBase");
    "use strict";
    var __spreadArrays = this && this.__spreadArrays || function() {
      for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
      for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, 
      k++) r[k] = a[j];
      return r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.dumpJson = exports.dump = exports.get1 = exports.mlog = exports.mbool = exports.monkeyRequestGenerator = exports.MONKEY_OBSERVER_PLACEHOLDER = void 0;
    var LibGlobal_1 = require("../LibGlobal");
    var Utils_1 = require("../utils/Utils");
    exports.MONKEY_OBSERVER_PLACEHOLDER = "MonkeyObserverPlaceholder";
    function defaultNextFilter() {
      return false;
    }
    var commRequestMap = new Map();
    var commRequestIdx = new Map();
    var loaded = false;
    var mindex = 0;
    function getNextIndex() {
      return mindex += 1;
    }
    function logMap(r) {
      if (r && r.toObject) return r.toObject();
      if ("function" === typeof r) return commRequestMap.get(r);
      if (Array.isArray(r)) return r.map(logMap);
      return r;
    }
    function monkeyRequestGenerator(requests, nextFilter) {
      void 0 === requests && (requests = []);
      void 0 === nextFilter && (nextFilter = defaultNextFilter);
      return {
        request: monkeyRequestGenerator2([]),
        failRequest: monkeyRequestGenerator2([], nextFilter, true),
        monkeyRequest: monkeyRequestGenerator2(requests, nextFilter, true)
      };
    }
    exports.monkeyRequestGenerator = monkeyRequestGenerator;
    function monkeyRequestGenerator2(requests, nextFilter, expectFail) {
      void 0 === requests && (requests = []);
      void 0 === nextFilter && (nextFilter = defaultNextFilter);
      void 0 === expectFail && (expectFail = false);
      return function(comm, fn) {
        var m = [];
        for (var _i = 2; _i < arguments.length; _i++) m[_i - 2] = arguments[_i];
        if (!loaded && requests.length) {
          loaded = true;
          requests.forEach(function(r, idx) {
            var r0 = r.apply(null, [ comm ])[0];
            for (var key in comm) {
              var f = comm[key];
              if (f === r0) {
                commRequestMap.set(f, key);
                commRequestIdx.set(f, idx);
                return;
              }
            }
          });
        }
        var request;
        if (requests.length) {
          var arr = [ comm ].concat(m);
          var mr = fn ? requests[commRequestIdx.get(fn)] : Utils_1.randomItem(requests);
          request = mr.apply(null, arr);
          if (request.length <= 1) return;
        } else request = __spreadArrays([ fn ], m);
        var cf = request[0];
        if (!cf) return;
        var i = getNextIndex();
        var str = commRequestMap.get(cf);
        return new Promise(function(resolve, reject) {
          var ob = {
            next: function(val) {
              var result = val[1] && val[1].getResult && val[1].getResult();
              clearTimeout(timeoutId);
              if (expectFail) if (result && 1 === result.getCode()) if (nextFilter(val[0], val[1])) {
                mlog(i, request, val, []);
                comm.streamObserver.next(val);
                resolve(val[1]);
              } else {
                mlog(i, request, [], val);
                comm.streamObserver.next(val);
                reject(str + JSON.stringify(val[1].toObject()));
              } else {
                mlog(i, request, val, []);
                resolve(val[1]);
              } else if (result && 1 === result.getCode()) {
                mlog(i, request, val);
                comm.streamObserver.next(val);
                resolve(val[1]);
              } else {
                mlog(i, request, [], val);
                reject(str + JSON.stringify(val[1].toObject()));
              }
            },
            error: function(err) {
              mlog(i, request, [], [ err ]);
              reject(err);
              clearTimeout(timeoutId);
            },
            complete: function() {}
          };
          mlog(i, request);
          if (!str) for (var key in comm) {
            var f_1 = comm[key];
            if (cf === f_1) {
              commRequestMap.set(f_1, key);
              str = key;
              break;
            }
          }
          var f = comm["_" + str] || cf;
          var arr = request.slice(1);
          var phi = arr.indexOf(exports.MONKEY_OBSERVER_PLACEHOLDER);
          -1 !== phi ? arr[phi] = ob : arr = arr.concat(ob);
          f.apply(comm, arr);
          var timeoutId = setTimeout(function() {
            if (expectFail) {
              mlog(i, request, [ "timeout 1s" ], []);
              resolve("timeout 1s");
            } else {
              mlog(i, request, [], [ "timeout 1s" ]);
              reject("timeout 1s");
            }
          }, 1e3);
        });
      };
    }
    function mbool() {
      return 0 === Utils_1.random(2);
    }
    exports.mbool = mbool;
    var logs = [];
    var logPrefix = "monkeyRequest";
    function mlog(idx, req, res, err) {
      void 0 === res && (res = []);
      void 0 === err && (err = []);
      true;
      var now = Date.now();
      var req0 = req.map(logMap);
      var res0 = res.map(logMap);
      var err0 = err.map(logMap);
      logs.push([ idx, now, req0[0], req0.slice(1), res0, err0 ]);
      var req0s1 = req0.slice(1);
      1 === req0s1.length && (req0s1 = req0s1[0]);
      res && res.length ? Utils_1.log(logPrefix + "#res", idx, now, req0[0], req0s1, res0) : err && err.length ? Utils_1.log(logPrefix + "#err", idx, now, req0[0], req0s1, err0) : Utils_1.log(logPrefix + "#req", idx, now, req0[0], req0s1);
    }
    exports.mlog = mlog;
    function get1(_a) {
      var gen = _a.gen, pred = _a.pred;
      while (true) {
        var d = gen();
        if (pred(d)) return d;
      }
    }
    exports.get1 = get1;
    function dump() {
      return logs;
    }
    exports.dump = dump;
    function dumpJson() {
      return JSON.stringify(logs);
    }
    exports.dumpJson = dumpJson;
    true;
    LibGlobal_1.globalDebugNNN(dump, "monkeyDump", false);
    LibGlobal_1.globalDebugNNN(dumpJson, "monkeyDumpJson", false);
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../utils/Utils": "Utils"
  } ],
  NetQuality: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "79eed4YmKVMDqJFocf+7EZV", "NetQuality");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var NetQuality = function(_super) {
      __extends(NetQuality, _super);
      function NetQuality() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.icon = null;
        _this.networkStateSprites = [];
        _this.pingLabel = null;
        _this.labelColors = [];
        return _this;
      }
      NetQuality.prototype.setPing = function(latencyTime) {
        var sprites = this.networkStateSprites;
        var sprite = this.icon;
        var label = this.pingLabel;
        var idx;
        switch (true) {
         case latencyTime < 100:
          idx = 4;
          break;

         case latencyTime < 300:
          idx = 3;
          break;

         case latencyTime < 400:
          idx = 2;
          break;

         case latencyTime < 500:
          idx = 1;
          break;

         default:
          idx = 0;
        }
        var color = this.labelColors[idx];
        color && Utils_1.nodeColor(color)(label.node);
        sprite.spriteFrame = sprites[idx];
        label.string = latencyTime.toFixed(0).toString();
      };
      __decorate([ property(cc.Sprite) ], NetQuality.prototype, "icon", void 0);
      __decorate([ property([ cc.SpriteFrame ]) ], NetQuality.prototype, "networkStateSprites", void 0);
      __decorate([ property(cc.Label) ], NetQuality.prototype, "pingLabel", void 0);
      __decorate([ property([ cc.Color ]) ], NetQuality.prototype, "labelColors", void 0);
      NetQuality = __decorate([ ccclass ], NetQuality);
      return NetQuality;
    }(cc.Component);
    exports.default = NetQuality;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  NoSleep: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "3f1b1ofzdRDuo5pGQcHXper", "NoSleep");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.NoSleep = void 0;
    var webm = "data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK";
    var mp4 = "data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw";
    var oldIOS = function() {
      return "undefined" !== typeof navigator && parseFloat(("" + (/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [ 0, "" ])[1]).replace("undefined", "3_2").replace("_", ".").replace("_", "")) < 10 && !window.MSStream;
    };
    var nativeWakeLock = function() {
      return "wakeLock" in navigator;
    };
    var NoSleep = function() {
      function NoSleep() {
        var _this = this;
        this.enabled = false;
        if (nativeWakeLock()) {
          this._wakeLock = null;
          var handleVisibilityChange = function() {
            null !== _this._wakeLock && "visible" === document.visibilityState && _this.enable();
          };
          document.addEventListener("visibilitychange", handleVisibilityChange);
          document.addEventListener("fullscreenchange", handleVisibilityChange);
        } else if (oldIOS()) this.noSleepTimer = null; else {
          this.noSleepVideo = document.createElement("video");
          this.noSleepVideo.setAttribute("title", "No Sleep");
          this.noSleepVideo.setAttribute("playsinline", "");
          this._addSourceToVideo(this.noSleepVideo, "webm", webm);
          this._addSourceToVideo(this.noSleepVideo, "mp4", mp4);
          this.noSleepVideo.addEventListener("loadedmetadata", function() {
            _this.noSleepVideo.duration <= 1 ? _this.noSleepVideo.setAttribute("loop", "") : _this.noSleepVideo.addEventListener("timeupdate", function() {
              _this.noSleepVideo.currentTime > .5 && (_this.noSleepVideo.currentTime = Math.random());
            });
          });
        }
      }
      NoSleep.prototype._addSourceToVideo = function(element, type, dataURI) {
        var source = document.createElement("source");
        source.src = dataURI;
        source.type = "video/" + type;
        element.appendChild(source);
      };
      Object.defineProperty(NoSleep.prototype, "isEnabled", {
        get: function() {
          return this.enabled;
        },
        enumerable: false,
        configurable: true
      });
      NoSleep.prototype.enable = function() {
        var _this = this;
        if (nativeWakeLock()) return navigator.wakeLock.request("screen").then(function(wakeLock) {
          _this._wakeLock = wakeLock;
          _this.enabled = true;
          console.log("Wake Lock active.");
          _this._wakeLock.addEventListener("release", function() {
            console.log("Wake Lock released.");
          });
        }).catch(function(err) {
          _this.enabled = false;
          console.error(err.name + ", " + err.message);
          throw err;
        });
        if (oldIOS()) {
          this.disable();
          console.warn("\n        NoSleep enabled for older iOS devices. This can interrupt\n        active or long-running network requests from completing successfully.\n        See https://github.com/richtr/NoSleep.js/issues/15 for more details.\n      ");
          this.noSleepTimer = window.setInterval(function() {
            if (!document.hidden) {
              window.location.href = window.location.href.split("#")[0];
              window.setTimeout(window.stop, 0);
            }
          }, 15e3);
          this.enabled = true;
          return Promise.resolve();
        }
        var playPromise = this.noSleepVideo.play();
        return playPromise.then(function(res) {
          _this.enabled = true;
          return res;
        }).catch(function(err) {
          _this.enabled = false;
          throw err;
        });
      };
      NoSleep.prototype.disable = function() {
        if (nativeWakeLock()) {
          this._wakeLock && this._wakeLock.release();
          this._wakeLock = null;
        } else if (oldIOS()) {
          if (this.noSleepTimer) {
            console.warn("\n          NoSleep now disabled for older iOS devices.\n        ");
            window.clearInterval(this.noSleepTimer);
            this.noSleepTimer = null;
          }
        } else this.noSleepVideo.pause();
        this.enabled = false;
      };
      return NoSleep;
    }();
    exports.NoSleep = NoSleep;
    cc._RF.pop();
  }, {} ],
  NodeAction: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "819b4hhbdBOsaJFKa6YOfyQ", "NodeAction");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.applyNodeActions = exports.applyNodeAction = exports.nodeActionsToPromise = exports.nodeActionToPRR = exports.nodeActionToPromise = exports.NodeAction = void 0;
    var NodeAction = function() {
      function NodeAction(node, action) {
        this.node = node;
        this.action = action;
      }
      return NodeAction;
    }();
    exports.NodeAction = NodeAction;
    function nodeActionToPromise(nodeAction) {
      return new Promise(function(resolve) {
        nodeAction.node.runAction(cc.sequence(nodeAction.action, cc.callFunc(resolve)));
      });
    }
    exports.nodeActionToPromise = nodeActionToPromise;
    function nodeActionToPRR(nodeAction) {
      var resolve;
      var reject;
      var promise = new Promise(function(res, rej) {
        resolve = res;
        reject = rej;
        nodeAction.node.runAction(cc.sequence(nodeAction.action, cc.callFunc(resolve)));
      });
      return {
        resolve: resolve,
        reject: reject,
        promise: promise
      };
    }
    exports.nodeActionToPRR = nodeActionToPRR;
    function nodeActionsToPromise(nodeActions) {
      return Promise.all(nodeActions.map(nodeActionToPromise));
    }
    exports.nodeActionsToPromise = nodeActionsToPromise;
    function applyNodeAction(nodeAction) {
      nodeAction.node.stopAllActions();
      return nodeAction.node.runAction(nodeAction.action);
    }
    exports.applyNodeAction = applyNodeAction;
    function applyNodeActions(nodeActions) {
      return nodeActions.map(applyNodeAction);
    }
    exports.applyNodeActions = applyNodeActions;
    cc._RF.pop();
  }, {} ],
  NodeFollow: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "04d4dP7WFBN0ZeILwt4fUTO", "NodeFollow");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ResizeGlobal_1 = require("../ResizeGlobal");
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var NodeFollow = function(_super) {
      __extends(NodeFollow, _super);
      function NodeFollow() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.onResized = false;
        _this.onLateUpdate = false;
        _this.scale = false;
        _this.size = false;
        _this.width = false;
        _this.height = false;
        _this.position = false;
        _this.positionX = false;
        _this.positionY = false;
        _this.followNode = null;
        _this.followXPath = "";
        _this.targetNode = null;
        _this.onResizeManager = null;
        return _this;
      }
      NodeFollow.prototype.onLoad = function() {
        this.followNode && this.followXPath && (this.followNode = cc.find(this.followXPath, this.followNode));
        this.targetNode = this.targetNode || this.node;
        this.follow = this.follow.bind(this);
      };
      NodeFollow.prototype.onEnable = function() {
        if (this.onResized) {
          this.onResizeManager = ResizeGlobal_1.getOnResizeComponent();
          this.onResizeManager.registCallback(this.follow);
        }
      };
      NodeFollow.prototype.onDisable = function() {
        this.onResized && this.onResizeManager.unregistCallback(this.follow);
      };
      NodeFollow.prototype.lateUpdate = function() {
        this.onLateUpdate && this.follow();
      };
      NodeFollow.prototype.follow = function() {
        var f = this.followNode;
        var t = this.targetNode;
        if (!f || !t) return;
        if (this.position || this.positionX || this.positionY) {
          var pos = Utils_1.getPosition(f, t.parent);
          (this.position || this.positionX) && (t.x = pos.x);
          (this.position || this.positionY) && (t.y = pos.y);
        }
        if (this.scale) {
          var mat4 = cc.mat4();
          var v3 = cc.v3();
          f.getWorldMatrix(mat4).getScale(v3);
          var tp = t.parent;
          var tpV3 = cc.v3();
          tp.getWorldMatrix(mat4).getScale(tpV3);
          var px = tpV3.x;
          var py = tpV3.y;
          var tx = v3.x;
          var ty = v3.y;
          t.scaleX = tx / px;
          t.scaleY = ty / py;
        }
        this.size && t.setContentSize(f.getContentSize());
        this.width && (t.width = f.width);
        this.height && (t.height = f.height);
      };
      __decorate([ property(cc.Boolean) ], NodeFollow.prototype, "onResized", void 0);
      __decorate([ property(cc.Boolean) ], NodeFollow.prototype, "onLateUpdate", void 0);
      __decorate([ property(cc.Boolean) ], NodeFollow.prototype, "scale", void 0);
      __decorate([ property(cc.Boolean) ], NodeFollow.prototype, "size", void 0);
      __decorate([ property(cc.Boolean) ], NodeFollow.prototype, "width", void 0);
      __decorate([ property(cc.Boolean) ], NodeFollow.prototype, "height", void 0);
      __decorate([ property(cc.Boolean) ], NodeFollow.prototype, "position", void 0);
      __decorate([ property(cc.Boolean) ], NodeFollow.prototype, "positionX", void 0);
      __decorate([ property(cc.Boolean) ], NodeFollow.prototype, "positionY", void 0);
      __decorate([ property(cc.Node) ], NodeFollow.prototype, "followNode", void 0);
      __decorate([ property(cc.String) ], NodeFollow.prototype, "followXPath", void 0);
      __decorate([ property(cc.Node) ], NodeFollow.prototype, "targetNode", void 0);
      NodeFollow = __decorate([ ccclass ], NodeFollow);
      return NodeFollow;
    }(cc.Component);
    exports.default = NodeFollow;
    cc._RF.pop();
  }, {
    "../ResizeGlobal": "ResizeGlobal",
    "../utils/Utils": "Utils"
  } ],
  NodeNameComponentProperty: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "05d83NOvONAUakVcBVUuOVK", "NodeNameComponentProperty");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.NodeNameComponentProperty = void 0;
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executionOrder = _a.executionOrder;
    var NodeNameComponentProperty = function(_super) {
      __extends(NodeNameComponentProperty, _super);
      function NodeNameComponentProperty() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.component = "";
        _this.property = "";
        _this.nodes = [];
        return _this;
      }
      NodeNameComponentProperty.prototype.onLoad = function() {
        var _this = this;
        var nodes = this.nodes;
        nodes.length || nodes.push(this.node);
        var comp = this.component;
        var prop = this.property;
        var val = this.node.name;
        nodes.forEach(function(node) {
          var c;
          if (comp) c = node.getComponent(comp); else {
            var comps = node.getComponents(cc.Component);
            if (1 === comps.length) return;
            if (2 === comps.length) c = comps.find(function(c) {
              return c !== _this;
            }); else {
              var i = comps.findIndex(function(c) {
                return c === _this;
              });
              c = comps[i - 1];
            }
          }
          (true, prop in c) || Utils_1.warn("NodeNameComponentProperty not exist", Utils_1.nodePath(_this.node), c, prop);
          "function" === typeof c[prop] ? c[prop](val) : c[prop] = val;
        });
      };
      __decorate([ property(cc.String) ], NodeNameComponentProperty.prototype, "component", void 0);
      __decorate([ property(cc.String) ], NodeNameComponentProperty.prototype, "property", void 0);
      __decorate([ property([ cc.Node ]) ], NodeNameComponentProperty.prototype, "nodes", void 0);
      NodeNameComponentProperty = __decorate([ ccclass, executionOrder(-1) ], NodeNameComponentProperty);
      return NodeNameComponentProperty;
    }(cc.Component);
    exports.NodeNameComponentProperty = NodeNameComponentProperty;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  NodeShrink: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "754a0uf4xFAmJ2moDRZ9KBM", "NodeShrink");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.MODE = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executionOrder = _a.executionOrder, menu = _a.menu, requireComponent = _a.requireComponent;
    var MODE;
    (function(MODE) {
      MODE[MODE["scale"] = 0] = "scale";
      MODE[MODE["scaleX"] = 1] = "scaleX";
      MODE[MODE["scaleY"] = 2] = "scaleY";
    })(MODE = exports.MODE || (exports.MODE = {}));
    var NodeShrink = function(_super) {
      __extends(NodeShrink, _super);
      function NodeShrink() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.wh = new cc.Vec2();
        _this.maxScale = 1;
        _this.mode = MODE.scale;
        return _this;
      }
      NodeShrink.prototype.onEnable = function() {
        this.resize();
      };
      NodeShrink.prototype.resize = function() {
        var node = this.node;
        var nw = node.width;
        var nh = node.height;
        var w = this.wh.x;
        var h = this.wh.y;
        var arr = [];
        this.maxScale > 0 && arr.push(this.maxScale);
        (this.mode === MODE.scale || this.mode === MODE.scaleX) && w && nw && arr.push(w / nw);
        (this.mode === MODE.scale || this.mode === MODE.scaleY) && h && nh && arr.push(h / nh);
        if (0 === arr.length) return;
        var scale = Math.min.apply(null, arr);
        this.mode === MODE.scale ? node.scale = scale : this.mode === MODE.scaleX ? node.scaleX = scale : this.mode === MODE.scaleY && (node.scaleY = scale);
      };
      __decorate([ property(cc.Vec2) ], NodeShrink.prototype, "wh", void 0);
      __decorate([ property(cc.Float) ], NodeShrink.prototype, "maxScale", void 0);
      __decorate([ property({
        type: cc.Enum(MODE)
      }) ], NodeShrink.prototype, "mode", void 0);
      NodeShrink = __decorate([ ccclass, executionOrder(2), menu("LayoutShrink/NodeShrink") ], NodeShrink);
      return NodeShrink;
    }(cc.Component);
    exports.default = NodeShrink;
    cc._RF.pop();
  }, {} ],
  NodeTimelineFrame: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7c6f5v1ZpxOCJlHkxKnJU7X", "NodeTimelineFrame");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var NodeTimelineFrame = function(_super) {
      __extends(NodeTimelineFrame, _super);
      function NodeTimelineFrame() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.x = false;
        _this.y = false;
        _this.refXNode = null;
        _this.refYNode = null;
        _this.scaleX = false;
        _this.scaleY = false;
        _this.angle = false;
        _this.timeScale = false;
        _this.times = 0;
        return _this;
      }
      __decorate([ property(cc.Boolean) ], NodeTimelineFrame.prototype, "x", void 0);
      __decorate([ property(cc.Boolean) ], NodeTimelineFrame.prototype, "y", void 0);
      __decorate([ property(cc.Node) ], NodeTimelineFrame.prototype, "refXNode", void 0);
      __decorate([ property(cc.Node) ], NodeTimelineFrame.prototype, "refYNode", void 0);
      __decorate([ property(cc.Boolean) ], NodeTimelineFrame.prototype, "scaleX", void 0);
      __decorate([ property(cc.Boolean) ], NodeTimelineFrame.prototype, "scaleY", void 0);
      __decorate([ property(cc.Boolean) ], NodeTimelineFrame.prototype, "angle", void 0);
      __decorate([ property(cc.Boolean) ], NodeTimelineFrame.prototype, "timeScale", void 0);
      __decorate([ property(cc.Integer) ], NodeTimelineFrame.prototype, "times", void 0);
      NodeTimelineFrame = __decorate([ ccclass ], NodeTimelineFrame);
      return NodeTimelineFrame;
    }(cc.Component);
    exports.default = NodeTimelineFrame;
    cc._RF.pop();
  }, {} ],
  NodeTimeline: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "09afb3JyNpNTKmwyWnLn+Q6", "NodeTimeline");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var NodeTimelineFrame_1 = require("./NodeTimelineFrame");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var NodeTimeline = function(_super) {
      __extends(NodeTimeline, _super);
      function NodeTimeline() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.targetNode = null;
        _this.reverseXy = false;
        _this.data = null;
        return _this;
      }
      NodeTimeline.prototype.onLoad = function() {
        var _this = this;
        var arr = this.node.children.map(function(node) {
          var p = node.getComponent(NodeTimelineFrame_1.default);
          var d = [];
          p.x && d.push([ "x", p.refXNode ? p.refXNode : _this.reverseXy ? -node.x : node.x ]);
          p.y && d.push([ "y", p.refYNode ? p.refYNode : _this.reverseXy ? -node.y : node.y ]);
          p.scaleX && d.push([ "scaleX", node.scaleX ]);
          p.scaleY && d.push([ "scaleY", node.scaleY ]);
          p.angle && d.push([ "angle", node.angle ]);
          if (p.timeScale) {
            var ske = node.getComponent(sp.Skeleton);
            d.push([ "timeScale", ske.timeScale ]);
          }
          return {
            d: d,
            times: p.times,
            t: Number(node.name.split("_")[0])
          };
        });
        var order = arr.slice();
        arr.sort(function(a, b) {
          if (a.t === b.t) return order.indexOf(a) - order.indexOf(b);
          return a.t - b.t;
        });
        var data = {};
        var _loop_1 = function(i) {
          var _a = arr[i], t = _a.t, d = _a.d, times = _a.times;
          d.forEach(function(_a) {
            var p = _a[0], v = _a[1];
            data[p] || (data[p] = []);
            data[p].push({
              t: t,
              v: v,
              times: times
            });
          });
        };
        for (var i = 0; i < arr.length; i += 1) _loop_1(i);
        this.data = data;
        Utils_1.log("NodeTimeline", this, data);
        this.node.removeAllChildren();
      };
      NodeTimeline.prototype.refresh = function(t, opt) {
        var node = this.targetNode;
        var data = this.data;
        !data.x || opt && !opt.x || (node.x = this.getValue("x", t));
        !data.y || opt && !opt.y || (node.y = this.getValue("y", t));
        !data.scaleX || opt && !opt.scaleX || (node.scaleX = this.getValue("scaleX", t));
        !data.scaleY || opt && !opt.scaleY || (node.scaleY = this.getValue("scaleY", t));
        !data.angle || opt && !opt.angle || (node.angle = this.getValue("angle", t));
        if (data.timeScale && (!opt || opt.timeScale)) {
          var ske = node.getComponent(sp.Skeleton);
          ske.timeScale = this.getValue("timeScale", t);
        }
      };
      NodeTimeline.prototype.getValue = function(p, t) {
        var _this = this;
        var each = this.data[p];
        if (!each) {
          debugger;
          return 0;
        }
        var get = function(x) {
          if (x instanceof cc.Node) {
            if ("x" === p) return (_this.reverseXy ? -1 : 1) * Utils_1.getPosition(x, _this.node).x;
            if ("y" === p) return (_this.reverseXy ? -1 : 1) * Utils_1.getPosition(x, _this.node).y;
            debugger;
            return 0;
          }
          return x;
        };
        if (t <= each[0].t) return get(each[0].v);
        if (t >= each[each.length - 1].t) return get(each[each.length - 1].v);
        var i = each.findIndex(function(e) {
          return e.t > t;
        });
        var l = each[i - 1];
        var r = each[i];
        var d = r.t - l.t;
        var dur = t - l.t;
        var ratio = dur / d;
        var times = l.times;
        if (times) {
          var section = d / times;
          ratio = dur % section / section;
        }
        var lv = get(l.v);
        var rv = get(r.v);
        var val = cc.misc.lerp(lv, rv, ratio);
        return val;
      };
      __decorate([ property(cc.Node) ], NodeTimeline.prototype, "targetNode", void 0);
      __decorate([ property(cc.Boolean) ], NodeTimeline.prototype, "reverseXy", void 0);
      NodeTimeline = __decorate([ ccclass ], NodeTimeline);
      return NodeTimeline;
    }(cc.Component);
    exports.default = NodeTimeline;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./NodeTimelineFrame": "NodeTimelineFrame"
  } ],
  NodeTween: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "50ae6mKJNhKBJ6LPX65HUcX", "NodeTween");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.applyNodeTweens = exports.applyNodeTween = exports.nodeTweensToPromise = exports.nodeTweenToPRR = exports.nodeTweenToPromise2 = exports.nodeTweenToPromise = exports.NodeTween = exports.nodeTween = exports.stopTween = exports.TWEEN_SYMBOL = void 0;
    var Utils_1 = require("../utils/Utils");
    exports.TWEEN_SYMBOL = Symbol("tween");
    function stopTween(node) {
      var t = node[exports.TWEEN_SYMBOL];
      if (t) {
        t.stop();
        node[exports.TWEEN_SYMBOL] = null;
      }
    }
    exports.stopTween = stopTween;
    function nodeTween(node) {
      var t = cc.tween(node);
      node[exports.TWEEN_SYMBOL] = t;
      return t;
    }
    exports.nodeTween = nodeTween;
    var NodeTween = function() {
      function NodeTween(node, action) {
        this.node = node;
        this.action = action;
      }
      return NodeTween;
    }();
    exports.NodeTween = NodeTween;
    function nodeTweenToPromise(nodeTween) {
      return new Promise(function(resolve) {
        cc.tween(nodeTween.node).sequence(nodeTween.action, cc.callFunc(resolve)).start();
      });
    }
    exports.nodeTweenToPromise = nodeTweenToPromise;
    function nodeTweenToPromise2(nt) {
      return new Promise(function(resolve, reject) {
        var act = nt.action;
        var dur;
        if (act instanceof cc.ActionInterval || act instanceof cc.FiniteTimeAction) dur = act.getDuration(); else {
          var acts = act._actions;
          dur = acts.map(function(a) {
            return a.getDuration();
          }).reduce(Utils_1.sumReducer, 0);
        }
        nodeTween(nt.node).sequence(nt.action, cc.callFunc(resolve)).start();
        cc.tween({}).sequence(cc.delayTime(dur + .1), cc.callFunc(reject)).start();
      });
    }
    exports.nodeTweenToPromise2 = nodeTweenToPromise2;
    function nodeTweenToPRR(nodeTween) {
      var resolve;
      var reject;
      var promise = new Promise(function(res, rej) {
        resolve = res;
        reject = rej;
        cc.tween(nodeTween.node).sequence(nodeTween.action, cc.callFunc(resolve)).start();
      });
      return {
        resolve: resolve,
        reject: reject,
        promise: promise
      };
    }
    exports.nodeTweenToPRR = nodeTweenToPRR;
    function nodeTweensToPromise(nodeTweens) {
      return Promise.all(nodeTweens.map(nodeTweenToPromise));
    }
    exports.nodeTweensToPromise = nodeTweensToPromise;
    function applyNodeTween(nodeTween) {
      nodeTween.node.stopAllActions();
      return cc.tween(nodeTween.node).then(nodeTween.action).start();
    }
    exports.applyNodeTween = applyNodeTween;
    function applyNodeTweens(nodeTweens) {
      return nodeTweens.map(applyNodeTween);
    }
    exports.applyNodeTweens = applyNodeTweens;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  NonePropagationComponent: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "98d91JkUItH3LaFvCSD11Hf", "NonePropagationComponent");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ccclass = cc._decorator.ccclass;
    var NonePropagationComponent = function(_super) {
      __extends(NonePropagationComponent, _super);
      function NonePropagationComponent() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      NonePropagationComponent.prototype.onEnable = function() {
        this.controlHistoryTouch(true);
      };
      NonePropagationComponent.prototype.onDisable = function() {
        this.controlHistoryTouch(false);
      };
      NonePropagationComponent.prototype.controlHistoryTouch = function(enable) {
        if (enable) {
          this.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchEvent, this);
          this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchEvent, this);
          this.node.on(cc.Node.EventType.TOUCH_END, this.onTouchEvent, this);
          this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEvent, this);
        } else {
          this.node.off(cc.Node.EventType.TOUCH_MOVE, this.onTouchEvent, this);
          this.node.off(cc.Node.EventType.TOUCH_START, this.onTouchEvent, this);
          this.node.off(cc.Node.EventType.TOUCH_END, this.onTouchEvent, this);
          this.node.off(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEvent, this);
        }
      };
      NonePropagationComponent.prototype.onTouchEvent = function(event) {
        event.stopPropagation();
      };
      NonePropagationComponent = __decorate([ ccclass ], NonePropagationComponent);
      return NonePropagationComponent;
    }(cc.Component);
    exports.default = NonePropagationComponent;
    cc._RF.pop();
  }, {} ],
  OnResizeManager: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "81aabJ/vglO0o7ZEJODujbF", "OnResizeManager");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var LibGlobal_1 = require("../LibGlobal");
    var ResizeGlobal_1 = require("../ResizeGlobal");
    var Utils_1 = require("../utils/Utils");
    var GALAXY_FOLD_RATIO = .428;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var OnResizeManager = function(_super) {
      __extends(OnResizeManager, _super);
      function OnResizeManager() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.handlers = [];
        _this.callbacks = [];
        _this.size = null;
        _this.resizeWithBrowserSize = false;
        _this.vRatioMin = 0;
        _this.vRatioMax = 0;
        _this.hRatioMin = 0;
        _this.hRatioMax = 0;
        _this.blackBorder = false;
        return _this;
      }
      OnResizeManager.prototype.onLoad = function() {
        ResizeGlobal_1.setOnResizeComponent(this);
        var dr = cc.Canvas.instance.designResolution;
        ResizeGlobal_1.setWorldSize(dr.width, dr.height);
        this.onResize = this.onResize.bind(this);
        if (this.resizeWithBrowserSize) {
          cc.view.resizeWithBrowserSize(true);
          cc.view.setResizeCallback(this.doResizeWithBrowserSize.bind(this));
        } else cc.sys.isMobile ? window.addEventListener("resize", this.onResize) : cc.view.on("canvas-resize", this.onResize);
        cc.director.on(cc.Director.EVENT_AFTER_SCENE_LAUNCH, this.resize.bind(this));
        ResizeGlobal_1.applyOrientationMode();
      };
      OnResizeManager.prototype.start = function() {
        this.resize();
      };
      OnResizeManager.prototype.resize = function() {
        this.resizeWithBrowserSize ? this.doResizeWithBrowserSize() : this.onResize();
      };
      OnResizeManager.prototype.onDestroy = function() {
        ResizeGlobal_1.setOnResizeComponent(null);
        if (this.resizeWithBrowserSize) {
          cc.view.resizeWithBrowserSize(false);
          cc.view.setResizeCallback(null);
        } else cc.sys.isMobile ? window.removeEventListener("resize", this.resize) : cc.view.on("canvas-resize", this.resize);
      };
      OnResizeManager.prototype.doResizeWithBrowserSize = function() {
        var _this = this;
        var dr = cc.Canvas.instance.designResolution;
        var drw = dr.width;
        var drh = dr.height;
        var ratioMax = drw / drh;
        var ratioMin = drh / drw;
        var size = cc.view.getFrameSize();
        var ratio = size.width / size.height;
        var land = ratio >= 1;
        var black = this.blackBorder;
        var getType = function() {
          var h = function() {
            return _this.hRatioMin && _this.hRatioMin > ratio ? "hBlackUD" : _this.hRatioMax && _this.hRatioMax < ratio ? "hBlackLR" : "h";
          };
          var v = function() {
            return _this.vRatioMin && _this.vRatioMin > ratio ? "vBlackUD" : _this.vRatioMax && _this.vRatioMax < ratio ? "vBlackLR" : "v";
          };
          if (black && !land) {
            if (!LibGlobal_1.uiIsMobile) return h();
            if (ResizeGlobal_1.horizontalOnly) return h();
            return v();
          }
          if (black && land) {
            if (ResizeGlobal_1.verticalOnly) {
              if (!cc.sys.isMobile) return "vBlackLR";
              return v();
            }
            return h();
          }
          return land ? "h" : "v";
        };
        var type = getType();
        if ("h" === type) {
          var h = drh;
          ratio < ratioMax && (h *= 1 + ratioMax - ratio);
          var rp = ResizeGlobal_1.showAllMode ? cc.ResolutionPolicy.SHOW_ALL : cc.ResolutionPolicy.FIXED_HEIGHT;
          cc.view.setDesignResolutionSize(drw, h, rp);
        } else if ("v" === type) {
          var w = drh;
          ratio > ratioMin && (w /= 1 + ratioMin - ratio);
          var rp = ResizeGlobal_1.showAllMode ? cc.ResolutionPolicy.SHOW_ALL : cc.ResolutionPolicy.FIXED_WIDTH;
          cc.view.setDesignResolutionSize(w, drw, rp);
        } else if ("vBlackLR" === type) {
          var vrMax = this.vRatioMax;
          land ? cc.view.setDesignResolutionSize(drh, drw, cc.ResolutionPolicy.SHOW_ALL) : cc.view.setDesignResolutionSize(drw * vrMax, drw, cc.ResolutionPolicy.SHOW_ALL);
        } else if ("vBlackUD" === type) {
          var vrMin = this.vRatioMin;
          var h = drh / ratio;
          vrMin && vrMin > ratio && (h = drh / vrMin);
          cc.view.setDesignResolutionSize(drh, h, cc.ResolutionPolicy.SHOW_ALL);
        } else if ("hBlackUD" === type) {
          var hrMin = this.hRatioMin;
          cc.view.setDesignResolutionSize(drw, drw / hrMin, cc.ResolutionPolicy.SHOW_ALL);
        } else if ("hBlackLR" === type) {
          var hrMax = this.hRatioMax;
          var w = drh * ratio;
          hrMax && hrMax < ratio && (w = drh * hrMax);
          cc.view.setDesignResolutionSize(w, drh, cc.ResolutionPolicy.SHOW_ALL);
        }
        true;
        var rs = cc.view.getDesignResolutionSize();
        Utils_1.log(ratio, rs.width, rs.height);
        this.onResize();
      };
      OnResizeManager.prototype.onResize = function() {
        var _this = this;
        var size = cc.view.getVisibleSize();
        ResizeGlobal_1.setWorldSize(size.width, size.height);
        this.size = size;
        this.callbacks && this.scheduleOnce(function() {
          _this.callbacks.forEach(function(callback) {
            return callback();
          });
        }, 0);
        if (!this.handlers) {
          Utils_1.warn("handlers is empty");
          return;
        }
        this.handlers.forEach(function(handler) {
          return handler.emit([ size ]);
        });
      };
      OnResizeManager.prototype.registHandler = function(handler) {
        if (!handler) {
          Utils_1.warn("handler is empty");
          return;
        }
        this.handlers || (this.handlers = []);
        this.handlers.push(handler);
        this.size && handler.emit([ this.size ]);
      };
      OnResizeManager.prototype.unregistHandler = function(handler) {
        Utils_1.arraySplice(this.handlers, handler);
      };
      OnResizeManager.prototype.registCallback = function(callback) {
        if (!callback) {
          Utils_1.warn("callback is empty");
          return;
        }
        this.callbacks || (this.callbacks = []);
        this.callbacks.push(callback);
        this.size && this.scheduleOnce(callback, 0);
      };
      OnResizeManager.prototype.unregistCallback = function(callback) {
        Utils_1.arraySplice(this.callbacks, callback);
      };
      __decorate([ property(cc.Boolean) ], OnResizeManager.prototype, "resizeWithBrowserSize", void 0);
      __decorate([ property({
        type: cc.Float,
        tooltip: "\u5728 VerticalOnly \u6642\uff0c\u53ef\u4ee5\u9650\u5236\u6700\u5c0f\u7684 ratio\uff0cratio \u5c0f\u65bc\u6b64\u503c\u6703\u51fa\u73fe\u4e0a\u4e0b\u9ed1\u908a"
      }) ], OnResizeManager.prototype, "vRatioMin", void 0);
      __decorate([ property({
        type: cc.Float,
        tooltip: "\u5728 VerticalOnly \u6642\uff0c\u53ef\u4ee5\u9650\u5236\u6700\u5927\u7684 ratio\uff0cratio \u5927\u65bc\u6b64\u503c\u6703\u51fa\u73fe\u5de6\u53f3\u9ed1\u908a\n\u61c9\u5927\u65bc 720/1280=0.5625"
      }) ], OnResizeManager.prototype, "vRatioMax", void 0);
      __decorate([ property({
        type: cc.Float,
        tooltip: "\u5728 HorizontalOnly \u6642\uff0c\u53ef\u4ee5\u9650\u5236\u6700\u5c0f\u7684 ratio\uff0cratio \u5c0f\u65bc\u6b64\u503c\u6703\u51fa\u73fe\u4e0a\u4e0b\u9ed1\u908a\n\u61c9\u5927\u65bc 1280/720=1.777"
      }) ], OnResizeManager.prototype, "hRatioMin", void 0);
      __decorate([ property({
        type: cc.Float,
        tooltip: "\u5728 HorizontalOnly \u6642\uff0c\u53ef\u4ee5\u9650\u5236\u6700\u5927\u7684 ratio\uff0cratio \u5927\u65bc\u6b64\u503c\u6703\u51fa\u73fe\u5de6\u53f3\u9ed1\u908a"
      }) ], OnResizeManager.prototype, "hRatioMax", void 0);
      __decorate([ property(cc.Boolean) ], OnResizeManager.prototype, "blackBorder", void 0);
      OnResizeManager = __decorate([ ccclass ], OnResizeManager);
      return OnResizeManager;
    }(cc.Component);
    exports.default = OnResizeManager;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../ResizeGlobal": "ResizeGlobal",
    "../utils/Utils": "Utils"
  } ],
  OnResized: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "71b5c8P/39H5ooQHjbfgAHw", "OnResized");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ResizeGlobal_1 = require("../ResizeGlobal");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var OnResized = function(_super) {
      __extends(OnResized, _super);
      function OnResized() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.handler = null;
        _this.onResizeManager = null;
        return _this;
      }
      OnResized.prototype.onEnable = function() {
        this.onResizeManager = ResizeGlobal_1.getOnResizeComponent();
        this.onResizeManager.registHandler(this.handler);
      };
      OnResized.prototype.onDisable = function() {
        this.onResizeManager.unregistHandler(this.handler);
      };
      OnResized.prototype.updateWigets = function() {
        var _this = this;
        this.scheduleOnce(function() {
          var widgets = _this.node.getComponentsInChildren(cc.Widget);
          widgets.forEach(function(w) {
            return w.updateAlignment();
          });
        }, 0);
      };
      __decorate([ property(cc.Component.EventHandler) ], OnResized.prototype, "handler", void 0);
      OnResized = __decorate([ ccclass ], OnResized);
      return OnResized;
    }(cc.Component);
    exports.default = OnResized;
    cc._RF.pop();
  }, {
    "../ResizeGlobal": "ResizeGlobal"
  } ],
  OptionPanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "cc8b5PsdW1Htp09yT8kIv7Z", "OptionPanel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.INFINITY_MARK = void 0;
    var CommonButton_1 = require("../component/CommonButton");
    var ColSprite_1 = require("../data/ColSprite");
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    exports.INFINITY_MARK = "\u221e";
    var OptionPanel = function(_super) {
      __extends(OptionPanel, _super);
      function OptionPanel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.template = null;
        _this.content = null;
        _this.clickHandler = null;
        _this.data = [];
        _this.selected = "";
        _this.loaded = false;
        return _this;
      }
      OptionPanel.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.template = this.template || this.content.children[0];
        this.template.removeFromParent();
      };
      OptionPanel.prototype.onLoad = function() {
        this.pre();
      };
      OptionPanel.prototype.bindData = function(data) {
        this.pre();
        this.data = data;
        this.draw(data);
      };
      OptionPanel.prototype.darkAll = function() {
        this.content.children.forEach(function(node) {
          var cb = node.getComponent(CommonButton_1.default);
          cb.isChecked = false;
        });
      };
      OptionPanel.prototype.lightByIndex = function(index) {
        this.darkAll();
        var node = this.content.children[index];
        if (node) {
          var cb = node.getComponent(CommonButton_1.default);
          cb.isChecked = true;
        }
      };
      OptionPanel.prototype.lightByValue = function(value) {
        var index = this.data.indexOf(value);
        this.lightByIndex(index);
        this.selected = value;
      };
      OptionPanel.prototype.draw = function(data) {
        var _this = this;
        this.content.removeAllChildren();
        data.forEach(function(d, i) {
          var t = cc.instantiate(_this.template);
          var cb = t.getComponent(CommonButton_1.default) || t.getComponentInChildren(CommonButton_1.default);
          cb.onClickHandler.customEventData = "" + i;
          var labels = t.getComponentsInChildren(cc.Label);
          labels.forEach(Utils_1.nodeProperty("string", d === exports.INFINITY_MARK ? "" : d));
          var colSprites = cb.getComponentsInChildren(ColSprite_1.ColSprite);
          colSprites.forEach(function(col) {
            col.reset("", d, "");
          });
          _this.content.addChild(t);
        });
        this.selected && this.lightByValue(this.selected);
      };
      OptionPanel.prototype.onClick = function(node, indexString) {
        var index = Number(indexString);
        var data = this.data[index];
        this.clickHandler.emit([ data ]);
      };
      __decorate([ property(cc.Node) ], OptionPanel.prototype, "template", void 0);
      __decorate([ property(cc.Node) ], OptionPanel.prototype, "content", void 0);
      __decorate([ property(cc.Component.EventHandler) ], OptionPanel.prototype, "clickHandler", void 0);
      OptionPanel = __decorate([ ccclass ], OptionPanel);
      return OptionPanel;
    }(cc.Component);
    exports.default = OptionPanel;
    cc._RF.pop();
  }, {
    "../component/CommonButton": "CommonButton",
    "../data/ColSprite": "ColSprite",
    "../utils/Utils": "Utils"
  } ],
  PageViewIndicatorSprite: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e03fbhnQ7JOapx/aSrpa2pe", "PageViewIndicatorSprite");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var PageViewIndicatorSprite = function(_super) {
      __extends(PageViewIndicatorSprite, _super);
      function PageViewIndicatorSprite() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.selectSpriteFrame = null;
        _this.unSelectSpriteFrame = null;
        _this.selectOpacity = 255;
        _this.unSelectOpacity = 127;
        return _this;
      }
      PageViewIndicatorSprite.prototype._changedState = function() {
        var indicators = this._indicators;
        if (0 === indicators.length) return;
        var idx = this._pageView._curPageIdx;
        if (idx >= indicators.length) return;
        for (var i = 0; i < indicators.length; i += 1) {
          var node_1 = indicators[i];
          var sp_1 = node_1.getComponent(cc.Sprite);
          sp_1.spriteFrame = this.unSelectSpriteFrame;
        }
        var node = indicators[idx];
        var sp = node.getComponent(cc.Sprite);
        sp.spriteFrame = this.selectSpriteFrame;
      };
      __decorate([ property(cc.SpriteFrame) ], PageViewIndicatorSprite.prototype, "selectSpriteFrame", void 0);
      __decorate([ property(cc.SpriteFrame) ], PageViewIndicatorSprite.prototype, "unSelectSpriteFrame", void 0);
      __decorate([ property({
        type: cc.Integer,
        min: 0,
        max: 255
      }) ], PageViewIndicatorSprite.prototype, "selectOpacity", void 0);
      __decorate([ property({
        type: cc.Integer,
        min: 0,
        max: 255
      }) ], PageViewIndicatorSprite.prototype, "unSelectOpacity", void 0);
      PageViewIndicatorSprite = __decorate([ ccclass ], PageViewIndicatorSprite);
      return PageViewIndicatorSprite;
    }(cc.PageViewIndicator);
    exports.default = PageViewIndicatorSprite;
    cc._RF.pop();
  }, {} ],
  PageViewScroll: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c30c32Kpu5MnYDM5F7eKN+p", "PageViewScroll");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CommonButton_1 = require("./CommonButton");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, requireComponent = _a.requireComponent;
    var PageViewScroll = function(_super) {
      __extends(PageViewScroll, _super);
      function PageViewScroll() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.leftButtons = [];
        _this.rightButtons = [];
        _this.pageView = null;
        return _this;
      }
      PageViewScroll.prototype.onLoad = function() {
        this.pageView = this.getComponent(cc.PageView);
        var leftHandler = new cc.Component.EventHandler();
        leftHandler.target = this.node;
        leftHandler.component = "PageViewScroll";
        leftHandler.handler = "onLeftClick";
        var rightHandler = new cc.Component.EventHandler();
        rightHandler.target = this.node;
        rightHandler.component = "PageViewScroll";
        rightHandler.handler = "onRightClick";
        this.leftButtons.forEach(function(b) {
          b.onClickHandler = leftHandler;
        });
        this.rightButtons.forEach(function(b) {
          b.onClickHandler = rightHandler;
        });
        this.refreshButton();
        var h = new cc.Component.EventHandler();
        h.component = "PageViewScroll";
        h.handler = "refreshButton";
        h.target = this.node;
        this.pageView.scrollEvents.push(h);
      };
      PageViewScroll.prototype.refreshButton = function() {
        var idx = this.pageView.getCurrentPageIndex();
        var len = this.pageView.getPages().length;
        var leftAble = 0 !== idx;
        var rightAble = idx !== len - 1;
        this.leftButtons.forEach(function(b) {
          return b.interactable = leftAble;
        });
        this.rightButtons.forEach(function(b) {
          return b.interactable = rightAble;
        });
      };
      PageViewScroll.prototype.onLeftClick = function() {
        var idx = this.pageView.getCurrentPageIndex();
        this.pageView.isAutoScrolling() && this.pageView.stopAutoScroll();
        this.pageView.scrollToPage(idx - 1, .5);
        this.refreshButton();
      };
      PageViewScroll.prototype.onRightClick = function() {
        var idx = this.pageView.getCurrentPageIndex();
        this.pageView.isAutoScrolling() && this.pageView.stopAutoScroll();
        this.pageView.scrollToPage(idx + 1, .5);
        this.refreshButton();
      };
      __decorate([ property([ CommonButton_1.default ]) ], PageViewScroll.prototype, "leftButtons", void 0);
      __decorate([ property([ CommonButton_1.default ]) ], PageViewScroll.prototype, "rightButtons", void 0);
      PageViewScroll = __decorate([ ccclass, requireComponent(cc.PageView) ], PageViewScroll);
      return PageViewScroll;
    }(cc.Component);
    exports.default = PageViewScroll;
    cc._RF.pop();
  }, {
    "./CommonButton": "CommonButton"
  } ],
  ParamsGlobal: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "d3e70ZtRXNEyaBoLwbmC0fU", "ParamsGlobal");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.IS_LOBBY = exports.EXTRA_1110 = exports.EXTRA_1100 = exports.EXTRA_1090 = exports.EXTRA_1080 = exports.EXTRA_1073 = exports.EXTRA_1072 = exports.EXTRA_1071 = exports.IS_GUEST = exports.EXTRA_1060 = exports.EXTRA_1050 = exports.EXTRA_1040 = exports.EXTRA_1030 = exports.EXTRA_1020_SETTING = exports.EXTRA_1020_DEFAULT = exports.EXTRA_1020_FORCE_DEFAULT = exports.EXTRA_1023 = exports.EXTRA_1022 = exports.EXTRA_1021 = exports.EXTRA_1020 = exports.EXTRA_1010 = exports.EXTRA_1000 = exports.EXTRA_12 = exports.EXTRA_11 = exports.EXTRA_9 = exports.EXTRA_3 = exports.EXTRA_2 = exports.EXTRA = exports.BTN_RECORD = exports.BTN_EXIT = exports.SOUND = exports.MUSIC = exports.BACK_URL = exports.OPER = exports.LANG = exports.HOST = exports.TOKEN = exports.getAuth = exports.getDebugParams = exports.getHrefURLParams = void 0;
    function getLocationHref() {
      return window.location.href;
    }
    function parseURLParams(url) {
      var queryStart = url.indexOf("?") + 1;
      var queryEnd = url.indexOf("#") + 1 || url.length + 1;
      var query = url.slice(queryStart, queryEnd - 1);
      var pairs = query.replace(/\+/g, " ").split("&");
      var parms = {};
      var i;
      var n;
      var v;
      var nv;
      if (query === url || "" === query) return parms;
      for (i = 0; i < pairs.length; i += 1) {
        nv = pairs[i].split("=", 2);
        n = decodeURIComponent(nv[0]);
        v = decodeURIComponent(nv[1]);
        parms.hasOwnProperty(n) || (parms[n] = []);
        parms[n].push(2 === nv.length ? v : null);
      }
      return parms;
    }
    var hup;
    function getHrefURLParams(key) {
      hup || (hup = parseURLParams(getLocationHref()));
      return hup && hup[key] && hup[key][0] || "";
    }
    exports.getHrefURLParams = getHrefURLParams;
    function getDebugParams(key) {
      true;
      var str = new URL(location.href).searchParams.get("debug");
      if (str) {
        var m = str.split(",").map(function(s) {
          return s.split("=");
        });
        for (var i = 0; i < m.length; i += 1) {
          var _a = m[i], k = _a[0], v = _a[1];
          if (k === key) {
            if (v) return v;
            return k;
          }
        }
      }
      return getHrefURLParams(key);
    }
    exports.getDebugParams = getDebugParams;
    function getAuth() {
      return getHrefURLParams("auth") || getHrefURLParams("token");
    }
    exports.getAuth = getAuth;
    var params = getParams();
    function getParams() {
      var lastAuth;
      var currAuth;
      try {
        lastAuth = localStorage.getItem("last_auth") || "";
        if (window.parent) {
          var authParams = parseURLParams(window.parent.location.href);
          currAuth = authParams && authParams["auth"] && authParams["auth"][0] || "";
        }
      } catch (e) {}
      var isRefreshPage = lastAuth === currAuth;
      localStorage.setItem("last_auth", currAuth);
      var auth = getHrefURLParams("auth");
      if (!auth) {
        var params2 = {
          t: getHrefURLParams("token"),
          g: "",
          a: {
            h: getHrefURLParams("host"),
            l: getHrefURLParams("lang"),
            e: getHrefURLParams("extra"),
            ba: getHrefURLParams("backurl"),
            o: getHrefURLParams("oper"),
            bt: getHrefURLParams("btn"),
            m: getHrefURLParams("music"),
            s: getHrefURLParams("sound")
          }
        };
        if (isRefreshPage) {
          params2.a.m = "";
          params2.a.s = "";
        }
        return params2;
      }
      var a_1 = {
        h: "",
        l: "",
        e: "",
        ba: "",
        o: "",
        bt: "",
        m: "",
        s: ""
      };
      var params_1 = {
        a: a_1,
        t: "",
        g: ""
      };
      var jwt = auth.split(".");
      if (3 !== jwt.length) return params_1;
      try {
        var str = jwt[1].replace(/-/g, "+").replace(/_/g, "/").replace(/\s/g, "");
        var params2 = JSON.parse(decodeURIComponent(escape(window.atob(str))));
        params2.a || (params2.a = a_1);
        params2.a.h = getHrefURLParams("host") || params2.a.h;
        if (isRefreshPage) {
          params2.a.m = "";
          params2.a.s = "";
        }
        return params2;
      } catch (e) {
        console.error(e);
        return params_1;
      }
    }
    var a = params.a;
    exports.TOKEN = params.t;
    exports.HOST = a.h;
    exports.LANG = a.l;
    exports.OPER = a.o;
    exports.BACK_URL = a.ba;
    exports.MUSIC = a.m ? "1" === a.m ? "1" : "0" : "";
    exports.SOUND = a.s ? "1" === a.s ? "1" : "0" : "";
    exports.BTN_EXIT = !a.bt || "1" === a.bt.split(",")[0];
    exports.BTN_RECORD = !a.bt || "1" === a.bt.split(",")[1];
    var extras = a.e ? a.e.split(",") : [];
    exports.EXTRA = a.e;
    exports.EXTRA_2 = -1 !== extras.indexOf("2");
    exports.EXTRA_3 = -1 !== extras.indexOf("3");
    exports.EXTRA_9 = -1 !== extras.indexOf("9");
    exports.EXTRA_11 = -1 !== extras.indexOf("11");
    exports.EXTRA_12 = -1 !== extras.indexOf("12");
    exports.EXTRA_1000 = -1 !== extras.indexOf("1000");
    exports.EXTRA_1010 = -1 !== extras.indexOf("1010");
    exports.EXTRA_1020 = -1 !== extras.indexOf("1020");
    exports.EXTRA_1021 = -1 !== extras.indexOf("1021");
    exports.EXTRA_1022 = -1 !== extras.indexOf("1022");
    exports.EXTRA_1023 = -1 !== extras.indexOf("1023");
    exports.EXTRA_1020_FORCE_DEFAULT = !!(exports.EXTRA_1020 || exports.EXTRA_1021 || exports.EXTRA_1022 || exports.EXTRA_1023) && (exports.EXTRA_1020 || exports.EXTRA_1021);
    exports.EXTRA_1020_DEFAULT = !!(exports.EXTRA_1020 || exports.EXTRA_1021 || exports.EXTRA_1022 || exports.EXTRA_1023) && (exports.EXTRA_1021 || exports.EXTRA_1023);
    exports.EXTRA_1020_SETTING = !(exports.EXTRA_1020 || exports.EXTRA_1021 || exports.EXTRA_1022 || exports.EXTRA_1023) || (exports.EXTRA_1022 || exports.EXTRA_1023);
    exports.EXTRA_1030 = -1 !== extras.indexOf("1030");
    exports.EXTRA_1040 = -1 !== extras.indexOf("1040");
    exports.EXTRA_1050 = -1 !== extras.indexOf("1050");
    exports.EXTRA_1060 = -1 !== extras.indexOf("1060");
    exports.IS_GUEST = "guest" === exports.TOKEN;
    exports.EXTRA_1071 = !!exports.IS_GUEST && -1 !== extras.indexOf("1071");
    exports.EXTRA_1072 = !!exports.IS_GUEST && -1 !== extras.indexOf("1072");
    exports.EXTRA_1073 = !!exports.IS_GUEST && -1 !== extras.indexOf("1073");
    exports.EXTRA_1080 = -1 !== extras.indexOf("1080");
    exports.EXTRA_1090 = -1 !== extras.indexOf("1090");
    exports.EXTRA_1100 = -1 !== extras.indexOf("1100");
    exports.EXTRA_1110 = -1 !== extras.indexOf("1110");
    exports.IS_LOBBY = "1" === getHrefURLParams("islobby");
    cc._RF.pop();
  }, {} ],
  ParentNode: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c214a5TkJ5DIqLCdVefybpK", "ParentNode");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ParentNode = function(_super) {
      __extends(ParentNode, _super);
      function ParentNode() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.parentNode = null;
        return _this;
      }
      __decorate([ property(cc.Node) ], ParentNode.prototype, "parentNode", void 0);
      ParentNode = __decorate([ ccclass ], ParentNode);
      return ParentNode;
    }(cc.Component);
    exports.default = ParentNode;
    cc._RF.pop();
  }, {} ],
  ParticleProperty: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0d9772czc1By4N/eEiOqi4T", "ParticleProperty");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ParticleProperty = exports.PARTICLE_MODE = exports.FREZZE_MODE = exports.random3 = exports.EMITTER_MODE = exports.random = exports.limitNum = exports.arraySplice = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    function arraySplice(array, any) {
      var idx = array.indexOf(any);
      -1 !== idx && array.splice(idx, 1);
    }
    exports.arraySplice = arraySplice;
    function limitNum(number, max, min) {
      void 0 === min && (min = 0);
      return Math.min(Math.max(number, min), max);
    }
    exports.limitNum = limitNum;
    function random(from, to) {
      if (!to) {
        to = from - 1;
        from = 0;
      }
      return Math.floor(Math.random() * (to - from + 1) + from);
    }
    exports.random = random;
    var EMITTER_MODE;
    (function(EMITTER_MODE) {
      EMITTER_MODE[EMITTER_MODE["GRAVITY"] = 0] = "GRAVITY";
      EMITTER_MODE[EMITTER_MODE["RADIUS"] = 1] = "RADIUS";
    })(EMITTER_MODE = exports.EMITTER_MODE || (exports.EMITTER_MODE = {}));
    function random3(from, to) {
      var f = Math.floor(100 * from);
      var t = null;
      to && (t = Math.floor(100 * to));
      return random(f, t) / 100;
    }
    exports.random3 = random3;
    var FREZZE_MODE;
    (function(FREZZE_MODE) {
      FREZZE_MODE[FREZZE_MODE["FREE"] = 0] = "FREE";
      FREZZE_MODE[FREZZE_MODE["FREEZE"] = 1] = "FREEZE";
    })(FREZZE_MODE = exports.FREZZE_MODE || (exports.FREZZE_MODE = {}));
    var PARTICLE_MODE;
    (function(PARTICLE_MODE) {
      PARTICLE_MODE[PARTICLE_MODE["ANIM"] = 0] = "ANIM";
      PARTICLE_MODE[PARTICLE_MODE["SHEET_SPRITE"] = 1] = "SHEET_SPRITE";
    })(PARTICLE_MODE = exports.PARTICLE_MODE || (exports.PARTICLE_MODE = {}));
    var ParticleProperty = function() {
      function ParticleProperty() {
        this.animation = null;
        this.spriteAtlas = null;
        this.atlasName = "";
        this.spriteFrames = [];
        this.spriteFrameTime = 0;
        this.frezzeMode = FREZZE_MODE.FREE;
        this.particleCount = 0;
        this._stopped = true;
        this.playOnLoad = true;
        this.autoRemoveOnFinish = false;
        this.delayTime = 0;
        this.totalParticles = 150;
        this.duration = -1;
        this.emissionRate = 10;
        this.life = 1;
        this.lifeVar = 0;
        this.startColor = cc.color(255, 255, 255, 255);
        this.startColorVar = cc.color(0, 0, 0, 0);
        this.endColor = cc.color(255, 255, 255, 255);
        this.endColorVar = cc.color(0, 0, 0, 0);
        this.angle = 90;
        this.angleVar = 20;
        this.startSize = 50;
        this.startSizeVar = 0;
        this.endSize = 0;
        this.endSizeVar = 0;
        this.startSpin = 50;
        this.startSpinVar = 50;
        this.endSpin = 0;
        this.endSpinVar = 0;
        this.sourcePos = cc.Vec2.ZERO;
        this.posVar = cc.Vec2.ZERO;
        this.emitterMode = EMITTER_MODE.GRAVITY;
        this.gravity = cc.Vec2.ZERO;
        this.speed = 180;
        this.speedVar = 50;
        this.tangentialAccel = 80;
        this.tangentialAccelVar = 0;
        this.radialAccel = 0;
        this.radialAccelVar = 0;
        this.rotationIsDir = false;
        this.startRadius = 0;
        this.startRadiusVar = 0;
        this.endRadius = 0;
        this.endRadiusVar = 0;
        this.rotatePerS = 0;
        this.rotatePerSVar = 0;
      }
      Object.defineProperty(ParticleProperty.prototype, "stopped", {
        get: function() {
          return this._stopped;
        },
        enumerable: false,
        configurable: true
      });
      __decorate([ property({
        type: cc.Node
      }) ], ParticleProperty.prototype, "animation", void 0);
      __decorate([ property({
        type: cc.SpriteAtlas
      }) ], ParticleProperty.prototype, "spriteAtlas", void 0);
      __decorate([ property() ], ParticleProperty.prototype, "atlasName", void 0);
      __decorate([ property({
        type: [ cc.SpriteFrame ]
      }) ], ParticleProperty.prototype, "spriteFrames", void 0);
      __decorate([ property({
        type: cc.Float,
        tooltip: "\u5e7e\u79d2\u5207\u5e7e\u6b21",
        displayName: "\u52d5\u756b\u9593\u9694(spriteFrameTime)",
        min: 0
      }) ], ParticleProperty.prototype, "spriteFrameTime", void 0);
      __decorate([ property({
        type: cc.Enum(FREZZE_MODE)
      }) ], ParticleProperty.prototype, "frezzeMode", void 0);
      __decorate([ property() ], ParticleProperty.prototype, "playOnLoad", void 0);
      __decorate([ property(cc.Boolean) ], ParticleProperty.prototype, "autoRemoveOnFinish", void 0);
      __decorate([ property({
        type: cc.Float
      }) ], ParticleProperty.prototype, "delayTime", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "totalParticles", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "duration", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "emissionRate", void 0);
      __decorate([ property({
        type: cc.Float
      }) ], ParticleProperty.prototype, "life", void 0);
      __decorate([ property({
        type: cc.Float
      }) ], ParticleProperty.prototype, "lifeVar", void 0);
      __decorate([ property(cc.Color) ], ParticleProperty.prototype, "startColor", void 0);
      __decorate([ property(cc.Color) ], ParticleProperty.prototype, "startColorVar", void 0);
      __decorate([ property(cc.Color) ], ParticleProperty.prototype, "endColor", void 0);
      __decorate([ property(cc.Color) ], ParticleProperty.prototype, "endColorVar", void 0);
      __decorate([ property({
        type: cc.Float,
        min: 0,
        max: 360
      }) ], ParticleProperty.prototype, "angle", void 0);
      __decorate([ property({
        type: cc.Float,
        min: 0,
        max: 360
      }) ], ParticleProperty.prototype, "angleVar", void 0);
      __decorate([ property({
        type: cc.Float,
        min: 0
      }) ], ParticleProperty.prototype, "startSize", void 0);
      __decorate([ property({
        type: cc.Float,
        min: 0
      }) ], ParticleProperty.prototype, "startSizeVar", void 0);
      __decorate([ property({
        type: cc.Float,
        min: 0
      }) ], ParticleProperty.prototype, "endSize", void 0);
      __decorate([ property({
        type: cc.Float,
        min: 0
      }) ], ParticleProperty.prototype, "endSizeVar", void 0);
      __decorate([ property({
        type: cc.Float,
        min: 0
      }) ], ParticleProperty.prototype, "startSpin", void 0);
      __decorate([ property({
        type: cc.Float,
        min: 0
      }) ], ParticleProperty.prototype, "startSpinVar", void 0);
      __decorate([ property({
        type: cc.Float,
        min: 0
      }) ], ParticleProperty.prototype, "endSpin", void 0);
      __decorate([ property({
        type: cc.Float,
        min: 0
      }) ], ParticleProperty.prototype, "endSpinVar", void 0);
      __decorate([ property(cc.Vec2) ], ParticleProperty.prototype, "sourcePos", void 0);
      __decorate([ property(cc.Vec2) ], ParticleProperty.prototype, "posVar", void 0);
      __decorate([ property({
        type: cc.Enum(EMITTER_MODE)
      }) ], ParticleProperty.prototype, "emitterMode", void 0);
      __decorate([ property(cc.Vec2) ], ParticleProperty.prototype, "gravity", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "speed", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "speedVar", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "tangentialAccel", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "tangentialAccelVar", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "radialAccel", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "radialAccelVar", void 0);
      __decorate([ property() ], ParticleProperty.prototype, "rotationIsDir", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "startRadius", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "startRadiusVar", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "endRadius", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "endRadiusVar", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "rotatePerS", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "rotatePerSVar", void 0);
      ParticleProperty = __decorate([ ccclass("ParticleProperty") ], ParticleProperty);
      return ParticleProperty;
    }();
    exports.ParticleProperty = ParticleProperty;
    cc._RF.pop();
  }, {} ],
  ParticleSystemBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "22ffb8SKjtAYbXcNJ1j/X4d", "ParticleSystemBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ParticleProperty_1 = require("./ParticleProperty");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ParticleSystemBase = function(_super) {
      __extends(ParticleSystemBase, _super);
      function ParticleSystemBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.particleJson = null;
        _this.particleProperty = null;
        _this.endEvent = null;
        _this.mode = ParticleProperty_1.PARTICLE_MODE.ANIM;
        _this.nodePool = new cc.NodePool();
        _this.genNode = null;
        _this.particleArr = [];
        _this.isPlay = false;
        _this.totalDelta = 0;
        _this.delta = 0;
        _this.currPos = cc.v2();
        _this.sprites = [];
        _this.isLoop = false;
        return _this;
      }
      ParticleSystemBase.prototype.genSpNode = function() {
        if (!this.nodePool.size()) {
          var node = new cc.Node();
          node.addComponent(cc.Sprite);
          this.nodePool.put(node);
        }
        return this.nodePool.get();
      };
      ParticleSystemBase.prototype.genAniPrefab = function() {
        true;
        this.particleProperty.animation.removeFromParent();
        this.nodePool.size() || this.nodePool.put(cc.instantiate(this.particleProperty.animation));
        return this.nodePool.get();
      };
      ParticleSystemBase.prototype.recycleNode = function(n) {
        n.stopAllActions();
        this.nodePool.put(n);
        ParticleProperty_1.arraySplice(this.particleArr, n);
      };
      ParticleSystemBase.prototype.onFinish = function(callBack) {
        this.finishCall = callBack;
      };
      ParticleSystemBase.prototype.clear = function() {
        while (this.node.children.length) {
          var node = this.node.children[0];
          node.stopAllActions();
          this.nodePool.put(node);
        }
        this.particleArr = [];
      };
      ParticleSystemBase.prototype.pause = function() {
        this.isPlay = false;
        this.node.children.forEach(function(node) {
          node.pauseAllActions();
          node.getComponent(cc.Animation).pause();
        });
      };
      ParticleSystemBase.prototype.resume = function() {
        this.isPlay = true;
        this.node.children.forEach(function(node) {
          node.resumeAllActions();
          node.getComponent(cc.Animation).resume();
        });
      };
      ParticleSystemBase.prototype.shoot = function() {
        this.clear();
        this.isPlay = true;
        this.delta = 0;
        this.totalDelta = 0;
      };
      ParticleSystemBase.prototype.loadJson = function(datas) {
        var _this = this;
        if (!this.particleProperty) throw new Error("particleProperty is null");
        datas.forEach(function(data) {
          _this.particleProperty[data.key] instanceof cc.Color ? _this.particleProperty[data.key] = cc.color(data.value.r, data.value.g, data.value.b, data.value.a) : _this.particleProperty[data.key] instanceof cc.Vec2 ? _this.particleProperty[data.key] = cc.v2(data.value.x, data.value.y) : _this.particleProperty[data.key] = data.value;
        });
      };
      ParticleSystemBase.prototype.getJson = function() {
        var _this = this;
        if (!this.particleProperty) throw new Error("particleProperty is null");
        var datas = [];
        Object.keys(this.particleProperty).forEach(function(key) {
          if (!_this.ignoreKey(key)) if (_this.particleProperty[key] instanceof cc.Color) {
            var color = _this.particleProperty[key];
            datas.push({
              key: key,
              value: {
                r: color.getR(),
                g: color.getG(),
                b: color.getB(),
                a: color.getA()
              }
            });
          } else if (_this.particleProperty[key] instanceof cc.Vec2) {
            var pos = _this.particleProperty[key];
            datas.push({
              key: key,
              value: {
                x: pos.x,
                y: pos.y
              }
            });
          } else {
            var value = _this.particleProperty[key];
            datas.push({
              key: key,
              value: value
            });
          }
        });
        return datas;
      };
      ParticleSystemBase.prototype.ignoreKey = function(key) {
        if (key.startsWith("_")) return true;
        switch (key) {
         case "animation":
         case "atlasName":
         case "spriteAtlas":
         case "spriteFrames":
          return true;

         default:
          return false;
        }
      };
      ParticleSystemBase.prototype.onLoad = function() {
        var _this = this;
        this.particleJson && this.loadJson(this.particleJson.json);
        if (this.particleProperty.animation) {
          this.mode = ParticleProperty_1.PARTICLE_MODE.ANIM;
          this.genNode = this.genAniPrefab;
        } else {
          this.mode = ParticleProperty_1.PARTICLE_MODE.SHEET_SPRITE;
          this.genNode = this.genSpNode;
          if (this.particleProperty.spriteAtlas) if (this.particleProperty.atlasName) {
            var sf = this.particleProperty.spriteAtlas.getSpriteFrames().filter(function(s) {
              return -1 !== s.name.indexOf(_this.particleProperty.atlasName);
            });
            var sss = sf.sort();
            this.sprites = sss;
          } else console.error("no atlasName"); else this.particleProperty.spriteFrames.length ? this.sprites = this.particleProperty.spriteFrames : console.error("no anim");
          0 !== this.particleProperty.spriteFrameTime && (this.isLoop = true);
        }
        this.particleProperty.delayTime > 0 ? this.scheduleOnce(function() {
          _this.isPlay = _this.particleProperty.playOnLoad;
        }, this.particleProperty.delayTime) : this.isPlay = this.particleProperty.playOnLoad;
        this.delta = 0;
        this.currPos = this.node.getPosition();
        var preNodeArr = [];
        for (var i = 0; i <= 30; i += 1) {
          var n = this.genNode();
          preNodeArr.push(n);
        }
        preNodeArr.forEach(function(n) {
          return _this.recycleNode(n);
        });
      };
      ParticleSystemBase.prototype.start = function() {};
      ParticleSystemBase.prototype.lateUpdate = function(dt) {
        var _this = this;
        var diff = cc.v2();
        this.particleProperty.frezzeMode === ParticleProperty_1.FREZZE_MODE.FREE && (diff = this.node.getPosition().sub(this.currPos));
        this.isPlay && this.particleArr.forEach(function(p) {
          p["lifeTime"] += dt;
        });
        this.particleArr.filter(function(p) {
          return p["lifeTime"] >= p["life"];
        }).forEach(function(p) {
          _this.recycleNode(p);
        });
        this.particleArr.forEach(function(p) {
          if (_this.isPlay) {
            p["lifeTime"] += dt;
            if (_this.mode === ParticleProperty_1.PARTICLE_MODE.SHEET_SPRITE) {
              var sprite = null;
              sprite = _this.isLoop ? _this.sprites[Math.floor(p["lifeTime"] / _this.particleProperty.spriteFrameTime) % _this.sprites.length] : _this.sprites[Math.floor(p["lifeTime"] / p["life"] * _this.sprites.length)];
              p.getComponent(cc.Sprite).spriteFrame = void 0 === sprite ? null : sprite;
            }
            var c = p["startColor"].lerp(p["endColor"], p["lifeTime"] / p["life"]);
            p.color = cc.color(c.getR(), c.getG(), c.getB());
            p.opacity = c.getA();
            p.scale += p["deltaSize"] * dt;
            p.angle += p["deltaRot"] * dt;
            var speed = p["speed"];
            if (_this.particleProperty.emitterMode === ParticleProperty_1.EMITTER_MODE.GRAVITY) {
              var gravity = p["originGravity"].mul(p["lifeTime"] / 2 * dt);
              var originDir = p["dir"].mul(speed * dt);
              _this.particleProperty.frezzeMode === ParticleProperty_1.FREZZE_MODE.FREE ? p.setPosition(p.getPosition().add(originDir).add(gravity).sub(diff)) : p.setPosition(p.getPosition().add(originDir).add(gravity));
            } else {
              p["gravity"].addSelf(p["originGravity"].mul(p["lifeTime"] / 2 * dt));
              p["diff"].addSelf(diff);
              p["radius"] += p["deltaRadius"] * dt;
              p["tempAngle"] += p["degreesPerSecond"] * dt;
              var x = -Math.cos(p["tempAngle"]) * p["radius"];
              var y = -Math.sin(p["tempAngle"]) * p["radius"];
              var originPos = cc.v2(x, y);
              _this.particleProperty.frezzeMode === ParticleProperty_1.FREZZE_MODE.FREE ? p.setPosition(originPos.add(p["gravity"]).sub(p["diff"])) : p.setPosition(originPos.add(p["gravity"]));
            }
          } else _this.particleProperty.frezzeMode === ParticleProperty_1.FREZZE_MODE.FREE ? p.setPosition(p.getPosition().sub(diff)) : p.setPosition(p.getPosition());
        });
        this.currPos = this.node.getPosition();
        var emission = 1 / this.particleProperty.emissionRate;
        if (this.isPlay) {
          this.delta += dt;
          if (-1 === this.particleProperty.duration) {
            if (this.delta > emission) {
              var emission1 = 0;
              while (this.delta > emission1) {
                this.shootOne();
                emission1 += emission;
              }
              this.delta = 0;
            }
          } else if (this.totalDelta <= this.particleProperty.duration) {
            if (this.delta > emission) {
              var emission1 = 0;
              while (this.delta > emission1) {
                this.shootOne();
                emission1 += emission;
              }
              this.delta = 0;
            }
            this.totalDelta += dt;
          } else if (this.particleProperty.autoRemoveOnFinish) {
            this.endEvent && this.endEvent.emit([ this.endEvent.customEventData ]);
            this.finishCall && this.finishCall();
            0 === this.node.childrenCount && this.node.destroy();
          }
        }
      };
      ParticleSystemBase.prototype.shootOne = function() {
        this.particleProperty.particleCount = this.particleArr.length;
        if (this.particleProperty.particleCount >= this.particleProperty.totalParticles) return;
        var node = this.genNode();
        this.node.addChild(node);
        var speed = this.getSpeed();
        var dir = this.getStartDir(speed);
        var pos = this.getStartPos();
        var startColor = this.getStartColor();
        var startSize = this.getStartSize();
        var startRot = this.getStartRotation();
        var life = this.getLife();
        if (this.particleProperty.emitterMode === ParticleProperty_1.EMITTER_MODE.GRAVITY) ; else {
          var startRadius = this.getStartRadius();
          var endRadius = this.getEndRadius();
          node["diff"] = cc.v2();
          node["startRadius"] = startRadius;
          node["radius"] = startRadius;
          node["deltaRadius"] = endRadius === startRadius ? 0 : (endRadius - startRadius) / life;
          node["tempAngle"] = cc.misc.radiansToDegrees(cc.v2(dir).signAngle(cc.v2(1, 0)));
          node["degreesPerSecond"] = cc.misc.degreesToRadians(this.getRotatePerS());
          var dr = dir.mul(startRadius);
          pos = pos.add(dr);
        }
        node.setPosition(pos);
        node.setScale(startSize);
        node.angle = startRot;
        node.color = cc.color(startColor.getR(), startColor.getG(), startColor.getB());
        node.opacity = startColor.getA();
        var endColor = this.getEndColor();
        var endSize = this.getEndSize();
        var endRot = this.getEndRotation();
        node["speed"] = speed;
        node["pos"] = pos;
        node["lifeTime"] = 0;
        node["life"] = life;
        node["startColor"] = startColor;
        node["endColor"] = endColor;
        node["endSize"] = endSize;
        node["endRot"] = endRot;
        node["deltaSize"] = endSize === startSize ? 0 : (endSize - startSize) / life;
        node["deltaRot"] = endRot === startRot ? 0 : (endRot - startRot) / life;
        node["dir"] = dir;
        node["originGravity"] = this.particleProperty.gravity;
        node["gravity"] = cc.v2();
        if (this.mode === ParticleProperty_1.PARTICLE_MODE.ANIM) {
          var ain = node.getComponent(cc.Animation) || node.getComponentInChildren(cc.Animation);
          var ainClip = ain.getClips()[ParticleProperty_1.random(ain.getClips().length)];
          var name = ainClip.name;
          ain.playOnLoad = true;
          ain.play(name);
        }
        this.particleArr.push(node);
      };
      ParticleSystemBase.prototype.getStartPos = function() {
        var randomPosX = ParticleProperty_1.random3(-this.particleProperty.posVar.x, this.particleProperty.posVar.x);
        var randomPosY = ParticleProperty_1.random3(-this.particleProperty.posVar.y, this.particleProperty.posVar.y);
        var pos = this.particleProperty.sourcePos.add(cc.v2(randomPosX, randomPosY));
        return pos;
      };
      ParticleSystemBase.prototype.getStartColor = function() {
        var randomR = ParticleProperty_1.random(-this.particleProperty.startColorVar.getR(), this.particleProperty.startColorVar.getR());
        var randomG = ParticleProperty_1.random(-this.particleProperty.startColorVar.getG(), this.particleProperty.startColorVar.getG());
        var randomB = ParticleProperty_1.random(-this.particleProperty.startColorVar.getB(), this.particleProperty.startColorVar.getB());
        var randomA = ParticleProperty_1.random(-this.particleProperty.startColorVar.getA(), this.particleProperty.startColorVar.getA());
        var r = ParticleProperty_1.limitNum(this.particleProperty.startColor.getR() + randomR, 255, 0);
        var g = ParticleProperty_1.limitNum(this.particleProperty.startColor.getG() + randomG, 255, 0);
        var b = ParticleProperty_1.limitNum(this.particleProperty.startColor.getB() + randomB, 255, 0);
        var a = ParticleProperty_1.limitNum(this.particleProperty.startColor.getA() + randomA, 255, 0);
        return cc.color(r, g, b, a);
      };
      ParticleSystemBase.prototype.getEndColor = function() {
        var randomR = ParticleProperty_1.random(-this.particleProperty.endColorVar.getR(), this.particleProperty.endColorVar.getR());
        var randomG = ParticleProperty_1.random(-this.particleProperty.endColorVar.getG(), this.particleProperty.endColorVar.getG());
        var randomB = ParticleProperty_1.random(-this.particleProperty.endColorVar.getB(), this.particleProperty.endColorVar.getB());
        var randomA = ParticleProperty_1.random(-this.particleProperty.endColorVar.getA(), this.particleProperty.endColorVar.getA());
        var r = ParticleProperty_1.limitNum(this.particleProperty.endColor.getR() + randomR, 255, 0);
        var g = ParticleProperty_1.limitNum(this.particleProperty.endColor.getG() + randomG, 255, 0);
        var b = ParticleProperty_1.limitNum(this.particleProperty.endColor.getB() + randomB, 255, 0);
        var a = ParticleProperty_1.limitNum(this.particleProperty.endColor.getA() + randomA, 255, 0);
        return cc.color(r, g, b, a);
      };
      ParticleSystemBase.prototype.getStartSize = function() {
        var randomS = ParticleProperty_1.random3(-this.particleProperty.startSizeVar, this.particleProperty.startSizeVar);
        var size = ParticleProperty_1.limitNum(this.particleProperty.startSize + randomS, this.particleProperty.startSize + this.particleProperty.startSizeVar, 0);
        return size;
      };
      ParticleSystemBase.prototype.getEndSize = function() {
        var randomS = ParticleProperty_1.random3(-this.particleProperty.endSizeVar, this.particleProperty.endSizeVar);
        return ParticleProperty_1.limitNum(this.particleProperty.endSize + randomS, this.particleProperty.endSize + this.particleProperty.endSizeVar, 0);
      };
      ParticleSystemBase.prototype.getStartRotation = function() {
        var randomR = ParticleProperty_1.random3(this.particleProperty.startSpinVar);
        return this.particleProperty.startSpin + randomR;
      };
      ParticleSystemBase.prototype.getEndRotation = function() {
        var randomR = ParticleProperty_1.random3(-this.particleProperty.endSpinVar, this.particleProperty.endSpinVar);
        return this.particleProperty.endSpin + randomR;
      };
      ParticleSystemBase.prototype.getStartDir = function(speed) {
        var randomAngle = ParticleProperty_1.random3(-this.particleProperty.angleVar, this.particleProperty.angleVar);
        var angle = cc.misc.degreesToRadians(this.particleProperty.angle + randomAngle);
        var x = Math.cos(angle) * speed;
        var y = Math.sin(angle) * speed;
        var originSpeed = cc.v2(x, y);
        var randomAccelX = ParticleProperty_1.random3(-this.particleProperty.tangentialAccelVar, this.particleProperty.tangentialAccelVar);
        var randomAccelY = ParticleProperty_1.random3(-this.particleProperty.radialAccelVar, this.particleProperty.radialAccelVar);
        var originDir = cc.v2(this.particleProperty.tangentialAccel + randomAccelX, this.particleProperty.radialAccel + randomAccelY);
        return originSpeed.add(originDir).normalize();
      };
      ParticleSystemBase.prototype.getStartRadius = function() {
        var randomR = ParticleProperty_1.random3(-this.particleProperty.startRadiusVar, this.particleProperty.startRadiusVar);
        return this.particleProperty.startRadius + randomR;
      };
      ParticleSystemBase.prototype.getEndRadius = function() {
        var randomR = ParticleProperty_1.random3(-this.particleProperty.endRadiusVar, this.particleProperty.endRadiusVar);
        return this.particleProperty.endRadius + randomR;
      };
      ParticleSystemBase.prototype.getRotatePerS = function() {
        var randomR = ParticleProperty_1.random3(-this.particleProperty.rotatePerSVar, this.particleProperty.rotatePerSVar);
        return this.particleProperty.rotatePerS + randomR;
      };
      ParticleSystemBase.prototype.getLife = function() {
        var randomLife = ParticleProperty_1.random3(-this.particleProperty.lifeVar, this.particleProperty.lifeVar);
        return ParticleProperty_1.limitNum(this.particleProperty.life + randomLife, this.particleProperty.life + this.particleProperty.lifeVar);
      };
      ParticleSystemBase.prototype.getSpeed = function() {
        var randomSpeed = ParticleProperty_1.random3(-this.particleProperty.speedVar, this.particleProperty.speedVar);
        return this.particleProperty.speed + randomSpeed;
      };
      __decorate([ property(cc.JsonAsset) ], ParticleSystemBase.prototype, "particleJson", void 0);
      __decorate([ property(ParticleProperty_1.ParticleProperty) ], ParticleSystemBase.prototype, "particleProperty", void 0);
      __decorate([ property(cc.Component.EventHandler) ], ParticleSystemBase.prototype, "endEvent", void 0);
      ParticleSystemBase = __decorate([ ccclass, menu("Particle/Particle") ], ParticleSystemBase);
      return ParticleSystemBase;
    }(cc.Component);
    exports.default = ParticleSystemBase;
    cc._RF.pop();
  }, {
    "./ParticleProperty": "ParticleProperty"
  } ],
  PathData: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "2158b/Wv3dEfqPXdCpAe9xF", "PathData");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.revertPathData = exports.fixPathData = exports.getPathType = void 0;
    var Balance_1 = require("../utils/Balance");
    var PathMove_1 = require("../utils/PathMove");
    function getPathType(pos) {
      if (3 !== pos.length) return PathMove_1.PathType.BEZIER;
      var p0 = pos[0];
      var p1 = pos[1];
      var p2 = pos[2];
      var x = p1.x - p0.x === p2.x - p1.x;
      var y = p1.y - p0.y === p2.y - p1.y;
      return x && y ? PathMove_1.PathType.BEZIER : PathMove_1.PathType.LINE;
    }
    exports.getPathType = getPathType;
    var PathData = function() {
      function PathData() {}
      return PathData;
    }();
    exports.default = PathData;
    function clone(data) {
      var pd = new PathData();
      pd.Id = data.Id;
      pd.Path = data.Path ? data.Path.map(function(v) {
        return cc.v2(v.x, v.y);
      }) : [];
      pd.Fishs = data.Fishs;
      pd.Distance = data.Distance;
      pd.FlipX = data.FlipX;
      pd.FlipY = data.FlipY;
      pd.MinSpeed = data.MinSpeed;
      pd.MinLifetime = data.MinLifetime || 0;
      pd.MinEnterTime = data.MinEnterTime || 0;
      pd.MinLeaveTime = data.MinLeaveTime || 0;
      pd.MaxSpeed = data.MaxSpeed;
      pd.MaxLifetime = data.MaxLifetime || 0;
      pd.MaxEnterTime = data.MaxEnterTime || 0;
      pd.MaxLeaveTime = data.MaxLeaveTime || 0;
      pd.Scales = data.Scales ? data.Scales.map(function(_a) {
        var it = _a[0], s = _a[1];
        return [ it, s ];
      }) : [];
      return pd;
    }
    function fixPathData(data) {
      if (!data) return;
      var d = clone(data);
      d.Scales = d.Scales.map(function(_a) {
        var it = _a[0], s = _a[1];
        return [ Balance_1.safeMul(it, 100), Balance_1.safeMul(s, 100) ];
      });
      d.MinLifetime = Balance_1.safeMul(d.MinLifetime, 100);
      d.MinEnterTime = Balance_1.safeMul(d.MinEnterTime, 100);
      d.MinLeaveTime = Balance_1.safeMul(d.MinLeaveTime, 100);
      d.MaxLifetime = Balance_1.safeMul(d.MaxLifetime, 100);
      d.MaxEnterTime = Balance_1.safeMul(d.MaxEnterTime, 100);
      d.MaxLeaveTime = Balance_1.safeMul(d.MaxLeaveTime, 100);
      return d;
    }
    exports.fixPathData = fixPathData;
    function revertPathData(data) {
      if (!data) return;
      var d = clone(data);
      d.Scales ? d.Scales = d.Scales.map(function(_a) {
        var it = _a[0], s = _a[1];
        return [ Balance_1.safeMul(it, .01), Balance_1.safeMul(s, .01) ];
      }) : d.Scales = [];
      d.MinLifetime = Balance_1.safeMul(d.MinLifetime || 0, .01);
      d.MinEnterTime = Balance_1.safeMul(d.MinEnterTime || 0, .01);
      d.MinLeaveTime = Balance_1.safeMul(d.MinLeaveTime || 0, .01);
      d.MaxLifetime = Balance_1.safeMul(d.MaxLifetime || 0, .01);
      d.MaxEnterTime = Balance_1.safeMul(d.MaxEnterTime || 0, .01);
      d.MaxLeaveTime = Balance_1.safeMul(d.MaxLeaveTime || 0, .01);
      return d;
    }
    exports.revertPathData = revertPathData;
    cc._RF.pop();
  }, {
    "../utils/Balance": "Balance",
    "../utils/PathMove": "PathMove"
  } ],
  PathMoveData: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c0625QroxZNt45awl8oFVR0", "PathMoveData");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.flipPath = exports.genFishPathData2 = exports.genFishPathData = exports.FishPathData = void 0;
    var PathMove_1 = require("../utils/PathMove");
    var Utils_1 = require("../utils/Utils");
    var PathData_1 = require("./PathData");
    var FishPathData = function() {
      function FishPathData(birthTime, points, speed, distance, padding, lifecycle, scales, type, doCustomMove) {
        void 0 === type && (type = 0);
        void 0 === doCustomMove && (doCustomMove = null);
        this.birthTime = birthTime;
        this.points = points;
        this.speed = speed;
        this.distance = distance;
        this.padding = padding;
        this.lifecycle = lifecycle;
        this.scales = scales;
        this.type = type;
        this.doCustomMove = doCustomMove;
        this.i = 0;
        this.t = 0;
        this.fpsTime = 0;
        this.escape = false;
        this.position = points[0];
        this.lifecycle = 10 * this.lifecycle;
        this.lastTime = birthTime;
      }
      return FishPathData;
    }();
    exports.FishPathData = FishPathData;
    function genFishPathData(pathData, birthTime, speed, pathFlip, padding, lifetime, doCustomMove) {
      void 0 === speed && (speed = 150);
      if (doCustomMove) return new FishPathData(birthTime, pathData.Path, speed, pathData.Distance, new cc.Vec2(padding[0], padding[1]), lifetime, pathData.Scales, PathMove_1.PathType.CUSTOM, doCustomMove);
      var ps = flipPath(pathData.Path, pathFlip[0], pathFlip[1]);
      var points = Utils_1.calculateControlPoints(ps);
      var pathType = PathData_1.getPathType(pathData.Path);
      return new FishPathData(birthTime, points, speed, pathData.Distance, new cc.Vec2(padding[0], padding[1]), lifetime, pathData.Scales, pathType);
    }
    exports.genFishPathData = genFishPathData;
    function genFishPathData2(pathData, birthTime, speed, pathFlip, padding, doCustomMove) {
      void 0 === speed && (speed = 150);
      var lifetime = doCustomMove ? 0 : pathData.Distance / speed * 100;
      return genFishPathData(pathData, birthTime, speed, pathFlip, padding, lifetime, doCustomMove);
    }
    exports.genFishPathData2 = genFishPathData2;
    function flipPath(pos, flipX, flipY) {
      var newPos = [];
      pos.forEach(function(tmpPos) {
        var p = new cc.Vec2();
        p.x = flipX ? -1 * tmpPos.x : tmpPos.x;
        p.y = flipY ? -1 * tmpPos.y : tmpPos.y;
        newPos.push(p);
      });
      return newPos;
    }
    exports.flipPath = flipPath;
    cc._RF.pop();
  }, {
    "../utils/PathMove": "PathMove",
    "../utils/Utils": "Utils",
    "./PathData": "PathData"
  } ],
  PathMove: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6a435qpJA1MOp50cvGvcUVi", "PathMove");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.PathType = exports.doFishLineMove = exports.doFishMove = exports.getFishMoveScale = exports.roundDecimal = exports.FPS_30_TIME = exports.FPS_60_TIME = exports.DISTANCE_TOLERANCE = exports.DELTA_TIME_TOLERANCE = exports.DELTA_TIME = void 0;
    var Utils_1 = require("./Utils");
    exports.DELTA_TIME = .1;
    exports.DELTA_TIME_TOLERANCE = 1e-5;
    exports.DISTANCE_TOLERANCE = .001;
    exports.FPS_60_TIME = 1 / 60 * 1e3;
    exports.FPS_30_TIME = 1 / 30 * 1e3;
    function roundDecimal(val, precision) {
      return Math.round(Math.round(val * Math.pow(10, (precision || 0) + 1)) / 10) / Math.pow(10, precision || 0);
    }
    exports.roundDecimal = roundDecimal;
    function getFishMoveScale(scales, len, it) {
      scales = scales.slice(0);
      scales.find(function(s) {
        return 0 === s[0];
      }) || scales.unshift([ 0, 1 ]);
      scales.push([ len, 1 ]);
      var l = scales.find(function(s) {
        return s[0] >= it;
      });
      var r = scales.slice(0).reverse().find(function(s) {
        return s[0] <= it;
      });
      if (!l && !r) return 1;
      if (!l) return r[1];
      if (!r) return l[1];
      return l[1] === r[1] ? l[1] : cc.misc.lerp(l[1], r[1], (it - l[0]) / (r[0] - l[0]));
    }
    exports.getFishMoveScale = getFishMoveScale;
    function doFishMove(now, fpd, done) {
      var speed = fpd.escape ? Utils_1.biggerThen(500, 3 * fpd.speed) : fpd.speed;
      var points = fpd.points;
      var scales = fpd.escape ? [] : fpd.scales;
      var pos = fpd.position;
      var lastTime = fpd.lastTime;
      var i = fpd.i;
      var t = fpd.t;
      var times = 0;
      var total = 0;
      var pl = points.length;
      var plast = points[pl - 1];
      var lastPos = null;
      while (true) {
        lastTime += fpd.fpsTime;
        times += 1;
        var it = Math.floor(i / 3) + t;
        var l = Math.floor(points.length / 3);
        var scale = getFishMoveScale(scales, l, it);
        var length = speed * (fpd.fpsTime / 1e3) * scale;
        total += length;
        var delta = exports.DELTA_TIME;
        var len = 0;
        while (true) {
          t += delta;
          if (t > 1) {
            i += 3;
            t %= 1;
          }
          lastPos = i >= pl - 1 ? cc.v2(plast) : Utils_1.pointOnCubicBezier(t, points[i], points[i + 1], points[i + 2], points[i + 3]);
          var l_1 = cc.Vec2.distance(pos, lastPos);
          var over = len + l_1 > length;
          var allowable = !(delta > exports.DELTA_TIME_TOLERANCE && Math.abs(length - len) > exports.DISTANCE_TOLERANCE);
          if (over && !allowable) {
            t -= delta;
            if (roundDecimal(t, 8) < 0) {
              i -= 3;
              t = (t + 1) % 1;
            }
            delta /= 2;
          } else {
            if (i >= pl - 1) {
              done();
              return [ i, t, lastTime, lastPos || pos, total, times ];
            }
            if (allowable) {
              if (lastTime < now) {
                pos = lastPos;
                break;
              }
              return [ i, t, lastTime, lastPos, total, times ];
            }
            delta /= 2;
            len += l_1;
            pos = lastPos;
          }
        }
      }
    }
    exports.doFishMove = doFishMove;
    function doFishLineMove(now, fpd, done) {
      var birthTime = fpd.birthTime;
      var lifecycle = fpd.lifecycle;
      var startPos = fpd.points[0];
      var endPos = fpd.points[fpd.points.length - 1];
      var percent = (now - birthTime) / lifecycle;
      if (percent > 1) {
        done();
        return [ 0, 0, birthTime, endPos, 0, 0 ];
      }
      var lastPos = startPos.lerp(endPos, percent);
      return [ 0, 0, birthTime, lastPos, 0, 0 ];
    }
    exports.doFishLineMove = doFishLineMove;
    var PathType;
    (function(PathType) {
      PathType[PathType["BEZIER"] = 0] = "BEZIER";
      PathType[PathType["LINE"] = 1] = "LINE";
      PathType[PathType["CUSTOM"] = 2] = "CUSTOM";
    })(PathType = exports.PathType || (exports.PathType = {}));
    cc._RF.pop();
  }, {
    "./Utils": "Utils"
  } ],
  PersistRootNode: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "70538xFY9lItoyMS5eJeAG+", "PersistRootNode");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ccclass = cc._decorator.ccclass;
    var PersistRootNode = function(_super) {
      __extends(PersistRootNode, _super);
      function PersistRootNode() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      PersistRootNode.prototype.onLoad = function() {
        cc.game.addPersistRootNode(this.node);
      };
      PersistRootNode = __decorate([ ccclass ], PersistRootNode);
      return PersistRootNode;
    }(cc.Component);
    exports.default = PersistRootNode;
    cc._RF.pop();
  }, {} ],
  PingData: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c2e7fEfKS5CEoQ80DaD9hNF", "PingData");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PingData = function() {
      function PingData(latencyTime) {
        this.latencyTime = latencyTime;
      }
      return PingData;
    }();
    exports.default = PingData;
    cc._RF.pop();
  }, {} ],
  PrefabManager: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0ae75C/33xD8YNsNA7ef4N1", "PrefabManager");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var KeyPrefab_1 = require("../data/KeyPrefab");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var PrefabManager = function(_super) {
      __extends(PrefabManager, _super);
      function PrefabManager() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.keyPrefabs = [];
        return _this;
      }
      PrefabManager.prototype.getPrefab = function(key) {
        var kp = this.keyPrefabs.find(function(kp) {
          return kp.key === key;
        });
        if (kp) return kp.node || kp.prefab;
      };
      __decorate([ property([ KeyPrefab_1.KeyPrefab ]) ], PrefabManager.prototype, "keyPrefabs", void 0);
      PrefabManager = __decorate([ ccclass ], PrefabManager);
      return PrefabManager;
    }(cc.Component);
    exports.default = PrefabManager;
    cc._RF.pop();
  }, {
    "../data/KeyPrefab": "KeyPrefab"
  } ],
  PromiseManager2: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c57d22no/ZKCInbA/iuEfvr", "PromiseManager2");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.timeoutResolvefExecutor = exports.promiseExecutor2ToObject = exports.PROMISE_EXECUTOR2_STAT = exports.PROMISE_EXECUTOR2_GROUP = void 0;
    var Utils_1 = require("../utils/Utils");
    var PromiseManager_1 = require("./PromiseManager");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var PROMISE_EXECUTOR2_GROUP;
    (function(PROMISE_EXECUTOR2_GROUP) {
      PROMISE_EXECUTOR2_GROUP[PROMISE_EXECUTOR2_GROUP["NONE"] = 0] = "NONE";
      PROMISE_EXECUTOR2_GROUP[PROMISE_EXECUTOR2_GROUP["SKIPPABLE"] = 1] = "SKIPPABLE";
      PROMISE_EXECUTOR2_GROUP[PROMISE_EXECUTOR2_GROUP["GROUP1"] = 11] = "GROUP1";
      PROMISE_EXECUTOR2_GROUP[PROMISE_EXECUTOR2_GROUP["GROUP2"] = 12] = "GROUP2";
      PROMISE_EXECUTOR2_GROUP[PROMISE_EXECUTOR2_GROUP["GROUP3"] = 13] = "GROUP3";
    })(PROMISE_EXECUTOR2_GROUP = exports.PROMISE_EXECUTOR2_GROUP || (exports.PROMISE_EXECUTOR2_GROUP = {}));
    var PROMISE_EXECUTOR2_STAT;
    (function(PROMISE_EXECUTOR2_STAT) {
      PROMISE_EXECUTOR2_STAT[PROMISE_EXECUTOR2_STAT["NOT_STARTED"] = 0] = "NOT_STARTED";
      PROMISE_EXECUTOR2_STAT[PROMISE_EXECUTOR2_STAT["COMPLETE"] = 1] = "COMPLETE";
      PROMISE_EXECUTOR2_STAT[PROMISE_EXECUTOR2_STAT["INTERRUPT"] = -1] = "INTERRUPT";
    })(PROMISE_EXECUTOR2_STAT = exports.PROMISE_EXECUTOR2_STAT || (exports.PROMISE_EXECUTOR2_STAT = {}));
    function promiseExecutor2ToObject(executor) {
      return {
        executor: executor[0],
        done: executor[1],
        group: executor[2]
      };
    }
    exports.promiseExecutor2ToObject = promiseExecutor2ToObject;
    function timeoutResolvefExecutor(sec, group) {
      void 0 === group && (group = PROMISE_EXECUTOR2_GROUP.NONE);
      return [ function(resolve) {
        PromiseManager_1.timeoutPromise(sec).then(resolve);
      }, , group ];
    }
    exports.timeoutResolvefExecutor = timeoutResolvefExecutor;
    var PromiseManager2 = function(_super) {
      __extends(PromiseManager2, _super);
      function PromiseManager2() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.id = 0;
        _this.resolving = false;
        _this.executors = [];
        _this.result = null;
        _this.handlers = [];
        return _this;
      }
      PromiseManager2.prototype.bindHandler = function(handler) {
        -1 === this.handlers.indexOf(handler) && this.handlers.push(handler);
      };
      PromiseManager2.prototype.unbindHandler = function(handler) {
        Utils_1.arraySplice(this.handlers, handler);
      };
      PromiseManager2.prototype.applyHandlers = function(result) {
        this.handlers.forEach(function(h) {
          return h(result);
        });
      };
      PromiseManager2.prototype.clearHandler = function() {
        this.handlers.length = 0;
      };
      PromiseManager2.prototype.getExecutorLength = function() {
        return this.executors.length;
      };
      PromiseManager2.prototype.nextId = function() {
        return this.id += 1;
      };
      PromiseManager2.prototype.clear = function() {
        this.nextId();
        this.result = null;
        this.resolving = false;
        this.executors = [];
        this.applyHandlers(null);
      };
      PromiseManager2.prototype.next = function(id) {
        if (id !== this.id) return;
        this.result = null;
        var es = this.executors;
        es.length ? this.execs(es) : this.clear();
      };
      PromiseManager2.prototype.exec = function(executor, id) {
        var o = promiseExecutor2ToObject(executor);
        var reject = Utils_1.noop;
        var p;
        p = o.executor ? new Promise(function(res, rej) {
          reject = rej;
          o.executor(function() {
            return res(PROMISE_EXECUTOR2_STAT.COMPLETE);
          });
        }) : PromiseManager_1.timeoutPromise(0, PROMISE_EXECUTOR2_STAT.COMPLETE);
        o.done && (p = p.then(o.done));
        p = p.then(this.next.bind(this, id));
        p.catch(Utils_1.noop);
        return {
          reject: reject,
          skippable: !!o.group && o.group > PROMISE_EXECUTOR2_GROUP.NONE,
          promise: p,
          group: o.group || PROMISE_EXECUTOR2_GROUP.NONE,
          done: o.done
        };
      };
      PromiseManager2.prototype.fixExecutors = function(executors) {
        var es = [].concat(executors).map(function(e) {
          if ("function" === typeof e) return [ e, , PROMISE_EXECUTOR2_GROUP.NONE ];
          return e;
        });
        if (es.length) {
          var pgroup = es[0][2];
          for (var i = 1; i < es.length; i += 1) {
            var e = es[i];
            var group = e[2];
            pgroup !== PROMISE_EXECUTOR2_GROUP.NONE && pgroup !== group && group === PROMISE_EXECUTOR2_GROUP.SKIPPABLE && (e[2] = pgroup);
            pgroup = e[2];
          }
        }
        return es;
      };
      PromiseManager2.prototype.execs = function(executors) {
        if (!executors.length) {
          this.clear();
          return;
        }
        var executor = executors.shift();
        this.resolving = true;
        this.executors = executors;
        var r = this.exec(executor, this.nextId());
        this.result = r;
        this.applyHandlers(r);
      };
      PromiseManager2.prototype.play = function(executors) {
        var _this = this;
        this.clear();
        this.resolving = true;
        this.executors = this.fixExecutors(executors);
        this.scheduleOnce(function() {
          _this.execs(_this.executors);
        }, 0);
      };
      PromiseManager2.prototype.push = function(executors) {
        this.resolving ? [].push.apply(this.executors, this.fixExecutors(executors)) : this.play(executors);
      };
      PromiseManager2.prototype.skippable = function() {
        if (!this.resolving) return false;
        var er = this.result;
        if (!er || !er.skippable || !er.group) return false;
        return true;
      };
      PromiseManager2.prototype.skip = function() {
        var _a, _b;
        if (!this.skippable()) return;
        var er = this.result;
        er.reject();
        null === (_a = er.done) || void 0 === _a ? void 0 : _a.call(er, PROMISE_EXECUTOR2_STAT.INTERRUPT);
        var i = 0;
        for (;i < this.executors.length; i += 1) {
          var o = promiseExecutor2ToObject(this.executors[i]);
          if (er.group !== o.group && o.group !== PROMISE_EXECUTOR2_GROUP.SKIPPABLE) break;
          null === (_b = o.done) || void 0 === _b ? void 0 : _b.call(o, PROMISE_EXECUTOR2_STAT.NOT_STARTED);
        }
        this.execs(this.executors.slice(i));
      };
      PromiseManager2.prototype.onSkipClick = function() {
        this.skip();
      };
      PromiseManager2 = __decorate([ ccclass, menu("PromiseManager/PromiseManager2") ], PromiseManager2);
      return PromiseManager2;
    }(cc.Component);
    exports.default = PromiseManager2;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./PromiseManager": "PromiseManager"
  } ],
  PromiseManager: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "68cb71e53JF6pEffjV7BQDA", "PromiseManager");
    "use strict";
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    var __spreadArrays = this && this.__spreadArrays || function() {
      for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
      for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, 
      k++) r[k] = a[j];
      return r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.tweenNumberStop = exports.tweenNumberToPromise = exports.schedulePromise = exports.markNodePlay = exports.nodeChildrenComponentToPromise3 = exports.nodeChildrenComponentToPromise = exports.nodeChildrenAnimationStop = exports.resolveWrapper2 = exports.resolveWrapper = exports.timeoutResolvef = exports.timeoutPromise = exports.timeoutSec = exports.spSkeletonSetMix = exports.spSkeletonSetAnimationPause = exports.spSkeletonEmpty = exports.spSkeletonApply = exports.spSkeletonSetAnimation = exports.spSkeletonSetAnimationToPRR = exports.spSkeletonReject = exports.animationReject = exports.spSkeletonSetAnimationToPromise = exports.spSkeletonSetAnimationToPromise2 = exports.animationPlayToPRR = exports.animationStop = exports.animationGetState = exports.animationPlay = exports.animationPlayToPromise = exports.animationPlayToPromise2 = exports.promiseExecutorSequence = void 0;
    var LibGlobal_1 = require("../LibGlobal");
    var AnimationConfig_1 = require("../component/AnimationConfig");
    var Audio_1 = require("../component/Audio");
    var ParentNode_1 = require("../component/ParentNode");
    var SpSkeletonConfig_1 = require("../component/SpSkeletonConfig");
    var ColBase_1 = require("../data/ColBase");
    var ColSpSkeleton_1 = require("../data/ColSpSkeleton");
    var ColSpSkeleton2_1 = require("../data/ColSpSkeleton2");
    var MarkAudio_1 = require("../data/MarkAudio");
    var MarkNode_1 = require("../data/MarkNode");
    var MarkNumber_1 = require("../data/MarkNumber");
    var Utils_1 = require("../utils/Utils");
    function promiseExecutorSequence(executors) {
      return executors.reduce(function(promise, task) {
        var f;
        f = Array.isArray(task) ? function() {
          return Promise.all(task.map(function(t) {
            return new Promise(t);
          }));
        } : function() {
          return new Promise(task);
        };
        return promise.then(f);
      }, Promise.resolve());
    }
    exports.promiseExecutorSequence = promiseExecutorSequence;
    function animationPlayToPromise2(animation, _a) {
      var _b = void 0 === _a ? {} : _a, _c = _b.index, index = void 0 === _c ? null : _c, _d = _b.bindResolve, bindResolve = void 0 === _d || _d, _e = _b.doEnactive, doEnactive = void 0 !== _e && _e;
      return animationPlayToPromise(animation, index, bindResolve, doEnactive);
    }
    exports.animationPlayToPromise2 = animationPlayToPromise2;
    function animationPlayToPromise(animation, index, bindResolve, doEnactive) {
      void 0 === bindResolve && (bindResolve = true);
      void 0 === doEnactive && (doEnactive = false);
      if (!animation.isValid) return Promise.resolve();
      return animationPlayToPRR(animation, index, bindResolve, doEnactive).promise;
    }
    exports.animationPlayToPromise = animationPlayToPromise;
    function animationPlay(animation, index) {
      var name = null;
      Utils_1.isNone(index) || (name = animation.getClips()[index].name);
      return animation.play(name);
    }
    exports.animationPlay = animationPlay;
    function animationGetState(animation, index) {
      var name = null;
      Utils_1.isNone(index) || (name = animation.getClips()[index].name);
      return animation.getAnimationState(name);
    }
    exports.animationGetState = animationGetState;
    function animationStop(animation, index) {
      var name = null;
      Utils_1.isNone(index) || (name = animation.getClips()[index].name);
      var state = animation.getAnimationState(name);
      state && state.stop();
    }
    exports.animationStop = animationStop;
    function animationPlayToPRR(animation, index, bindResolve, doEnactive) {
      void 0 === bindResolve && (bindResolve = true);
      void 0 === doEnactive && (doEnactive = false);
      var resolve = null;
      var reject = null;
      var clear = function() {
        doEnactive && (animation.node.active = false);
      };
      var prr = wm.get(animation);
      prr && prr.reject();
      var promise = new Promise(function(res, rej) {
        var e = new cc.Event(cc.Animation.EventType.PAUSE, false);
        animation.dispatchEvent(e);
        animation.unscheduleAllCallbacks();
        animation.off(cc.Animation.EventType.FINISHED);
        animation.off(cc.Animation.EventType.PAUSE);
        resolve = function() {
          clear();
          wm.delete(animation);
          res(animation);
        };
        reject = function() {
          animState && animState.isPlaying && animState.stop();
          clear();
          wm.delete(animation);
          rej();
        };
        animation.node.active = true;
        bindResolve && animation.once(cc.Animation.EventType.FINISHED, resolve);
        animation.once(cc.Animation.EventType.PAUSE, rej);
        var name = null;
        Utils_1.isNone(index) || (name = animation.getClips()[index].name);
        var animState = animation.play(name);
      });
      promise.catch(function() {});
      var o = {
        promise: promise,
        resolve: resolve,
        reject: reject
      };
      wm.set(animation, o);
      return o;
    }
    exports.animationPlayToPRR = animationPlayToPRR;
    function spSkeletonSetAnimationToPromise2(skeleton, _a) {
      var _b = void 0 === _a ? {} : _a, _c = _b.animation, animation = void 0 === _c ? null : _c, _d = _b.loopTime, loopTime = void 0 === _d ? 0 : _d, _e = _b.doActiveEnactive, doActiveEnactive = void 0 !== _e && _e, _f = _b.empty, empty = void 0 === _f || _f;
      return spSkeletonSetAnimationToPromise(skeleton, animation, loopTime, doActiveEnactive, empty);
    }
    exports.spSkeletonSetAnimationToPromise2 = spSkeletonSetAnimationToPromise2;
    function spSkeletonSetAnimationToPromise(skeleton, animation, loopTime, doActiveEnactive, empty) {
      void 0 === loopTime && (loopTime = 0);
      void 0 === doActiveEnactive && (doActiveEnactive = false);
      void 0 === empty && (empty = true);
      return spSkeletonSetAnimationToPRR(skeleton, animation, loopTime, doActiveEnactive, empty).promise;
    }
    exports.spSkeletonSetAnimationToPromise = spSkeletonSetAnimationToPromise;
    var wm = new WeakMap();
    function animationReject(animation) {
      var prr = wm.get(animation);
      if (prr) {
        prr.reject();
        wm.delete(animation);
        return true;
      }
      return false;
    }
    exports.animationReject = animationReject;
    function spSkeletonReject(skeleton) {
      var prr = wm.get(skeleton);
      if (prr) {
        prr.reject();
        wm.delete(skeleton);
        return true;
      }
      return false;
    }
    exports.spSkeletonReject = spSkeletonReject;
    function spSkeletonSetAnimationToPRR(skeleton, animation, loopTime, doActiveEnactive, empty) {
      void 0 === loopTime && (loopTime = 0);
      void 0 === doActiveEnactive && (doActiveEnactive = false);
      void 0 === empty && (empty = true);
      var resolve = null;
      var reject = null;
      var times = 0;
      if (!skeleton || !skeleton.isValid || !skeleton.node) return {
        promise: Promise.resolve("!isValid"),
        resolve: Utils_1.noop,
        reject: Utils_1.noop
      };
      var clear = function() {
        doActiveEnactive && (skeleton.node.active = false);
        skeleton.setCompleteListener(null);
      };
      var prr = wm.get(skeleton);
      prr && prr.reject();
      clear();
      var p = new Promise(function(res, rej) {
        resolve = function(te) {
          if (te.animation.name !== animation) return;
          clear();
          wm.delete(skeleton);
          res(animation);
        };
        reject = function() {
          wm.delete(skeleton);
          rej();
        };
        empty && spSkeletonEmpty(skeleton);
        var loop = !!loopTime;
        loopTime ? skeleton.setCompleteListener(function(te) {
          if (te.animation.name !== animation) return;
          times += 1;
          times >= loopTime && resolve(te);
        }) : skeleton.setCompleteListener(resolve);
        skeleton.node.active = true;
        skeleton.setAnimation(0, animation || skeleton.animation, loop);
        spSkeletonApply(skeleton);
      });
      var o = {
        reject: reject,
        resolve: resolve,
        promise: p
      };
      wm.set(skeleton, o);
      return o;
    }
    exports.spSkeletonSetAnimationToPRR = spSkeletonSetAnimationToPRR;
    function spSkeletonSetAnimation(skeleton, animName, loop, empty) {
      void 0 === loop && (loop = false);
      void 0 === empty && (empty = true);
      empty && spSkeletonEmpty(skeleton);
      var names = [].concat(animName);
      var len = names.length;
      len && names.forEach(function(n, idx) {
        if (!n) return;
        var anim = skeleton.findAnimation(n);
        if (!anim) return;
        var dur = anim.duration;
        var l = idx === len - 1 && dur > 0 && loop;
        0 === idx ? skeleton.setAnimation(0, n, l) : skeleton.addAnimation(0, n, l);
      });
      spSkeletonApply(skeleton);
    }
    exports.spSkeletonSetAnimation = spSkeletonSetAnimation;
    function spSkeletonApply(skeleton) {
      if (skeleton._state) {
        skeleton._state.update(0);
        skeleton._state.apply(skeleton._skeleton);
      }
    }
    exports.spSkeletonApply = spSkeletonApply;
    function spSkeletonEmpty(skeleton) {
      if (skeleton.isAnimationCached()) skeleton.setAnimation(0, "empty", false); else {
        skeleton.setToSetupPose();
        skeleton.clearTracks();
      }
    }
    exports.spSkeletonEmpty = spSkeletonEmpty;
    function spSkeletonSetAnimationPause(skeleton, animName, time) {
      if (skeleton.animation !== animName) {
        skeleton.setAnimation(0, animName, false);
        skeleton.paused = true;
      }
      if (skeleton.isAnimationCached()) {
        var totalTime = skeleton._frameCache.totalTime;
        var frames = skeleton._frameCache.frames;
        var idx = Math.floor(60 * time);
        idx > frames.length - 1 && (idx = frames.length - 1);
        var accTime = idx / frames.length * totalTime;
        var curTime = frames[idx];
        skeleton._accTime = accTime;
        skeleton._curFrame = curTime;
      } else {
        var te0 = skeleton.getCurrent(0);
        var start = te0.animationStart;
        var end = te0.animationEnd;
        var trackTime = te0.trackTime;
        time > end && (time = end);
        time < start && (time = start);
        var d = time - trackTime;
        skeleton._updateRealtime(d);
      }
    }
    exports.spSkeletonSetAnimationPause = spSkeletonSetAnimationPause;
    function spSkeletonSetMix(skeleton, animations, duration) {
      void 0 === animations && (animations = []);
      void 0 === duration && (duration = .1);
      0 === animations.length && (animations = Object.keys(skeleton.skeletonData.skeletonJson.animations).sort());
      animations.forEach(function(from) {
        animations.forEach(function(to) {
          skeleton.setMix(from, to, duration);
        });
      });
    }
    exports.spSkeletonSetMix = spSkeletonSetMix;
    function timeoutSec(fn, sec) {
      void 0 === sec && (sec = 0);
      return setTimeout(fn, 1e3 * sec);
    }
    exports.timeoutSec = timeoutSec;
    function timeoutPromise(sec, resolveValue) {
      return new Promise(function(resolve) {
        setTimeout(function() {
          return resolve(resolveValue);
        }, 1e3 * sec);
      });
    }
    exports.timeoutPromise = timeoutPromise;
    function timeoutResolvef(sec) {
      return function(resolve) {
        timeoutPromise(sec).then(resolve);
      };
    }
    exports.timeoutResolvef = timeoutResolvef;
    function resolveWrapper(promise) {
      return new Promise(function(resolve) {
        promise.then(resolve, resolve);
      });
    }
    exports.resolveWrapper = resolveWrapper;
    function resolveWrapper2(dur, promise) {
      return new Promise(function(resolve) {
        if (dur) {
          var node_1 = new cc.Node();
          var res = function() {
            node_1.destroy();
            resolve();
          };
          var action = cc.sequence(cc.delayTime(dur), cc.callFunc(res));
          cc.director.getActionManager().addAction(action, node_1, false);
        }
        promise.then(resolve, resolve);
      });
    }
    exports.resolveWrapper2 = resolveWrapper2;
    var nodeChildrenComponentWeakMap = new WeakMap();
    function nodeChildrenComponentIsCurrentPlayId(node, playId) {
      if (nodeChildrenComponentWeakMap.has(node)) {
        var id = nodeChildrenComponentWeakMap.get(node);
        return playId === id;
      }
      return true;
    }
    function nodeChildrenComponentNextPlayId(node) {
      if (nodeChildrenComponentWeakMap.has(node)) {
        var next = nodeChildrenComponentWeakMap.get(node) + 1;
        nodeChildrenComponentWeakMap.set(node, next);
        return next;
      }
      nodeChildrenComponentWeakMap.set(node, 0);
      return 0;
    }
    function nodeChildrenAnimationStop(node) {
      nodeChildrenComponentNextPlayId(node);
      node.getComponentsInChildren(cc.Animation).forEach(function(anim) {
        animationReject(anim);
        if (anim.currentClip) {
          var index = anim.getClips().indexOf(anim.currentClip);
          animationStop(anim, index);
        }
      });
      node.getComponentsInChildren(sp.Skeleton).forEach(function(ske) {
        spSkeletonReject(ske);
        spSkeletonEmpty(ske);
      });
      var parentNodes = node.getComponentsInChildren(ParentNode_1.default);
      parentNodes.length && parentNodes.map(function(pn) {
        if (-1 === node.children.indexOf(pn.node)) return;
        var anim = pn.parentNode.getComponent(cc.Animation);
        if (anim) {
          animationReject(anim);
          if (anim.currentClip) {
            var index = anim.getClips().indexOf(anim.currentClip);
            animationStop(anim, index);
          }
        }
        var ske = node.getComponent(sp.Skeleton);
        if (ske) {
          spSkeletonReject(ske);
          spSkeletonEmpty(ske);
        }
      });
    }
    exports.nodeChildrenAnimationStop = nodeChildrenAnimationStop;
    function nodeChildrenComponentToPromise(node, ccAnimationIndex, debug) {
      void 0 === debug && (debug = false);
      return __awaiter(this, void 0, void 0, function() {
        var eachAnimation, eachSkeleton, ps, animations, parentNodes, skeletons;
        var _this = this;
        return __generator(this, function(_a) {
          switch (_a.label) {
           case 0:
            eachAnimation = function(anim, i) {
              return __awaiter(_this, void 0, void 0, function() {
                var index, mn, p;
                return __generator(this, function(_a) {
                  switch (_a.label) {
                   case 0:
                    index = "undefined" === typeof ccAnimationIndex || "number" === typeof ccAnimationIndex ? ccAnimationIndex : ccAnimationIndex[i];
                    mn = anim.getComponent(MarkNumber_1.default);
                    if (!mn) return [ 3, 2 ];
                    anim.node.active = false;
                    return [ 4, schedulePromise(mn.data) ];

                   case 1:
                    _a.sent();
                    _a.label = 2;

                   case 2:
                    p = resolveWrapper(animationPlayToPromise(anim, index));
                    (true, debug) && Utils_1.log("nodeChildrenComponentToPromise", anim, index, p);
                    return [ 2, p ];
                  }
                });
              });
            };
            eachSkeleton = function(ske, i) {
              return __awaiter(_this, void 0, void 0, function() {
                var config, col, col2, str, loop, enactive, justSetAnimation, index, mn, p;
                return __generator(this, function(_a) {
                  switch (_a.label) {
                   case 0:
                    config = ske.getComponent(SpSkeletonConfig_1.default);
                    col = ske.getComponent(ColSpSkeleton_1.default);
                    col2 = ske.getComponent(ColSpSkeleton2_1.default);
                    str = ske.animation;
                    loop = 0;
                    enactive = true;
                    justSetAnimation = false;
                    if (config || col2 || col) {
                      true;
                      1 !== [ config, col2, col ].filter(Utils_1.identity).length && Utils_1.warn("Skeleton have config and col, this may confuse.");
                      if (config) {
                        str = config.animation;
                        loop = config.loopTime ? config.loopTime : config.loop ? 1 : 0;
                        enactive = config.enactive;
                        justSetAnimation = config.justSetAnimation;
                      }
                      if (col) {
                        index = "undefined" === typeof ccAnimationIndex || "number" === typeof ccAnimationIndex ? ccAnimationIndex : ccAnimationIndex[i];
                        str = col.animations[index];
                        loop = 0;
                        enactive = true;
                      }
                      if (col2) {
                        str = col2.animation;
                        loop = col2.loop ? 1 : 0;
                        enactive = !col2.loop;
                      }
                    }
                    mn = ske.getComponent(MarkNumber_1.default);
                    if (!mn) return [ 3, 2 ];
                    ske.node.active = false;
                    return [ 4, schedulePromise(mn.data) ];

                   case 1:
                    _a.sent();
                    _a.label = 2;

                   case 2:
                    if (!justSetAnimation) {
                      p = resolveWrapper(spSkeletonSetAnimationToPromise(ske, str, loop, enactive));
                      (true, debug) && Utils_1.log("nodeChildrenComponentToPromise", ske, str, loop, enactive, p);
                      return [ 2, p ];
                    }
                    (true, debug) && Utils_1.log("nodeChildrenComponentToPromise", ske, str, Boolean(loop));
                    ske.node.active = true;
                    spSkeletonSetAnimation(ske, str, Boolean(loop), true);
                    return [ 2 ];
                  }
                });
              });
            };
            ps = [];
            animations = node.getComponentsInChildren(cc.Animation);
            animations.length && ps.push.apply(ps, animations.map(eachAnimation));
            parentNodes = node.getComponentsInChildren(ParentNode_1.default);
            parentNodes.length && ps.push.apply(ps, parentNodes.map(function(pn, i) {
              return __awaiter(_this, void 0, void 0, function() {
                var anim, ske;
                return __generator(this, function(_a) {
                  if (-1 === node.children.indexOf(pn.node)) return [ 2 ];
                  anim = pn.parentNode.getComponent(cc.Animation);
                  anim && eachAnimation(anim, i);
                  ske = pn.parentNode.getComponent(sp.Skeleton);
                  ske && eachSkeleton(ske, i);
                  return [ 2 ];
                });
              });
            }));
            skeletons = node.getComponentsInChildren(sp.Skeleton);
            skeletons.length && ps.push.apply(ps, skeletons.map(eachSkeleton));
            return [ 4, Promise.all(ps) ];

           case 1:
            _a.sent();
            return [ 2 ];
          }
        });
      });
    }
    exports.nodeChildrenComponentToPromise = nodeChildrenComponentToPromise;
    function nodeChildrenComponentToPromise3(node) {
      var args = [];
      for (var _i = 1; _i < arguments.length; _i++) args[_i - 1] = arguments[_i];
      return __awaiter(this, void 0, void 0, function() {
        var eachAnimation, eachSkeleton, map, append, each, p, e_1;
        var _this = this;
        return __generator(this, function(_a) {
          switch (_a.label) {
           case 0:
            eachAnimation = function(x) {
              x.pre();
              x.animation.node.active = false;
              return function() {
                return __awaiter(_this, void 0, void 0, function() {
                  var a, i, enactive, ma, p;
                  var _this = this;
                  return __generator(this, function(_a) {
                    switch (_a.label) {
                     case 0:
                      a = x.animation;
                      i = x.index;
                      enactive = x.enactive;
                      x.animation.node.active = true;
                      if (!x.animation.node.activeInHierarchy) return [ 2, Promise.reject(x.animation.getClips()[x.index].name + "!activeInHierarchy") ];
                      ma = x.getComponent(MarkAudio_1.default);
                      ma && function() {
                        return __awaiter(_this, void 0, void 0, function() {
                          return __generator(this, function(_a) {
                            switch (_a.label) {
                             case 0:
                              if (!ma.delay) return [ 3, 2 ];
                              return [ 4, schedulePromise(ma.delay) ];

                             case 1:
                              _a.sent();
                              _a.label = 2;

                             case 2:
                              Audio_1.audioPlay(ma.audioName, {
                                throttle: 100
                              });
                              return [ 2 ];
                            }
                          });
                        });
                      }();
                      p = resolveWrapper(animationPlayToPromise(a, i, true, enactive));
                      true;
                      Utils_1.log("nodeChildrenComponentToPromise3", p, x, i);
                      return [ 4, p ];

                     case 1:
                      _a.sent();
                      return [ 2 ];
                    }
                  });
                });
              };
            };
            eachSkeleton = function(x) {
              x.pre();
              x.skeleton.node.active = false;
              return function() {
                return __awaiter(_this, void 0, void 0, function() {
                  var str, loop, enactive, justSetAnimation, ske, ma, p_1;
                  var _this = this;
                  return __generator(this, function(_a) {
                    switch (_a.label) {
                     case 0:
                      loop = 0;
                      enactive = true;
                      justSetAnimation = false;
                      ske = x.skeleton;
                      str = x.animation;
                      loop = x.loopTime ? x.loopTime : x.loop ? 1 : 0;
                      enactive = x.enactive;
                      justSetAnimation = x.justSetAnimation;
                      ske.node.active = true;
                      if (!ske.node.activeInHierarchy) return [ 2, Promise.reject(x.animation + "!activeInHierarchy") ];
                      ma = x.getComponent(MarkAudio_1.default);
                      ma && function() {
                        return __awaiter(_this, void 0, void 0, function() {
                          return __generator(this, function(_a) {
                            switch (_a.label) {
                             case 0:
                              if (!ma.delay) return [ 3, 2 ];
                              return [ 4, schedulePromise(ma.delay) ];

                             case 1:
                              _a.sent();
                              _a.label = 2;

                             case 2:
                              Audio_1.audioPlay(ma.audioName, {
                                throttle: 100
                              });
                              return [ 2 ];
                            }
                          });
                        });
                      }();
                      if (!justSetAnimation) return [ 3, 1 ];
                      true;
                      Utils_1.log("nodeChildrenComponentToPromise3", x, str, Boolean(loop));
                      spSkeletonSetAnimation(ske, str, Boolean(loop), true);
                      return [ 3, 3 ];

                     case 1:
                      p_1 = resolveWrapper(spSkeletonSetAnimationToPromise(ske, str, loop, enactive));
                      true;
                      Utils_1.log("nodeChildrenComponentToPromise3", p_1, x, str, loop, enactive);
                      return [ 4, p_1 ];

                     case 2:
                      _a.sent();
                      _a.label = 3;

                     case 3:
                      return [ 2 ];
                    }
                  });
                });
              };
            };
            map = new Map();
            append = function(c, f) {
              map.set(c, f);
            };
            each = function(node) {
              return __awaiter(_this, void 0, void 0, function() {
                var ac, sc;
                return __generator(this, function(_a) {
                  ac = node.getComponent(AnimationConfig_1.default);
                  ac && append(ac, eachAnimation(ac));
                  sc = node.getComponent(SpSkeletonConfig_1.default);
                  sc && append(sc, eachSkeleton(sc));
                  return [ 2 ];
                });
              });
            };
            node.getComponentsInChildren(ColBase_1.default).forEach(function(col, i) {
              var ii = col.colKey ? Number(col.colKey) : i;
              var value = args[ii];
              col.reset(null, value, "");
              true;
              Utils_1.log("nodeChildrenComponentToPromise3", col, ii, value);
            });
            node.getComponentsInChildren(AnimationConfig_1.default).forEach(each);
            node.getComponentsInChildren(SpSkeletonConfig_1.default).forEach(each);
            node.getComponentsInChildren(ParentNode_1.default).forEach(function(pn) {
              if (-1 === node.children.indexOf(pn.node)) return;
              each(pn.parentNode);
            });
            node.active = true;
            p = markNodePlay(node, map);
            _a.label = 1;

           case 1:
            _a.trys.push([ 1, 3, , 4 ]);
            return [ 4, p ];

           case 2:
            _a.sent();
            return [ 3, 4 ];

           case 3:
            e_1 = _a.sent();
            return [ 2, Promise.resolve(e_1) ];

           case 4:
            node.active = false;
            return [ 2, p ];
          }
        });
      });
    }
    exports.nodeChildrenComponentToPromise3 = nodeChildrenComponentToPromise3;
    function markNodePlay(node, map) {
      var _this = this;
      var playId = nodeChildrenComponentNextPlayId(node);
      var arr = [];
      map.forEach(function(f, c) {
        var mn = c.getComponent(MarkNode_1.default);
        var x = {
          c: c,
          w: [],
          n: []
        };
        if (mn) {
          var waitNodes = [].concat(mn.refNode, mn.refNodes);
          x.w = waitNodes.flatMap(function(wn) {
            return wn.getComponents(cc.Component);
          }).filter(function(c) {
            return c instanceof SpSkeletonConfig_1.default || c instanceof AnimationConfig_1.default;
          });
        }
        arr.push(x);
      });
      var wm = new WeakMap();
      var wm2 = new WeakMap();
      arr.forEach(function(x) {
        x.w.forEach(function(wc) {
          var wx = arr.find(function(wx) {
            return wx.c === wc;
          });
          wx.n.push(x.c);
        });
        var res;
        var p = new Promise(function(r) {
          res = r;
        });
        wm2.set(x.c, [ p, res ]);
      });
      var first = arr.filter(function(x) {
        return 0 === x.w.length;
      });
      var exec = function(c) {
        return __awaiter(_this, void 0, void 0, function() {
          var p;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              p = wm.get(c);
              if (p) return [ 2, wm2.get(c)[0] ];
              p = map.get(c)();
              wm.set(c, p);
              return [ 4, p ];

             case 1:
              _a.sent();
              wm2.get(c)[1]();
              return [ 2, p ];
            }
          });
        });
      };
      var getNode = function(c) {
        if (c instanceof SpSkeletonConfig_1.default) return c.skeleton.node;
        if (c instanceof AnimationConfig_1.default) return c.animation.node;
      };
      var str = function(c) {
        true;
        if (c instanceof SpSkeletonConfig_1.default) return c.animation;
        if (c instanceof AnimationConfig_1.default) return c.animation.getClips()[c.index].name;
        return "";
      };
      var check = function(c) {
        if (!nodeChildrenComponentIsCurrentPlayId(node, playId)) return Promise.reject(str(c) + "!playId");
        if (!node.isValid) return Promise.reject(str(c) + "!isValid");
        return Promise.resolve();
      };
      var step = function(xOrComponent) {
        return __awaiter(_this, void 0, void 0, function() {
          var x, mn;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              x = xOrComponent instanceof cc.Component ? arr.find(function(x) {
                return x.c === xOrComponent;
              }) : xOrComponent;
              return [ 4, check(x.c) ];

             case 1:
              _a.sent();
              if (!x.w.length) return [ 3, 3 ];
              return [ 4, Promise.all(x.w.map(function(c) {
                return wm2.get(c)[0];
              })) ];

             case 2:
              _a.sent();
              _a.label = 3;

             case 3:
              return [ 4, check(x.c) ];

             case 4:
              _a.sent();
              mn = x.c.getComponent(MarkNumber_1.default);
              if (!(mn && mn.data)) return [ 3, 6 ];
              getNode(x.c).active = mn.active;
              return [ 4, schedulePromise(mn.data) ];

             case 5:
              _a.sent();
              _a.label = 6;

             case 6:
              return [ 4, check(x.c) ];

             case 7:
              _a.sent();
              return [ 4, exec(x.c) ];

             case 8:
              _a.sent();
              if (!(mn && mn.data2)) return [ 3, 10 ];
              return [ 4, schedulePromise(mn.data2) ];

             case 9:
              _a.sent();
              getNode(x.c).active = mn.active2;
              _a.label = 10;

             case 10:
              return [ 4, check(x.c) ];

             case 11:
              _a.sent();
              if (x.n.length) return [ 2, Promise.all([ Promise.resolve(str(x.c)), Promise.all(x.n.map(step)) ]) ];
              return [ 2, Promise.resolve(str(x.c)) ];
            }
          });
        });
      };
      Utils_1.log("nodeChildrenComponentToPromise3 play", arr);
      return Promise.all(first.map(step));
    }
    exports.markNodePlay = markNodePlay;
    function schedulePromise(dur) {
      return new Promise(function(resolve) {
        var node = new cc.Node();
        var res = function() {
          node.destroy();
          resolve(1);
        };
        var action = cc.sequence(cc.delayTime(dur), cc.callFunc(res));
        cc.director.getActionManager().addAction(action, node, false);
      });
    }
    exports.schedulePromise = schedulePromise;
    var map = {};
    function tweenNumberToPromise(from, to, dur, handler, opts) {
      void 0 === opts && (opts = {});
      return new Promise(function(resolve, reject) {
        var _a;
        var obj = {
          num: from
        };
        var key = (null === opts || void 0 === opts ? void 0 : opts.key) || "";
        map[key] = {
          obj: obj,
          reject: reject
        };
        var t = cc.tween(obj);
        var arr = [ opts.before, cc.tween().to(dur, {
          num: to
        }, {
          onUpdate: function(obj, t) {
            handler(obj.num);
          },
          easing: null === (_a = opts.easing) || void 0 === _a ? void 0 : _a.easing
        }), cc.callFunc(function() {
          handler(to);
        }), opts.after, cc.callFunc(function() {
          resolve();
        }) ].filter(Utils_1.identity);
        t.sequence.apply(t, __spreadArrays([ arr[0] ], arr.slice(1))).start();
      });
    }
    exports.tweenNumberToPromise = tweenNumberToPromise;
    function tweenNumberStop(key) {
      void 0 === key && (key = "");
      var data = map[key];
      if (!data) {
        true;
        Utils_1.warn("tweenNumberStop key not exist", key);
        return;
      }
      delete map[key];
      data.reject();
      cc.Tween.stopAllByTarget(data.obj);
    }
    exports.tweenNumberStop = tweenNumberStop;
    LibGlobal_1.globalDebugNNN(nodeChildrenComponentToPromise, "nodeChildrenComponentToPromise", false);
    LibGlobal_1.globalDebugNNN(nodeChildrenAnimationStop, "nodeChildrenAnimationStop", false);
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../component/AnimationConfig": "AnimationConfig",
    "../component/Audio": "Audio",
    "../component/ParentNode": "ParentNode",
    "../component/SpSkeletonConfig": "SpSkeletonConfig",
    "../data/ColBase": "ColBase",
    "../data/ColSpSkeleton": "ColSpSkeleton",
    "../data/ColSpSkeleton2": "ColSpSkeleton2",
    "../data/MarkAudio": "MarkAudio",
    "../data/MarkNode": "MarkNode",
    "../data/MarkNumber": "MarkNumber",
    "../utils/Utils": "Utils"
  } ],
  PromiseQueue: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "46606k61OFEqoTXaSM2B8eC", "PromiseQueue");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.promiseQueueClear = exports.promiseQueueIdle = exports.promiseQueueUnshiftPlay = exports.promiseQueuePlay = void 0;
    var LibGlobal_1 = require("../LibGlobal");
    var PromiseManager_1 = require("./PromiseManager");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var QueueData = function() {
      function QueueData(queue, idle) {
        void 0 === queue && (queue = []);
        void 0 === idle && (idle = true);
        this.queue = queue;
        this.idle = idle;
      }
      return QueueData;
    }();
    var promiseQueue;
    var defaultPre = function() {
      return true;
    };
    function promiseQueuePre() {
      if (!promiseQueue) {
        promiseQueue = new PromiseQueue();
        LibGlobal_1.globalDebugNNN(promiseQueue, "pq");
      }
    }
    function promiseQueuePlay(group, executor, pre) {
      void 0 === pre && (pre = defaultPre);
      promiseQueuePre();
      return promiseQueue.play(group, executor, pre);
    }
    exports.promiseQueuePlay = promiseQueuePlay;
    function promiseQueueUnshiftPlay(group, executor, pre) {
      void 0 === pre && (pre = defaultPre);
      promiseQueuePre();
      return promiseQueue.play(group, executor, pre, true);
    }
    exports.promiseQueueUnshiftPlay = promiseQueueUnshiftPlay;
    function promiseQueueIdle(group) {
      promiseQueuePre();
      return promiseQueue.idle(group);
    }
    exports.promiseQueueIdle = promiseQueueIdle;
    function promiseQueueClear() {
      promiseQueuePre();
      return promiseQueue.clear();
    }
    exports.promiseQueueClear = promiseQueueClear;
    var PromiseQueue = function() {
      function PromiseQueue() {
        this.data = [];
      }
      PromiseQueue.prototype.play = function(group, executor, pre, unshift) {
        var _this = this;
        void 0 === unshift && (unshift = false);
        var qd = this.data[group];
        if (!qd) {
          qd = new QueueData();
          this.data[group] = qd;
        }
        if (qd.idle) {
          qd.idle = false;
          var p = executor();
          var rwp = PromiseManager_1.resolveWrapper(p);
          rwp.then(function() {
            return _this.next(group);
          });
          return p;
        }
        var p = new Promise(function(res, rej) {
          unshift ? qd.queue.unshift([ executor, pre, res, rej ]) : qd.queue.push([ executor, pre, res, rej ]);
        });
        return p;
      };
      PromiseQueue.prototype.next = function(group) {
        var _this = this;
        var qd = this.data[group];
        if (0 === qd.queue.length) qd.idle = true; else {
          var _a = qd.queue.shift(), executor = _a[0], pre = _a[1], res = _a[2], rej = _a[3];
          if (!pre()) {
            rej("reject by pre");
            return this.next(group);
          }
          var p = executor();
          p.then(res, rej);
          var rwp = PromiseManager_1.resolveWrapper(p);
          rwp.then(function() {
            return _this.next(group);
          });
        }
      };
      PromiseQueue.prototype.idle = function(group) {
        var qd = this.data[group];
        if (!qd) {
          qd = new QueueData();
          this.data[group] = qd;
        }
        return qd.idle;
      };
      PromiseQueue.prototype.clear = function() {
        this.data.length = 0;
      };
      PromiseQueue = __decorate([ ccclass ], PromiseQueue);
      return PromiseQueue;
    }();
    exports.default = PromiseQueue;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "./PromiseManager": "PromiseManager"
  } ],
  PromiseUtil: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ce01fHWx5BM57ElzYyucSqH", "PromiseUtil");
    "use strict";
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.nodeChildrenParticleSystemToPromise = exports.nodeChildrenComponentToPromise2 = void 0;
    var ParticleSystemBase_1 = require("../particle/ParticleSystemBase");
    var PromiseManager_1 = require("./PromiseManager");
    function nodeChildrenComponentToPromise2(node, ccAnimationIndex) {
      return __awaiter(this, void 0, void 0, function() {
        return __generator(this, function(_a) {
          return [ 2, Promise.all([ nodeChildrenParticleSystemToPromise(node), PromiseManager_1.nodeChildrenComponentToPromise(node, ccAnimationIndex) ]) ];
        });
      });
    }
    exports.nodeChildrenComponentToPromise2 = nodeChildrenComponentToPromise2;
    function nodeChildrenParticleSystemToPromise(node) {
      return __awaiter(this, void 0, void 0, function() {
        var pss, durations, psbs, dur_1;
        return __generator(this, function(_a) {
          pss = node.getComponentsInChildren(cc.ParticleSystem);
          durations = [];
          if (pss.length) {
            pss.forEach(function(ps) {
              return ps.resetSystem();
            });
            durations.push.apply(durations, pss.map(function(ps) {
              return ps.duration + ps.life + Math.abs(ps.lifeVar);
            }));
          }
          psbs = node.getComponentsInChildren(ParticleSystemBase_1.default);
          if (psbs.length) {
            psbs.forEach(function(psb) {
              return psb.shoot();
            });
            durations.push.apply(durations, pss.map(function(ps) {
              return ps.duration + ps.life + Math.abs(ps.lifeVar);
            }));
          }
          if (durations.length) {
            dur_1 = Math.max.apply(null, durations);
            return [ 2, new Promise(function(resolve) {
              var tn = node.addComponent(cc.Component);
              tn.scheduleOnce(function() {
                tn.destroy();
                resolve(1);
              }, dur_1);
            }) ];
          }
          return [ 2 ];
        });
      });
    }
    exports.nodeChildrenParticleSystemToPromise = nodeChildrenParticleSystemToPromise;
    cc._RF.pop();
  }, {
    "../particle/ParticleSystemBase": "ParticleSystemBase",
    "./PromiseManager": "PromiseManager"
  } ],
  Repeat: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "47baenbX2NPZYPbKP4AFnoT", "Repeat");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ColBase_1 = require("../data/ColBase");
    var KeyStr_1 = require("../data/KeyStr");
    var ResourcesCol_1 = require("../script/ResourcesCol");
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var Repeat = function(_super) {
      __extends(Repeat, _super);
      function Repeat() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.templateNode = null;
        _this.prefix = "";
        _this.postfix = "";
        _this.ranges = [];
        return _this;
      }
      Repeat.prototype.onLoad = function() {
        var _this = this;
        this.templateNode.removeFromParent();
        var arr = Utils_1.flattenDeep(this.ranges.map(function(ran) {
          var split = ran.split("-");
          var l = Number(split[0]);
          var r = Number(split[1]);
          return r ? Utils_1.range(r - l + 1).map(function(i) {
            return i + l;
          }) : l;
        }));
        arr.forEach(function(idx, index) {
          var name = _this.prefix + idx + _this.postfix;
          var data = {
            name: name,
            idx: idx,
            index: index + 1
          };
          var node = cc.instantiate(_this.templateNode);
          var cols = node.getComponents(ColBase_1.default).concat(node.getComponentsInChildren(ColBase_1.default));
          cols.forEach(function(col) {
            col.reset(null, data[col.colKey], "");
          });
          var rcols = node.getComponents(ResourcesCol_1.default).concat(node.getComponentsInChildren(ResourcesCol_1.default));
          rcols.forEach(function(col) {
            var ks = new KeyStr_1.KeyStr();
            var _a = data.name.split("."), key = _a[0], str = _a[1];
            ks.key = key;
            ks.str = str;
            col.keyStrs.push(ks);
          });
          _this.node.addChild(node);
        });
      };
      __decorate([ property(cc.Node) ], Repeat.prototype, "templateNode", void 0);
      __decorate([ property(cc.String) ], Repeat.prototype, "prefix", void 0);
      __decorate([ property(cc.String) ], Repeat.prototype, "postfix", void 0);
      __decorate([ property({
        type: [ cc.String ],
        tooltip: "\u8bbe\u5b9a\u8303\u4f8b 1\u30011-3\u30015-9\n\n\u76ee\u524d\u6709\u4e09\u4e2a colKey \u53ef\u7528\uff1a\nindex \u7531 1 \u5f00\u59cb\u7684\u9635\u5217\u7d22\u5f15\u3001\nidx \u8bbe\u5b9a\u7684\u533a\u95f4\u53f7\u7801\u3001\nname idx \u52a0\u4e0a\u524d\u7f00\u53ca\u540e\u7f00"
      }) ], Repeat.prototype, "ranges", void 0);
      Repeat = __decorate([ ccclass ], Repeat);
      return Repeat;
    }(cc.Component);
    exports.default = Repeat;
    cc._RF.pop();
  }, {
    "../data/ColBase": "ColBase",
    "../data/KeyStr": "KeyStr",
    "../script/ResourcesCol": "ResourcesCol",
    "../utils/Utils": "Utils"
  } ],
  ResLoaderAppend: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f02d5cRr8BM9ZZNtZYlslKK", "ResLoaderAppend");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ResLoader_1 = require("./ResLoader");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ResLoaderAppend = function(_super) {
      __extends(ResLoaderAppend, _super);
      function ResLoaderAppend() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.spriteAtlass = [];
        _this.skeletonDatas = [];
        _this.animationClips = [];
        return _this;
      }
      ResLoaderAppend.prototype.onLoad = function() {
        var l = ResLoader_1.getResLoader();
        l.appendAtlas(this.spriteAtlass);
        l.appendSkeletonData(this.skeletonDatas);
        l.appendAnimationClip(this.animationClips);
      };
      __decorate([ property([ cc.SpriteAtlas ]) ], ResLoaderAppend.prototype, "spriteAtlass", void 0);
      __decorate([ property([ sp.SkeletonData ]) ], ResLoaderAppend.prototype, "skeletonDatas", void 0);
      __decorate([ property([ cc.AnimationClip ]) ], ResLoaderAppend.prototype, "animationClips", void 0);
      ResLoaderAppend = __decorate([ ccclass ], ResLoaderAppend);
      return ResLoaderAppend;
    }(cc.Component);
    exports.default = ResLoaderAppend;
    cc._RF.pop();
  }, {
    "./ResLoader": "ResLoader"
  } ],
  ResLoader: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "2f1a9IS/ElIjY7z7tXFWUyO", "ResLoader");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.getResSpriteFrame = exports.setResLoader = exports.getResLoader = void 0;
    var KeyAtlas_1 = require("../data/KeyAtlas");
    var Utils_1 = require("../utils/Utils");
    var ResourcesLoader_1 = require("./ResourcesLoader");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, inspector = _a.inspector, executionOrder = _a.executionOrder;
    var rl = null;
    function getResLoader() {
      return rl;
    }
    exports.getResLoader = getResLoader;
    function setResLoader(resLoader) {
      rl = resLoader;
    }
    exports.setResLoader = setResLoader;
    function getResSpriteFrame(key) {
      if (!rl) return null;
      return rl.getSpriteFrame(key);
    }
    exports.getResSpriteFrame = getResSpriteFrame;
    var ResLoader = function(_super) {
      __extends(ResLoader, _super);
      function ResLoader() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.keyAtlass = [];
        _this.skeletonDatas = [];
        _this.animationClips = [];
        _this.frameCache = new Map();
        return _this;
      }
      ResLoader.prototype.onLoad = function() {
        setResLoader(this);
        this.keyAtlass.forEach(function(ka) {
          return ka.key = ka.atlas.name.split(".")[0];
        });
        var l = ResourcesLoader_1.getResourcesLoader();
        l && l.loaded(this.keyAtlass.map(function(ka) {
          return ka.atlas;
        }));
      };
      ResLoader.prototype.appendAtlas = function(atlass) {
        var _a;
        var _this = this;
        if (!atlass.length) return;
        var kas = atlass.filter(function(atlas) {
          return !_this.keyAtlass.find(function(ka) {
            return atlas === ka.atlas;
          });
        }).map(function(atlas) {
          return {
            atlas: atlas,
            key: atlas.name.split(".")[0]
          };
        });
        (_a = this.keyAtlass).push.apply(_a, kas);
      };
      ResLoader.prototype.appendSkeletonData = function(skeletonDatas) {
        var _a;
        if (!skeletonDatas.length) return;
        (_a = this.skeletonDatas).push.apply(_a, skeletonDatas);
        this.skeletonDatas = this.skeletonDatas.filter(Utils_1.onlyUnique);
      };
      ResLoader.prototype.appendAnimationClip = function(animationClips) {
        var _a;
        if (!animationClips.length) return;
        (_a = this.animationClips).push.apply(_a, animationClips);
        this.animationClips = this.animationClips.filter(Utils_1.onlyUnique);
      };
      ResLoader.prototype.getSpriteFrame = function(key) {
        var _a;
        if (this.frameCache.has(key)) return this.frameCache.get(key);
        var fuzzy = -1 === key.indexOf(".");
        var atlasKey = "";
        fuzzy || (_a = key.split("."), atlasKey = _a[0], key = _a[1]);
        for (var i = 0; i < this.keyAtlass.length; i += 1) {
          var ka = this.keyAtlass[i];
          if (!fuzzy && ka.key !== atlasKey) continue;
          var frame = ka.atlas.getSpriteFrame(key);
          if (frame) {
            this.frameCache.set(key, frame);
            return frame;
          }
        }
        return null;
      };
      __decorate([ property([ KeyAtlas_1.KeyAtlas ]) ], ResLoader.prototype, "keyAtlass", void 0);
      __decorate([ property([ sp.SkeletonData ]) ], ResLoader.prototype, "skeletonDatas", void 0);
      __decorate([ property([ cc.AnimationClip ]) ], ResLoader.prototype, "animationClips", void 0);
      ResLoader = __decorate([ ccclass, executionOrder(-1) ], ResLoader);
      return ResLoader;
    }(cc.Component);
    exports.default = ResLoader;
    cc._RF.pop();
  }, {
    "../data/KeyAtlas": "KeyAtlas",
    "../utils/Utils": "Utils",
    "./ResourcesLoader": "ResourcesLoader"
  } ],
  ResPageViewIndicator: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a3dc2rd8wVES7cY3xo4duJe", "ResPageViewIndicator");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var KeyStr_1 = require("../data/KeyStr");
    var ResLoader_1 = require("./ResLoader");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executionOrder = _a.executionOrder, requireComponent = _a.requireComponent;
    var ResPageViewIndicator = function(_super) {
      __extends(ResPageViewIndicator, _super);
      function ResPageViewIndicator() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.atlasKey = "";
        _this.key = "";
        _this.keyStrs = [];
        _this.loaded = false;
        return _this;
      }
      ResPageViewIndicator.prototype.loadFrame = function(keyAtlass) {
        void 0 === keyAtlass && (keyAtlass = []);
        var indicator = this.node.getComponent(cc.PageViewIndicator);
        var keyStrs = [ {
          key: this.atlasKey,
          str: this.key
        } ].concat(this.keyStrs);
        var arr = [];
        keyStrs.forEach(function(ks) {
          ks.str && arr.push.apply(arr, keyAtlass.map(function(ka) {
            return {
              key: ka.key,
              str: ks.str
            };
          }));
        });
        var d = KeyStr_1.findFrame(arr, keyAtlass);
        if (!d.frame) {
          true;
          console.log("Not found", [ {
            atlasKey: this.atlasKey,
            key: this.key
          } ], "in", keyAtlass);
        }
        indicator.spriteFrame = d.frame;
      };
      ResPageViewIndicator.prototype.onLoad = function() {
        this.pre();
      };
      ResPageViewIndicator.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        var la = ResLoader_1.getResLoader();
        this.loadFrame(la.keyAtlass);
      };
      __decorate([ property(cc.String) ], ResPageViewIndicator.prototype, "atlasKey", void 0);
      __decorate([ property(cc.String) ], ResPageViewIndicator.prototype, "key", void 0);
      __decorate([ property([ KeyStr_1.KeyStr ]) ], ResPageViewIndicator.prototype, "keyStrs", void 0);
      ResPageViewIndicator = __decorate([ ccclass, executionOrder(-1) ], ResPageViewIndicator);
      return ResPageViewIndicator;
    }(cc.Component);
    exports.default = ResPageViewIndicator;
    cc._RF.pop();
  }, {
    "../data/KeyStr": "KeyStr",
    "./ResLoader": "ResLoader"
  } ],
  ResSpriteToggle: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "72559y2tBFOda0+YQ+rDKbx", "ResSpriteToggle");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ResSprite_1 = require("./ResSprite");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu, requireComponent = _a.requireComponent;
    var ResSpriteToggle = function(_super) {
      __extends(ResSpriteToggle, _super);
      function ResSpriteToggle() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.toggles = [];
        return _this;
      }
      ResSpriteToggle.prototype.pre = function() {
        _super.prototype.pre.call(this);
        var frame = this.getComponent(cc.Sprite).spriteFrame;
        if (!frame) {
          this.node.active = false;
          return;
        }
        this.toggles.forEach(function(node) {
          node.active = false;
        });
        this.toggles.length = 0;
      };
      __decorate([ property([ cc.Node ]) ], ResSpriteToggle.prototype, "toggles", void 0);
      ResSpriteToggle = __decorate([ ccclass, menu("ResourcesLoad/ResourcesSprite2"), requireComponent(cc.Sprite) ], ResSpriteToggle);
      return ResSpriteToggle;
    }(ResSprite_1.default);
    exports.default = ResSpriteToggle;
    cc._RF.pop();
  }, {
    "./ResSprite": "ResSprite"
  } ],
  ResSprite: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "68cfcaKwRxGXoTGU33s0033", "ResSprite");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var KeyStr_1 = require("../data/KeyStr");
    var ResLoader_1 = require("./ResLoader");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executionOrder = _a.executionOrder, requireComponent = _a.requireComponent;
    var ResSprite = function(_super) {
      __extends(ResSprite, _super);
      function ResSprite() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.atlasKey = "";
        _this.key = "";
        _this.saveFrame = false;
        _this.keyStrs = [];
        _this.frame = null;
        _this.loaded = false;
        return _this;
      }
      ResSprite.prototype.loadFrame = function(keyAtlass) {
        void 0 === keyAtlass && (keyAtlass = []);
        var sprite = this.node.getComponent(cc.Sprite);
        var keyStrs = [ {
          key: this.atlasKey,
          str: this.key
        } ].concat(this.keyStrs);
        var arr = [];
        keyStrs.forEach(function(ks) {
          ks.str && arr.push.apply(arr, keyAtlass.map(function(ka) {
            return {
              key: ka.key,
              str: ks.str
            };
          }));
        });
        var d = KeyStr_1.findFrame(arr, keyAtlass);
        if (!d.frame) {
          true;
          console.log("Not found", arr, "in", keyAtlass);
        }
        this.saveFrame && (this.frame = d.frame);
        sprite.spriteFrame = d.frame;
        true;
        this.atlasKey = d.atlasKey;
        this.key = d.key;
      };
      ResSprite.prototype.onLoad = function() {
        this.pre();
      };
      ResSprite.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        if (true, !this.atlasKey) debugger;
        var l = ResLoader_1.getResLoader();
        this.loadFrame(l.keyAtlass);
      };
      __decorate([ property(cc.String) ], ResSprite.prototype, "atlasKey", void 0);
      __decorate([ property(cc.String) ], ResSprite.prototype, "key", void 0);
      __decorate([ property(cc.Boolean) ], ResSprite.prototype, "saveFrame", void 0);
      __decorate([ property({
        type: [ KeyStr_1.KeyStr ],
        tooltip: "\u5f9e\u7b2c\u4e00\u500b\u958b\u59cb\u627e\uff0c\u627e\u5230\u5c31\u7528 [{atlasKey, key}, ...keyStrs]"
      }) ], ResSprite.prototype, "keyStrs", void 0);
      ResSprite = __decorate([ ccclass, executionOrder(-1), requireComponent(cc.Sprite) ], ResSprite);
      return ResSprite;
    }(cc.Component);
    exports.default = ResSprite;
    cc._RF.pop();
  }, {
    "../data/KeyStr": "KeyStr",
    "./ResLoader": "ResLoader"
  } ],
  Resize1280x720: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "600d4fk7ghHK5pSqlXk4IFO", "Resize1280x720");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ResizeGlobal_1 = require("../ResizeGlobal");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executionOrder = _a.executionOrder;
    var Resize1280x720 = function(_super) {
      __extends(Resize1280x720, _super);
      function Resize1280x720() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      Resize1280x720.prototype.onLoad = function() {
        ResizeGlobal_1.resizeNode(ResizeGlobal_1.RESIZE_SCALE, this.node);
      };
      Resize1280x720 = __decorate([ ccclass, executionOrder(-1) ], Resize1280x720);
      return Resize1280x720;
    }(cc.Component);
    exports.default = Resize1280x720;
    cc._RF.pop();
  }, {
    "../ResizeGlobal": "ResizeGlobal"
  } ],
  ResizeGlobal: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "5f0a5Dn0xZA041OnbW8A4YA", "ResizeGlobal");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.resizeAnimationClip = exports.resizeNode = exports.RESIZE_SCALE = exports.fixWorldXY = exports.getWorldSize = exports.updateWorldSize = exports.setWorldSize = exports.getLayoutType = exports.applyOrientationMode = exports.setHorizontalOnly = exports.setVerticalOnly = exports.showAllMode = exports.horizontalOnly = exports.verticalOnly = exports.UI_LAYOUT = exports.getOnResizeComponent = exports.setOnResizeComponent = void 0;
    var LibGlobal_1 = require("./LibGlobal");
    var ParamsGlobal_1 = require("./ParamsGlobal");
    var LayoutShrink_1 = require("./component/LayoutShrink");
    var LayoutShrinkLabel_1 = require("./component/LayoutShrinkLabel");
    var NodeShrink_1 = require("./component/NodeShrink");
    var PageViewIndicatorSprite_1 = require("./component/PageViewIndicatorSprite");
    var SpriteFitWorldSize_1 = require("./component/SpriteFitWorldSize");
    var onResizeComponent = null;
    function setOnResizeComponent(onResize) {
      onResizeComponent = onResize;
    }
    exports.setOnResizeComponent = setOnResizeComponent;
    function getOnResizeComponent() {
      return onResizeComponent;
    }
    exports.getOnResizeComponent = getOnResizeComponent;
    var UI_LAYOUT;
    (function(UI_LAYOUT) {
      UI_LAYOUT[UI_LAYOUT["PC_HORIZONTAL"] = 0] = "PC_HORIZONTAL";
      UI_LAYOUT[UI_LAYOUT["MOBILE_HORIZONTAL"] = 1] = "MOBILE_HORIZONTAL";
      UI_LAYOUT[UI_LAYOUT["MOBILE_VERTICAL"] = 2] = "MOBILE_VERTICAL";
      UI_LAYOUT[UI_LAYOUT["UNKNOWN"] = 3] = "UNKNOWN";
    })(UI_LAYOUT = exports.UI_LAYOUT || (exports.UI_LAYOUT = {}));
    exports.verticalOnly = !!cc.sys.isMobile && ParamsGlobal_1.EXTRA_11;
    exports.horizontalOnly = !!cc.sys.isMobile && ParamsGlobal_1.EXTRA_12;
    exports.showAllMode = cc.sys.isMobile && cc.sys.os === cc.sys.OS_IOS && !ParamsGlobal_1.EXTRA_2 && !ParamsGlobal_1.EXTRA_3;
    function setVerticalOnly() {
      exports.verticalOnly = true;
      exports.horizontalOnly = false;
      applyOrientationMode();
    }
    exports.setVerticalOnly = setVerticalOnly;
    function setHorizontalOnly() {
      exports.horizontalOnly = true;
      exports.verticalOnly = false;
      applyOrientationMode();
    }
    exports.setHorizontalOnly = setHorizontalOnly;
    function applyOrientationMode() {
      exports.verticalOnly ? cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT) : exports.horizontalOnly ? cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE) : cc.view.setOrientation(cc.macro.ORIENTATION_AUTO);
    }
    exports.applyOrientationMode = applyOrientationMode;
    function getLayoutType() {
      if (LibGlobal_1.uiIsMobile) {
        if (exports.verticalOnly) return UI_LAYOUT.MOBILE_VERTICAL;
        if (exports.horizontalOnly) return UI_LAYOUT.MOBILE_HORIZONTAL;
        var size = getWorldSize();
        return size.width > size.height ? UI_LAYOUT.MOBILE_HORIZONTAL : UI_LAYOUT.MOBILE_VERTICAL;
      }
      return UI_LAYOUT.PC_HORIZONTAL;
    }
    exports.getLayoutType = getLayoutType;
    var worldSize = cc && cc.Size && new cc.Size(0, 0);
    var fixVec2 = cc && cc.Vec2 && new cc.Vec2(-worldSize.width / 2, -worldSize.height / 2);
    function setWorldSize(w, h) {
      worldSize.width = w;
      worldSize.height = h;
      fixVec2.x = -w / 2;
      fixVec2.y = -h / 2;
    }
    exports.setWorldSize = setWorldSize;
    function updateWorldSize() {
      var size = cc.view.getVisibleSize();
      setWorldSize(size.width, size.height);
    }
    exports.updateWorldSize = updateWorldSize;
    function getWorldSize() {
      return worldSize;
    }
    exports.getWorldSize = getWorldSize;
    function fixWorldXY(pos) {
      return pos.add(fixVec2);
    }
    exports.fixWorldXY = fixWorldXY;
    exports.RESIZE_SCALE = .667;
    function resizeNode(scale, root) {
      var eachProp = eachPropCreator(scale);
      each(root);
      function each(node) {
        var layout = node.getComponent(cc.Layout);
        eachProp(node, "width", Boolean(layout));
        eachProp(node, "height", Boolean(layout));
        eachProp(node, "x");
        eachProp(node, "y");
        if (layout) {
          eachProp(layout, "spacingX");
          eachProp(layout, "spacingY");
          eachProp(layout, "paddingBottom");
          eachProp(layout, "paddingLeft");
          eachProp(layout, "paddingRight");
          eachProp(layout, "paddingTop");
        }
        var w = node.getComponent(cc.Widget);
        if (w) {
          w.isAlignRight && w.isAbsoluteRight && eachProp(w, "right");
          w.isAlignBottom && w.isAbsoluteBottom && eachProp(w, "bottom");
          w.isAlignLeft && w.isAbsoluteLeft && eachProp(w, "left");
          w.isAlignTop && w.isAbsoluteTop && eachProp(w, "top");
        }
        var l = node.getComponent(cc.Label);
        if (l) {
          eachProp(l, "fontSize");
          eachProp(l, "lineHeight");
        }
        var r = node.getComponent(cc.RichText);
        if (r) {
          eachProp(r, "fontSize");
          eachProp(r, "maxWidth");
          eachProp(r, "lineHeight");
        }
        var ns = node.getComponent(NodeShrink_1.default);
        if (ns) {
          eachProp(ns.wh, "x");
          eachProp(ns.wh, "y");
        }
        var ls = node.getComponent(LayoutShrink_1.default);
        if (ls) {
          eachProp(ls.wh, "x");
          eachProp(ls.wh, "y");
        }
        var lsl = node.getComponent(LayoutShrinkLabel_1.default);
        if (lsl) {
          eachProp(lsl.wh, "x");
          eachProp(lsl.wh, "y");
        }
        var sws = node.getComponent(SpriteFitWorldSize_1.default);
        if (sws) {
          eachProp(sws.size, "width");
          eachProp(sws.size, "height");
        }
        var pvi = node.getComponent(cc.PageViewIndicator);
        if (pvi) {
          eachProp(pvi.cellSize, "width");
          eachProp(pvi.cellSize, "height");
          eachProp(pvi, "spacing");
        }
        var pvis = node.getComponent(PageViewIndicatorSprite_1.default);
        if (pvis) {
          eachProp(pvis.cellSize, "width");
          eachProp(pvis.cellSize, "height");
          eachProp(pvis, "spacing");
        }
        node.children.forEach(each);
      }
    }
    exports.resizeNode = resizeNode;
    function eachPropCreator(scale) {
      return function(x, prop, ceil) {
        void 0 === ceil && (ceil = false);
        if (!x) return;
        x[prop] = eachValue(scale, x[prop], ceil);
      };
    }
    function eachValue(scale, value, ceil) {
      void 0 === ceil && (ceil = false);
      return ceil ? Math.ceil(scale * value * 1e3) / 1e3 : Number((scale * value).toFixed(3));
    }
    var clipKeys = [ "cc.Widget#left" ];
    var processed = [];
    function resizeAnimationClip(scale, clip) {
      var uuid = clip._uuid;
      if (-1 !== processed.indexOf(uuid)) return;
      processed.push(uuid);
      var curveData = clip.curveData;
      each(curveData);
      Object.keys(curveData.paths).forEach(function(k) {
        each(curveData.paths[k]);
      });
      function each(data) {
        data.props && eachProps(data.props);
        data.comps && eachComps(data.comps);
      }
      function eachComps(comps) {
        Object.keys(comps).forEach(function(name) {
          var comp = comps[name];
          Object.keys(comp).forEach(function(key) {
            -1 !== clipKeys.indexOf(name + "#" + key) && comp[key].forEach(eachFrame);
          });
        });
      }
      function eachProps(props) {
        props.x && props.x.forEach(eachFrame);
        props.y && props.y.forEach(eachFrame);
        props.width && props.width.forEach(eachFrame);
        props.height && props.height.forEach(eachFrame);
      }
      function eachFrame(frameValue) {
        frameValue.value = eachValue(scale, frameValue.value);
      }
    }
    exports.resizeAnimationClip = resizeAnimationClip;
    cc._RF.pop();
  }, {
    "./LibGlobal": "LibGlobal",
    "./ParamsGlobal": "ParamsGlobal",
    "./component/LayoutShrink": "LayoutShrink",
    "./component/LayoutShrinkLabel": "LayoutShrinkLabel",
    "./component/NodeShrink": "NodeShrink",
    "./component/PageViewIndicatorSprite": "PageViewIndicatorSprite",
    "./component/SpriteFitWorldSize": "SpriteFitWorldSize"
  } ],
  ResourcesCol: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f6038Yulc5Du74IBElteXCr", "ResourcesCol");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var KeyStr_1 = require("../data/KeyStr");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu, requireComponent = _a.requireComponent;
    var ResourcesCol = function(_super) {
      __extends(ResourcesCol, _super);
      function ResourcesCol() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.keyStrs = [];
        _this.delay = false;
        return _this;
      }
      __decorate([ property([ KeyStr_1.KeyStr ]) ], ResourcesCol.prototype, "keyStrs", void 0);
      __decorate([ property(cc.Boolean) ], ResourcesCol.prototype, "delay", void 0);
      ResourcesCol = __decorate([ ccclass, menu("ResourcesLoad/ResourcesCol") ], ResourcesCol);
      return ResourcesCol;
    }(cc.Component);
    exports.default = ResourcesCol;
    cc._RF.pop();
  }, {
    "../data/KeyStr": "KeyStr"
  } ],
  ResourcesImageAtlas: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "24996Q/TVdHbLmS90Rz7f9C", "ResourcesImageAtlas");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var ResourcesCol_1 = require("./ResourcesCol");
    var ResourcesLoader_1 = require("./ResourcesLoader");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu, requireComponent = _a.requireComponent;
    var ResourcesImageAtlas = function(_super) {
      __extends(ResourcesImageAtlas, _super);
      function ResourcesImageAtlas() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      ResourcesImageAtlas.prototype.start = function() {
        this.load();
      };
      ResourcesImageAtlas.prototype.load = function() {
        if (this.delay) return;
        var l = ResourcesLoader_1.getResourcesLoader();
        l.keyAtlass.length && this.reset(l);
      };
      ResourcesImageAtlas.prototype.reset = function(loader) {
        var kss = this.keyStrs;
        var keyAtlas = null;
        var _loop_1 = function(i) {
          var ks = kss[i];
          var key = ks.key;
          keyAtlas = loader.keyAtlass.find(function(ka) {
            return ka.key === key;
          });
          if (keyAtlas) return "break";
        };
        for (var i = 0; i < kss.length; i += 1) {
          var state_1 = _loop_1(i);
          if ("break" === state_1) break;
        }
        (true, keyAtlas) || Utils_1.log("no font", this.keyStrs, "in", loader.keyAtlass);
        if (keyAtlas) {
          var rt = this.getComponent(cc.RichText);
          rt.imageAtlas = keyAtlas.atlas;
        }
      };
      ResourcesImageAtlas = __decorate([ ccclass, menu("ResourcesLoad/ResourcesImageAtlas"), requireComponent(cc.RichText) ], ResourcesImageAtlas);
      return ResourcesImageAtlas;
    }(ResourcesCol_1.default);
    exports.default = ResourcesImageAtlas;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./ResourcesCol": "ResourcesCol",
    "./ResourcesLoader": "ResourcesLoader"
  } ],
  ResourcesIndicator: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f74c2aCRBBJtpTUCPd/074m", "ResourcesIndicator");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var KeyStr_1 = require("../data/KeyStr");
    var ResourcesCol_1 = require("./ResourcesCol");
    var ResourcesLoader_1 = require("./ResourcesLoader");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ResourcesIndicator = function(_super) {
      __extends(ResourcesIndicator, _super);
      function ResourcesIndicator() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      ResourcesIndicator.prototype.onLoad = function() {
        if (this.delay) {
          var l = ResourcesLoader_1.getResourcesLoader();
          this.reset(l);
        }
      };
      ResourcesIndicator.prototype.reset = function(loader) {
        var indicator = this.node.getComponent(cc.PageViewIndicator);
        var d = KeyStr_1.findFrame(this.keyStrs, loader.keyAtlass);
        if (!d.frame) {
          true;
          console.log("Not found", this.keyStrs, "in", loader.keyAtlass);
        }
        indicator.spriteFrame = d.frame;
        indicator._indicators.forEach(function(node) {
          var s = node.getComponent(cc.Sprite);
          s.sizeMode = cc.Sprite.SizeMode.CUSTOM;
          s.spriteFrame = d.frame;
        });
      };
      ResourcesIndicator = __decorate([ ccclass, menu("ResourcesLoad/ResourcesIndicator") ], ResourcesIndicator);
      return ResourcesIndicator;
    }(ResourcesCol_1.default);
    exports.default = ResourcesIndicator;
    cc._RF.pop();
  }, {
    "../data/KeyStr": "KeyStr",
    "./ResourcesCol": "ResourcesCol",
    "./ResourcesLoader": "ResourcesLoader"
  } ],
  ResourcesLoader: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c9f6ebi3nZJKJSTWqd/i+DY", "ResourcesLoader");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.loadResAudioClipPromise = exports.setResourcesLoader = exports.getResourcesLoader = exports.langNeedEnUsUrl = exports.RESOURCES_URL = exports.DEFAULT_AUDIO_TYPE = exports.DEFAULT_OPER = exports.DEFAULT_LANG = void 0;
    var ParamsGlobal_1 = require("../ParamsGlobal");
    var StorageGlobal_1 = require("../StorageGlobal");
    var I18nManager_1 = require("../component/I18nManager");
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    exports.DEFAULT_LANG = "en_us";
    exports.DEFAULT_OPER = "99dd7845";
    exports.DEFAULT_AUDIO_TYPE = "mp3";
    var RESOURCES_URL;
    (function(RESOURCES_URL) {
      RESOURCES_URL["START_PAGE"] = "start_page";
      RESOURCES_URL["START_PAGE_LANG"] = "start_page_lang/{lang}";
      RESOURCES_URL["INFO_PAGE"] = "info_page";
      RESOURCES_URL["INFO_PAGE_LANG"] = "info_page_lang/{lang}";
    })(RESOURCES_URL = exports.RESOURCES_URL || (exports.RESOURCES_URL = {}));
    function langNeedEnUsUrl(lang, str, subUrl) {
      void 0 === subUrl && (subUrl = "");
      var plist = str.replace("{lang}", lang) + subUrl;
      var enPlist = str.replace("{lang}", "en_us") + subUrl;
      var has = cc.resources.getDirWithPath(plist).length;
      var enHas = cc.resources.getDirWithPath(enPlist).length;
      if (!has && enHas) return enPlist;
      return "";
    }
    exports.langNeedEnUsUrl = langNeedEnUsUrl;
    var loader = null;
    function getResourcesLoader() {
      return loader;
    }
    exports.getResourcesLoader = getResourcesLoader;
    function setResourcesLoader(l) {
      loader = l;
    }
    exports.setResourcesLoader = setResourcesLoader;
    function loadResAudioClipPromise(url) {
      return new Promise(function(resolve) {
        cc.resources.load(url, cc.AudioClip, function(err, clip) {
          err && resolve(null);
          resolve(clip);
        });
      });
    }
    exports.loadResAudioClipPromise = loadResAudioClipPromise;
    var ResourcesLoader = function(_super) {
      __extends(ResourcesLoader, _super);
      function ResourcesLoader() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.keyJsonAssets = [];
        _this.keyAtlass = [];
        _this.keyBitmapFonts = [];
        _this.keyAudioClips = [];
        _this.keyFrames = [];
        _this.skeletonDatas = [];
        _this.cache = {};
        _this.lang = "";
        _this.oper = "";
        _this.audioType = "";
        _this.varLoaded = false;
        return _this;
      }
      ResourcesLoader.prototype.onLoad = function() {
        setResourcesLoader(this);
      };
      ResourcesLoader.prototype.load = function() {
        return __awaiter(this, void 0, void 0, function() {
          var data, lang, oper, audioType, urls;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              return [ 4, new Promise(function(res, rej) {
                cc.resources.load("data", cc.JsonAsset, function(err, jsonAsset) {
                  if (err) {
                    Utils_1.log("load data.json error", err);
                    rej(err);
                    return;
                  }
                  res(jsonAsset.json);
                });
              }) ];

             case 1:
              data = _a.sent();
              lang = ParamsGlobal_1.LANG.replace("drive_", "") || exports.DEFAULT_LANG;
              oper = ParamsGlobal_1.OPER || exports.DEFAULT_OPER;
              -1 === data.langs.indexOf(lang) && (lang = exports.DEFAULT_LANG);
              -1 === data.opers.indexOf(oper) && (oper = exports.DEFAULT_OPER);
              audioType = Utils_1.isVIVO() ? "ogg" : "mp3";
              I18nManager_1.setLang(lang);
              this.lang = lang;
              this.oper = oper;
              this.audioType = audioType;
              urls = data.dirs;
              urls.unshift("meta");
              if (StorageGlobal_1.getStartPage()) {
                urls.push(RESOURCES_URL.START_PAGE);
                urls.push(RESOURCES_URL.START_PAGE_LANG);
              }
              this.varLoaded = true;
              return [ 2, this.loadUrls(urls) ];
            }
          });
        });
      };
      ResourcesLoader.prototype.loadUrls = function(urls) {
        return __awaiter(this, void 0, Promise, function() {
          var key, appends, reject, p, assets;
          var _this = this;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              key = urls.slice(0).sort().join(";");
              if (this.cache[key]) return [ 2, this.cache[key] ];
              appends = Utils_1.flattenDeep(urls.map(function(str) {
                if (-1 !== str.indexOf("{lang}") && "en_us" !== _this.lang) return [ langNeedEnUsUrl(_this.lang, str, ""), langNeedEnUsUrl(_this.lang, str, "/plist") ];
              })).filter(Utils_1.identity);
              urls = urls.map(function(str) {
                return str.replace("{lang}", _this.lang).replace("{oper}", _this.oper).replace("{audio}", _this.audioType);
              });
              if (appends.length) {
                Utils_1.log("loadUrls appends", appends);
                urls.push.apply(urls, appends);
              }
              reject = function() {
                _this.cache[key] === p && (_this.cache[key] = null);
              };
              p = Promise.all(urls.map(function(url) {
                return new Promise(function(res, rej) {
                  cc.resources.loadDir(url, function(err, assets) {
                    if (err) {
                      reject();
                      rej(err);
                    } else res(assets);
                  });
                });
              })).then(function(a) {
                return Utils_1.flattenDeep(a);
              });
              this.cache[key] = p;
              return [ 4, p ];

             case 1:
              assets = _a.sent();
              true;
              Utils_1.log("lang assets", urls, assets);
              this.loaded(assets);
              return [ 2, assets ];
            }
          });
        });
      };
      ResourcesLoader.prototype.loadRes = function(urls, type) {
        return __awaiter(this, void 0, void 0, function() {
          var key, p, assets;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              key = urls.sort().join(";");
              if (this.cache[key]) return [ 2, this.cache[key] ];
              p = Promise.all(urls.map(function(url) {
                return new Promise(function(res, rej) {
                  cc.resources.load(url, type, function(err, asset) {
                    if (err) {
                      rej(err);
                      return;
                    }
                    res(asset);
                  });
                });
              }));
              this.cache[key] = p;
              return [ 4, p ];

             case 1:
              assets = _a.sent();
              true;
              Utils_1.log("lang assets", urls, assets);
              this.loaded(assets);
              return [ 2, assets ];
            }
          });
        });
      };
      ResourcesLoader.prototype.loaded = function(assets) {
        var _this = this;
        assets.forEach(function(asset) {
          var key = asset.name.split(".")[0];
          asset instanceof cc.BitmapFont ? _this.keyBitmapFonts.push({
            key: key,
            bitmapFont: asset
          }) : asset instanceof cc.SpriteAtlas ? _this.keyAtlass.push({
            key: key,
            atlas: asset
          }) : asset instanceof cc.JsonAsset ? _this.keyJsonAssets.push({
            key: key,
            xpath: "",
            jsonAsset: asset
          }) : asset instanceof cc.AudioClip ? _this.keyAudioClips.push({
            key: key,
            audioClip: asset
          }) : asset instanceof cc.SpriteFrame ? _this.keyFrames.push({
            key: key,
            frame: asset
          }) : asset instanceof sp.SkeletonData && _this.skeletonDatas.push(asset);
        });
      };
      ResourcesLoader = __decorate([ ccclass, menu("ResourcesLoad/ResourcesLoader") ], ResourcesLoader);
      return ResourcesLoader;
    }(cc.Component);
    exports.default = ResourcesLoader;
    cc._RF.pop();
  }, {
    "../ParamsGlobal": "ParamsGlobal",
    "../StorageGlobal": "StorageGlobal",
    "../component/I18nManager": "I18nManager",
    "../utils/Utils": "Utils"
  } ],
  ResourcesSprite: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "5c50eSOlcxMS6NcaTvBah4m", "ResourcesSprite");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var NodeShrink_1 = require("../component/NodeShrink");
    var KeyStr_1 = require("../data/KeyStr");
    var ResourcesCol_1 = require("./ResourcesCol");
    var ResourcesLoader_1 = require("./ResourcesLoader");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu, requireComponent = _a.requireComponent;
    var ResourcesSprite = function(_super) {
      __extends(ResourcesSprite, _super);
      function ResourcesSprite() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.fromFrame = false;
        return _this;
      }
      ResourcesSprite.prototype.onLoad = function() {
        if (this.delay) return;
        var l = ResourcesLoader_1.getResourcesLoader();
        this.reset(l);
      };
      ResourcesSprite.prototype.reset = function(loader) {
        this.fromFrame ? this.reset2(loader.keyFrames) : this.reset1(loader.keyAtlass);
      };
      ResourcesSprite.prototype.reset1 = function(keyAtlas) {
        var f = KeyStr_1.findFrame(this.keyStrs, keyAtlas);
        var sprite = this.getComponent(cc.Sprite);
        sprite.spriteFrame = f ? f.frame : null;
        this.resize();
      };
      ResourcesSprite.prototype.reset2 = function(keyFrames) {
        var ks = this.keyStrs;
        var kf;
        var _loop_1 = function(i) {
          var ksi = ks[i];
          var key2 = ksi.str;
          kf = keyFrames.find(function(kf) {
            return kf.key === key2;
          });
          if (kf) return "break";
        };
        for (var i = 0; i < ks.length; i += 1) {
          var state_1 = _loop_1(i);
          if ("break" === state_1) break;
        }
        var sprite = this.getComponent(cc.Sprite);
        sprite.spriteFrame = kf ? kf.frame : null;
        this.resize();
      };
      ResourcesSprite.prototype.resize = function() {
        var ns = this.getComponent(NodeShrink_1.default);
        ns && ns.resize();
      };
      __decorate([ property(cc.Boolean) ], ResourcesSprite.prototype, "fromFrame", void 0);
      ResourcesSprite = __decorate([ ccclass, menu("ResourcesLoad/ResourcesSprite"), requireComponent(cc.Sprite) ], ResourcesSprite);
      return ResourcesSprite;
    }(ResourcesCol_1.default);
    exports.default = ResourcesSprite;
    cc._RF.pop();
  }, {
    "../component/NodeShrink": "NodeShrink",
    "../data/KeyStr": "KeyStr",
    "./ResourcesCol": "ResourcesCol",
    "./ResourcesLoader": "ResourcesLoader"
  } ],
  RoadSource: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "89186whZBlIZ5PbcVhQx9KC", "RoadSource");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Road_1 = require("./Road");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var RoadSource = function(_super) {
      __extends(RoadSource, _super);
      function RoadSource() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.targetRoads = [];
        _this.roadCache = {};
        return _this;
      }
      RoadSource.prototype.reset = function(roads) {
        var _this = this;
        this.roadCache = {};
        var beads = this.srcToBead(roads);
        this.roadCache[Road_1.ROAD_TYPE.BEAD] = beads;
        this.targetRoads.forEach(function(road) {
          _this.roadCache[road.roadType] || _this.calculate(road.roadType);
          road.reset(_this.roadCache[road.roadType]);
        });
      };
      RoadSource.prototype.calculate = function(roadType) {
        if (roadType === Road_1.ROAD_TYPE.BIG) {
          var beadArr = this.roadCache[Road_1.ROAD_TYPE.BEAD];
          this.roadCache[Road_1.ROAD_TYPE.BIG] = this.beadToBig(beadArr);
        } else if (roadType === Road_1.ROAD_TYPE.BEAD) ; else {
          this.roadCache[Road_1.ROAD_TYPE.BIG] || this.calculate(Road_1.ROAD_TYPE.BIG);
          var bigArr = this.roadCache[Road_1.ROAD_TYPE.BIG];
          var threeArr = this.bigToThree(roadType, bigArr);
          this.roadCache[roadType] = threeArr;
        }
      };
      __decorate([ property({
        type: [ Road_1.default ]
      }) ], RoadSource.prototype, "targetRoads", void 0);
      RoadSource = __decorate([ ccclass ], RoadSource);
      return RoadSource;
    }(cc.Component);
    exports.default = RoadSource;
    cc._RF.pop();
  }, {
    "./Road": "Road"
  } ],
  Road: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0f0a41ie8ZDeaw0wd+/D72O", "Road");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var _a;
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.RoadSize = exports.ROAD_TYPE = void 0;
    var Utils_1 = require("../utils/Utils");
    var TemplateGenerator_1 = require("./TemplateGenerator");
    var ROAD_TYPE;
    (function(ROAD_TYPE) {
      ROAD_TYPE[ROAD_TYPE["BEAD"] = 0] = "BEAD";
      ROAD_TYPE[ROAD_TYPE["BIG"] = 1] = "BIG";
      ROAD_TYPE[ROAD_TYPE["BIG_EYE"] = 2] = "BIG_EYE";
      ROAD_TYPE[ROAD_TYPE["SMALL"] = 3] = "SMALL";
      ROAD_TYPE[ROAD_TYPE["ROACH"] = 4] = "ROACH";
    })(ROAD_TYPE = exports.ROAD_TYPE || (exports.ROAD_TYPE = {}));
    var RoadSize = function() {
      function RoadSize() {}
      return RoadSize;
    }();
    exports.RoadSize = RoadSize;
    function isBlocked(size, graph, x, y) {
      if (y >= size.limitHeight) return true;
      return graph.get(x + "_" + y);
    }
    function findAvailableX0(graph) {
      var x = 0;
      while (graph.get(x + "_0")) x += 1;
      return x;
    }
    function calculate(roads, size, hasBound) {
      var graphMap = new Map();
      var graphArr = [];
      var ijs = [];
      var last = {
        i: -1,
        j: -1,
        val: "xxxxx",
        goRight: false
      };
      roads.forEach(function(data, idx) {
        var ij = valueToIj(size, data.fetchVal(size, idx, roads), data, graphMap, last, hasBound);
        ijs.push(ij);
        graphArr[ij.i] || (graphArr[ij.i] = []);
        graphArr[ij.i][ij.j] = data;
      });
      return {
        graphArr: graphArr,
        graphMap: graphMap,
        last: last,
        ijs: ijs
      };
    }
    function findMaxI(graphAry) {
      return graphAry.length;
    }
    function ijToVec2(ij, size) {
      var posX = 0;
      var posY = 0;
      posX = ij.i * size.tileWidth + ij.i * size.paddingW + size.offsetX;
      posY = -ij.j * size.tileHeight - ij.j * size.paddingH - size.offsetY;
      return new cc.Vec2(posX, posY);
    }
    function valueToIj(size, val, data, graph, last, hasBound) {
      void 0 === hasBound && (hasBound = true);
      var i;
      var j;
      if (val === last.val) {
        if (last.goRight) {
          i = last.i + 1;
          j = last.j;
        } else {
          i = last.i;
          j = last.j + 1;
        }
        if (hasBound && isBlocked(size, graph, i, j)) {
          i += 1;
          j -= 1;
          0 !== j && (last.goRight = true);
        }
      } else {
        i = findAvailableX0(graph);
        j = 0;
        last.goRight = false;
      }
      graph.set(i + "_" + j, data);
      last.i = i;
      last.j = j;
      last.val = val;
      return {
        i: i,
        j: j
      };
    }
    var XSL_CONFIG = (_a = {}, _a[ROAD_TYPE.BIG_EYE] = {
      beginIj: [ {
        i: 1,
        j: 1
      }, {
        i: 2,
        j: 0
      } ],
      sameLengthI: [ -2, -1 ],
      compareI: [ -1 ]
    }, _a[ROAD_TYPE.SMALL] = {
      beginIj: [ {
        i: 2,
        j: 1
      }, {
        i: 3,
        j: 0
      } ],
      sameLengthI: [ -3, -1 ],
      compareI: [ -2 ]
    }, _a[ROAD_TYPE.ROACH] = {
      beginIj: [ {
        i: 3,
        j: 1
      }, {
        i: 4,
        j: 0
      } ],
      sameLengthI: [ -4, -1 ],
      compareI: [ -3 ]
    }, _a);
    function xsl(config, graph, ijs) {
      var ijBegin = config.beginIj.find(function(ij) {
        return Boolean(graph[ij.i] && graph[ij.i][ij.j]);
      });
      if (!ijBegin) return [];
      var idx = ijs.findIndex(function(ij) {
        return ijBegin.i === ij.i && ijBegin.j === ij.j;
      });
      if (-1 === idx) return [];
      return ijs.slice(idx).map(function(ij) {
        var i = ij.i;
        var j = ij.j;
        var len0 = graph[i + config.sameLengthI[0]];
        var len1 = graph[i + config.sameLengthI[1]];
        var ary1 = graph[i + config.compareI[0]];
        return 0 === j ? len0.length === len1.length ? new XiasanluData("r") : new XiasanluData("b") : ary1[j] ? new XiasanluData("r") : ary1[j] || ary1[j - 1] ? new XiasanluData("b") : new XiasanluData("r");
      });
    }
    var XiasanluData = function() {
      function XiasanluData(color) {
        this.color = color;
      }
      XiasanluData.prototype.fetchVal = function(size, idx) {
        return this.color;
      };
      XiasanluData.prototype.clone = function() {
        return new XiasanluData(this.color);
      };
      return XiasanluData;
    }();
    var _b = cc._decorator, ccclass = _b.ccclass, property = _b.property;
    var Road = function(_super) {
      __extends(Road, _super);
      function Road() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.targetNode = null;
        _this.roadType = ROAD_TYPE.BEAD;
        _this.size = cc.size(0, 0);
        _this.tile = cc.size(0, 0);
        _this.tilePadding = new cc.Vec2();
        _this.offset = new cc.Vec2();
        _this.roadSize = null;
        return _this;
      }
      Road.prototype.pre = function() {
        if (this.roadSize) return;
        this.roadSize = {
          tileWidth: this.tile.width,
          tileHeight: this.tile.height,
          limitWidth: this.size.width,
          limitHeight: this.size.height,
          paddingW: this.tilePadding.x,
          paddingH: this.tilePadding.y,
          offsetX: this.offset.x,
          offsetY: this.offset.y
        };
      };
      Road.prototype.reset = function(roads) {
        this.pre();
        var target = this.targetNode || this.node;
        var l = target.children.length;
        while (l--) this.recycleEachNode(target.children[0]);
        var paintData = calculate(roads, this.roadSize, true);
        var shiftI = 0;
        if (this.roadSize.limitWidth > 0) {
          var maxI = findMaxI(paintData.graphArr);
          shiftI = Utils_1.toNaturalNumber(maxI - this.roadSize.limitWidth);
        }
        this.paint(paintData.ijs, paintData.graphArr, shiftI);
      };
      Road.prototype.paint = function(ijs, graphArr, shiftI) {
        var _this = this;
        var target = this.targetNode || this.node;
        ijs.forEach(function(ij) {
          var i = ij.i - shiftI;
          var j = ij.j;
          if (i >= 0) {
            var data = graphArr[ij.i][j];
            var arr = _this.drawNodes(data, _this.roadType, _this.roadSize);
            var vec2_1 = ijToVec2({
              i: i,
              j: j
            }, _this.roadSize);
            arr.forEach(function(node) {
              node.setPosition(vec2_1);
              target.addChild(node);
            });
          }
        });
      };
      __decorate([ property(cc.Node) ], Road.prototype, "targetNode", void 0);
      __decorate([ property({
        type: cc.Enum(ROAD_TYPE)
      }) ], Road.prototype, "roadType", void 0);
      __decorate([ property(cc.Size) ], Road.prototype, "size", void 0);
      __decorate([ property(cc.Size) ], Road.prototype, "tile", void 0);
      __decorate([ property(cc.Vec2) ], Road.prototype, "tilePadding", void 0);
      __decorate([ property(cc.Vec2) ], Road.prototype, "offset", void 0);
      Road = __decorate([ ccclass ], Road);
      return Road;
    }(TemplateGenerator_1.TemplateGenerator);
    exports.default = Road;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./TemplateGenerator": "TemplateGenerator"
  } ],
  RotationFixed: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "20234ZNFWVNi6UJA+eDU1Dk", "RotationFixed");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var RotationFixed = function(_super) {
      __extends(RotationFixed, _super);
      function RotationFixed() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.angle = 0;
        _this.stopRotation = false;
        return _this;
      }
      RotationFixed.prototype.lateUpdate = function() {
        if (!this.stopRotation) {
          var node = this.node;
          var worldAngle = Utils_1.getWorldAngle(node);
          var x = this.node.angle - worldAngle + this.angle;
          this.node.angle = x;
        }
      };
      __decorate([ property(cc.Integer) ], RotationFixed.prototype, "angle", void 0);
      RotationFixed = __decorate([ ccclass ], RotationFixed);
      return RotationFixed;
    }(cc.Component);
    exports.default = RotationFixed;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  Rotation: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "48c31gU+OpE5r5wglgtC8ET", "Rotation");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var Rotation = function(_super) {
      __extends(Rotation, _super);
      function Rotation() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.paddingAngle = 0;
        _this.refNode = null;
        _this.updateDelta = 0;
        _this.lastPos = null;
        _this.zeroPoint = new cc.Vec2(0, 1);
        _this.stopRotation = false;
        _this.delta = 0;
        _this.prevPaddingAngle = 0;
        return _this;
      }
      Rotation.prototype.onLoad = function() {
        this.refNode = this.refNode || this.node;
      };
      Rotation.prototype.lateUpdate = function(dt) {
        if (this.updateDelta) {
          this.delta += dt;
          if (this.delta < this.updateDelta) return;
          this.delta -= this.updateDelta;
        }
        this.rotate(true);
      };
      Rotation.prototype.rotate = function(updateLast) {
        void 0 === updateLast && (updateLast = false);
        if (!this.stopRotation && this.lastPos && 0 !== this.lastPos.sub(this.refNode.getPosition()).mag()) {
          var angle = cc.v2(this.refNode.getPosition().sub(this.lastPos)).signAngle(this.zeroPoint);
          var degrees = Utils_1.radiansToDegrees(-angle);
          this.node.angle = degrees + this.paddingAngle;
          this.prevPaddingAngle = this.paddingAngle;
        }
        updateLast && this.updateLastPos(this.refNode.getPosition());
      };
      Rotation.prototype.updateLastPos = function(lastPos) {
        this.lastPos = lastPos;
      };
      Rotation.prototype.clear = function() {
        this.lastPos = null;
      };
      __decorate([ property(cc.Float) ], Rotation.prototype, "paddingAngle", void 0);
      __decorate([ property(cc.Node) ], Rotation.prototype, "refNode", void 0);
      __decorate([ property(cc.Float) ], Rotation.prototype, "updateDelta", void 0);
      Rotation = __decorate([ ccclass ], Rotation);
      return Rotation;
    }(cc.Component);
    exports.default = Rotation;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  RpcServiceBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b48f0v3EUxGCYFecbmyOnFV", "RpcServiceBase");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var grpc_web_1 = require("@improbable-eng/grpc-web");
    var rxjs_1 = require("rxjs");
    var StorageGlobal_1 = require("../StorageGlobal");
    var Utils_1 = require("../utils/Utils");
    var session = new grpc_web_1.grpc.Metadata();
    var upstream = null;
    var loadBalanceHash = Date.now().toString();
    var RpcServiceBase = function() {
      function RpcServiceBase() {
        this.log = false;
        this.host = null;
        this.token = null;
        this.timeOut = 3e4;
        this.isConnect = false;
        this.clientsSubscriber = new Map();
        this.packetIndex = 0;
        if (StorageGlobal_1.supportSessionStorage()) {
          var token = sessionStorage.getItem("grpc-session");
          token && session.set("grpc-session", token);
        }
      }
      RpcServiceBase.prototype.generatePacketIndex = function() {
        return this.packetIndex += 1;
      };
      RpcServiceBase.prototype.concatenate = function(resultConstructor) {
        var arrays = [];
        for (var _i = 1; _i < arguments.length; _i++) arrays[_i - 1] = arguments[_i];
        var totalLength = 0;
        for (var _a = 0, arrays_1 = arrays; _a < arrays_1.length; _a++) {
          var arr = arrays_1[_a];
          totalLength += arr.length;
        }
        var result = new resultConstructor(totalLength);
        var offset = 0;
        for (var _b = 0, arrays_2 = arrays; _b < arrays_2.length; _b++) {
          var arr = arrays_2[_b];
          result.set(arr, offset);
          offset += arr.length;
        }
        return result;
      };
      RpcServiceBase.prototype.initStreaming = function(processor) {
        var _this = this;
        return rxjs_1.Observable.create(function(subscriber) {
          _this.clientsSubscriber.set(0, {
            subscriber: subscriber,
            processor: processor,
            callbackOnce: false
          });
        });
      };
      RpcServiceBase.prototype.callStreamingAPI = function(protoType, req, callbackOnce, processor) {
        var _this = this;
        if (!this.websocketClient) {
          -1 === protoType.methodName.indexOf("token") && (protoType.methodName += "?token=" + this.token);
          if (-1 === protoType.methodName.indexOf("lbhash")) {
            protoType.methodName += "&lbhash=" + loadBalanceHash;
            upstream && (protoType.methodName += "&upstream=" + upstream);
          }
          this.websocketClient = grpc_web_1.grpc.client(protoType, {
            host: this.host,
            transport: grpc_web_1.grpc.WebsocketTransport()
          });
          this.websocketClient.onMessage(function(resp) {
            var subscriberAndProcessor = _this.clientsSubscriber.get(resp.getIndex());
            if (!subscriberAndProcessor) {
              Utils_1.warn("no subscriber index", resp.getIndex(), resp);
              return;
            }
            var subscriber = subscriberAndProcessor.subscriber;
            var processor = subscriberAndProcessor.processor;
            subscriber.next(processor(resp));
            if (subscriberAndProcessor.callbackOnce) {
              _this.clientsSubscriber.delete(resp.getIndex());
              subscriber.complete();
            }
          });
          this.websocketClient.onEnd(function(code, msg, trailers) {
            console.log("on end:", code, msg);
            _this.clientsSubscriber.forEach(function(subscriberAndProcessor) {
              code !== grpc_web_1.grpc.Code.OK && subscriberAndProcessor.subscriber.error(msg);
              subscriberAndProcessor.subscriber.complete();
            });
            _this.closeWebSocket();
          });
          this.websocketClient.start(session);
        }
        var ob = rxjs_1.Observable.create(function(obs) {
          _this.clientsSubscriber.set(req.getIndex(), {
            processor: processor,
            callbackOnce: callbackOnce,
            subscriber: obs
          });
          if (_this.websocketClient) try {
            _this.websocketClient.send(req);
          } catch (e) {
            console.log("send error:", e);
            _this.closeWebSocket();
          }
        });
        return ob;
      };
      RpcServiceBase.prototype.closeWebSocket = function() {
        this.clientsSubscriber.clear();
        this.websocketClient && this.websocketClient.finishSend();
        delete this.websocketClient;
      };
      RpcServiceBase.prototype.callAPI = function(protoType, req) {
        var _this = this;
        var ob = rxjs_1.Observable.create(function(obs) {
          -1 === protoType.methodName.indexOf("token") && (protoType.methodName += "?token=" + _this.token);
          if (-1 === protoType.methodName.indexOf("lbhash")) {
            protoType.methodName += "&lbhash=" + loadBalanceHash;
            upstream && (protoType.methodName += "&upstream=" + upstream);
          }
          grpc_web_1.grpc.invoke(protoType, {
            host: _this.host,
            request: req,
            metadata: session,
            onHeaders: _this.onHeaders,
            onMessage: function(resp) {
              obs.next(resp);
            },
            onEnd: function(code, msg, trailers) {
              code !== grpc_web_1.grpc.Code.OK && obs.error(msg);
              obs.complete();
            }
          });
        });
        return ob;
      };
      RpcServiceBase.prototype.onHeaders = function(headers) {
        if (headers.has("grpc-session")) {
          var token = headers.get("grpc-session")[0];
          session.set("grpc-session", token);
          StorageGlobal_1.supportSessionStorage() && sessionStorage.setItem("grpc-session", token);
        }
        headers.has("x-upstream") && (upstream = headers.get("x-upstream")[0]);
      };
      RpcServiceBase.prototype.setGeolocation = function(lat, lng) {
        session.set("geolocation", lat + "," + lng);
      };
      return RpcServiceBase;
    }();
    exports.default = RpcServiceBase;
    cc._RF.pop();
  }, {
    "../StorageGlobal": "StorageGlobal",
    "../utils/Utils": "Utils",
    "@improbable-eng/grpc-web": 7,
    rxjs: 47
  } ],
  ScreenshotRenderToSprite: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "d98b6wFL/1O8aoDIOZv4omA", "ScreenshotRenderToSprite");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Screenshot_1 = require("../../game-client-lib/component/Screenshot");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ScreenshotRenderToSprite = function(_super) {
      __extends(ScreenshotRenderToSprite, _super);
      function ScreenshotRenderToSprite() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.camera = null;
        _this.root = null;
        _this.sprites = [];
        return _this;
      }
      ScreenshotRenderToSprite.prototype.start = function() {
        var screenshot = this.camera.node.getComponent(Screenshot_1.default);
        screenshot || (screenshot = this.camera.node.addComponent(Screenshot_1.default));
        var renderTexture = screenshot.renderToTexture(void 0, this.root, this.camera.node);
        var frame = new cc.SpriteFrame();
        frame.setTexture(renderTexture);
        var each = function(sprite) {
          sprite.spriteFrame = frame;
          sprite.node.scaleY = -1;
        };
        this.sprites.forEach(each);
      };
      __decorate([ property(cc.Camera) ], ScreenshotRenderToSprite.prototype, "camera", void 0);
      __decorate([ property(cc.Node) ], ScreenshotRenderToSprite.prototype, "root", void 0);
      __decorate([ property([ cc.Sprite ]) ], ScreenshotRenderToSprite.prototype, "sprites", void 0);
      ScreenshotRenderToSprite = __decorate([ ccclass ], ScreenshotRenderToSprite);
      return ScreenshotRenderToSprite;
    }(cc.Component);
    exports.default = ScreenshotRenderToSprite;
    cc._RF.pop();
  }, {
    "../../game-client-lib/component/Screenshot": "Screenshot"
  } ],
  Screenshot: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "bd98aTTCBxL4qHytctasi21", "Screenshot");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.getCaptureSpriteFrame = exports.cullingMaskNumber = exports.CaptureType = void 0;
    var Utils_1 = require("../utils/Utils");
    var ccclass = cc._decorator.ccclass;
    var CaptureType;
    (function(CaptureType) {
      CaptureType[CaptureType["DataUrl"] = 0] = "DataUrl";
      CaptureType[CaptureType["Uint8Array"] = 1] = "Uint8Array";
      CaptureType[CaptureType["Base64"] = 2] = "Base64";
      CaptureType[CaptureType["RenderTexture"] = 3] = "RenderTexture";
    })(CaptureType = exports.CaptureType || (exports.CaptureType = {}));
    var textureMap = new Map();
    function cullingMaskNumber(num) {
      var str;
      if ("string" === typeof num) str = num; else {
        if (!(num > 0)) return -1;
        str = "1" + Utils_1.range(num - 1).map(function(_) {
          return "0";
        }).join("");
      }
      return parseInt(str, 2);
    }
    exports.cullingMaskNumber = cullingMaskNumber;
    function getCaptureSpriteFrame(key, root, genNode, cullingMask) {
      void 0 === genNode && (genNode = function() {
        return null;
      });
      void 0 === cullingMask && (cullingMask = 2);
      if (textureMap.has(key)) return textureMap.get(key);
      var node = genNode();
      if (node) root.addChild(node); else {
        true;
        Utils_1.warn("getCaptureSpriteFrame genNode() get null");
      }
      var screenshot = root.getComponent(Screenshot);
      var prevScaleY = root.scaleY;
      root.scaleY = -1;
      screenshot || (screenshot = root.addComponent(Screenshot));
      var renderTexture = screenshot.capture(void 0, CaptureType.RenderTexture, root, cullingMask);
      root.scaleY = prevScaleY;
      node && node.removeFromParent();
      var frame = new cc.SpriteFrame();
      frame.setTexture(renderTexture);
      textureMap.set(key, frame);
      return frame;
    }
    exports.getCaptureSpriteFrame = getCaptureSpriteFrame;
    var Screenshot = function(_super) {
      __extends(Screenshot, _super);
      function Screenshot() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      Screenshot.prototype.capture = function(bound, type, node, cullingMask) {
        void 0 === bound && (bound = {
          maxX: 0,
          minX: 0,
          maxY: 0,
          minY: 0
        });
        void 0 === type && (type = CaptureType.DataUrl);
        void 0 === cullingMask && (cullingMask = 2);
        var camera = this.node.addComponent(cc.Camera);
        camera.backgroundColor = cc.color(0, 0, 0, 0);
        camera.cullingMask = cullingMask;
        var texture = new cc.RenderTexture();
        texture.setPremultiplyAlpha(true);
        var vrw = node ? node.width * Math.abs(node.scaleX) : cc.visibleRect.width;
        var vrh = node ? node.height * Math.abs(node.scaleY) : cc.visibleRect.height;
        var moreX = Math.max(bound.maxX, Math.abs(bound.minX));
        var moreY = Math.max(bound.maxY, Math.abs(bound.minY));
        var w = vrw + (moreX ? 2 * moreX + 100 : 0);
        var h = vrh + (moreY ? 2 * moreY + 100 : 0);
        texture.initWithSize(w, h);
        camera.targetTexture = texture;
        camera.render();
        camera.destroy();
        if (type === CaptureType.RenderTexture) return texture;
        var data = texture.readPixels();
        if (type === CaptureType.Uint8Array) return data;
        var canvas = document.createElement("canvas");
        var ctx = canvas.getContext("2d");
        canvas.width = texture.width;
        canvas.height = texture.height;
        var width = canvas.width;
        var height = canvas.height;
        var rowBytes = 4 * width;
        for (var row = 0; row < height; row += 1) {
          var srow = height - 1 - row;
          var imageData = ctx.createImageData(width, 1);
          var start = srow * width * 4;
          for (var i = 0; i < rowBytes; i += 1) imageData.data[i] = data[start + i];
          ctx.putImageData(imageData, 0, row);
        }
        var dataURL = canvas.toDataURL("image/png");
        if (type === CaptureType.DataUrl) return dataURL;
        if (type === CaptureType.Base64) return dataURL.replace(/^data:image\/(png|jpg|jpeg);base64,/, "");
        return "";
      };
      Screenshot.prototype.renderToTexture = function(more, node, cameraNode, cullingMask) {
        void 0 === cullingMask && (cullingMask = 2);
        var n = cameraNode;
        n || (n = this.node);
        var camera = n.getComponent(cc.Camera);
        if (!camera) {
          camera = n.addComponent(cc.Camera);
          camera.cullingMask = cullingMask;
        }
        camera.backgroundColor = cc.color(0, 0, 0, 0);
        var texture = new cc.RenderTexture();
        texture.setPremultiplyAlpha(true);
        var vrw = node ? node.width * Math.abs(node.scaleX) : cc.visibleRect.width;
        var vrh = node ? node.height * Math.abs(node.scaleY) : cc.visibleRect.height;
        var w = vrw + (more ? more.x : 0);
        var h = vrh + (more ? more.y : 0);
        texture.initWithSize(w, h);
        camera.targetTexture = texture;
        camera.clearFlags = 1;
        camera.render(node);
        return texture;
      };
      Screenshot = __decorate([ ccclass ], Screenshot);
      return Screenshot;
    }(cc.Component);
    exports.default = Screenshot;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  SlotSimpleBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ce8cbBtcBRMkou35QsseJnj", "SlotSimpleBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var TemplateGenerator_1 = require("../component/TemplateGenerator");
    var NodeTween_1 = require("../data/NodeTween");
    var PromiseManager_1 = require("../script/PromiseManager");
    var SlotSimpleSymbolBase_1 = require("./SlotSimpleSymbolBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var SlotSimpleBase = function(_super) {
      __extends(SlotSimpleBase, _super);
      function SlotSimpleBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.reelDelay = .2;
        _this.reelNodes = [];
        _this.count = 6;
        _this.bouncePx = 10;
        _this.bounceDur = .1;
        _this.speed = 300;
        _this.reelSymbols = [];
        return _this;
      }
      SlotSimpleBase.prototype.onLoad = function() {
        var _this = this;
        _super.prototype.onLoad.call(this);
        var tpl = this.templates[0];
        var h = tpl.height;
        this.count < 6 && (this.count = 6);
        var ey = -(this.count - 3) * h;
        this.reelNodes.forEach(function(reelNode, idx) {
          _this.reelSymbols[idx] = [];
          reelNode.y = ey;
          for (var i = 0; i < _this.count; i += 1) {
            var node = _this.getNode();
            var sym = node.getComponent(SlotSimpleSymbolBase_1.default);
            _this.reelSymbols[idx].push(sym);
            sym.reset(_this.random(idx, i, true));
            var y = (i - 1) * h;
            node.setPosition(cc.v2(0, y));
            reelNode.addChild(node);
          }
        });
      };
      SlotSimpleBase.prototype.spin = function(result, mi) {
        void 0 === mi && (mi = false);
        return __awaiter(this, void 0, Promise, function() {
          var delay, count, bpx, bd, speed, tpl, h, l, rl;
          var _this = this;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              delay = this.reelDelay;
              count = this.count;
              bpx = this.bouncePx;
              bd = this.bounceDur;
              speed = this.speed;
              tpl = this.templates[0];
              h = tpl.height;
              l = this.count - 3;
              rl = this.reelNodes.length;
              return [ 4, Promise.all(this.reelNodes.map(function(node, idx) {
                return __awaiter(_this, void 0, void 0, function() {
                  var x, vy, dur, last, symbols, i, sym, ey, action, opt, m1y, m03y;
                  return __generator(this, function(_a) {
                    switch (_a.label) {
                     case 0:
                      x = node.x;
                      vy = function(y) {
                        return cc.v2(x, y);
                      };
                      dur = function(y) {
                        return Math.abs(y) / speed;
                      };
                      last = idx === rl - 1;
                      return [ 4, PromiseManager_1.timeoutPromise(idx * delay) ];

                     case 1:
                      _a.sent();
                      symbols = this.reelSymbols[idx];
                      for (i = 0; i < this.count; i += 1) {
                        sym = void 0;
                        sym = i < 3 ? symbols[l + i].val : i === this.count - 2 ? result[idx] : this.random(idx, i, false);
                        symbols[i].reset(sym);
                      }
                      ey = -(count - 3) * h;
                      node.y = 0;
                      opt = this.options;
                      if (last && mi) {
                        m1y = ey + 1 * h;
                        m03y = ey + .3 * h;
                        action = cc.sequence(cc.moveTo(bd, vy(bpx)), cc.moveTo(dur(bpx - m1y), vy(m1y)), cc.moveTo(.5, vy(m03y)), cc.moveTo(.2, vy(ey)), opt && opt.almostStop && cc.callFunc(function() {
                          return opt.almostStop(idx);
                        }), cc.moveTo(.1, vy(ey - bpx)), cc.moveTo(bd, vy(ey)));
                      } else action = cc.sequence(cc.moveTo(bd, vy(bpx)), cc.moveTo(dur(bpx - ey), vy(ey)), opt && opt.almostStop && cc.callFunc(function() {
                        return opt.almostStop(idx);
                      }), cc.moveTo(dur(bpx), vy(ey - bpx)), cc.moveTo(bd, vy(ey)));
                      return [ 4, NodeTween_1.nodeTweenToPromise({
                        node: node,
                        action: action
                      }) ];

                     case 2:
                      _a.sent();
                      return [ 2 ];
                    }
                  });
                });
              })) ];

             case 1:
              _a.sent();
              return [ 2 ];
            }
          });
        });
      };
      SlotSimpleBase.prototype.hideReels = function() {
        this.reelNodes.forEach(function(n) {
          return n.opacity = 0;
        });
      };
      SlotSimpleBase.prototype.showReels = function() {
        this.reelNodes.forEach(function(n) {
          return n.opacity = 255;
        });
      };
      __decorate([ property(cc.Float) ], SlotSimpleBase.prototype, "reelDelay", void 0);
      __decorate([ property([ cc.Node ]) ], SlotSimpleBase.prototype, "reelNodes", void 0);
      __decorate([ property({
        type: cc.Integer,
        tooltip: "\u4e00\u7dda\u7684\u81f3\u5c11\u8981\u6709 6 \u500b"
      }) ], SlotSimpleBase.prototype, "count", void 0);
      __decorate([ property(cc.Integer) ], SlotSimpleBase.prototype, "bouncePx", void 0);
      __decorate([ property(cc.Float) ], SlotSimpleBase.prototype, "bounceDur", void 0);
      __decorate([ property(cc.Integer) ], SlotSimpleBase.prototype, "speed", void 0);
      SlotSimpleBase = __decorate([ ccclass ], SlotSimpleBase);
      return SlotSimpleBase;
    }(TemplateGenerator_1.TemplateGenerator);
    exports.default = SlotSimpleBase;
    cc._RF.pop();
  }, {
    "../component/TemplateGenerator": "TemplateGenerator",
    "../data/NodeTween": "NodeTween",
    "../script/PromiseManager": "PromiseManager",
    "./SlotSimpleSymbolBase": "SlotSimpleSymbolBase"
  } ],
  SlotSimpleSymbolBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "edb77ifpTxDop4JM6JIbS7k", "SlotSimpleSymbolBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var SlotSimpleSymbolBase = function(_super) {
      __extends(SlotSimpleSymbolBase, _super);
      function SlotSimpleSymbolBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.sprite = null;
        _this.val = "";
        return _this;
      }
      SlotSimpleSymbolBase.prototype.reset = function(val) {
        this.val = val;
        this.doReset(val);
      };
      __decorate([ property(cc.Sprite) ], SlotSimpleSymbolBase.prototype, "sprite", void 0);
      SlotSimpleSymbolBase = __decorate([ ccclass ], SlotSimpleSymbolBase);
      return SlotSimpleSymbolBase;
    }(cc.Component);
    exports.default = SlotSimpleSymbolBase;
    cc._RF.pop();
  }, {} ],
  SpSkeletonConfig: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7ab33WA7t1OFp/lJOKtLC/x", "SpSkeletonConfig");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PromiseManager_1 = require("../script/PromiseManager");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executionOrder = _a.executionOrder, requireComponent = _a.requireComponent;
    var SpSkeletonConfig = function(_super) {
      __extends(SpSkeletonConfig, _super);
      function SpSkeletonConfig() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.skeleton = null;
        _this.animation = "";
        _this.loop = false;
        _this.loopTime = 0;
        _this.enactive = false;
        _this.justSetAnimation = false;
        _this.enableAnimations = [];
        _this.loaded = false;
        return _this;
      }
      SpSkeletonConfig.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.skeleton = this.skeleton || this.getComponent(sp.Skeleton);
        var ske = this.skeleton;
        ske.animation = this.animation || ske.animation;
        ske.loop = this.loop;
      };
      SpSkeletonConfig.prototype.onLoad = function() {
        this.pre();
      };
      SpSkeletonConfig.prototype.onEnable = function() {
        this.enableAnimations.length && PromiseManager_1.spSkeletonSetAnimation(this.skeleton, this.enableAnimations, this.loop);
      };
      __decorate([ property(sp.Skeleton) ], SpSkeletonConfig.prototype, "skeleton", void 0);
      __decorate([ property(cc.String) ], SpSkeletonConfig.prototype, "animation", void 0);
      __decorate([ property(cc.Boolean) ], SpSkeletonConfig.prototype, "loop", void 0);
      __decorate([ property(cc.Integer) ], SpSkeletonConfig.prototype, "loopTime", void 0);
      __decorate([ property(cc.Boolean) ], SpSkeletonConfig.prototype, "enactive", void 0);
      __decorate([ property(cc.Boolean) ], SpSkeletonConfig.prototype, "justSetAnimation", void 0);
      __decorate([ property([ cc.String ]) ], SpSkeletonConfig.prototype, "enableAnimations", void 0);
      SpSkeletonConfig = __decorate([ ccclass, executionOrder(-1) ], SpSkeletonConfig);
      return SpSkeletonConfig;
    }(cc.Component);
    exports.default = SpSkeletonConfig;
    cc._RF.pop();
  }, {
    "../script/PromiseManager": "PromiseManager"
  } ],
  SpSkeletonHack: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9bbbazTUFBM0IMvaTsspwth", "SpSkeletonHack");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.genSkeleton = exports.genSkeletonData = exports.DEFAULT_WORKER = void 0;
    var PromiseManager_1 = require("../script/PromiseManager");
    var Utils_1 = require("../utils/Utils");
    var SpSkeletonStatus_1 = require("./SpSkeletonStatus");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, requireComponent = _a.requireComponent;
    var FrameTime = 1 / 60;
    var TrackEntryListeners = function() {
      this.start = null;
      this.end = null;
      this.complete = null;
      this.event = null;
      this.interrupt = null;
      this.dispose = null;
    };
    var hacked = false;
    exports.DEFAULT_WORKER = 1;
    var SpSkeletonHack = function(_super) {
      __extends(SpSkeletonHack, _super);
      function SpSkeletonHack() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      SpSkeletonHack.prototype.onLoad = function() {};
      SpSkeletonHack.prototype.start = function() {};
      SpSkeletonHack.prototype.cache2 = function(skeletonNode) {
        var skeleton = skeletonNode.getComponent(sp.Skeleton);
        var ns = Object.keys(skeleton.skeletonData.skeletonJson.animations);
        true;
        Utils_1.log("caching spine");
        console.time("cached spine");
        var uuid = skeleton.skeletonData._uuid;
        ns.map(function(n, i) {
          var c = skeleton._skeletonCache.getAnimationCache(uuid, n);
          if (!c) {
            true;
            Utils_1.log("caching " + n);
            console.time("cached " + n);
            skeleton._skeletonCache.updateAnimationCache(uuid, n);
            true;
            console.timeEnd("cached " + n);
          }
        });
        true;
        console.timeEnd("cached spine");
      };
      SpSkeletonHack.prototype.cache = function(skeletonNode, parentNode, worker) {
        void 0 === worker && (worker = exports.DEFAULT_WORKER);
        return __awaiter(this, void 0, void 0, function() {
          var skeleton, ns, is, lens, arr, findMinIdx, i, info, duration, idx, d, ps;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              parentNode = parentNode || this.node;
              skeleton = skeletonNode.getComponent(sp.Skeleton);
              ns = Object.keys(skeleton.skeletonData.skeletonJson.animations);
              Utils_1.log("skeleton cache", skeleton);
              if (!skeleton.isAnimationCached()) {
                Utils_1.warn("skeleton not cache mode");
                return [ 2 ];
              }
              is = ns.map(function(n) {
                return SpSkeletonStatus_1.spSkeletonNameDuration(skeleton, n);
              });
              is.sort(function(a, b) {
                return a.duration - b.duration;
              });
              lens = Utils_1.range(worker).map(function() {
                return 0;
              });
              arr = Utils_1.range(worker).map(function() {
                return [];
              });
              findMinIdx = function() {
                var min = Math.min.apply(null, lens);
                return lens.indexOf(min);
              };
              for (i = 0; i < is.length; i += 1) {
                info = is[i];
                duration = info.duration + .05;
                idx = findMinIdx();
                d = lens[idx];
                lens[idx] += duration;
                arr[idx].push(info.name);
              }
              true;
              Utils_1.log(is, lens, arr);
              Utils_1.log("caching spine");
              console.time("cached spine " + skeleton.skeletonData.name);
              ps = arr.map(function(ar, i) {
                return ar.reduce(function(p, n) {
                  return p.then(function() {
                    var cache = skeleton._skeletonCache.getAnimationCache(skeleton.skeletonData._uuid, n);
                    if (cache && cache.isCompleted) {
                      Utils_1.log(i + " already cached " + n);
                      return;
                    }
                    var node = cc.instantiate(skeletonNode);
                    node.opacity = 0;
                    var ske = node.getComponent(sp.Skeleton);
                    parentNode.addChild(node);
                    true;
                    Utils_1.log(i + " caching " + n);
                    console.time(i + " cached " + n);
                    return PromiseManager_1.spSkeletonSetAnimationToPromise(ske, n).then(function() {
                      true;
                      console.timeEnd(i + " cached " + n);
                      node.removeFromParent();
                    });
                  });
                }, Promise.resolve());
              });
              return [ 4, Promise.all(ps) ];

             case 1:
              _a.sent();
              true;
              console.timeEnd("cached spine " + skeleton.skeletonData.name);
              return [ 2 ];
            }
          });
        });
      };
      SpSkeletonHack.prototype.hack_2_0_9 = function(skeletonNode) {
        var skeleton = skeletonNode.getComponent(sp.Skeleton);
        var uuid = skeleton.skeletonData._uuid;
        var cache = skeleton._skeletonCache.updateAnimationCache(uuid, "empty");
      };
      SpSkeletonHack.prototype.hack_2_4_4 = function(skeletonNode) {
        if (hacked) return;
        hacked = true;
        var skeleton = skeletonNode.getComponent(sp.Skeleton);
        var uuid = skeleton.skeletonData._uuid;
        var cache = skeleton._skeletonCache.initAnimationCache(uuid, "empty");
        1;
        cache.constructor.prototype.begin = function(_skeleton) {
          if (!this._invalid) return;
          var skeleton = new sp.spine.Skeleton(_skeleton.data);
          var clipper = new sp.spine.SkeletonClipping();
          var stateData = new sp.spine.AnimationStateData(skeleton.data);
          var state = new sp.spine.AnimationState(stateData);
          var listener = new TrackEntryListeners();
          state.addListener(listener);
          this._skeleton = skeleton;
          this._clipper = clipper;
          this._state = state;
          var animation = skeleton.data.findAnimation(this._animationName);
          state.setAnimationWith(0, animation, false);
          this.bind(listener);
          this._frameIdx = -1;
          this.isCompleted = false;
          this.totalTime = 0;
          this._invalid = false;
        };
        0;
        1;
        cache.constructor.prototype.updateToFrame = function(toFrameIdx) {
          if (!this._inited) return;
          this.begin(this._skeletonInfo.skeleton);
          if (!this._needToUpdate(toFrameIdx)) return;
          var skeleton = this._skeleton;
          if (!skeleton) {
            debugger;
            return;
          }
          var clipper = this._clipper;
          var state = this._state;
          do {
            skeleton.update(FrameTime);
            state.update(FrameTime);
            state.apply(skeleton);
            skeleton.updateWorldTransform();
            this._frameIdx += 1;
            this._updateFrame(skeleton, clipper, this._frameIdx);
            this.totalTime += FrameTime;
          } while (this._needToUpdate(toFrameIdx));
          this.end();
        };
        0;
        1;
        sp.Skeleton.prototype.setAnimation = function(trackIndex, name, loop) {
          this._playTimes = loop ? 0 : 1;
          this._animationName = name;
          if (this.isAnimationCached()) {
            0 !== trackIndex && cc.warn("Track index can not greater than 0 in cached mode.");
            if (!this._skeletonCache) return null;
            var cache_1 = this._skeletonCache.getAnimationCache(this.skeletonData._uuid, name);
            if (!cache_1) {
              cache_1 = this._skeletonCache.initAnimationCache(this.skeletonData._uuid, name);
              (true, cache_1) || Utils_1.warn("SpSkeletonHack#setAnimation", "no", name);
              cache_1.begin(this._skeleton);
            }
            if (cache_1) {
              this._isAniComplete = false;
              this._accTime = 0;
              this._playCount = 0;
              this._frameCache = cache_1;
              this.attachUtil._hasAttachedNode() && this._frameCache.enableCacheAttachedInfo();
              this._frameCache.updateToFrame(0);
              this._curFrame = this._frameCache.frames[0];
            }
          } else if (this._skeleton) {
            var animation = this._skeleton.data.findAnimation(name);
            if (!animation) {
              cc.logID(7509, name);
              return null;
            }
            var res = this._state.setAnimationWith(trackIndex, animation, loop);
            this._state.apply(this._skeleton);
            return res;
          }
          return null;
        };
      };
      SpSkeletonHack.prototype.hack_2_2_2 = function(skeletonNode) {
        if (hacked) return;
        hacked = true;
        var skeleton = skeletonNode.getComponent(sp.Skeleton);
        var uuid = skeleton.skeletonData._uuid;
        var cache = skeleton._skeletonCache.initAnimationCache(uuid, "empty");
        1;
        cache.constructor.prototype.begin = function(spSkeleton) {
          if (!this._invalid) return;
          var skeleton = new sp.spine.Skeleton(spSkeleton._skeleton.data);
          var clipper = new sp.spine.SkeletonClipping();
          var stateData = new sp.spine.AnimationStateData(skeleton.data);
          var state = new sp.spine.AnimationState(stateData);
          var listener = new TrackEntryListeners();
          state.addListener(listener);
          this._skeleton = skeleton;
          this._clipper = clipper;
          this._state = state;
          var animation = skeleton.data.findAnimation(this._animationName);
          state.setAnimationWith(0, animation, false);
          this.bind(listener);
          this._frameIdx = -1;
          this.isCompleted = false;
          this.totalTime = 0;
          this._invalid = false;
        };
        0;
        1;
        cache.constructor.prototype.updateToFrame = function(toFrameIdx) {
          if (!this._inited) return;
          if (!this._needToUpdate(toFrameIdx)) return;
          var skeleton = this._skeleton;
          if (!skeleton) return;
          var clipper = this._clipper;
          var state = this._state;
          do {
            skeleton.update(FrameTime);
            state.update(FrameTime);
            state.apply(skeleton);
            skeleton.updateWorldTransform();
            this._frameIdx += 1;
            this._updateFrame(skeleton, clipper, this._frameIdx);
            this.totalTime += FrameTime;
          } while (this._needToUpdate(toFrameIdx));
          this.end();
        };
        0;
        1;
        sp.Skeleton.prototype.setAnimation = function(trackIndex, name, loop) {
          this._playTimes = loop ? 0 : 1;
          this._animationName = name;
          if (this.isAnimationCached()) {
            0 !== trackIndex && cc.warn("Track index can not greater than 0 in cached mode.");
            if (!this._skeletonCache) return null;
            var cache_2 = this._skeletonCache.getAnimationCache(this.skeletonData._uuid, name);
            if (!cache_2) {
              cache_2 = this._skeletonCache.initAnimationCache(this.skeletonData._uuid, name);
              (true, cache_2) || Utils_1.warn("SpSkeletonHack#setAnimation", "no", name);
              cache_2.begin(this);
            }
            if (cache_2) {
              this._isAniComplete = false;
              this._accTime = 0;
              this._playCount = 0;
              this._frameCache = cache_2;
              this._curFrame = this._frameCache.frames[0];
            }
          } else if (this._skeleton) {
            var animation = this._skeleton.data.findAnimation(name);
            if (!animation) {
              cc.logID(7509, name);
              return null;
            }
            var res = this._state.setAnimationWith(trackIndex, animation, loop);
            this._state.apply(this._skeleton);
            return res;
          }
          return null;
        };
      };
      SpSkeletonHack.prototype.hack_2_0_10 = function(skeletonNode) {
        if (hacked) return;
        hacked = true;
        var skeleton = skeletonNode.getComponent(sp.Skeleton);
        var uuid = skeleton.skeletonData._uuid;
        var cache = skeleton._skeletonCache.updateAnimationCache(uuid, "empty");
        1;
        cache.constructor.prototype.begin = function(spSkeleton) {
          var skeleton = new sp.spine.Skeleton(spSkeleton._skeleton.data);
          var clipper = new sp.spine.SkeletonClipping();
          var stateData = new sp.spine.AnimationStateData(skeleton.data);
          var state = new sp.spine.AnimationState(stateData);
          var listener = new TrackEntryListeners();
          state.addListener(listener);
          this._skeleton = skeleton;
          this._clipper = clipper;
          this._state = state;
          var animation = skeleton.data.findAnimation(this._animationName);
          state.setAnimationWith(0, animation, false);
          this.bind(listener);
          this._frameIdx = -1;
          this.isCompleted = false;
          this.totalTime = 0;
        };
        0;
        1;
        cache.constructor.prototype.updateToFrame = function(toFrameIdx) {
          if (!this._needToUpdate(toFrameIdx)) return;
          var skeleton = this._skeleton;
          if (!skeleton) return;
          var clipper = this._clipper;
          var state = this._state;
          do {
            skeleton.update(FrameTime);
            state.update(FrameTime);
            state.apply(skeleton);
            skeleton.updateWorldTransform();
            this._frameIdx += 1;
            this._updateFrame(skeleton, clipper, this._frameIdx);
            this.totalTime += FrameTime;
          } while (this._needToUpdate(toFrameIdx));
          this.end();
        };
        0;
        1;
        sp.Skeleton.prototype.setAnimation = function(trackIndex, name, loop) {
          this._playTimes = loop ? 0 : 1;
          this._animationName = name;
          if (this.isAnimationCached()) {
            0 !== trackIndex && cc.warn("Track index can not greater than 0 in cached mode.");
            var cache_3 = this._skeletonCache.getAnimationCache(this.skeletonData._uuid, name);
            if (!cache_3) {
              cache_3 = this._skeletonCache.initAnimationCache(this.skeletonData._uuid, name);
              (true, cache_3) || Utils_1.warn("SpSkeletonHack#setAnimation", "no", name);
              cache_3.begin(this);
            }
            if (cache_3) {
              this._isAniComplete = false;
              this._accTime = 0;
              this._playCount = 0;
              this._frameCache = cache_3;
              this._curFrame = this._frameCache.frames[0];
            }
          } else if (this._skeleton) {
            var animation = this._skeleton.data.findAnimation(name);
            if (!animation) {
              cc.logID(7509, name);
              return null;
            }
            var res = this._state.setAnimationWith(trackIndex, animation, loop);
            this._state.apply(this._skeleton);
            return res;
          }
          return null;
        };
      };
      SpSkeletonHack = __decorate([ ccclass ], SpSkeletonHack);
      return SpSkeletonHack;
    }(cc.Component);
    exports.default = SpSkeletonHack;
    function genSkeletonData(skeletonJson, atlasText, textureNames, textures) {
      var skeletonData = new sp.SkeletonData();
      skeletonData.textureNames = textureNames;
      skeletonData.textures = textures;
      skeletonData.atlasText = atlasText;
      skeletonData.skeletonJson = JSON.parse(skeletonJson);
      return skeletonData;
    }
    exports.genSkeletonData = genSkeletonData;
    function genSkeleton(data, cacheMode, defaultAnimation, node) {
      void 0 === cacheMode && (cacheMode = 1);
      void 0 === defaultAnimation && (defaultAnimation = "");
      void 0 === node && (node = null);
      node || (node = new cc.Node());
      var skeleton = node.addComponent(sp.Skeleton);
      skeleton.skeletonData = data;
      cacheMode && skeleton.setAnimationCacheMode(cacheMode);
      skeleton.defaultAnimation = defaultAnimation || "empty";
      skeleton._updateSkeletonData();
      return skeleton;
    }
    exports.genSkeleton = genSkeleton;
    cc._RF.pop();
  }, {
    "../script/PromiseManager": "PromiseManager",
    "../utils/Utils": "Utils",
    "./SpSkeletonStatus": "SpSkeletonStatus"
  } ],
  SpSkeletonStatus: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "4cec2AYc6JD0oxElEgPlLg0", "SpSkeletonStatus");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.getSkeletonMeshData = exports.spSkeletonInfo = exports.spSkeletonNameDuration = void 0;
    var Utils_1 = require("../utils/Utils");
    var GraphicsProfile_1 = require("./GraphicsProfile");
    var NodeShrink_1 = require("./NodeShrink");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, requireComponent = _a.requireComponent, executionOrder = _a.executionOrder;
    var SpSkeletonStatus = function(_super) {
      __extends(SpSkeletonStatus, _super);
      function SpSkeletonStatus() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.label = null;
        _this.richtext = null;
        _this.graphicsProfile = null;
        _this.skeleton = null;
        _this.updateTimes = [];
        _this.str = "";
        return _this;
      }
      SpSkeletonStatus.prototype.load = function() {
        var i = spSkeletonInfo(this.skeleton, void 0, true);
        var arr = [ i.name + "(" + Number(i.duration).toFixed(2) + "s)", i.cacheMode + " mode", [ i.bones.length, i.totalBones ].join("/") + " bones", [ i.slots.length, i.totalSlots ].join("/") + " slots", i.textures.length + " textures", [ i.timelinesFrames, i.timelines.length ].join("/") + " timelines", i.drawCall + "(" + i.textureChange + "," + i.blendChange + ") drawcall", i.meshBones + " mesh bones", [ i.verticesChange, i.totalVertices ].join("/") + " vertices", [ i.triangleChange, i.totalTriangles ].join("/") + " triangles" ];
        this.str = arr.join("\n");
      };
      SpSkeletonStatus.prototype.onLoad = function() {
        var _this = this;
        this.skeleton = this.getComponent(sp.Skeleton);
        this.load();
        this.label && (this.label.string = this.str);
        if (this.richtext) {
          this.richtext.string = this.str;
          var shrink = this.richtext.getComponent(NodeShrink_1.default);
          shrink && shrink.resize();
        }
        var update = this.skeleton.update.bind(this.skeleton);
        this.skeleton.update = function(dt) {
          var now = performance.now();
          update(dt);
          var diff = performance.now() - now;
          _this.updateTimes.push(diff);
          _this.updateTimes.length > 1e3 && _this.updateTimes.splice(0, _this.updateTimes.length - 1e3);
          if (_this.label || _this.richtext) {
            var arr = _this.updateTimes.slice().sort();
            var mins = arr.slice(0, 100);
            var maxs = arr.slice(arr.length - 100);
            var str = _this.str + "\n" + [ (mins.reduce(Utils_1.sumReducer, 0) / mins.length).toFixed(3), (_this.updateTimes.reduce(Utils_1.sumReducer, 0) / _this.updateTimes.length).toFixed(3), (maxs.reduce(Utils_1.sumReducer, 0) / maxs.length).toFixed(3) ].join("/") + " ms";
            _this.label && (_this.label.string = str);
            _this.richtext && _this.richtext.string;
          }
          _this.graphicsProfile && _this.graphicsProfile.pushData(1e3 * diff);
        };
      };
      __decorate([ property(cc.Label) ], SpSkeletonStatus.prototype, "label", void 0);
      __decorate([ property(cc.RichText) ], SpSkeletonStatus.prototype, "richtext", void 0);
      __decorate([ property(GraphicsProfile_1.default) ], SpSkeletonStatus.prototype, "graphicsProfile", void 0);
      SpSkeletonStatus = __decorate([ ccclass, requireComponent(sp.Skeleton), executionOrder(1) ], SpSkeletonStatus);
      return SpSkeletonStatus;
    }(cc.Component);
    exports.default = SpSkeletonStatus;
    function spSkeletonNameDuration(ske, animation) {
      var animationName = animation || ske.animation || ske.defaultAnimation;
      var duration = ske.findAnimation(animationName).duration;
      return {
        duration: duration,
        name: animationName
      };
    }
    exports.spSkeletonNameDuration = spSkeletonNameDuration;
    function spSkeletonInfo(ske, animation, logMissingRegions) {
      void 0 === logMissingRegions && (logMissingRegions = false);
      var animationName = animation || ske.animation || ske.defaultAnimation;
      var cacheMode = ske._cacheMode;
      var skeletonData = ske.skeletonData;
      var textures = skeletonData.textures;
      var skeleton = ske._skeleton;
      var drawOrder = skeleton.drawOrder;
      var json = skeletonData.skeletonJson.animations[animationName];
      var totalBones = skeletonData.skeletonJson.bones.length;
      var totalSlots = skeletonData.skeletonJson.slots.length;
      var _a = ske.findAnimation(animationName), duration = _a.duration, timelines = _a.timelines;
      var bones = Object.keys(json.bones || {});
      var slots = Object.keys(json.slots || {});
      var slotAttachment = slots.map(function(k) {
        return json.slots[k].attachment && json.slots[k].attachment[0].name;
      });
      var fixFolder = function(k) {
        return k.split("_")[0] + "/" + k;
      };
      var slots2 = slots.map(fixFolder);
      var atlasCache = skeletonData._atlasCache;
      var regions = atlasCache.regions;
      var regionsMap = regions.reduce(Utils_1.toObjectReducer("name"), {});
      var _b = getSkeletonMeshData(skeletonData), meshTable = _b.meshTable, totalVertices = _b.totalVertices, totalTriangles = _b.totalTriangles, totalUVs = _b.totalUVs;
      var verticesChange = slotAttachment.reduce(function(acc, x) {
        return meshTable[x] ? acc + meshTable[x]["vertices"] : acc;
      }, 0);
      var triangleChange = slotAttachment.reduce(function(acc, x) {
        return meshTable[x] ? acc + meshTable[x]["triangles"] : acc;
      }, 0);
      var drawCall = 0;
      var blendChange = 0;
      var textureChange = 0;
      var prevBlendMode = -1;
      var prevTexture = null;
      var attachments = [];
      var missingRegions = [];
      for (var i = 0; i < drawOrder.length; i += 1) {
        var drawOrderi = drawOrder[i];
        var data = drawOrderi.data;
        var name = data.name;
        var blendMode = data.blendMode;
        var idx = slots.indexOf(name);
        if (-1 === idx) {
          idx = slots2.indexOf(fixFolder(name));
          if (-1 === idx) continue;
        }
        var regionName = slotAttachment[idx] || name;
        drawOrderi.attachment && attachments.push(drawOrderi.attachment);
        var region = regionsMap[regionName] || regionsMap[fixFolder(regionName)];
        if (!region) {
          missingRegions.push(name);
          continue;
        }
        if (prevTexture !== region.texture || prevBlendMode !== blendMode) {
          drawCall += 1;
          prevTexture !== region.texture && (textureChange += 1);
          prevBlendMode !== blendMode && (blendChange += 1);
        }
        prevBlendMode = blendMode;
        prevTexture = region.texture;
      }
      logMissingRegions && Utils_1.log(slots, slots2, slotAttachment);
      logMissingRegions && missingRegions.length && Utils_1.log("No region", missingRegions.sort(), "in", regions.map(function(r) {
        return r.name;
      }).sort());
      var timelinesFrames = timelines.map(function(t) {
        return t.frames.length;
      }).reduce(Utils_1.sumReducer, 0);
      var meshBones = attachments.filter(function(m) {
        return m.bones;
      }).map(function(m) {
        return m.bones.filter(Utils_1.onlyUnique).length;
      }).reduce(Utils_1.sumReducer, 0);
      return {
        blendChange: blendChange,
        textureChange: textureChange,
        cacheMode: cacheMode,
        bones: bones,
        totalBones: totalBones,
        slots: slots,
        totalSlots: totalSlots,
        duration: duration,
        timelines: timelines,
        timelinesFrames: timelinesFrames,
        drawCall: drawCall,
        textures: textures,
        meshBones: meshBones,
        totalVertices: totalVertices,
        totalTriangles: totalTriangles,
        totalUVs: totalUVs,
        verticesChange: verticesChange,
        triangleChange: triangleChange,
        name: animationName
      };
    }
    exports.spSkeletonInfo = spSkeletonInfo;
    function getSkeletonMeshData(skeletonData, log) {
      void 0 === log && (log = false);
      var skins = skeletonData.skeletonJson.skins;
      if (skins.default) {
        var obj_1 = skins.default;
        var tDataArr_1 = [];
        var tDataMap_1 = {};
        Object.keys(obj_1).forEach(function(key0) {
          var obj0 = obj_1[key0];
          Object.keys(obj0).forEach(function(key1) {
            var obj1 = obj0[key1];
            var dType = obj1.type;
            var vertices = obj1.vertices;
            var triangles = obj1.triangles;
            var uvs = obj1.uvs;
            if (dType && vertices && triangles && uvs) {
              var tableData = {
                attachmentName: key1,
                bones: "",
                type: dType,
                vertices: vertices.length,
                triangles: Math.floor(triangles.length / 3),
                uvs: uvs.length
              };
              tDataArr_1.push(tableData);
              tDataMap_1[key1] = tableData;
            }
          });
        });
        var totalVertices = tDataArr_1.reduce(function(acc, x) {
          return acc + x["vertices"];
        }, 0);
        var totalTriangles = tDataArr_1.reduce(function(acc, x) {
          return acc + x["triangles"];
        }, 0);
        var totalUVs = tDataArr_1.reduce(function(acc, x) {
          return acc + x["uvs"];
        }, 0);
        log && console.table(tDataArr_1);
        var meshTable = tDataMap_1;
        return {
          meshTable: meshTable,
          totalVertices: totalVertices,
          totalTriangles: totalTriangles,
          totalUVs: totalUVs
        };
      }
      var obj_2 = skins;
      var tDataArr_2 = [];
      var tDataMap_2 = {};
      Object.keys(obj_2).forEach(function(key0) {
        var obj0 = obj_2[key0];
        Object.keys(obj0).forEach(function(key1) {
          var obj1 = obj0[key1];
          Object.keys(obj1).forEach(function(key2) {
            var obj2 = obj1[key2];
            Object.keys(obj2).forEach(function(key3) {
              var obj3 = obj2[key3];
              var dType = obj3.type;
              var vertices = obj3.vertices;
              var triangles = obj3.triangles;
              var uvs = obj3.uvs;
              if (dType && vertices && triangles && uvs) {
                var skName = obj0.name;
                var tableData = {
                  skinName: skName,
                  attachmentName: key3,
                  bones: "",
                  type: dType,
                  vertices: vertices.length,
                  triangles: Math.floor(triangles.length / 3),
                  uvs: uvs.length
                };
                tDataArr_2.push(tableData);
                tDataMap_2[key2] = tableData;
              }
            });
          });
        });
      });
      var totalVertices = tDataArr_2.reduce(function(acc, x) {
        return acc + x["vertices"];
      }, 0);
      var totalTriangles = tDataArr_2.reduce(function(acc, x) {
        return acc + x["triangles"];
      }, 0);
      var totalUVs = tDataArr_2.reduce(function(acc, x) {
        return acc + x["uvs"];
      }, 0);
      log && console.table(tDataArr_2);
      var meshTable = tDataMap_2;
      return {
        meshTable: meshTable,
        totalVertices: totalVertices,
        totalTriangles: totalTriangles,
        totalUVs: totalUVs
      };
    }
    exports.getSkeletonMeshData = getSkeletonMeshData;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./GraphicsProfile": "GraphicsProfile",
    "./NodeShrink": "NodeShrink"
  } ],
  SpriteFitWorldSize: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ef280RCEK1EjoM/zuurjZ+F", "SpriteFitWorldSize");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var SpriteFitWorldSize = function(_super) {
      __extends(SpriteFitWorldSize, _super);
      function SpriteFitWorldSize() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.resizeNode = null;
        _this.size = null;
        _this.sprite = null;
        _this.shrink = false;
        _this.shrinkScale2 = 1;
        _this.shrinkMaxScale = 1;
        _this.spriteSize = null;
        return _this;
      }
      SpriteFitWorldSize.prototype.onLoad = function() {
        this.resizeNode = this.resizeNode || this.node;
        this.spriteSize = this.size || this.sprite && this.sprite.node.getContentSize() || this.node.getContentSize();
      };
      SpriteFitWorldSize.prototype.fit = function(size) {
        var scale = 1;
        var sw = this.spriteSize.width;
        var sh = this.spriteSize.height;
        var h = size.height;
        var w = size.width;
        if (this.shrink) {
          var w2 = size.width * this.shrinkScale2;
          scale = w2 / sw;
          scale > this.shrinkMaxScale && (scale = this.shrinkMaxScale);
        } else scale = Math.max(w / sw, h / sh);
        this.resizeNode.setScale(scale);
      };
      __decorate([ property(cc.Node) ], SpriteFitWorldSize.prototype, "resizeNode", void 0);
      __decorate([ property(cc.Size) ], SpriteFitWorldSize.prototype, "size", void 0);
      __decorate([ property(cc.Sprite) ], SpriteFitWorldSize.prototype, "sprite", void 0);
      __decorate([ property(cc.Boolean) ], SpriteFitWorldSize.prototype, "shrink", void 0);
      __decorate([ property({
        type: cc.Float,
        tooltip: "\u6700\u591a\u7528 size \u591a\u5c11\u7684\u5bec, size.width * shrinkScale2"
      }) ], SpriteFitWorldSize.prototype, "shrinkScale2", void 0);
      __decorate([ property({
        type: cc.Float,
        tooltip: "\u6700\u5927\u7684 scale \u500d\u6578"
      }) ], SpriteFitWorldSize.prototype, "shrinkMaxScale", void 0);
      SpriteFitWorldSize = __decorate([ ccclass ], SpriteFitWorldSize);
      return SpriteFitWorldSize;
    }(cc.Component);
    exports.default = SpriteFitWorldSize;
    cc._RF.pop();
  }, {} ],
  SpriteFrameGlobal: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "458f2xohMxNHoEC6HjZIoqJ", "SpriteFrameGlobal");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.getSpriteFrame = void 0;
    var KeyStr_1 = require("./data/KeyStr");
    var ResLoader_1 = require("./script/ResLoader");
    var ResourcesLoader_1 = require("./script/ResourcesLoader");
    var frameCache = new Map();
    function getSpriteFrame(key) {
      if (!key) return null;
      if (frameCache.has(key)) return frameCache.get(key);
      var frame = ResLoader_1.getResSpriteFrame(key);
      if (frame) return frame;
      var l = ResourcesLoader_1.getResourcesLoader();
      var d = KeyStr_1.findFrame2([ key ], l.keyAtlass);
      frame = d ? d.frame : null;
      frameCache.set(key, frame);
      return frame;
    }
    exports.getSpriteFrame = getSpriteFrame;
    cc._RF.pop();
  }, {
    "./data/KeyStr": "KeyStr",
    "./script/ResLoader": "ResLoader",
    "./script/ResourcesLoader": "ResourcesLoader"
  } ],
  SpriteReload: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6aab0xX0zVF6ILPSyjLeRj8", "SpriteReload");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executionOrder = _a.executionOrder, requireComponent = _a.requireComponent;
    var SpriteReload = function(_super) {
      __extends(SpriteReload, _super);
      function SpriteReload() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      SpriteReload.prototype.onLoad = function() {
        var sprite = this.node.getComponent(cc.Sprite);
        var frame = sprite.spriteFrame;
        sprite.spriteFrame = null;
        this.scheduleOnce(function() {
          sprite.spriteFrame = frame;
        }, 0);
      };
      SpriteReload = __decorate([ ccclass, requireComponent(cc.Sprite), executionOrder(2) ], SpriteReload);
      return SpriteReload;
    }(cc.Component);
    exports.default = SpriteReload;
    cc._RF.pop();
  }, {} ],
  StorageGlobal: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "4d0cbyoM8JHfLe5FbI0f1w0", "StorageGlobal");
    "use strict";
    var _a, _b, _c, _d, _e, _f, _g, _h, _j;
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.applyLocalStorageToCommonUIData = exports.setStartPage = exports.getStartPage = exports.setSpaceSpin = exports.getSpaceSpin = exports.setCurrencySymbol = exports.getCurrencySymbol = exports.setSpinSpeed = exports.getSpinSpeed = exports.setMusicEnable = exports.getMusicEnable = exports.setEffectEnable = exports.getEffectEnable = exports.setAudioRatio = exports.getAudioRatio = exports.setAudioEnable = exports.getAudioEnable = exports.STORAGE_DEFAULTS = exports.ZERO_TEMPLATE = exports.HALF_TEMPLATE = exports.FALSE_TEMPLATE = exports.TRUE_TEMPLATE = exports.STORAGE_KEY = exports.genLocalStorage = exports.num2str = exports.str2num = exports.bool2str = exports.str2bool = exports.supportSessionStorage = exports.supportLocalStorage = void 0;
    var ParamsGlobal_1 = require("./ParamsGlobal");
    function supportLocalStorage() {
      var support = true;
      try {
        localStorage.getItem("localStorage");
      } catch (error) {
        support = false;
      }
      return support;
    }
    exports.supportLocalStorage = supportLocalStorage;
    function supportSessionStorage() {
      var support = true;
      try {
        sessionStorage.getItem("sessionStorage");
      } catch (error) {
        support = false;
      }
      return support;
    }
    exports.supportSessionStorage = supportSessionStorage;
    var str2bool = function(def) {
      return function(str) {
        return Boolean(str ? Number(str) : def);
      };
    };
    exports.str2bool = str2bool;
    var bool2str = function(val) {
      return "" + Number(val);
    };
    exports.bool2str = bool2str;
    var str2num = function(def) {
      return function(str) {
        return isNaN(Number(str)) ? def : Number(str);
      };
    };
    exports.str2num = str2num;
    var num2str = function(val) {
      return "" + val;
    };
    exports.num2str = num2str;
    function genLocalStorage(key, defaultVal, stringToT, tToString) {
      return {
        get: genGetLocalStorage(key, defaultVal, stringToT),
        set: genSetLocalStorage(key, defaultVal, tToString)
      };
    }
    exports.genLocalStorage = genLocalStorage;
    function genGetLocalStorage(key, defaultVal, handler) {
      return function() {
        var val = defaultVal;
        try {
          var ks = key.split(".");
          var k = ks[0];
          var str = localStorage.getItem(k);
          var val2 = void 0;
          if (1 !== ks.length) {
            val2 = str ? JSON.parse(str) : {};
            var len = 1;
            while (len < ks.length) {
              val2 = val2[ks[len]];
              len += 1;
            }
          } else val2 = str;
          val = handler(val2);
        } catch (e) {}
        return val;
      };
    }
    function genSetLocalStorage(key, defaultVal, handler) {
      return function(value) {
        var ks = key.split(".");
        var k = ks[0];
        var str = handler(value);
        var val;
        try {
          if (1 !== ks.length) {
            var itemStr = localStorage.getItem(k);
            var json = itemStr ? JSON.parse(itemStr) : {};
            var len = 1;
            var obj = json;
            while (len < ks.length) {
              var kk = ks[len];
              obj[kk] || (obj[kk] = {});
              len === ks.length - 1 && (obj[kk] = str);
              obj = obj[kk];
              len += 1;
            }
            val = JSON.stringify(json);
          } else val = str;
          localStorage.setItem(k, val);
        } catch (e) {
          return false;
        }
        return true;
      };
    }
    var STORAGE_KEY;
    (function(STORAGE_KEY) {
      STORAGE_KEY["AUDIO_ENABLED"] = "dsd.CLIENT_AUDIO_ENABLED";
      STORAGE_KEY["AUDIO_RATIO"] = "dsd.CLIENT_AUDIO_RATIO";
      STORAGE_KEY["AUDIO_EFFECT_ENABLED"] = "dsd.CLIENT_EFFECT_ENABLED";
      STORAGE_KEY["AUDIO_MUSIC_ENABLED"] = "dsd.CLIENT_MUSIC_ENABLED";
      STORAGE_KEY["START_PAGE"] = "dsd.SHOW_LEADING_PAGE_NEXT_TIME";
      STORAGE_KEY["SPIN_SPEED"] = "dsd.SPIN_SPEED";
      STORAGE_KEY["CURRENCY_SYMBOL"] = "dsd.CURRENCY_SYMBOL";
      STORAGE_KEY["SPACE_SPIN"] = "dsd.SPACE_SPIN";
      STORAGE_KEY["BET_LEVEL"] = "dsd.BET_LEVEL_{gid}";
      STORAGE_KEY["CUSTOM_1"] = "dsd.CUSTOM_1_{gid}";
      STORAGE_KEY["CUSTOM_2"] = "dsd.CUSTOM_2_{gid}";
      STORAGE_KEY["CUSTOM_3"] = "dsd.CUSTOM_3_{gid}";
      STORAGE_KEY["CUSTOM_4"] = "dsd.CUSTOM_4_{gid}";
      STORAGE_KEY["CUSTOM_5"] = "dsd.CUSTOM_5_{gid}";
    })(STORAGE_KEY = exports.STORAGE_KEY || (exports.STORAGE_KEY = {}));
    exports.TRUE_TEMPLATE = [ true, exports.str2bool(true), exports.bool2str ];
    exports.FALSE_TEMPLATE = [ false, exports.str2bool(false), exports.bool2str ];
    exports.HALF_TEMPLATE = [ .5, exports.str2num(.5), exports.num2str ];
    exports.ZERO_TEMPLATE = [ 0, exports.str2num(0), exports.num2str ];
    exports.STORAGE_DEFAULTS = (_a = {}, _a[STORAGE_KEY.AUDIO_ENABLED] = exports.TRUE_TEMPLATE, 
    _a[STORAGE_KEY.AUDIO_RATIO] = exports.HALF_TEMPLATE, _a[STORAGE_KEY.AUDIO_EFFECT_ENABLED] = exports.TRUE_TEMPLATE, 
    _a[STORAGE_KEY.AUDIO_MUSIC_ENABLED] = exports.TRUE_TEMPLATE, _a[STORAGE_KEY.SPIN_SPEED] = exports.HALF_TEMPLATE, 
    _a[STORAGE_KEY.CURRENCY_SYMBOL] = ParamsGlobal_1.EXTRA_1020_DEFAULT ? exports.TRUE_TEMPLATE : exports.FALSE_TEMPLATE, 
    _a[STORAGE_KEY.SPACE_SPIN] = exports.TRUE_TEMPLATE, _a[STORAGE_KEY.START_PAGE] = exports.TRUE_TEMPLATE, 
    _a);
    exports.getAudioEnable = (_b = genLocalStorage(STORAGE_KEY.AUDIO_ENABLED, exports.STORAGE_DEFAULTS[STORAGE_KEY.AUDIO_ENABLED][0], exports.STORAGE_DEFAULTS[STORAGE_KEY.AUDIO_ENABLED][1], exports.STORAGE_DEFAULTS[STORAGE_KEY.AUDIO_ENABLED][2]), 
    _b.get), exports.setAudioEnable = _b.set;
    exports.getAudioRatio = (_c = genLocalStorage(STORAGE_KEY.AUDIO_RATIO, exports.STORAGE_DEFAULTS[STORAGE_KEY.AUDIO_RATIO][0], exports.STORAGE_DEFAULTS[STORAGE_KEY.AUDIO_RATIO][1], exports.STORAGE_DEFAULTS[STORAGE_KEY.AUDIO_RATIO][2]), 
    _c.get), exports.setAudioRatio = _c.set;
    exports.getEffectEnable = (_d = genLocalStorage(STORAGE_KEY.AUDIO_EFFECT_ENABLED, exports.STORAGE_DEFAULTS[STORAGE_KEY.AUDIO_EFFECT_ENABLED][0], exports.STORAGE_DEFAULTS[STORAGE_KEY.AUDIO_EFFECT_ENABLED][1], exports.STORAGE_DEFAULTS[STORAGE_KEY.AUDIO_EFFECT_ENABLED][2]), 
    _d.get), exports.setEffectEnable = _d.set;
    exports.getMusicEnable = (_e = genLocalStorage(STORAGE_KEY.AUDIO_MUSIC_ENABLED, exports.STORAGE_DEFAULTS[STORAGE_KEY.AUDIO_MUSIC_ENABLED][0], exports.STORAGE_DEFAULTS[STORAGE_KEY.AUDIO_MUSIC_ENABLED][1], exports.STORAGE_DEFAULTS[STORAGE_KEY.AUDIO_MUSIC_ENABLED][2]), 
    _e.get), exports.setMusicEnable = _e.set;
    exports.getSpinSpeed = (_f = genLocalStorage(STORAGE_KEY.SPIN_SPEED, exports.STORAGE_DEFAULTS[STORAGE_KEY.SPIN_SPEED][0], exports.STORAGE_DEFAULTS[STORAGE_KEY.SPIN_SPEED][1], exports.STORAGE_DEFAULTS[STORAGE_KEY.SPIN_SPEED][2]), 
    _f.get), exports.setSpinSpeed = _f.set;
    exports.getCurrencySymbol = (_g = genLocalStorage(STORAGE_KEY.CURRENCY_SYMBOL, exports.STORAGE_DEFAULTS[STORAGE_KEY.CURRENCY_SYMBOL][0], exports.STORAGE_DEFAULTS[STORAGE_KEY.CURRENCY_SYMBOL][1], exports.STORAGE_DEFAULTS[STORAGE_KEY.CURRENCY_SYMBOL][2]), 
    _g.get), exports.setCurrencySymbol = _g.set;
    exports.getSpaceSpin = (_h = genLocalStorage(STORAGE_KEY.SPACE_SPIN, exports.STORAGE_DEFAULTS[STORAGE_KEY.SPACE_SPIN][0], exports.STORAGE_DEFAULTS[STORAGE_KEY.SPACE_SPIN][1], exports.STORAGE_DEFAULTS[STORAGE_KEY.SPACE_SPIN][2]), 
    _h.get), exports.setSpaceSpin = _h.set;
    exports.getStartPage = (_j = genLocalStorage(STORAGE_KEY.START_PAGE, exports.STORAGE_DEFAULTS[STORAGE_KEY.START_PAGE][0], exports.STORAGE_DEFAULTS[STORAGE_KEY.START_PAGE][1], exports.STORAGE_DEFAULTS[STORAGE_KEY.START_PAGE][2]), 
    _j.get), exports.setStartPage = _j.set;
    function applyLocalStorageToCommonUIData(data) {
      var ee = exports.getEffectEnable();
      var me = exports.getMusicEnable();
      var ae = exports.getAudioEnable();
      ae = ee || me;
      data.set("playSound", ae);
      data.set("soundRatio", exports.getAudioRatio());
      data.set("spinSpeed", exports.getSpinSpeed());
      data.set("playEffect", ee);
      data.set("playMusic", me);
      data.set("startPage", !ParamsGlobal_1.EXTRA_1100 && exports.getStartPage());
      data.set("displayCurrencySymbol", ParamsGlobal_1.EXTRA_1020_FORCE_DEFAULT ? ParamsGlobal_1.EXTRA_1020_DEFAULT : exports.getCurrencySymbol());
      data.set("spaceSpin", exports.getSpaceSpin());
    }
    exports.applyLocalStorageToCommonUIData = applyLocalStorageToCommonUIData;
    cc._RF.pop();
  }, {
    "./ParamsGlobal": "ParamsGlobal"
  } ],
  SystemMenuConfig: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "8d7cdm24NVPrr0ztTPL3rsY", "SystemMenuConfig");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var SystemMenu_1 = require("./SystemMenu");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var SystemMenuConfig = function(_super) {
      __extends(SystemMenuConfig, _super);
      function SystemMenuConfig() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.zIndex = 0;
        _this.systemMenuNode = null;
        _this.able = false;
        _this.backHandler = null;
        _this.helpHandler = null;
        _this.audioHandler = null;
        _this.recordHandler = null;
        _this.optionHandlers = [];
        _this.systemMenu = null;
        return _this;
      }
      SystemMenuConfig.prototype.onLoad = function() {
        this.systemMenu = this.systemMenuNode.getComponent(SystemMenu_1.default);
        var sm = this.systemMenu;
        sm.able = this.able;
        sm.backHandler = this.backHandler;
        sm.helpHandler = this.helpHandler;
        sm.audioHandler = this.audioHandler;
        sm.recordHandler = this.recordHandler;
        sm.optionHandlers = this.optionHandlers;
        sm.node.zIndex = this.zIndex;
      };
      SystemMenuConfig.prototype.getNetQuality = function() {
        return this.systemMenu.netQuality;
      };
      __decorate([ property(cc.Integer) ], SystemMenuConfig.prototype, "zIndex", void 0);
      __decorate([ property(cc.Node) ], SystemMenuConfig.prototype, "systemMenuNode", void 0);
      __decorate([ property(cc.Boolean) ], SystemMenuConfig.prototype, "able", void 0);
      __decorate([ property(cc.Component.EventHandler) ], SystemMenuConfig.prototype, "backHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], SystemMenuConfig.prototype, "helpHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], SystemMenuConfig.prototype, "audioHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], SystemMenuConfig.prototype, "recordHandler", void 0);
      __decorate([ property([ cc.Component.EventHandler ]) ], SystemMenuConfig.prototype, "optionHandlers", void 0);
      SystemMenuConfig = __decorate([ ccclass ], SystemMenuConfig);
      return SystemMenuConfig;
    }(cc.Component);
    exports.default = SystemMenuConfig;
    cc._RF.pop();
  }, {
    "./SystemMenu": "SystemMenu"
  } ],
  SystemMenu: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e57cf6u0TFBCYC2gjmnkGIO", "SystemMenu");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CommonButton_1 = require("../component/CommonButton");
    var PromiseManager_1 = require("../script/PromiseManager");
    var StorageGlobal_1 = require("../StorageGlobal");
    var Utils_1 = require("../utils/Utils");
    var ButtonInteractable_1 = require("./ButtonInteractable");
    var NetQuality_1 = require("./NetQuality");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var SystemMenu = function(_super) {
      __extends(SystemMenu, _super);
      function SystemMenu() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.animation = null;
        _this.audioToggle = null;
        _this.menuButton = null;
        _this.menuCCButton = null;
        _this.netQuality = null;
        _this.label = null;
        _this.buttonNode = [];
        _this.optionNodes = [];
        _this.closeTimeout = 0;
        _this.optionHandlers = [];
        _this.able = false;
        _this.tweenNode = null;
        _this.backHandler = null;
        _this.helpHandler = null;
        _this.audioHandler = null;
        _this.recordHandler = null;
        _this.inTween = null;
        _this.outTween = null;
        _this.tween = null;
        return _this;
      }
      SystemMenu.prototype.start = function() {
        var _this = this;
        this.menuButton && (this.menuCCButton = this.menuButton.getComponent(cc.Button));
        this.audioToggle.isChecked = StorageGlobal_1.getAudioEnable();
        this.optionNodes.forEach(Utils_1.nodeActive(false));
        this.applyButtonAble();
        this.closeTimeout && this.scheduleOnce(function() {
          return _this.toggleMenu(false);
        }, this.closeTimeout);
      };
      SystemMenu.prototype.onBackClick = function() {
        this.backHandler.emit([]);
      };
      SystemMenu.prototype.onHelpClick = function() {
        this.helpHandler.emit([]);
      };
      SystemMenu.prototype.onRecordClick = function() {
        this.recordHandler.emit([]);
      };
      SystemMenu.prototype.toggleAudio = function() {
        var btn = this.audioToggle.getComponent(CommonButton_1.default);
        this.audioHandler.emit([ btn.isChecked ]);
      };
      SystemMenu.prototype.onAudioToggleClick = function() {
        this.toggleAudio();
      };
      SystemMenu.prototype.addButtonNodeFromOthers = function(index) {
        var node = this.optionNodes[index];
        if (!node) return;
        if (-1 !== this.buttonNode.indexOf(node)) return;
        this.buttonNode.push(node);
        this.applyButtonAble();
      };
      SystemMenu.prototype.removeButtonNodeFromOthers = function(index) {
        var node = this.optionNodes[index];
        if (!node) return;
        if (-1 === this.buttonNode.indexOf(node)) return;
        Utils_1.arraySplice(this.buttonNode, node);
        this.applyButtonAble();
      };
      SystemMenu.prototype.applyButtonAble = function() {
        this.buttonNode.forEach(Utils_1.nodeActive(this.able));
      };
      SystemMenu.prototype.toggleMenu = function(able, force) {
        var _this = this;
        void 0 === able && (able = !this.able);
        void 0 === force && (force = false);
        if (!force && able === this.able) return;
        this.able = able;
        var bi = this.getComponent(ButtonInteractable_1.default);
        bi && bi.triggerExclusive(this.able);
        var anim = this.animation;
        this.menuCCButton && (this.menuCCButton.enabled = false);
        if (able) {
          if (this.closeTimeout) {
            this.unscheduleAllCallbacks();
            this.scheduleOnce(function() {
              return _this.toggleMenu(false);
            }, this.closeTimeout);
          }
          PromiseManager_1.animationPlayToPromise(anim, 0).then(function() {
            _this.menuCCButton && (_this.menuCCButton.enabled = true);
          });
          if (this.inTween) {
            this.tween && this.tween.removeSelf();
            this.tween = this.inTween.clone(this.tweenNode).start();
          }
          this.applyButtonAble();
        } else {
          PromiseManager_1.animationPlayToPromise(anim, 1).then(function() {
            _this.menuCCButton && (_this.menuCCButton.enabled = true);
            _this.applyButtonAble();
          });
          if (this.outTween) {
            this.tween && this.tween.removeSelf();
            this.tween = this.outTween.clone(this.tweenNode).start();
          }
        }
      };
      SystemMenu.prototype.setNetQualityPing = function(ping) {
        this.netQuality.setPing(ping);
      };
      SystemMenu.prototype.onToggleClick = function() {
        this.toggleMenu();
      };
      SystemMenu.prototype.onOptionClick = function(event) {
        var node = event.target;
        var i = this.optionNodes.indexOf(node);
        -1 !== i && this.optionHandlers[i].emit([]);
      };
      __decorate([ property(cc.Animation) ], SystemMenu.prototype, "animation", void 0);
      __decorate([ property(CommonButton_1.default) ], SystemMenu.prototype, "audioToggle", void 0);
      __decorate([ property(CommonButton_1.default) ], SystemMenu.prototype, "menuButton", void 0);
      __decorate([ property(cc.Button) ], SystemMenu.prototype, "menuCCButton", void 0);
      __decorate([ property(NetQuality_1.default) ], SystemMenu.prototype, "netQuality", void 0);
      __decorate([ property(cc.Label) ], SystemMenu.prototype, "label", void 0);
      __decorate([ property([ cc.Node ]) ], SystemMenu.prototype, "buttonNode", void 0);
      __decorate([ property([ cc.Node ]) ], SystemMenu.prototype, "optionNodes", void 0);
      __decorate([ property(cc.Float) ], SystemMenu.prototype, "closeTimeout", void 0);
      __decorate([ property(cc.Node) ], SystemMenu.prototype, "tweenNode", void 0);
      __decorate([ property(cc.Tween) ], SystemMenu.prototype, "inTween", void 0);
      __decorate([ property(cc.Tween) ], SystemMenu.prototype, "outTween", void 0);
      SystemMenu = __decorate([ ccclass ], SystemMenu);
      return SystemMenu;
    }(cc.Component);
    exports.default = SystemMenu;
    cc._RF.pop();
  }, {
    "../StorageGlobal": "StorageGlobal",
    "../component/CommonButton": "CommonButton",
    "../script/PromiseManager": "PromiseManager",
    "../utils/Utils": "Utils",
    "./ButtonInteractable": "ButtonInteractable",
    "./NetQuality": "NetQuality"
  } ],
  TemplateGenerator: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a7c89VnT5tAC43D3pZQzFJM", "TemplateGenerator");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.TemplateGenerator = void 0;
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var G_SYMBOL = Symbol("TEMPLATE_GENERATOR_SYMBOL");
    var TemplateGenerator = function(_super) {
      __extends(TemplateGenerator, _super);
      function TemplateGenerator() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.templates = [];
        _this.pools = [];
        _this.borrows = [];
        return _this;
      }
      TemplateGenerator.prototype.onLoad = function() {
        var _this = this;
        this.templates.forEach(function(node, i) {
          if (!node) return;
          node.removeFromParent();
          _this.pools[i] = new cc.NodePool();
          _this.borrows[i] = 0;
        });
      };
      TemplateGenerator.prototype.getNode = function(index) {
        void 0 === index && (index = 0);
        var pool = this.pools[index];
        if (!pool) return;
        if (!pool.size()) {
          var tpl = this.templates[index];
          var n = cc.instantiate(tpl);
          n[G_SYMBOL] = tpl.name + "_" + index;
          pool.put(n);
        }
        var node = pool.get();
        this.borrows[index] += 1;
        return node;
      };
      TemplateGenerator.prototype.recycleNode = function(node, index) {
        void 0 === index && (index = 0);
        if (!this.isValid) return;
        -1 === index && (index = this.templates.findIndex(function(tpl, index) {
          return tpl && tpl.name + "_" + index === node[G_SYMBOL];
        }));
        var pool = this.pools[index];
        true;
        var tpl = this.templates[index];
        if (!tpl) debugger;
        var tplGSymbol = tpl.name + "_" + index;
        var nodeGSymbol = node[G_SYMBOL];
        tpl && tplGSymbol !== nodeGSymbol && Utils_1.warn("template node name not match: ", tplGSymbol, nodeGSymbol, node.name);
        node.parent || Utils_1.warn("no parent, may recycle twice", node.name);
        if (!pool) {
          Utils_1.warn("pool not exists");
          return;
        }
        this.borrows[index] -= 1;
        pool.put(node);
      };
      __decorate([ property([ cc.Node ]) ], TemplateGenerator.prototype, "templates", void 0);
      TemplateGenerator = __decorate([ ccclass ], TemplateGenerator);
      return TemplateGenerator;
    }(cc.Component);
    exports.TemplateGenerator = TemplateGenerator;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  Template: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "fdd40PQbblD1ZVwhOBt0187", "Template");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var UpdatePositionSlider_1 = require("../submodule/game-client-lib/component/UpdatePositionSlider");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var Template = function(_super) {
      __extends(Template, _super);
      function Template() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.label = null;
        _this.editBox = null;
        _this.editBox2 = null;
        _this.toggle = null;
        _this.slider = null;
        return _this;
      }
      __decorate([ property(cc.Label) ], Template.prototype, "label", void 0);
      __decorate([ property(cc.EditBox) ], Template.prototype, "editBox", void 0);
      __decorate([ property(cc.EditBox) ], Template.prototype, "editBox2", void 0);
      __decorate([ property(cc.Toggle) ], Template.prototype, "toggle", void 0);
      __decorate([ property(UpdatePositionSlider_1.default) ], Template.prototype, "slider", void 0);
      Template = __decorate([ ccclass ], Template);
      return Template;
    }(cc.Component);
    exports.default = Template;
    cc._RF.pop();
  }, {
    "../submodule/game-client-lib/component/UpdatePositionSlider": "UpdatePositionSlider"
  } ],
  ToastData: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6a682/BkYZOs54xCdWjf6Ch", "ToastData");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ToastData = function() {
      function ToastData(msg, time, skipRepeat) {
        this.msg = msg;
        this.time = time;
        this.skipRepeat = skipRepeat;
      }
      return ToastData;
    }();
    exports.default = ToastData;
    cc._RF.pop();
  }, {} ],
  Toast: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6d893JCs4hPZrSivZrGZMxj", "Toast");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.Toast = void 0;
    var ToastData_1 = require("../data/ToastData");
    var I18nGlobal_1 = require("../I18nGlobal");
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var Toast = function(_super) {
      __extends(Toast, _super);
      function Toast() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.toastQueue = [];
        _this.background = null;
        _this.canvasWidget = [];
        _this.label = null;
        _this.lastToastData = null;
        _this.loaded = false;
        return _this;
      }
      Toast.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.background = this.background || this.node.children && this.node.children[0];
        this.label = this.label || this.getComponentInChildren(cc.Label);
      };
      Toast.prototype.show = function(msg, sec, skipRepeat) {
        void 0 === sec && (sec = 2);
        void 0 === skipRepeat && (skipRepeat = true);
        this.pre();
        var txt = I18nGlobal_1.translate(msg);
        this.toastQueue.push(new ToastData_1.default(txt, sec, skipRepeat));
        this.node.opacity || this.showNext();
      };
      Toast.prototype.showNext = function() {
        while (this.toastQueue.length > 0) {
          var toastMsg = this.toastQueue.shift();
          if (this.lastToastData && toastMsg.skipRepeat && this.lastToastData.msg === toastMsg.msg) continue;
          Utils_1.log("toastMsg", toastMsg.msg);
          this.label.string = toastMsg.msg;
          this.lastToastData = toastMsg;
          this.node.opacity = 255;
          this.unscheduleAllCallbacks();
          this.scheduleOnce(this.showNext.bind(this), toastMsg.time);
          return;
        }
        this.lastToastData = null;
        this.node.opacity = 0;
      };
      __decorate([ property(cc.Node) ], Toast.prototype, "background", void 0);
      __decorate([ property([ cc.Widget ]) ], Toast.prototype, "canvasWidget", void 0);
      __decorate([ property(cc.Label) ], Toast.prototype, "label", void 0);
      Toast = __decorate([ ccclass ], Toast);
      return Toast;
    }(cc.Component);
    exports.Toast = Toast;
    cc._RF.pop();
  }, {
    "../I18nGlobal": "I18nGlobal",
    "../data/ToastData": "ToastData",
    "../utils/Utils": "Utils"
  } ],
  TreeItem: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f751fGv2F1Bl4Wg6wCFApqa", "TreeItem");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var TreeItem = function(_super) {
      __extends(TreeItem, _super);
      function TreeItem() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.ref = null;
        return _this;
      }
      TreeItem = __decorate([ ccclass ], TreeItem);
      return TreeItem;
    }(cc.Component);
    exports.default = TreeItem;
    cc._RF.pop();
  }, {} ],
  UIBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "d5f56OvFsdBfoumQTnoSo8z", "UIBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.doLayoutFn = exports.doLayoutNodeParent = exports.doLayoutNodeProperty = exports.doLayoutNodeScale = exports.doLayoutNodeX = exports.doLayoutNodeY = exports.doLayoutNodePosition = exports.doLayoutCalculateY = exports.doLayoutSpinWins = exports.doLayoutSpin = exports.doLayout2 = exports.doLayout = void 0;
    var Handler_1 = require("../component/Handler");
    var ColItemBase_1 = require("../data/ColItemBase");
    var ResizeGlobal_1 = require("../ResizeGlobal");
    var Utils_1 = require("../utils/Utils");
    var CommonUIManager_1 = require("./CommonUIManager");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var UIBase = function(_super) {
      __extends(UIBase, _super);
      function UIBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.layout = ResizeGlobal_1.UI_LAYOUT.UNKNOWN;
        _this.size = null;
        _this.commonUIManager = null;
        _this.startPageNodes = [];
        _this.nodes = [];
        _this.bottomNode = null;
        _this.startPageHandler = null;
        return _this;
      }
      UIBase.prototype.onLoad = function() {
        this.commonUIManager.size1280x720 && this.startPageNodes.forEach(function(node) {
          return ResizeGlobal_1.resizeNode(ResizeGlobal_1.RESIZE_SCALE, node);
        });
        this.startPageNodes.map(function(n) {
          return n.getComponent(Handler_1.default);
        }).forEach(Utils_1.nodeProperty("handler", this.startPageHandler));
      };
      UIBase.prototype.onStartPageCloseClick = function() {
        this.data.set("displayStartPage", false);
      };
      UIBase.prototype.onResized = function(size) {
        var layout = ResizeGlobal_1.getLayoutType();
        this.size = size;
        this.doLayout(layout, size);
        this.layout = layout;
      };
      UIBase.prototype.updateLayout = function() {
        this.doLayout(this.layout, this.size);
      };
      __decorate([ property(CommonUIManager_1.default) ], UIBase.prototype, "commonUIManager", void 0);
      __decorate([ property([ cc.Node ]) ], UIBase.prototype, "startPageNodes", void 0);
      __decorate([ property({
        tooltip: "\u8981\u4f7f\u7528\u8f6c\u8f74\u7f29\u653e\u7684\u8282\u70b9",
        type: [ cc.Node ]
      }) ], UIBase.prototype, "nodes", void 0);
      __decorate([ property(cc.Node) ], UIBase.prototype, "bottomNode", void 0);
      __decorate([ property(cc.Component.EventHandler) ], UIBase.prototype, "startPageHandler", void 0);
      UIBase = __decorate([ ccclass ], UIBase);
      return UIBase;
    }(ColItemBase_1.default);
    exports.default = UIBase;
    function doLayout(layout, ui, size, commonUI, manager, hy, h, spinAnim) {
      void 0 === hy && (hy = 25);
      void 0 === h && (h = 540);
      void 0 === spinAnim && (spinAnim = true);
      var ys = [ hy, hy, doLayoutCalculateY(size.height, h) ];
      var scales = [ 1, 1, .8 ];
      doLayout2(layout, ui, commonUI, manager, spinAnim, ys, scales);
    }
    exports.doLayout = doLayout;
    function doLayout2(layout, ui, commonUI, manager, spinAnim, ys, scales) {
      void 0 === spinAnim && (spinAnim = true);
      void 0 === ys && (ys = []);
      void 0 === scales && (scales = []);
      doLayoutSpinWins(layout, ui, commonUI, manager, spinAnim);
      ys && ys.length && ui.nodes.forEach(function(n) {
        return doLayoutNodeY(layout, n, ys);
      });
      scales && scales.length && ui.nodes.forEach(function(n) {
        return doLayoutNodeScale(layout, n, scales);
      });
    }
    exports.doLayout2 = doLayout2;
    function doLayoutSpin(layout, commonUI, manager, spinAnim) {
      void 0 === spinAnim && (spinAnim = true);
      spinAnim && doLayoutNodeParent(layout, commonUI, manager.spinAnimationNode, function(cui) {
        return cui.getNodesByUIStyleKey("ctrl.anim")[0];
      });
    }
    exports.doLayoutSpin = doLayoutSpin;
    function doLayoutSpinWins(layout, ui, commonUI, manager, spinAnim) {
      void 0 === spinAnim && (spinAnim = true);
      doLayoutSpin(layout, commonUI, manager, spinAnim);
      switch (layout) {
       case ResizeGlobal_1.UI_LAYOUT.PC_HORIZONTAL:
       case ResizeGlobal_1.UI_LAYOUT.MOBILE_HORIZONTAL:
        ui.bottomNode && ui.bottomNode.removeAllChildren();
        break;

       case ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL:
        if (ui.bottomNode) {
          var winsNode = commonUI.getNodeByKey("wins");
          winsNode.setParent(ui.bottomNode);
        }
      }
    }
    exports.doLayoutSpinWins = doLayoutSpinWins;
    function doLayoutCalculateY(height, bottom) {
      return height / 2 - (height - bottom) / 2;
    }
    exports.doLayoutCalculateY = doLayoutCalculateY;
    function doLayoutNodePosition(layout, node, poss) {
      return doLayoutNodeProperty(layout, node, "position", poss.map(function(pos) {
        return cc.v3(pos);
      }));
    }
    exports.doLayoutNodePosition = doLayoutNodePosition;
    function doLayoutNodeY(layout, node, ys) {
      return doLayoutNodeProperty(layout, node, "y", ys);
    }
    exports.doLayoutNodeY = doLayoutNodeY;
    function doLayoutNodeX(layout, node, xs) {
      return doLayoutNodeProperty(layout, node, "x", xs);
    }
    exports.doLayoutNodeX = doLayoutNodeX;
    function doLayoutNodeScale(layout, node, scales) {
      return doLayoutNodeProperty(layout, node, "scale", scales);
    }
    exports.doLayoutNodeScale = doLayoutNodeScale;
    function doLayoutNodeProperty(layout, node, property, values) {
      var value = values[layout];
      var np = Utils_1.nodeProperty(property, value);
      return doLayoutFn(layout, node, [ np, np, np ]);
    }
    exports.doLayoutNodeProperty = doLayoutNodeProperty;
    function doLayoutNodeParent(layout, cui, node, fn, verticalOnly) {
      void 0 === verticalOnly && (verticalOnly = false);
      if (!node) return;
      var p = fn(cui);
      p ? verticalOnly ? layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL ? node.setParent(p) : node.removeFromParent() : node.setParent(p) : node.removeFromParent();
    }
    exports.doLayoutNodeParent = doLayoutNodeParent;
    function doLayoutFn(layout, target, fns) {
      var fn = fns[layout];
      fn(target);
    }
    exports.doLayoutFn = doLayoutFn;
    cc._RF.pop();
  }, {
    "../ResizeGlobal": "ResizeGlobal",
    "../component/Handler": "Handler",
    "../data/ColItemBase": "ColItemBase",
    "../utils/Utils": "Utils",
    "./CommonUIManager": "CommonUIManager"
  } ],
  UIDataBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "bb5cdw0+dZPkZ76B+y+eqWa", "UIDataBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ColDataBase_1 = require("../data/ColDataBase");
    var ResizeGlobal_1 = require("../ResizeGlobal");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var UIDataBase = function(_super) {
      __extends(UIDataBase, _super);
      function UIDataBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.betable = true;
        _this.layout = ResizeGlobal_1.UI_LAYOUT.UNKNOWN;
        _this.displayStartPage = false;
        _this.playSpinEffect = false;
        _this.inBonus = false;
        _this.inFG = false;
        _this.inSpecialMode3 = false;
        _this.inSpecialMode4 = false;
        _this.isPCH = false;
        _this.isH = false;
        _this.isV = false;
        _this.isM = false;
        _this.isMH = false;
        _this.isMV = false;
        _this.inNG = true;
        _this.inNGAndH = false;
        _this.inNGAndV = false;
        _this.inBonusAndH = false;
        _this.inBonusAndV = false;
        _this.inFGAndH = false;
        _this.inFGAndV = false;
        _this.inSpecialMode3AndH = false;
        _this.inSpecialMode3AndV = false;
        _this.inSpecialMode4AndH = false;
        _this.inSpecialMode4AndV = false;
        _this.displayStartPageH = false;
        _this.displayStartPageV = false;
        return _this;
      }
      UIDataBase.prototype.registCallback = function(refCols, fn) {
        return this.registComputed("", refCols, fn);
      };
      UIDataBase.prototype.doPre = function() {
        var _this = this;
        this.registComputed("isPCH", [ "layout" ], function() {
          return _this.layout === ResizeGlobal_1.UI_LAYOUT.PC_HORIZONTAL;
        });
        this.registComputed("isM", [ "layout" ], function() {
          return _this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_HORIZONTAL || _this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("isMH", [ "layout" ], function() {
          return _this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_HORIZONTAL;
        });
        this.registComputed("isMV", [ "layout" ], function() {
          return _this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("inNG", [ "inBonus", "inFG", "inSpecialMode3", "inSpecialMode4" ], function() {
          return !(_this.inBonus || _this.inFG || _this.inSpecialMode3 || _this.inSpecialMode4);
        });
        this.registComputed("inNGAndH", [ "inNG", "layout" ], function() {
          return _this.inNG && _this.layout !== ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("inNGAndV", [ "inNG", "layout" ], function() {
          return _this.inNG && _this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("inBonusAndH", [ "inBonus", "layout" ], function() {
          return _this.inBonus && _this.layout !== ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("inBonusAndV", [ "inBonus", "layout" ], function() {
          return _this.inBonus && _this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("inFGAndH", [ "inFG", "layout" ], function() {
          return _this.inFG && _this.layout !== ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("inFGAndV", [ "inFG", "layout" ], function() {
          return _this.inFG && _this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("inSpecialMode3AndH", [ "inSpecialMode3", "layout" ], function() {
          return _this.inSpecialMode3 && _this.layout !== ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("inSpecialMode3AndV", [ "inSpecialMode3", "layout" ], function() {
          return _this.inSpecialMode3 && _this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("inSpecialMode4AndH", [ "inSpecialMode4", "layout" ], function() {
          return _this.inSpecialMode4 && _this.layout !== ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("inSpecialMode4AndV", [ "inSpecialMode4", "layout" ], function() {
          return _this.inSpecialMode4 && _this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("isH", [ "layout" ], function() {
          return _this.layout !== ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("isV", [ "layout" ], function() {
          return _this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("displayStartPageH", [ "displayStartPage", "layout" ], function() {
          return _this.displayStartPage && _this.layout !== ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("displayStartPageV", [ "displayStartPage", "layout" ], function() {
          return _this.displayStartPage && _this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
      };
      UIDataBase = __decorate([ ccclass ], UIDataBase);
      return UIDataBase;
    }(ColDataBase_1.default);
    exports.default = UIDataBase;
    cc._RF.pop();
  }, {
    "../ResizeGlobal": "ResizeGlobal",
    "../data/ColDataBase": "ColDataBase"
  } ],
  UIToggle: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "79095D00dhBLZMMkK7H0EW5", "UIToggle");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var CommonButton_1 = require("./CommonButton");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var UIToggle = function(_super) {
      __extends(UIToggle, _super);
      function UIToggle() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.nodes = [];
        _this.refCommonButton = null;
        _this.able = false;
        _this.loaded = false;
        return _this;
      }
      UIToggle.prototype.onLoad = function() {
        this.pre();
      };
      UIToggle.prototype.pre = function() {
        if (this.loaded) return;
        this.nodes.length || this.nodes.push(this.node);
        this.able = this.node.active;
        this.refreshCommonButton(this.able);
      };
      UIToggle.prototype.refreshCommonButton = function(able) {
        if (this.refCommonButton) {
          this.refCommonButton.isChecked = able;
          this.refCommonButton.keepBright = able;
        }
      };
      UIToggle.prototype.toggle = function(able) {
        void 0 === able && (able = !this.able);
        this.pre();
        this.nodes.map(Utils_1.nodeActive(able));
        this.able = able;
        this.refreshCommonButton(able);
      };
      UIToggle.prototype.onClick = function() {
        this.toggle();
      };
      UIToggle.prototype.onCloseClick = function() {
        this.toggle(false);
      };
      UIToggle.prototype.onOpenClick = function() {
        this.toggle(true);
      };
      __decorate([ property([ cc.Node ]) ], UIToggle.prototype, "nodes", void 0);
      __decorate([ property(CommonButton_1.default) ], UIToggle.prototype, "refCommonButton", void 0);
      UIToggle = __decorate([ ccclass ], UIToggle);
      return UIToggle;
    }(cc.Component);
    exports.default = UIToggle;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./CommonButton": "CommonButton"
  } ],
  UpdatePositionSlider: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0b4a1tP++dE25bH/nrvoG+0", "UpdatePositionSlider");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var UpdatePositionSlider = function(_super) {
      __extends(UpdatePositionSlider, _super);
      function UpdatePositionSlider() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.backgroundNode = null;
        return _this;
      }
      UpdatePositionSlider.prototype.updateHandlePosition = function(progress) {
        this.progress = progress;
        this._updateHandlePosition();
        if (this.backgroundNode) {
          var w = this.node.width;
          this.backgroundNode.width = Utils_1.lowerThen(1, progress) * w;
        }
      };
      __decorate([ property(cc.Node) ], UpdatePositionSlider.prototype, "backgroundNode", void 0);
      UpdatePositionSlider = __decorate([ ccclass ], UpdatePositionSlider);
      return UpdatePositionSlider;
    }(cc.Slider);
    exports.default = UpdatePositionSlider;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  UserNameGlobal: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "3f057r8xypOar+OpaJQ9JWi", "UserNameGlobal");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.getName = exports.setSelfId = exports.setNamingRule = exports.NamingRule = void 0;
    var I18nGlobal_1 = require("./I18nGlobal");
    var NamingRule;
    (function(NamingRule) {
      NamingRule[NamingRule["NORMAL"] = 0] = "NORMAL";
      NamingRule[NamingRule["SERIAL_NAME"] = 1] = "SERIAL_NAME";
    })(NamingRule = exports.NamingRule || (exports.NamingRule = {}));
    var selfId = "";
    var namingRule = NamingRule.NORMAL;
    var Data = function() {
      function Data(id, serial, timeoutId) {
        void 0 === id && (id = "");
        void 0 === serial && (serial = 0);
        void 0 === timeoutId && (timeoutId = 0);
        this.id = id;
        this.serial = serial;
        this.timeoutId = timeoutId;
      }
      return Data;
    }();
    var serials = [];
    var data = new Map();
    function setNamingRule(rule) {
      namingRule = rule;
    }
    exports.setNamingRule = setNamingRule;
    function setSelfId(id) {
      selfId = "" + id;
    }
    exports.setSelfId = setSelfId;
    function getName(idOrSelf, name, expire) {
      void 0 === expire && (expire = 36e5);
      if (namingRule === NamingRule.NORMAL) return name;
      if (namingRule === NamingRule.SERIAL_NAME) {
        var id = void 0;
        var self = false;
        if ("boolean" === typeof idOrSelf) {
          id = "";
          self = idOrSelf;
        } else {
          id = "" + idOrSelf;
          self = selfId === id;
        }
        var d = data.get(id);
        d && d.timeoutId && clearTimeout(d.timeoutId);
        if (self) return I18nGlobal_1.translate("GAME.own_player");
        if (!d) {
          var serial = serials.length ? Math.max.apply(Math, serials) + 1 : 1;
          d = new Data(id, serial);
          serials.push(serial);
          data.set(d.id, d);
        }
        expire && (d.timeoutId = setTimeout(genClear(d), expire));
        return I18nGlobal_1.translate("GAME.other_player", d.serial);
      }
      debugger;
      return name;
    }
    exports.getName = getName;
    function genClear(d) {
      return function() {
        data.delete(d.id);
        var idx = serials.indexOf(d.serial);
        -1 !== idx && serials.splice(idx, 1);
      };
    }
    cc._RF.pop();
  }, {
    "./I18nGlobal": "I18nGlobal"
  } ],
  User: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "49ed0/q+LJLDawfT8Og8LG2", "User");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var UserNameGlobal_1 = require("../UserNameGlobal");
    var Balance_1 = require("../utils/Balance");
    var User = function() {
      function User(name, imgsrc, balance) {
        void 0 === name && (name = "Guest");
        void 0 === imgsrc && (imgsrc = "");
        void 0 === balance && (balance = new Balance_1.Balance(0));
        this.name = name;
        this.imgsrc = imgsrc;
        this.balance = balance;
      }
      User.prototype.setBalance = function(balance) {
        this.balance = balance;
      };
      User.prototype.getBalance = function() {
        return this.balance;
      };
      User.prototype.getName = function() {
        return UserNameGlobal_1.getName(true, this.name);
      };
      User.prototype.setName = function(name) {
        this.name = name;
      };
      User.prototype.getImgsrc = function() {
        return this.imgsrc;
      };
      User.prototype.setImgsrc = function(imgsrc) {
        this.imgsrc = imgsrc;
      };
      return User;
    }();
    exports.default = User;
    cc._RF.pop();
  }, {
    "../UserNameGlobal": "UserNameGlobal",
    "../utils/Balance": "Balance"
  } ],
  Utils: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7b97fqHgqBCBIvQcAWN7QNY", "Utils");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.toNaturalNumber = exports.sumReducer = exports.toObjectAccumulateReducer = exports.toObjectReducer = exports.randomItem = exports.random = exports.range = exports.range2 = exports.flattenDeep = exports.onlyUnique = exports.dataURIToBlob = exports.downloadUrl = exports.downloadText = exports.downloadBlob = exports.isCollision = exports.colliderToWorldX = exports.circleColliderToWorldCircle = exports.boxColliderToWorldPoints = exports.rectToVec2s = exports.randomInCollider = exports.colliderBox = exports.mathMin = exports.mathMax = exports.randomInPloygonCollider = exports.polygonColliderToWorldPoints = exports.getWorldAngle = exports.getWorldPosition = exports.getPosition2 = exports.getPosition = exports.setPosition = exports.copyNodeProperty = exports.copyProperty = exports.nodeProperty = exports.lazy = exports.nodeColor = exports.nodeOpacity = exports.nodeActive = exports.radiansToDegrees = exports.degreesToRadians = exports.getSceneUuid = exports.replaceParamVal = exports.clientTimeSecend = exports.diffNowSec = exports.clientTime2ServerTime = exports.serverTime2ClientTime = exports.clientTimeDifferenceServerTime = exports.serverTime2ClientTimeDiff = exports.error = exports.warn = exports.log = void 0;
    exports.nodePath = exports.vec3ToVec2 = exports.fetchPing = exports.getFetch = exports.getUuid = exports.padEnd = exports.padStart = exports.debugDeltaScale = exports.isVIVO = exports.colliderDebugDraw = exports.ccGameRemovePause = exports.uint8ArrayToString = exports.stringToUint8Array = exports.computeControlPoints = exports.calculateControlPoints = exports.pointOnCubicBezier = exports.shuffle = exports.getHistoryUrl = exports.isString = exports.isNone = exports.isUndefined = exports.isFunction = exports.ccFindCreator = exports.cacheObjContainskey = exports.loop2ArrayWithMinLength = exports.loop2ArrayWithMaxLength = exports.arraySplice = exports.biggerThen = exports.lowerThen = exports.noop = exports.identity = void 0;
    var ParamsGlobal_1 = require("../ParamsGlobal");
    exports.log = console.log.bind(console);
    exports.warn = console.warn.bind(console);
    exports.error = console.error.bind(console);
    var SERVER_TIME_PRECISION = 1e6;
    if (!window.cc) {
      window.cc = {};
      window.CC_DEBUG = true;
    }
    function serverTime2ClientTimeDiff(time, diffTime) {
      return Number((time / SERVER_TIME_PRECISION).toFixed(0)) + diffTime;
    }
    exports.serverTime2ClientTimeDiff = serverTime2ClientTimeDiff;
    function clientTimeDifferenceServerTime(clientTime, serverTime) {
      return clientTime - this.serverTime2ClientTime(serverTime);
    }
    exports.clientTimeDifferenceServerTime = clientTimeDifferenceServerTime;
    function serverTime2ClientTime(time) {
      return Number((time / SERVER_TIME_PRECISION).toFixed(0));
    }
    exports.serverTime2ClientTime = serverTime2ClientTime;
    function clientTime2ServerTime(time) {
      return time * SERVER_TIME_PRECISION;
    }
    exports.clientTime2ServerTime = clientTime2ServerTime;
    function diffNowSec(time, decimal) {
      void 0 === decimal && (decimal = 0);
      return Number(((time - Date.now()) / 1e3).toFixed(decimal));
    }
    exports.diffNowSec = diffNowSec;
    function clientTimeSecend(time) {
      return Number((time / 1e3).toFixed(0));
    }
    exports.clientTimeSecend = clientTimeSecend;
    function replaceParamVal(oUrl, paramName, replaceWith) {
      if (-1 === oUrl.indexOf("?")) return oUrl + "?" + paramName + "=" + replaceWith;
      if (-1 === oUrl.indexOf("?" + paramName + "=") && -1 === oUrl.indexOf("&" + paramName + "=")) return oUrl + "&" + paramName + "=" + replaceWith;
      var re = new RegExp("(" + paramName + "=)([^&]*)", "gi");
      return oUrl.replace(re, paramName + "=" + replaceWith);
    }
    exports.replaceParamVal = replaceParamVal;
    function getSceneUuid(sceneName) {
      var director = cc.director;
      return director._getSceneUuid(sceneName);
    }
    exports.getSceneUuid = getSceneUuid;
    function degreesToRadians(rotation) {
      return rotation * cc.macro.RAD;
    }
    exports.degreesToRadians = degreesToRadians;
    function radiansToDegrees(rotation) {
      return rotation * cc.macro.DEG;
    }
    exports.radiansToDegrees = radiansToDegrees;
    var POINT_EPSILON = parseFloat("1.192092896e-07F");
    function nodeActive(active) {
      return nodeProperty("active", active);
    }
    exports.nodeActive = nodeActive;
    function nodeOpacity(opacity) {
      return nodeProperty("opacity", opacity);
    }
    exports.nodeOpacity = nodeOpacity;
    function nodeColor(colorOrR, g, b) {
      void 0 === g && (g = 255);
      void 0 === b && (b = 255);
      var color;
      color = colorOrR instanceof cc.Color ? colorOrR : cc.color(colorOrR, g, b);
      return nodeProperty("color", color);
    }
    exports.nodeColor = nodeColor;
    function lazy(fn) {
      return function() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
        return function() {
          return fn.apply(void 0, args);
        };
      };
    }
    exports.lazy = lazy;
    function nodeProperty(property, value) {
      return function(node) {
        node && node[property] !== value && (node[property] = value);
      };
    }
    exports.nodeProperty = nodeProperty;
    function copyProperty(source, target, propertys, escapeEmpty) {
      void 0 === escapeEmpty && (escapeEmpty = false);
      propertys.forEach(function(key) {
        var v = source[key];
        if (escapeEmpty) if (v instanceof cc.Color && source instanceof cc.Node) {
          if (0 === source.opacity) return;
        } else if (!v) return;
        target[key] = source[key];
      });
    }
    exports.copyProperty = copyProperty;
    function copyNodeProperty(source, target, propertys, escapeEmpty) {
      void 0 === propertys && (propertys = [ "color", "x", "y" ]);
      void 0 === escapeEmpty && (escapeEmpty = false);
      copyProperty(source, target, propertys, escapeEmpty);
    }
    exports.copyNodeProperty = copyNodeProperty;
    function setPosition(setNode, refNode) {
      if (setNode.parent && refNode.parent) {
        var pos = getPosition(refNode, setNode.parent);
        setNode.setPosition(pos);
      }
    }
    exports.setPosition = setPosition;
    function getPosition(node, parentNode) {
      var worldPos = getWorldPosition(node);
      return parentNode.convertToNodeSpaceAR(worldPos);
    }
    exports.getPosition = getPosition;
    function getPosition2(parent, pos, parentNode) {
      var worldPos = getWorldPosition(parent, pos);
      return parentNode.convertToNodeSpaceAR(worldPos);
    }
    exports.getPosition2 = getPosition2;
    function getWorldPosition(node, pos) {
      var p = pos ? node.getPosition().add(pos) : node.getPosition();
      return node.parent.convertToWorldSpaceAR(p);
    }
    exports.getWorldPosition = getWorldPosition;
    function getWorldAngle(node) {
      var mat4 = cc.mat4();
      var q = cc.quat();
      node.getWorldMatrix(mat4).getRotation(q);
      var v3 = cc.v3();
      q.toEuler(v3);
      var angle = v3.z;
      180 === v3.x && (angle = v3.z > 0 ? 180 - v3.z : -180 - v3.z);
      return angle;
    }
    exports.getWorldAngle = getWorldAngle;
    function polygonColliderToWorldPoints(collier) {
      var world = collier.world;
      return world.points;
    }
    exports.polygonColliderToWorldPoints = polygonColliderToWorldPoints;
    function randomInPloygonCollider(collider, _a) {
      var _b = void 0 === _a ? [ 0, 0 ] : _a, w = _b[0], h = _b[1];
      var points = collider.points.map(function(p) {
        return new cc.Vec2(p.x > 0 ? biggerThen(0, p.x - w) : lowerThen(0, p.x + w), p.y > 0 ? biggerThen(0, p.y - h) : lowerThen(0, p.y + h));
      });
      var box = points.reduce(function(o, p) {
        p.x < o.xMin && (o.xMin = p.x);
        p.x > o.xMax && (o.xMax = p.x);
        p.y < o.yMin && (o.yMin = p.y);
        p.y > o.yMax && (o.yMax = p.y);
        return o;
      }, {
        xMin: Infinity,
        xMax: -Infinity,
        yMin: Infinity,
        yMax: -Infinity
      });
      var vec2 = new cc.Vec2(random(box.xMin, box.xMax), random(box.yMin, box.yMax));
      while (!cc.Intersection.pointInPolygon(vec2, points)) {
        vec2.x = random(box.xMin, box.xMax);
        vec2.y = random(box.yMin, box.yMax);
      }
      return vec2;
    }
    exports.randomInPloygonCollider = randomInPloygonCollider;
    function mathMax(nums) {
      return Math.max.apply(Math, nums);
    }
    exports.mathMax = mathMax;
    function mathMin(nums) {
      return Math.min.apply(Math, nums);
    }
    exports.mathMin = mathMin;
    function colliderBox(collider) {
      if (collider instanceof cc.CircleCollider) return cc.size(collider.radius, collider.radius);
      if (collider instanceof cc.PolygonCollider) {
        var xs = collider.points.map(function(p) {
          return p.x;
        });
        var ys = collider.points.map(function(p) {
          return p.y;
        });
        return cc.size(mathMax(xs) - mathMin(xs), mathMax(ys) - mathMin(ys));
      }
      if (collider instanceof cc.BoxCollider) return collider.size;
      exports.warn("Can't get collider", collider);
    }
    exports.colliderBox = colliderBox;
    function randomInCollider(collider, _a) {
      var _b = void 0 === _a ? [ 0, 0 ] : _a, w = _b[0], h = _b[1];
      if (collider instanceof cc.PolygonCollider) return randomInPloygonCollider(collider, [ w, h ]);
      return new cc.Vec2(0, 0);
    }
    exports.randomInCollider = randomInCollider;
    function rectToVec2s(rect, shift) {
      void 0 === shift && (shift = cc.v2());
      return [ cc.v2(rect.xMin + shift.x, rect.yMax + shift.y), cc.v2(rect.xMax + shift.x, rect.yMax + shift.y), cc.v2(rect.xMax + shift.x, rect.yMin + shift.y), cc.v2(rect.xMin + shift.x, rect.yMin + shift.y) ];
    }
    exports.rectToVec2s = rectToVec2s;
    function boxColliderToWorldPoints(collier) {
      var world = collier.world;
      return world.points;
    }
    exports.boxColliderToWorldPoints = boxColliderToWorldPoints;
    function circleColliderToWorldCircle(collier) {
      var world = collier.world;
      return {
        position: world.position,
        radius: world.radius
      };
    }
    exports.circleColliderToWorldCircle = circleColliderToWorldCircle;
    function colliderToWorldX(collider) {
      if (collider instanceof cc.CircleCollider) return circleColliderToWorldCircle(collider);
      if (collider instanceof cc.PolygonCollider) return polygonColliderToWorldPoints(collider);
      if (collider instanceof cc.BoxCollider) return boxColliderToWorldPoints(collider);
      exports.warn("Can't get collider", collider);
    }
    exports.colliderToWorldX = colliderToWorldX;
    function isCollision(aa, bb) {
      var ll = (aa.radius ? "1" : "0") + (bb.radius ? "1" : "0");
      var tag = false;
      switch (ll) {
       case "11":
        tag = cc.Intersection.circleCircle(aa, bb);
        break;

       case "10":
        tag = cc.Intersection.polygonCircle(bb, aa);
        break;

       case "01":
        tag = cc.Intersection.polygonCircle(aa, bb);
        break;

       case "00":
        tag = cc.Intersection.polygonPolygon(aa, bb);
      }
      return tag;
    }
    exports.isCollision = isCollision;
    function downloadBlob(blob, name) {
      this.downloadUrl(URL.createObjectURL(blob), name);
    }
    exports.downloadBlob = downloadBlob;
    function downloadText(text, name, type) {
      this.downloadBlob(new Blob([ text ], {
        type: type
      }), name);
    }
    exports.downloadText = downloadText;
    function downloadUrl(url, name) {
      var a = document.createElement("a");
      a.href = url;
      a.download = name;
      a.click();
      setTimeout(function() {
        window.URL.revokeObjectURL(a.href);
        a.remove();
      }, 500);
    }
    exports.downloadUrl = downloadUrl;
    function dataURIToBlob(dataURI) {
      var binStr = atob(dataURI.split(",")[1]);
      var len = binStr.length;
      var arr = new Uint8Array(len);
      for (var i = 0; i < len; i += 1) arr[i] = binStr.charCodeAt(i);
      return new Blob([ arr ]);
    }
    exports.dataURIToBlob = dataURIToBlob;
    function onlyUnique(value, index, self) {
      return self.indexOf(value) === index;
    }
    exports.onlyUnique = onlyUnique;
    function flattenDeep(nestedArray) {
      return [].concat(nestedArray).reduce(function(accu, val) {
        return Array.isArray(val) ? accu.concat(flattenDeep(val)) : accu.concat(val);
      }, []);
    }
    exports.flattenDeep = flattenDeep;
    function range2(l, r) {
      if (isNone(r)) return range(l);
      var len = Math.abs(l - r) + 1;
      var min = Math.min(l, r);
      var arr = range(len).map(function(i) {
        return i + min;
      });
      if (l > r) return arr.reverse();
      return arr;
    }
    exports.range2 = range2;
    function range(num) {
      if (num <= 0) return [];
      return Array.apply(null, Array(num)).map(function(_, i) {
        return i;
      });
    }
    exports.range = range;
    function random(from, to) {
      if (!to) {
        to = from - 1;
        from = 0;
      }
      return Math.floor(Math.random() * (to - from + 1) + from);
    }
    exports.random = random;
    function randomItem(items) {
      var idx = random(items.length);
      return items[idx];
    }
    exports.randomItem = randomItem;
    function toObjectReducer(keyOrFn, value) {
      var key = isFunction(keyOrFn) ? "" : keyOrFn;
      return function(obj, item) {
        var k = key;
        k = k ? item[key] : keyOrFn(item);
        obj[k] = value ? item[value] : item;
        return obj;
      };
    }
    exports.toObjectReducer = toObjectReducer;
    function toObjectAccumulateReducer(keyOrFn, valueKey) {
      var key = isFunction(keyOrFn) ? "" : keyOrFn;
      return function(obj, item) {
        var k = key;
        k = k ? item[key] : keyOrFn(item);
        obj[k] || (obj[k] = []);
        var val = item;
        valueKey && (val = item[valueKey]);
        obj[k].push(val);
        return obj;
      };
    }
    exports.toObjectAccumulateReducer = toObjectAccumulateReducer;
    function sumReducer(accu, a) {
      accu += a;
      return accu;
    }
    exports.sumReducer = sumReducer;
    function toNaturalNumber(idx) {
      return idx >= 0 ? idx : 0;
    }
    exports.toNaturalNumber = toNaturalNumber;
    function identity(value) {
      return value;
    }
    exports.identity = identity;
    function noop() {}
    exports.noop = noop;
    function lowerThen(max, num) {
      return num >= max ? max : num;
    }
    exports.lowerThen = lowerThen;
    function biggerThen(min, num) {
      return num <= min ? min : num;
    }
    exports.biggerThen = biggerThen;
    function arraySplice(array, any) {
      var idx = array.indexOf(any);
      -1 !== idx && array.splice(idx, 1);
    }
    exports.arraySplice = arraySplice;
    function loop2ArrayWithMaxLength(arr1, arr2, callback, opts) {
      var len1 = arr1.length;
      var len2 = arr2.length;
      var ret = [];
      for (var i = 0; i < len1 || i < len2; i += 1) {
        var a = arr1[i];
        var b = arr2[i];
        ret.push(callback(a, b, i, opts));
      }
      return ret;
    }
    exports.loop2ArrayWithMaxLength = loop2ArrayWithMaxLength;
    function loop2ArrayWithMinLength(arr1, arr2, callback, opts) {
      var len1 = arr1.length;
      var len2 = arr2.length;
      var ret = [];
      for (var i = 0; i < len1 && i < len2; i += 1) {
        var a = arr1[i];
        var b = arr2[i];
        ret.push(callback(a, b, i, opts));
      }
      return ret;
    }
    exports.loop2ArrayWithMinLength = loop2ArrayWithMinLength;
    var catchObj = new Map();
    function setCacheObj(key, any) {
      catchObj[key] = any;
    }
    function getCacheObj(key) {
      return catchObj[key];
    }
    function cacheObjContainskey(key) {
      return catchObj.has(key);
    }
    exports.cacheObjContainskey = cacheObjContainskey;
    function ccFindCreator(path, component) {
      return function() {
        var key = path + component;
        if (cacheObjContainskey(key)) return getCacheObj(key);
        var node = cc.find(path);
        if (node) {
          var comp = node.getComponent(component);
          if (comp) {
            setCacheObj(key, comp);
            return comp;
          }
          return null;
        }
        return null;
      };
    }
    exports.ccFindCreator = ccFindCreator;
    function isFunction(fn) {
      return "function" === typeof fn;
    }
    exports.isFunction = isFunction;
    function isUndefined(input) {
      return "undefined" === typeof input;
    }
    exports.isUndefined = isUndefined;
    function isNone(input) {
      return "undefined" === typeof input || null === input;
    }
    exports.isNone = isNone;
    function isString(input) {
      return "string" === typeof input;
    }
    exports.isString = isString;
    function getHistoryUrl(url) {
      url = window.location.host;
      var newUrl = "";
      var hosts = url.split(".");
      hosts.length > 2 && hosts.shift();
      hosts.unshift("https://record");
      hosts.forEach(function(part) {
        newUrl = newUrl + part + ".";
      });
      newUrl = newUrl.substring(0, newUrl.length - 1);
      return newUrl;
    }
    exports.getHistoryUrl = getHistoryUrl;
    function killLast(str, last) {
      void 0 === last && (last = "0");
      var strLast = str[str.length - 1];
      return strLast === last ? str.substring(0, str.length - 1) : str;
    }
    function shuffle(arr) {
      var i;
      var j;
      var temp;
      for (i = arr.length - 1; i > 0; i -= 1) {
        j = Math.floor(Math.random() * (i + 1));
        temp = arr[i];
        arr[i] = arr[j];
        arr[j] = temp;
      }
      return arr;
    }
    exports.shuffle = shuffle;
    function pointOnCubicBezier(t) {
      var points = [];
      for (var _i = 1; _i < arguments.length; _i++) points[_i - 1] = arguments[_i];
      try {
        var result = new cc.Vec2();
        var n = points.length - 1;
        var rx = 0;
        var ry = 0;
        for (var i = 0; i < points.length; i += 1) {
          var px = n;
          0 !== i && i !== n || (px = 1);
          var dd0 = Math.pow(1 - t, n - i);
          var dd1 = Math.pow(t, i);
          rx += px * dd0 * dd1 * points[i].x;
          ry += px * dd0 * dd1 * points[i].y;
        }
        result.x = rx;
        result.y = ry;
        return result;
      } catch (error) {
        exports.log(t, points);
      }
    }
    exports.pointOnCubicBezier = pointOnCubicBezier;
    function calculateControlPoints(pos) {
      var ctrlPoints = computeControlPoints(pos);
      return flattenDeep(pos.map(function(vec2, i) {
        return i < pos.length - 1 ? [ vec2, ctrlPoints[0][i], ctrlPoints[1][i] ] : [ vec2 ];
      }));
    }
    exports.calculateControlPoints = calculateControlPoints;
    function computeControlPoints(pos) {
      var rtn = [];
      rtn[0] = [];
      rtn[1] = [];
      var n = pos.length - 1;
      var a = [];
      var b = [];
      var c = [];
      var r = [];
      a[0] = 0;
      b[0] = 2;
      c[0] = 1;
      r[0] = new cc.Vec2();
      r[0].x = pos[0].x + 2 * pos[1].x;
      r[0].y = pos[0].y + 2 * pos[1].y;
      for (var i = 1; i < n - 1; i += 1) {
        a[i] = 1;
        b[i] = 4;
        c[i] = 1;
        r[i] = new cc.Vec2();
        r[i].x = 4 * pos[i].x + 2 * pos[i + 1].x;
        r[i].y = 4 * pos[i].y + 2 * pos[i + 1].y;
      }
      a[n - 1] = 2;
      b[n - 1] = 7;
      c[n - 1] = 0;
      r[n - 1] = new cc.Vec2();
      r[n - 1].x = 8 * pos[n - 1].x + pos[n].x;
      r[n - 1].y = 8 * pos[n - 1].y + pos[n].y;
      for (var i = 1; i < n; i += 1) {
        var m = a[i] / b[i - 1];
        b[i] = b[i] - m * c[i - 1];
        r[i].x = r[i].x - m * r[i - 1].x;
        r[i].y = r[i].y - m * r[i - 1].y;
      }
      rtn[0][n - 1] = new cc.Vec2();
      rtn[0][n - 1].x = r[n - 1].x / b[n - 1];
      rtn[0][n - 1].y = r[n - 1].y / b[n - 1];
      for (var i = n - 2; i >= 0; i -= 1) {
        rtn[0][i] = new cc.Vec2();
        rtn[0][i].x = (r[i].x - c[i] * rtn[0][i + 1].x) / b[i];
        rtn[0][i].y = (r[i].y - c[i] * rtn[0][i + 1].y) / b[i];
      }
      for (var i = 0; i < n - 1; i += 1) {
        rtn[1][i] = new cc.Vec2();
        rtn[1][i].x = 2 * pos[i + 1].x - rtn[0][i + 1].x;
        rtn[1][i].y = 2 * pos[i + 1].y - rtn[0][i + 1].y;
      }
      rtn[1][n - 1] = new cc.Vec2();
      rtn[1][n - 1].x = .5 * (pos[n].x + rtn[0][n - 1].x);
      rtn[1][n - 1].y = .5 * (pos[n].y + rtn[0][n - 1].y);
      return rtn;
    }
    exports.computeControlPoints = computeControlPoints;
    function stringToUint8Array(str) {
      var arr = [];
      for (var i = 0, j = str.length; i < j; i += 1) arr.push(str.charCodeAt(i));
      var tmpUint8Array = new Uint8Array(arr);
      return tmpUint8Array;
    }
    exports.stringToUint8Array = stringToUint8Array;
    function uint8ArrayToString(fileData) {
      var dataString = "";
      for (var i = 0; i < fileData.length; i += 1) dataString += String.fromCharCode(fileData[i]);
      return dataString;
    }
    exports.uint8ArrayToString = uint8ArrayToString;
    function ccGameRemovePause() {
      cc.game.setFrameRate(59);
      cc.game.pause = function() {};
      cc.game.resume = function() {};
    }
    exports.ccGameRemovePause = ccGameRemovePause;
    function colliderDebugDraw(able) {
      void 0 === able && (able = true);
      var m = cc.director.getCollisionManager();
      m.enabled = true;
      m.enabledDebugDraw = able;
    }
    exports.colliderDebugDraw = colliderDebugDraw;
    function isVIVO() {
      if (-1 !== window.navigator.userAgent.toLowerCase().indexOf("vivo")) {
        exports.log("vivo");
        return true;
      }
      exports.log("not vivo");
      return false;
    }
    exports.isVIVO = isVIVO;
    function debugDeltaScale(speed) {
      var old = cc.Director.prototype.calculateDeltaTime;
      cc.Director.prototype.calculateDeltaTime = function(now) {
        old.call(this, now);
        this._deltaTime *= speed;
      };
    }
    exports.debugDeltaScale = debugDeltaScale;
    function padStart(str, maxLength, fillString) {
      maxLength = Math.floor(maxLength) || 0;
      if (maxLength < str.length) return String(str);
      fillString = fillString ? String(fillString) : " ";
      var pad = "";
      var len = maxLength - str.length;
      var i = 0;
      while (pad.length < len) {
        fillString[i] || (i = 0);
        pad += fillString[i];
        i += 1;
      }
      return pad + String(str).slice(0);
    }
    exports.padStart = padStart;
    function padEnd(str, maxLength, fillString) {
      maxLength = Math.floor(maxLength) || 0;
      if (maxLength < str.length) return String(str);
      fillString = fillString ? String(fillString) : " ";
      var pad = "";
      var len = maxLength - str.length;
      var i = 0;
      while (pad.length < len) {
        fillString[i] || (i = 0);
        pad += fillString[i];
        i += 1;
      }
      return String(str).slice(0) + pad;
    }
    exports.padEnd = padEnd;
    function getUuid() {
      return "xxxxxxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g, function(c) {
        var r = 16 * Math.random() | 0, v = "x" === c ? r : 3 & r | 8;
        return v.toString(16);
      });
    }
    exports.getUuid = getUuid;
    function getFetch(url) {
      return fetch(url, {
        credentials: "same-origin",
        headers: {
          "content-type": "application/json"
        },
        method: "GET",
        mode: "no-cors",
        redirect: "follow"
      });
    }
    exports.getFetch = getFetch;
    function fetchPing(args) {
      var host = ParamsGlobal_1.HOST;
      if (!host) return;
      var auth = ParamsGlobal_1.getAuth();
      if (!auth) return;
      var uuid = "";
      var tokens = auth.split(".");
      uuid = 3 === tokens.length && tokens[1].length >= 56 && tokens[2].length >= 8 ? tokens[1].slice(40, 56) + tokens[2].slice(0, 8) : getUuid();
      var ur1 = "https://asia-east2-prod-game-226507.cloudfunctions.net/report?host=" + host + "&uuid=" + uuid + (args ? "&" + args : "");
      exports.log("ping", ur1);
      try {
        getFetch(ur1);
      } catch (e) {}
    }
    exports.fetchPing = fetchPing;
    function vec3ToVec2(vec3) {
      return cc.v2(vec3);
    }
    exports.vec3ToVec2 = vec3ToVec2;
    function nodePath(node) {
      var arr = [];
      do {
        arr.push(node.name);
        node = node.parent;
      } while (node);
      return arr.reverse().join("/");
    }
    exports.nodePath = nodePath;
    cc._RF.pop();
  }, {
    "../ParamsGlobal": "ParamsGlobal"
  } ],
  Version: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a09f21hgNlHmo9ALkGnGiPf", "Version");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.VERSION = void 0;
    exports.VERSION = "v0.1.1_feature/art_gradient_2";
    cc._RF.pop();
  }, {} ],
  WebViewGlobal: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "022acV/zIlFMY8+HLOsqVVe", "WebViewGlobal");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.exitApp = exports.convertLang = exports.downloadGame = exports.checkGame = exports.registMessage = exports.WebViewMessage = exports.webViewMode = void 0;
    var IframeGlobal_1 = require("../IframeGlobal");
    var ParamsGlobal_1 = require("../ParamsGlobal");
    var Utils_1 = require("../utils/Utils");
    function webViewMode() {
      return ParamsGlobal_1.EXTRA9 && Boolean(window.webview && window.webview.gameKick);
    }
    exports.webViewMode = webViewMode;
    window.addEventListener("message", receiveMessageFromIndex, false);
    var WebViewMessage = function() {
      function WebViewMessage(method, data) {
        void 0 === method && (method = "");
        void 0 === data && (data = null);
        this.method = method;
        this.data = data;
      }
      return WebViewMessage;
    }();
    exports.WebViewMessage = WebViewMessage;
    var listeners = [];
    function receiveMessageFromIndex(e) {
      if (!IframeGlobal_1.hasWindowParent()) return;
      try {
        var param = JSON.parse(e.data);
        var wm = new WebViewMessage(param.method, param.data);
        var l = listeners.length;
        for (var i = 0; i < l; i += 1) {
          var listener = listeners[i];
          listener.onMessage(wm);
        }
      } catch (e) {
        Utils_1.error(e);
      }
    }
    function registMessage(listener) {
      if (!webViewMode()) return;
      listeners.push(listener);
    }
    exports.registMessage = registMessage;
    function checkGame(gameID, language, priority) {
      IframeGlobal_1.hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "webview",
        data: {
          method: "checkGame",
          gid: gameID,
          lang: language,
          pri: priority
        }
      }), "*");
    }
    exports.checkGame = checkGame;
    function downloadGame(gameID, language, priority) {
      IframeGlobal_1.hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "webview",
        data: {
          method: "downloadGame",
          gid: gameID,
          lang: language,
          pri: priority
        }
      }), "*");
    }
    exports.downloadGame = downloadGame;
    function convertLang(gameID, language, priority) {
      IframeGlobal_1.hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "webview",
        data: {
          method: "convertLang",
          gid: gameID,
          lang: language,
          pri: priority
        }
      }), "*");
    }
    exports.convertLang = convertLang;
    function exitApp() {
      IframeGlobal_1.hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "webview",
        data: {
          method: "exitApp",
          gid: "",
          lang: "",
          pri: 0
        }
      }), "*");
    }
    exports.exitApp = exitApp;
    cc._RF.pop();
  }, {
    "../IframeGlobal": "IframeGlobal",
    "../ParamsGlobal": "ParamsGlobal",
    "../utils/Utils": "Utils"
  } ],
  Wheels: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "4f187WkN5hL2qHiWcZqEV1i", "Wheels");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PromiseManager_1 = require("../../../submodule/game-client-lib/script/PromiseManager");
    var Utils_1 = require("../../../submodule/game-client-lib/utils/Utils");
    var Wheel_1 = require("./Wheel");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var Wheels = function(_super) {
      __extends(Wheels, _super);
      function Wheels() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.wheels = [];
        _this.delays = [];
        return _this;
      }
      Wheels.prototype.play = function(results) {
        return __awaiter(this, void 0, Promise, function() {
          var _this = this;
          return __generator(this, function(_a) {
            if (this.wheels.length !== results.length) {
              Utils_1.warn("Not match");
              return [ 2 ];
            }
            return [ 2, Promise.all(this.wheels.map(function(wheel, index) {
              return __awaiter(_this, void 0, void 0, function() {
                var delay, result;
                return __generator(this, function(_a) {
                  switch (_a.label) {
                   case 0:
                    delay = this.delays[index] || 0;
                    result = results[index];
                    return [ 4, PromiseManager_1.timeoutPromise(delay) ];

                   case 1:
                    _a.sent();
                    return [ 4, wheel.play(result) ];

                   case 2:
                    _a.sent();
                    return [ 2 ];
                  }
                });
              });
            })) ];
          });
        });
      };
      __decorate([ property([ Wheel_1.default ]) ], Wheels.prototype, "wheels", void 0);
      __decorate([ property([ cc.Float ]) ], Wheels.prototype, "delays", void 0);
      Wheels = __decorate([ ccclass ], Wheels);
      return Wheels;
    }(cc.Component);
    exports.default = Wheels;
    cc._RF.pop();
  }, {
    "../../../submodule/game-client-lib/script/PromiseManager": "PromiseManager",
    "../../../submodule/game-client-lib/utils/Utils": "Utils",
    "./Wheel": "Wheel"
  } ],
  Wheel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f851axEZ9RA76I6PtBEZSgg", "Wheel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AngleData = function() {
      function AngleData() {
        this.leftAngle = 0;
        this.rightAngle = 0;
        this.option = "";
      }
      return AngleData;
    }();
    var Wheel = function(_super) {
      __extends(Wheel, _super);
      function Wheel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.targetNode = null;
        _this.turnRight = false;
        _this.turnTime = 0;
        _this.turnCount = 0;
        _this.offsetAngle = 0;
        _this.options = [];
        _this.dataMap = {};
        _this.datas = [];
        return _this;
      }
      Wheel.prototype.start = function() {
        var angleBase = this.targetNode.angle;
        var partAngle = 360 / this.options.length;
        for (var i = 0; i < this.options.length; i += 1) {
          var data_1 = new AngleData();
          data_1.leftAngle = angleBase % 360;
          data_1.rightAngle = 0 === i ? angleBase - 360 : angleBase % 360 - 720;
          angleBase += partAngle;
          this.dataMap[this.options[i]] = data_1;
          this.datas.push(data_1);
        }
        var data = this.datas[0];
        this.targetNode.angle = this.turnRight ? data.rightAngle : data.leftAngle;
      };
      Wheel.prototype.play = function(option) {
        var _this = this;
        var promise = new Promise(function(resolve) {
          var data = _this.dataMap[option];
          if (true, !data) debugger;
          var turnCount = _this.turnRight ? -1 * _this.turnCount : _this.turnCount;
          var offsetAngle = _this.turnRight ? -1 * _this.offsetAngle : _this.offsetAngle;
          var resultAngle = _this.turnRight ? data.rightAngle : data.leftAngle;
          var targetAngle = 360 * turnCount + resultAngle + offsetAngle;
          _this.turnRight ? resultAngle - _this.targetNode.angle > 0 && (targetAngle -= 360) : resultAngle - _this.targetNode.angle < 0 && (targetAngle += 360);
          var tween = cc.tween(_this.targetNode);
          tween.to(_this.turnTime, {
            angle: targetAngle
          }, {
            easing: "fade"
          }).to(_this.turnTime / 4, {
            angle: targetAngle - offsetAngle
          }).call(function() {
            _this.targetNode.angle = resultAngle;
            resolve();
          }).start();
        });
        return promise;
      };
      __decorate([ property(cc.Node) ], Wheel.prototype, "targetNode", void 0);
      __decorate([ property(cc.Boolean) ], Wheel.prototype, "turnRight", void 0);
      __decorate([ property(cc.Integer) ], Wheel.prototype, "turnTime", void 0);
      __decorate([ property(cc.Integer) ], Wheel.prototype, "turnCount", void 0);
      __decorate([ property(cc.Integer) ], Wheel.prototype, "offsetAngle", void 0);
      __decorate([ property([ cc.String ]) ], Wheel.prototype, "options", void 0);
      Wheel = __decorate([ ccclass ], Wheel);
      return Wheel;
    }(cc.Component);
    exports.default = Wheel;
    cc._RF.pop();
  }, {} ]
}, {}, [ "ArtLabelEditor", "ArtLabelProperty", "BackgroundProperty", "Drag", "FileDrop", "Template", "TreeItem", "Version", "BonusEventGlobal", "CurrencyGlobal", "I18nGlobal", "IframeGlobal", "LabelGlobal", "LibGlobal", "ParamsGlobal", "ResizeGlobal", "SpriteFrameGlobal", "StorageGlobal", "UserNameGlobal", "CardBase", "CardFlip2", "CardsFlip2", "Alert", "AnimatableProperty", "AnimationConfig", "AnimationDelayPlay", "AnimationWithAnimatableProperty", "ArtLabel", "ArtLabelStyle", "ArtLabelStyleString", "Audio", "AutoRotation", "AutoToggleFalseMenu", "AutoToggleNode", "BackgroundBase", "BezierPosition", "ButtonAudio", "ButtonInteractable", "CameraControl", "CommonButton", "CommonSpineButton", "Cursor", "DebugNNN", "DefaultZIndex", "DragControl", "DragPoint", "GradientAssembler2D", "GraphicsProfile", "GraphicsTable", "Handler", "I18nLabel", "I18nManager", "I18nMeta", "I18nSprite", "InfoLine", "ItemReusableScrollView", "JackpotNumber", "KeyDownBinder", "KeyDownCtrl", "LabelStyleString", "LayoutShrink", "LayoutShrinkLabel", "LoadScene", "LoadSceneConfig", "Loading", "LoopBackground", "Marquee", "Mask", "NetQuality", "NodeFollow", "NodeNameComponentProperty", "NodeShrink", "NodeTimeline", "NodeTimelineFrame", "NonePropagationComponent", "OnResizeManager", "OnResized", "PageViewIndicatorSprite", "PageViewScroll", "ParentNode", "PersistRootNode", "Repeat", "Resize1280x720", "Road", "RoadSource", "Rotation", "RotationFixed", "Screenshot", "ScreenshotRenderToSprite", "SpSkeletonConfig", "SpSkeletonHack", "SpSkeletonStatus", "SpriteFitWorldSize", "SpriteReload", "SystemMenu", "SystemMenuConfig", "TemplateGenerator", "Toast", "UIToggle", "UpdatePositionSlider", "Wheel", "Wheels", "ColAnimation", "ColAnimationConfigIndex", "ColBase", "ColCallback", "ColColor", "ColCommonUI", "ColComponentProperty", "ColDataBase", "ColEditBox", "ColFade", "ColFadeActive", "ColItemBase", "ColLabel", "ColLayout", "ColProperty", "ColSpSkeleton", "ColSpSkeleton2", "ColSpSkeletonConfigAnimation", "ColSprite", "ColTimeScale", "ColToggle", "JsonAssetLoader", "KeyAtlas", "KeyAudioClip", "KeyBitmapFont", "KeyCol", "KeyFrame", "KeyHandler", "KeyJsonAsset", "KeyNode", "KeyPrefab", "KeyStr", "LoginState", "Mark", "MarkAudio", "MarkNode", "MarkNotRichText", "MarkNumber", "NodeAction", "NodeTween", "PathData", "PathMoveData", "PingData", "ToastData", "User", "FeatureBuy", "FeatureBuyConfig", "FeatureBuyContent", "FeatureBuyData", "AndroidHack", "IosHack", "CommonUIInfo", "CommonUIInfoConfig", "InfoBase", "InfoConfigBase", "InfoLabel", "InfoScroll", "PrefabManager", "ParticleProperty", "ParticleSystemBase", "MemberServiceBase", "RpcServiceBase", "BigWin", "BigWin2", "BigWin3", "BonusEventConfig", "BonusEventUI", "CommunicationBase", "PromiseManager", "PromiseManager2", "PromiseQueue", "PromiseUtil", "ResLoader", "ResLoaderAppend", "ResPageViewIndicator", "ResSprite", "ResSpriteToggle", "ResourcesCol", "ResourcesImageAtlas", "ResourcesIndicator", "ResourcesLoader", "ResourcesSprite", "WebViewGlobal", "SlotSimpleBase", "SlotSimpleSymbolBase", "CiBase", "MonkeyBase", "BigWinBase", "CommonUI", "CommonUIAuto", "CommonUIAutoConfig", "CommonUIAutoContent", "CommonUIData", "CommonUIInfoReplace", "CommonUIManager", "CommonUIReplace", "CommonUIReplacer", "CommonUIStyle", "CommonUIStyleAccept", "CommonUIStyleCopy", "ForegroundBase", "ForegroundBase2", "InfoPage", "OptionPanel", "UIBase", "UIDataBase", "Balance", "BalanceData", "BalanceManager", "CommListener", "Count", "HandleError", "ICCIinterface", "PathMove", "Utils", "NoSleep" ]);